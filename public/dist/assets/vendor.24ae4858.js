function e(){}function t(e,t){for(const i in t)e[i]=t[i];return e}function i(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(i)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,i,n){t.$$.on_destroy.push(function(t,...i){if(null==t)return e;const n=t.subscribe(...i);return n.unsubscribe?()=>n.unsubscribe():n}(i,n))}function l(e){const t={};for(const i in e)"$"!==i[0]&&(t[i]=e[i]);return t}function d(e){return null==e?"":e}function c(e,t,i=t){return e.set(i),t}function h(e,t){e.appendChild(t)}function u(e,t,i){e.insertBefore(t,i||null)}function g(e){e.parentNode.removeChild(e)}function m(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function p(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function b(){return f(" ")}function _(){return f("")}function v(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function w(e){return function(t){return t.preventDefault(),e.call(this,t)}}function C(e,t,i){null==i?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function y(e){return Array.from(e.childNodes)}function S(e,t,i,n){for(let o=0;o<e.length;o+=1){const n=e[o];if(n.nodeName===t){let t=0;const s=[];for(;t<n.attributes.length;){const e=n.attributes[t++];i[e.name]||s.push(e.name)}for(let e=0;e<s.length;e++)n.removeAttribute(s[e]);return e.splice(o,1)[0]}}return n?function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}(t):p(t)}function k(e,t){for(let i=0;i<e.length;i+=1){const n=e[i];if(3===n.nodeType)return n.data=""+t,e.splice(i,1)[0]}return f(t)}function x(e){return k(e," ")}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t,i){e.classList[i?"add":"remove"](t)}let D;function N(e){D=e}function T(){if(!D)throw new Error("Function called outside component initialization");return D}function I(e){T().$$.on_mount.push(e)}function M(e){T().$$.after_update.push(e)}function R(e){T().$$.on_destroy.push(e)}const A=[],O=[],P=[],F=[],W=Promise.resolve();let B=!1;function V(e){P.push(e)}function H(e){F.push(e)}let z=!1;const U=new Set;function K(){if(!z){z=!0;do{for(let e=0;e<A.length;e+=1){const t=A[e];N(t),q(t.$$)}for(N(null),A.length=0;O.length;)O.pop()();for(let e=0;e<P.length;e+=1){const t=P[e];U.has(t)||(U.add(t),t())}P.length=0}while(A.length);for(;F.length;)F.pop()();B=!1,z=!1,U.clear()}}function q(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}const $=new Set;let j;function G(){j={r:0,c:[],p:j}}function Z(){j.r||o(j.c),j=j.p}function Y(e,t){e&&e.i&&($.delete(e),e.i(t))}function J(e,t,i,n){if(e&&e.o){if($.has(e))return;$.add(e),j.c.push((()=>{$.delete(e),n&&(i&&e.d(1),n())})),e.o(t)}}function Q(e,t,i){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function X(e){e&&e.c()}function ee(e,t){e&&e.l(t)}function te(e,t,n,r){const{fragment:a,on_mount:l,on_destroy:d,after_update:c}=e.$$;a&&a.m(t,n),r||V((()=>{const t=l.map(i).filter(s);d?d.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(V)}function ie(e,t){const i=e.$$;null!==i.fragment&&(o(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function ne(e,t){-1===e.$$.dirty[0]&&(A.push(e),B||(B=!0,W.then(K)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function oe(t,i,s,r,a,l,d=[-1]){const c=D;N(t);const h=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:i.context||[]),callbacks:n(),dirty:d,skip_bound:!1};let u=!1;if(h.ctx=s?s(t,i.props||{},((e,i,...n)=>{const o=n.length?n[0]:i;return h.ctx&&a(h.ctx[e],h.ctx[e]=o)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](o),u&&ne(t,e)),i})):[],h.update(),u=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),i.target){if(i.hydrate){const e=y(i.target);h.fragment&&h.fragment.l(e),e.forEach(g)}else h.fragment&&h.fragment.c();i.intro&&Y(t.$$.fragment),te(t,i.target,i.anchor,i.customElement),K()}N(c)}class se{$destroy(){ie(this,1),this.$destroy=e}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const re=[];function ae(t,i=e){let n;const o=[];function s(e){if(r(t,e)&&(t=e,n)){const e=!re.length;for(let i=0;i<o.length;i+=1){const e=o[i];e[1](),re.push(e,t)}if(e){for(let e=0;e<re.length;e+=2)re[e][0](re[e+1]);re.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(r,a=e){const l=[r,a];return o.push(l),1===o.length&&(n=i(s)||e),r(t),()=>{const e=o.indexOf(l);-1!==e&&o.splice(e,1),0===o.length&&(n(),n=null)}}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var le,de,ce={exports:{}};function he(e,t){return 0===t.length?e:String(e).replace(/{(d+)}/g,(function(e,i){var n=i[0];return void 0!==t[n]?t[n]:e}))}function ue(e,t,i){var n="object"==typeof t?t.key:t,o=((t={"win32/i18n/Default":{SetupAppTitle:"Setup",SetupWindowTitle:"Setup - %1",UninstallAppTitle:"Uninstall",UninstallAppFullTitle:"%1 Uninstall",InformationTitle:"Information",ConfirmTitle:"Confirm",ErrorTitle:"Error",SetupLdrStartupMessage:"This will install %1. Do you wish to continue?",LdrCannotCreateTemp:"Unable to create a temporary file. Setup aborted",LdrCannotExecTemp:"Unable to execute file in the temporary directory. Setup aborted",LastErrorMessage:"%1.%n%nError %2: %3",SetupFileMissing:"The file %1 is missing from the installation directory. Please correct the problem or obtain a new copy of the program.",SetupFileCorrupt:"The setup files are corrupted. Please obtain a new copy of the program.",SetupFileCorruptOrWrongVer:"The setup files are corrupted, or are incompatible with this version of Setup. Please correct the problem or obtain a new copy of the program.",InvalidParameter:"An invalid parameter was passed on the command line:%n%n%1",SetupAlreadyRunning:"Setup is already running.",WindowsVersionNotSupported:"This program does not support the version of Windows your computer is running.",WindowsServicePackRequired:"This program requires %1 Service Pack %2 or later.",NotOnThisPlatform:"This program will not run on %1.",OnlyOnThisPlatform:"This program must be run on %1.",OnlyOnTheseArchitectures:"This program can only be installed on versions of Windows designed for the following processor architectures:%n%n%1",MissingWOW64APIs:"The version of Windows you are running does not include functionality required by Setup to perform a 64-bit installation. To correct this problem, please install Service Pack %1.",WinVersionTooLowError:"This program requires %1 version %2 or later.",WinVersionTooHighError:"This program cannot be installed on %1 version %2 or later.",AdminPrivilegesRequired:"You must be logged in as an administrator when installing this program.",PowerUserPrivilegesRequired:"You must be logged in as an administrator or as a member of the Power Users group when installing this program.",SetupAppRunningError:"Setup has detected that %1 is currently running.%n%nPlease close all instances of it now, then click OK to continue, or Cancel to exit.",UninstallAppRunningError:"Uninstall has detected that %1 is currently running.%n%nPlease close all instances of it now, then click OK to continue, or Cancel to exit.",ErrorCreatingDir:'Setup was unable to create the directory "%1"',ErrorTooManyFilesInDir:'Unable to create a file in the directory "%1" because it contains too many files',ExitSetupTitle:"Exit Setup",ExitSetupMessage:"Setup is not complete. If you exit now, the program will not be installed.%n%nYou may run Setup again at another time to complete the installation.%n%nExit Setup?",AboutSetupMenuItem:"&About Setup...",AboutSetupTitle:"About Setup",AboutSetupMessage:"%1 version %2%n%3%n%n%1 home page:%n%4",ButtonBack:"< &Back",ButtonNext:"&Next >",ButtonInstall:"&Install",ButtonOK:"OK",ButtonCancel:"Cancel",ButtonYes:"&Yes",ButtonYesToAll:"Yes to &All",ButtonNo:"&No",ButtonNoToAll:"N&o to All",ButtonFinish:"&Finish",ButtonBrowse:"&Browse...",ButtonWizardBrowse:"B&rowse...",ButtonNewFolder:"&Make New Folder",SelectLanguageTitle:"Select Setup Language",SelectLanguageLabel:"Select the language to use during the installation:",ClickNext:"Click Next to continue, or Cancel to exit Setup.",BrowseDialogTitle:"Browse For Folder",BrowseDialogLabel:"Select a folder in the list below, then click OK.",NewFolderName:"New Folder",WelcomeLabel1:"Welcome to the [name] Setup Wizard",WelcomeLabel2:"This will install [name/ver] on your computer.%n%nIt is recommended that you close all other applications before continuing.",WizardPassword:"Password",PasswordLabel1:"This installation is password protected.",PasswordLabel3:"Please provide the password, then click Next to continue. Passwords are case-sensitive.",PasswordEditLabel:"&Password:",IncorrectPassword:"The password you entered is not correct. Please try again.",WizardLicense:"License Agreement",LicenseLabel:"Please read the following important information before continuing.",LicenseLabel3:"Please read the following License Agreement. You must accept the terms of this agreement before continuing with the installation.",LicenseAccepted:"I &accept the agreement",LicenseNotAccepted:"I &do not accept the agreement",WizardInfoBefore:"Information",InfoBeforeLabel:"Please read the following important information before continuing.",InfoBeforeClickLabel:"When you are ready to continue with Setup, click Next.",WizardInfoAfter:"Information",InfoAfterLabel:"Please read the following important information before continuing.",InfoAfterClickLabel:"When you are ready to continue with Setup, click Next.",WizardUserInfo:"User Information",UserInfoDesc:"Please enter your information.",UserInfoName:"&User Name:",UserInfoOrg:"&Organization:",UserInfoSerial:"&Serial Number:",UserInfoNameRequired:"You must enter a name.",WizardSelectDir:"Select Destination Location",SelectDirDesc:"Where should [name] be installed?",SelectDirLabel3:"Setup will install [name] into the following folder.",SelectDirBrowseLabel:"To continue, click Next. If you would like to select a different folder, click Browse.",DiskSpaceMBLabel:"At least [mb] MB of free disk space is required.",CannotInstallToNetworkDrive:"Setup cannot install to a network drive.",CannotInstallToUNCPath:"Setup cannot install to a UNC path.",InvalidPath:"You must enter a full path with drive letter; for example:%n%nC:\\APP%n%nor a UNC path in the form:%n%n\\\\server\\share",InvalidDrive:"The drive or UNC share you selected does not exist or is not accessible. Please select another.",DiskSpaceWarningTitle:"Not Enough Disk Space",DiskSpaceWarning:"Setup requires at least %1 KB of free space to install, but the selected drive only has %2 KB available.%n%nDo you want to continue anyway?",DirNameTooLong:"The folder name or path is too long.",InvalidDirName:"The folder name is not valid.",BadDirName32:"Folder names cannot include any of the following characters:%n%n%1",DirExistsTitle:"Folder Exists",DirExists:"The folder:%n%n%1%n%nalready exists. Would you like to install to that folder anyway?",DirDoesntExistTitle:"Folder Does Not Exist",DirDoesntExist:"The folder:%n%n%1%n%ndoes not exist. Would you like the folder to be created?",WizardSelectComponents:"Select Components",SelectComponentsDesc:"Which components should be installed?",SelectComponentsLabel2:"Select the components you want to install; clear the components you do not want to install. Click Next when you are ready to continue.",FullInstallation:"Full installation",CompactInstallation:"Compact installation",CustomInstallation:"Custom installation",NoUninstallWarningTitle:"Components Exist",NoUninstallWarning:"Setup has detected that the following components are already installed on your computer:%n%n%1%n%nDeselecting these components will not uninstall them.%n%nWould you like to continue anyway?",ComponentSize1:"%1 KB",ComponentSize2:"%1 MB",ComponentsDiskSpaceMBLabel:"Current selection requires at least [mb] MB of disk space.",WizardSelectTasks:"Select Additional Tasks",SelectTasksDesc:"Which additional tasks should be performed?",SelectTasksLabel2:"Select the additional tasks you would like Setup to perform while installing [name], then click Next.",WizardSelectProgramGroup:"Select Start Menu Folder",SelectStartMenuFolderDesc:"Where should Setup place the program's shortcuts?",SelectStartMenuFolderLabel3:"Setup will create the program's shortcuts in the following Start Menu folder.",SelectStartMenuFolderBrowseLabel:"To continue, click Next. If you would like to select a different folder, click Browse.",MustEnterGroupName:"You must enter a folder name.",GroupNameTooLong:"The folder name or path is too long.",InvalidGroupName:"The folder name is not valid.",BadGroupName:"The folder name cannot include any of the following characters:%n%n%1",NoProgramGroupCheck2:"&Don't create a Start Menu folder",WizardReady:"Ready to Install",ReadyLabel1:"Setup is now ready to begin installing [name] on your computer.",ReadyLabel2a:"Click Install to continue with the installation, or click Back if you want to review or change any settings.",ReadyLabel2b:"Click Install to continue with the installation.",ReadyMemoUserInfo:"User information:",ReadyMemoDir:"Destination location:",ReadyMemoType:"Setup type:",ReadyMemoComponents:"Selected components:",ReadyMemoGroup:"Start Menu folder:",ReadyMemoTasks:"Additional tasks:",WizardPreparing:"Preparing to Install",PreparingDesc:"Setup is preparing to install [name] on your computer.",PreviousInstallNotCompleted:"The installation/removal of a previous program was not completed. You will need to restart your computer to complete that installation.%n%nAfter restarting your computer, run Setup again to complete the installation of [name].",CannotContinue:"Setup cannot continue. Please click Cancel to exit.",ApplicationsFound:"The following applications are using files that need to be updated by Setup. It is recommended that you allow Setup to automatically close these applications.",ApplicationsFound2:"The following applications are using files that need to be updated by Setup. It is recommended that you allow Setup to automatically close these applications. After the installation has completed, Setup will attempt to restart the applications.",CloseApplications:"&Automatically close the applications",DontCloseApplications:"&Do not close the applications",ErrorCloseApplications:"Setup was unable to automatically close all applications. It is recommended that you close all applications using files that need to be updated by Setup before continuing.",WizardInstalling:"Installing",InstallingLabel:"Please wait while Setup installs [name] on your computer.",FinishedHeadingLabel:"Completing the [name] Setup Wizard",FinishedLabelNoIcons:"Setup has finished installing [name] on your computer.",FinishedLabel:"Setup has finished installing [name] on your computer. The application may be launched by selecting the installed icons.",ClickFinish:"Click Finish to exit Setup.",FinishedRestartLabel:"To complete the installation of [name], Setup must restart your computer. Would you like to restart now?",FinishedRestartMessage:"To complete the installation of [name], Setup must restart your computer.%n%nWould you like to restart now?",ShowReadmeCheck:"Yes, I would like to view the README file",YesRadio:"&Yes, restart the computer now",NoRadio:"&No, I will restart the computer later",RunEntryExec:"Run %1",RunEntryShellExec:"View %1",ChangeDiskTitle:"Setup Needs the Next Disk",SelectDiskLabel2:"Please insert Disk %1 and click OK.%n%nIf the files on this disk can be found in a folder other than the one displayed below, enter the correct path or click Browse.",PathLabel:"&Path:",FileNotInDir2:'The file "%1" could not be located in "%2". Please insert the correct disk or select another folder.',SelectDirectoryLabel:"Please specify the location of the next disk.",SetupAborted:"Setup was not completed.%n%nPlease correct the problem and run Setup again.",EntryAbortRetryIgnore:"Click Retry to try again, Ignore to proceed anyway, or Abort to cancel installation.",StatusClosingApplications:"Closing applications...",StatusCreateDirs:"Creating directories...",StatusExtractFiles:"Extracting files...",StatusCreateIcons:"Creating shortcuts...",StatusCreateIniEntries:"Creating INI entries...",StatusCreateRegistryEntries:"Creating registry entries...",StatusRegisterFiles:"Registering files...",StatusSavingUninstall:"Saving uninstall information...",StatusRunProgram:"Finishing installation...",StatusRestartingApplications:"Restarting applications...",StatusRollback:"Rolling back changes...",ErrorInternal2:"Internal error: %1",ErrorFunctionFailedNoCode:"%1 failed",ErrorFunctionFailed:"%1 failed; code %2",ErrorFunctionFailedWithMessage:"%1 failed; code %2.%n%3",ErrorExecutingProgram:"Unable to execute file:%n%1",ErrorRegOpenKey:"Error opening registry key:%n%1\\%2",ErrorRegCreateKey:"Error creating registry key:%n%1\\%2",ErrorRegWriteKey:"Error writing to registry key:%n%1\\%2",ErrorIniEntry:'Error creating INI entry in file "%1".',FileAbortRetryIgnore:"Click Retry to try again, Ignore to skip this file (not recommended), or Abort to cancel installation.",FileAbortRetryIgnore2:"Click Retry to try again, Ignore to proceed anyway (not recommended), or Abort to cancel installation.",SourceIsCorrupted:"The source file is corrupted",SourceDoesntExist:'The source file "%1" does not exist',ExistingFileReadOnly:"The existing file is marked as read-only.%n%nClick Retry to remove the read-only attribute and try again, Ignore to skip this file, or Abort to cancel installation.",ErrorReadingExistingDest:"An error occurred while trying to read the existing file:",FileExists:"The file already exists.%n%nWould you like Setup to overwrite it?",ExistingFileNewer:"The existing file is newer than the one Setup is trying to install. It is recommended that you keep the existing file.%n%nDo you want to keep the existing file?",ErrorChangingAttr:"An error occurred while trying to change the attributes of the existing file:",ErrorCreatingTemp:"An error occurred while trying to create a file in the destination directory:",ErrorReadingSource:"An error occurred while trying to read the source file:",ErrorCopying:"An error occurred while trying to copy a file:",ErrorReplacingExistingFile:"An error occurred while trying to replace the existing file:",ErrorRestartReplace:"RestartReplace failed:",ErrorRenamingTemp:"An error occurred while trying to rename a file in the destination directory:",ErrorRegisterServer:"Unable to register the DLL/OCX: %1",ErrorRegSvr32Failed:"RegSvr32 failed with exit code %1",ErrorRegisterTypeLib:"Unable to register the type library: %1",ErrorOpeningReadme:"An error occurred while trying to open the README file.",ErrorRestartingComputer:"Setup was unable to restart the computer. Please do this manually.",UninstallNotFound:'File "%1" does not exist. Cannot uninstall.',UninstallOpenError:'File "%1" could not be opened. Cannot uninstall',UninstallUnsupportedVer:'The uninstall log file "%1" is in a format not recognized by this version of the uninstaller. Cannot uninstall',UninstallUnknownEntry:"An unknown entry (%1) was encountered in the uninstall log",ConfirmUninstall:"Are you sure you want to completely remove %1? Extensions and settings will not be removed.",UninstallOnlyOnWin64:"This installation can only be uninstalled on 64-bit Windows.",OnlyAdminCanUninstall:"This installation can only be uninstalled by a user with administrative privileges.",UninstallStatusLabel:"Please wait while %1 is removed from your computer.",UninstalledAll:"%1 was successfully removed from your computer.",UninstalledMost:"%1 uninstall complete.%n%nSome elements could not be removed. These can be removed manually.",UninstalledAndNeedsRestart:"To complete the uninstallation of %1, your computer must be restarted.%n%nWould you like to restart now?",UninstallDataCorrupted:'"%1" file is corrupted. Cannot uninstall',ConfirmDeleteSharedFileTitle:"Remove Shared File?",ConfirmDeleteSharedFile2:"The system indicates that the following shared file is no longer in use by any programs. Would you like for Uninstall to remove this shared file?%n%nIf any programs are still using this file and it is removed, those programs may not function properly. If you are unsure, choose No. Leaving the file on your system will not cause any harm.",SharedFileNameLabel:"File name:",SharedFileLocationLabel:"Location:",WizardUninstalling:"Uninstall Status",StatusUninstalling:"Uninstalling %1...",ShutdownBlockReasonInstallingApp:"Installing %1.",ShutdownBlockReasonUninstallingApp:"Uninstalling %1.",NameAndVersion:"%1 version %2",AdditionalIcons:"Additional icons:",CreateDesktopIcon:"Create a &desktop icon",CreateQuickLaunchIcon:"Create a &Quick Launch icon",ProgramOnTheWeb:"%1 on the Web",UninstallProgram:"Uninstall %1",LaunchProgram:"Launch %1",AssocFileExtension:"&Associate %1 with the %2 file extension",AssocingFileExtension:"Associating %1 with the %2 file extension...",AutoStartProgramGroupDescription:"Startup:",AutoStartProgram:"Automatically start %1",AddonHostProgramNotFound:"%1 could not be located in the folder you selected.%n%nDo you want to continue anyway?"},"vs/base/common/severity":{"sev.error":"Error","sev.warning":"Warning","sev.info":"Info"},"vs/base/common/date":{"date.fromNow.now":"now","date.fromNow.seconds.singular.ago":"{0} sec ago","date.fromNow.seconds.plural.ago":"{0} secs ago","date.fromNow.seconds.singular":"{0} sec","date.fromNow.seconds.plural":"{0} secs","date.fromNow.minutes.singular.ago":"{0} min ago","date.fromNow.minutes.plural.ago":"{0} mins ago","date.fromNow.minutes.singular":"{0} min","date.fromNow.minutes.plural":"{0} mins","date.fromNow.hours.singular.ago":"{0} hr ago","date.fromNow.hours.plural.ago":"{0} hrs ago","date.fromNow.hours.singular":"{0} hr","date.fromNow.hours.plural":"{0} hrs","date.fromNow.days.singular.ago":"{0} day ago","date.fromNow.days.plural.ago":"{0} days ago","date.fromNow.days.singular":"{0} day","date.fromNow.days.plural":"{0} days","date.fromNow.weeks.singular.ago":"{0} wk ago","date.fromNow.weeks.plural.ago":"{0} wks ago","date.fromNow.weeks.singular":"{0} wk","date.fromNow.weeks.plural":"{0} wks","date.fromNow.months.singular.ago":"{0} mo ago","date.fromNow.months.plural.ago":"{0} mos ago","date.fromNow.months.singular":"{0} mo","date.fromNow.months.plural":"{0} mos","date.fromNow.years.singular.ago":"{0} yr ago","date.fromNow.years.plural.ago":"{0} yrs ago","date.fromNow.years.singular":"{0} yr","date.fromNow.years.plural":"{0} yrs"},"vs/base/common/errorMessage":{"stackTrace.format":"{0}: {1}",nodeExceptionMessage:"A system error occurred ({0})","error.defaultMessage":"An unknown error occurred. Please consult the log for more details.","error.moreErrors":"{0} ({1} errors in total)"},"vs/base/node/zip":{"invalid file":"Error extracting {0}. Invalid file.",incompleteExtract:"Incomplete. Found {0} of {1} entries",notFound:"{0} not found inside zip."},"vs/base/browser/ui/actionbar/actionbar":{titleLabel:"{0} ({1})"},"vs/base/node/processes":{"TaskRunner.UNC":"Can't execute a shell command on a UNC drive."},"vs/base/browser/ui/aria/aria":{repeated:"{0} (occurred again)",repeatedNtimes:"{0} (occurred {1} times)"},"vs/base/browser/ui/keybindingLabel/keybindingLabel":{unbound:"unbound"},"vs/base/browser/ui/dialog/dialog":{ok:"OK",dialogClose:"Close Dialog"},"vs/base/common/keybindingLabels":{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",windowsKey:"Windows",superKey:"Super","ctrlKey.long":"Control","shiftKey.long":"Shift","altKey.long":"Alt","cmdKey.long":"Command","windowsKey.long":"Windows","superKey.long":"Super"},"vs/base/browser/ui/menu/menu":{titleLabel:"{0} ({1})"},"vs/base/browser/ui/list/listWidget":{"aria list":"{0}. Use the navigation keys to navigate."},"vs/base/common/jsonErrorMessages":{"error.invalidSymbol":"Invalid symbol","error.invalidNumberFormat":"Invalid number format","error.propertyNameExpected":"Property name expected","error.valueExpected":"Value expected","error.colonExpected":"Colon expected","error.commaExpected":"Comma expected","error.closeBraceExpected":"Closing brace expected","error.closeBracketExpected":"Closing bracket expected","error.endOfFileExpected":"End of file expected"},"vs/base/browser/ui/toolbar/toolbar":{moreActions:"More Actions..."},"vs/base/browser/ui/findinput/replaceInput":{defaultLabel:"input","label.preserveCaseCheckbox":"Preserve Case"},"vs/base/browser/ui/inputbox/inputBox":{alertErrorMessage:"Error: {0}",alertWarningMessage:"Warning: {0}",alertInfoMessage:"Info: {0}"},"vs/base/browser/ui/findinput/findInput":{defaultLabel:"input"},"vs/base/browser/ui/tree/treeDefaults":{"collapse all":"Collapse All"},"vs/base/browser/ui/findinput/findInputCheckboxes":{caseDescription:"Match Case",wordsDescription:"Match Whole Word",regexDescription:"Use Regular Expression"},"vs/base/parts/quickinput/browser/quickInput":{"quickInput.back":"Back","quickInput.steps":"{0}/{1}","quickInputBox.ariaLabel":"Type to narrow down results.",inputModeEntry:"Press 'Enter' to confirm your input or 'Escape' to cancel",inputModeEntryDescription:"{0} (Press 'Enter' to confirm or 'Escape' to cancel)","quickInput.visibleCount":"{0} Results","quickInput.countSelected":"{0} Selected",ok:"OK",custom:"Custom","quickInput.backWithKeybinding":"Back ({0})"},"vs/base/browser/ui/tree/abstractTree":{clear:"Clear","disable filter on type":"Disable Filter on Type","enable filter on type":"Enable Filter on Type",empty:"No elements found",found:"Matched {0} out of {1} elements"},"vs/base/browser/ui/splitview/paneview":{viewSection:"{0} Section"},"vs/base/browser/ui/menu/menubar":{mAppMenu:"Application Menu",mMore:"more"},"vs/editor/common/services/modelServiceImpl":{undoRedoConfirm:"Keep the undo-redo stack for {0} in memory ({1} MB)?",nok:"Discard",ok:"Keep"},"vs/editor/common/standaloneStrings":{noSelection:"No selection",singleSelectionRange:"Line {0}, Column {1} ({2} selected)",singleSelection:"Line {0}, Column {1}",multiSelectionRange:"{0} selections ({1} characters selected)",multiSelection:"{0} selections",emergencyConfOn:"Now changing the setting `accessibilitySupport` to 'on'.",openingDocs:"Now opening the Editor Accessibility documentation page.",readonlyDiffEditor:" in a read-only pane of a diff editor.",editableDiffEditor:" in a pane of a diff editor.",readonlyEditor:" in a read-only code editor",editableEditor:" in a code editor",changeConfigToOnMac:"To configure the editor to be optimized for usage with a Screen Reader press Command+E now.",changeConfigToOnWinLinux:"To configure the editor to be optimized for usage with a Screen Reader press Control+E now.",auto_on:"The editor is configured to be optimised for usage with a Screen Reader.",auto_off:"The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time.",tabFocusModeOnMsg:"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}.",tabFocusModeOnMsgNoKb:"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding.",tabFocusModeOffMsg:"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}.",tabFocusModeOffMsgNoKb:"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.",openDocMac:"Press Command+H now to open a browser window with more information related to editor accessibility.",openDocWinLinux:"Press Control+H now to open a browser window with more information related to editor accessibility.",outroMsg:"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape.",showAccessibilityHelpAction:"Show Accessibility Help",inspectTokens:"Developer: Inspect Tokens",gotoLineActionLabel:"Go to Line/Column...",helpQuickAccess:"Show all Quick Access Providers",quickCommandActionLabel:"Command Palette",quickCommandActionHelp:"Show and Run Commands",quickOutlineActionLabel:"Go to Symbol...",quickOutlineByCategoryActionLabel:"Go to Symbol by Category...",editorViewAccessibleLabel:"Editor content",accessibilityHelpMessage:"Press Alt+F1 for Accessibility Options.",toggleHighContrast:"Toggle High Contrast Theme",bulkEditServiceSummary:"Made {0} edits in {1} files"},"vs/editor/common/modes/modesRegistry":{"plainText.alias":"Plain Text"},"vs/editor/common/view/editorColorRegistry":{lineHighlight:"Background colour for the highlight of line at the cursor position.",lineHighlightBorderBox:"Background colour for the border around the line at the cursor position.",rangeHighlight:"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations.",rangeHighlightBorder:"Background colour of the border around highlighted ranges.",symbolHighlight:"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations.",symbolHighlightBorder:"Background color of the border around highlighted symbols.",caret:"Colour of the editor cursor.",editorCursorBackground:"The background colour of the editor cursor. Allows customising the colour of a character overlapped by a block cursor.",editorWhitespaces:"Colour of whitespace characters in the editor.",editorIndentGuides:"Colour of the editor indentation guides.",editorActiveIndentGuide:"Colour of the active editor indentation guides.",editorLineNumbers:"Colour of the editor line numbers.",editorActiveLineNumber:"Colour of editor active line number.",deprecatedEditorActiveLineNumber:"Id is deprecated. Use 'editorLineNumber.activeForeground' instead.",editorRuler:"Colour of the editor rulers.",editorCodeLensForeground:"Foreground colour of editor code lenses",editorBracketMatchBackground:"Background colour behind matching brackets",editorBracketMatchBorder:"Colour for matching brackets boxes",editorOverviewRulerBorder:"Colour of the overview ruler border.",editorGutter:"Background colour of the editor gutter. The gutter contains the glyph margins and the line numbers.",unnecessaryCodeBorder:"Border color of unnecessary (unused) source code in the editor.",unnecessaryCodeOpacity:"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.",overviewRulerRangeHighlight:"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations.",overviewRuleError:"Overview ruler marker colour for errors.",overviewRuleWarning:"Overview ruler marker colour for warnings.",overviewRuleInfo:"Overview ruler marker colour for infos."},"vs/editor/common/model/editStack":{edit:"Typing"},"vs/editor/common/config/commonEditorConfig":{editorConfigurationTitle:"Editor",tabSize:"The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.",insertSpaces:"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.",detectIndentation:"Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.",trimAutoWhitespace:"Remove trailing auto inserted whitespace.",largeFileOptimizations:"Special handling for large files to disable certain memory intensive features.",wordBasedSuggestions:"Controls whether completions should be computed based on words in the document.","semanticHighlighting.enabled":"Controls whether the semanticHighlighting is shown for the languages that support it.",stablePeek:"Keep peek editors open even when double clicking their content or when hitting `Escape`.",maxTokenizationLineLength:"Lines above this length will not be tokenised for performance reasons",maxComputationTime:"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.",sideBySide:"Controls whether the diff editor shows the diff side by side or inline.",ignoreTrimWhitespace:"When enabled, the diff editor ignores changes in leading or trailing whitespace.",renderIndicators:"Controls whether the diff editor shows +/- indicators for added/removed changes."},"vs/editor/browser/controller/coreCommands":{miSelectAll:"&&Select All",selectAll:"Select All",miUndo:"&&Undo",undo:"Undo",miRedo:"&&Redo",redo:"Redo"},"vs/editor/browser/widget/codeEditorWidget":{"cursors.maximum":"The number of cursors has been limited to {0}."},"vs/editor/browser/widget/diffEditorWidget":{"diff.tooLarge":"Cannot compare files because one file is too large."},"vs/editor/browser/widget/inlineDiffMargin":{"diff.clipboard.copyDeletedLinesContent.label":"Copy deleted lines","diff.clipboard.copyDeletedLinesContent.single.label":"Copy deleted line","diff.clipboard.copyDeletedLineContent.label":"Copy deleted line ({0})","diff.inline.revertChange.label":"Revert this change"},"vs/editor/common/config/editorOptions":{"accessibilitySupport.auto":"The editor will use platform APIs to detect when a Screen Reader is attached.","accessibilitySupport.on":"The editor will be permanently optimised for usage with a Screen Reader.","accessibilitySupport.off":"The editor will never be optimised for usage with a Screen Reader.",accessibilitySupport:"Controls whether the editor should run in a mode where it is optimised for screen readers.","comments.insertSpace":"Controls whether a space character is inserted when commenting.",emptySelectionClipboard:"Controls whether copying without a selection copies the current line.","find.seedSearchStringFromSelection":"Controls whether the search string in the Find Widget is seeded from the editor selection.","editor.find.autoFindInSelection.never":"Never turn on Find in selection automatically (default)","editor.find.autoFindInSelection.always":"Always turn on Find in selection automatically","editor.find.autoFindInSelection.multiline":"Turn on Find in selection automatically when multiple lines of content are selected.","find.autoFindInSelection":"Controls whether the find operation is carried out on selected text or the entire file in the editor.","find.globalFindClipboard":"Controls whether the Find Widget should read or modify the shared find clipboard on macOS.","find.addExtraSpaceOnTop":"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.",fontLigatures:"Enables/Disables font ligatures.",fontFeatureSettings:"Explicit font-feature-settings.",fontLigaturesGeneral:"Configures font ligatures or font features.",fontSize:"Controls the font size in pixels.","editor.gotoLocation.multiple.peek":"Show peek view of the results (default)","editor.gotoLocation.multiple.gotoAndPeek":"Go to the primary result and show a peek view","editor.gotoLocation.multiple.goto":"Go to the primary result and enable peek-less navigation to others","editor.gotoLocation.multiple.deprecated":"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.","editor.editor.gotoLocation.multipleDefinitions":"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.","editor.editor.gotoLocation.multipleTypeDefinitions":"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.","editor.editor.gotoLocation.multipleDeclarations":"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.","editor.editor.gotoLocation.multipleImplemenattions":"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.","editor.editor.gotoLocation.multipleReferences":"Controls the behavior the 'Go to References'-command when multiple target locations exist.",alternativeDefinitionCommand:"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.",alternativeTypeDefinitionCommand:"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.",alternativeDeclarationCommand:"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.",alternativeImplementationCommand:"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.",alternativeReferenceCommand:"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.","hover.enabled":"Controls whether the hover is shown.","hover.delay":"Controls the delay in milliseconds after which the hover is shown.","hover.sticky":"Controls whether the hover should remain visible when mouse is moved over it.",codeActions:"Enables the code action lightbulb in the editor.",lineHeight:"Controls the line height. Use 0 to compute the line height from the font size.","minimap.enabled":"Controls whether the minimap is shown.","minimap.size.proportional":"The minimap has the same size as the editor contents (and might scroll).","minimap.size.fill":"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling).","minimap.size.fit":"The minimap will shrink as necessary to never be larger than the editor (no scrolling).","minimap.size":"Controls the size of the minimap.","minimap.side":"Controls the side where to render the minimap.","minimap.showSlider":"Controls when the minimap slider is shown.","minimap.scale":"Scale of content drawn in the minimap: 1, 2 or 3.","minimap.renderCharacters":"Render the actual characters on a line as opposed to colour blocks.","minimap.maxColumn":"Limit the width of the minimap to render at most a certain number of columns.","padding.top":"Controls the amount of space between the top edge of the editor and the first line.","padding.bottom":"Controls the amount of space between the bottom edge of the editor and the last line.","parameterHints.enabled":"Enables a pop-up that shows parameter documentation and type information as you type.","parameterHints.cycle":"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.","quickSuggestions.strings":"Enable quick suggestions inside strings.","quickSuggestions.comments":"Enable quick suggestions inside comments.","quickSuggestions.other":"Enable quick suggestions outside of strings and comments.",quickSuggestions:"Controls whether suggestions should automatically show up while typing.","lineNumbers.off":"Line numbers are not rendered.","lineNumbers.on":"Line numbers are rendered as absolute number.","lineNumbers.relative":"Line numbers are rendered as distance in lines to cursor position.","lineNumbers.interval":"Line numbers are rendered every 10 lines.",lineNumbers:"Controls the display of line numbers.","rulers.size":"Number of monospace characters at which this editor ruler will render.","rulers.color":"Color of this editor ruler.",rulers:"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.","suggest.insertMode.insert":"Insert suggestion without overwriting text right of the cursor.","suggest.insertMode.replace":"Insert suggestion and overwrite text right of the cursor.","suggest.insertMode":"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.","suggest.filterGraceful":"Controls whether filtering and sorting suggestions accounts for small typos.","suggest.localityBonus":"Controls whether sorting favours words that appear close to the cursor.","suggest.shareSuggestSelections":"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).","suggest.snippetsPreventQuickSuggestions":"Controls whether an active snippet prevents quick suggestions.","suggest.showIcons":"Controls whether to show or hide icons in suggestions.","suggest.maxVisibleSuggestions":"Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).",deprecated:"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.","editor.suggest.showMethods":"When enabled IntelliSense shows `method`-suggestions.","editor.suggest.showFunctions":"When enabled IntelliSense shows `function`-suggestions.","editor.suggest.showConstructors":"When enabled IntelliSense shows `constructor`-suggestions.","editor.suggest.showFields":"When enabled IntelliSense shows `field`-suggestions.","editor.suggest.showVariables":"When enabled IntelliSense shows `variable`-suggestions.","editor.suggest.showClasss":"When enabled IntelliSense shows `class`-suggestions.","editor.suggest.showStructs":"When enabled IntelliSense shows `struct`-suggestions.","editor.suggest.showInterfaces":"When enabled IntelliSense shows `interface`-suggestions.","editor.suggest.showModules":"When enabled IntelliSense shows `module`-suggestions.","editor.suggest.showPropertys":"When enabled IntelliSense shows `property`-suggestions.","editor.suggest.showEvents":"When enabled IntelliSense shows `event`-suggestions.","editor.suggest.showOperators":"When enabled IntelliSense shows `operator`-suggestions.","editor.suggest.showUnits":"When enabled IntelliSense shows `unit`-suggestions.","editor.suggest.showValues":"When enabled IntelliSense shows `value`-suggestions.","editor.suggest.showConstants":"When enabled IntelliSense shows `constant`-suggestions.","editor.suggest.showEnums":"When enabled IntelliSense shows `enum`-suggestions.","editor.suggest.showEnumMembers":"When enabled IntelliSense shows `enumMember`-suggestions.","editor.suggest.showKeywords":"When enabled IntelliSense shows `keyword`-suggestions.","editor.suggest.showTexts":"When enabled IntelliSense shows `text`-suggestions.","editor.suggest.showColors":"When enabled IntelliSense shows `color`-suggestions.","editor.suggest.showFiles":"When enabled IntelliSense shows `file`-suggestions.","editor.suggest.showReferences":"When enabled IntelliSense shows `reference`-suggestions.","editor.suggest.showCustomcolors":"When enabled IntelliSense shows `customcolor`-suggestions.","editor.suggest.showFolders":"When enabled IntelliSense shows `folder`-suggestions.","editor.suggest.showTypeParameters":"When enabled IntelliSense shows `typeParameter`-suggestions.","editor.suggest.showSnippets":"When enabled IntelliSense shows `snippet`-suggestions.","editor.suggest.showUsers":"When enabled IntelliSense shows `user`-suggestions.","editor.suggest.showIssues":"When enabled IntelliSense shows `issues`-suggestions.","editor.suggest.statusBar.visible":"Controls the visibility of the status bar at the bottom of the suggest widget.",acceptSuggestionOnCommitCharacter:"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.",acceptSuggestionOnEnterSmart:"Only accept a suggestion with `Enter` when it makes a textual change.",acceptSuggestionOnEnter:"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.",accessibilityPageSize:"Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.",editorViewAccessibleLabel:"Editor content","editor.autoClosingBrackets.languageDefined":"Use language configurations to determine when to autoclose brackets.","editor.autoClosingBrackets.beforeWhitespace":"Autoclose brackets only when the cursor is to the left of whitespace.",autoClosingBrackets:"Controls whether the editor should automatically close brackets after the user adds an opening bracket.","editor.autoClosingOvertype.auto":"Type over closing quotes or brackets only if they were automatically inserted.",autoClosingOvertype:"Controls whether the editor should type over closing quotes or brackets.","editor.autoClosingQuotes.languageDefined":"Use language configurations to determine when to autoclose quotes.","editor.autoClosingQuotes.beforeWhitespace":"Autoclose quotes only when the cursor is to the left of whitespace.",autoClosingQuotes:"Controls whether the editor should automatically close quotes after the user adds an opening quote.","editor.autoIndent.none":"The editor will not insert indentation automatically.","editor.autoIndent.keep":"The editor will keep the current line's indentation.","editor.autoIndent.brackets":"The editor will keep the current line's indentation and honor language defined brackets.","editor.autoIndent.advanced":"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.","editor.autoIndent.full":"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.",autoIndent:"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.","editor.autoSurround.languageDefined":"Use language configurations to determine when to automatically surround selections.","editor.autoSurround.quotes":"Surround with quotes but not brackets.","editor.autoSurround.brackets":"Surround with brackets but not quotes.",autoSurround:"Controls whether the editor should automatically surround selections.",codeLens:"Controls whether the editor shows CodeLens.",colorDecorators:"Controls whether the editor should render the inline colour decorators and colour picker.",columnSelection:"Enable that the selection with the mouse and keys is doing column selection.",copyWithSyntaxHighlighting:"Controls whether syntax highlighting should be copied into the clipboard.",cursorBlinking:"Control the cursor animation style.",cursorSmoothCaretAnimation:"Controls whether the smooth caret animation should be enabled.",cursorStyle:"Controls the cursor style.",cursorSurroundingLines:"Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.","cursorSurroundingLinesStyle.default":"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API.","cursorSurroundingLinesStyle.all":"`cursorSurroundingLines` is enforced always.",cursorSurroundingLinesStyle:"Controls when `cursorSurroundingLines` should be enforced.",cursorWidth:"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.",dragAndDrop:"Controls whether the editor should allow moving selections via drag and drop.",fastScrollSensitivity:"Scrolling speed multiplier when pressing `Alt`.",folding:"Controls whether the editor has code folding enabled.","foldingStrategy.auto":"Use a language-specific folding strategy if available, else the indentation-based one.","foldingStrategy.indentation":"Use the indentation-based folding strategy.",foldingStrategy:"Controls the strategy for computing folding ranges.",foldingHighlight:"Controls whether the editor should highlight folded ranges.",unfoldOnClickAfterEndOfLine:"Controls whether clicking on the empty content after a folded line will unfold the line.",fontFamily:"Controls the font family.",fontWeight:"Controls the font weight.",formatOnPaste:"Controls whether the editor should automatically format the pasted content. A formatter must be available and should be able to format a range in a document.",formatOnType:"Controls whether the editor should automatically format the line after typing.",glyphMargin:"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.",hideCursorInOverviewRuler:"Controls whether the cursor should be hidden in the overview ruler.",highlightActiveIndentGuide:"Controls whether the editor should highlight the active indent guide.",letterSpacing:"Controls the letter spacing in pixels.",links:"Controls whether the editor should detect links and make them clickable.",matchBrackets:"Highlight matching brackets.",mouseWheelScrollSensitivity:"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.",mouseWheelZoom:"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.",multiCursorMergeOverlapping:"Merge multiple cursors when they are overlapping.","multiCursorModifier.ctrlCmd":"Maps to `Control` on Windows and Linux and to `Command` on macOS.","multiCursorModifier.alt":"Maps to `Alt` on Windows and Linux and to `Option` on macOS.",multiCursorModifier:"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).","multiCursorPaste.spread":"Each cursor pastes a single line of the text.","multiCursorPaste.full":"Each cursor pastes the full text.",multiCursorPaste:"Controls pasting when the line count of the pasted text matches the cursor count.",occurrencesHighlight:"Controls whether the editor should highlight semantic symbol occurrences.",overviewRulerBorder:"Controls whether a border should be drawn around the overview ruler.","peekWidgetDefaultFocus.tree":"Focus the tree when opening peek","peekWidgetDefaultFocus.editor":"Focus the editor when opening peek",peekWidgetDefaultFocus:"Controls whether to focus the inline editor or the tree in the peek widget.",definitionLinkOpensInPeek:"Controls whether the Go to Definition mouse gesture always opens the peek widget.",quickSuggestionsDelay:"Controls the delay in milliseconds after which quick suggestions will show up.",renameOnType:"Controls whether the editor auto renames on type.",renderControlCharacters:"Controls whether the editor should render control characters.",renderIndentGuides:"Controls whether the editor should render indent guides.",renderFinalNewline:"Render last line number when the file ends with a newline.","renderLineHighlight.all":"Highlights both the gutter and the current line.",renderLineHighlight:"Controls how the editor should render the current line highlight.",renderLineHighlightOnlyWhenFocus:"Controls if the editor should render the current line highlight only when the editor is focused","renderWhitespace.selection":"Render whitespace characters only on selected text.",renderWhitespace:"Controls how the editor should render whitespace characters.",roundedSelection:"Controls whether selections should have rounded corners.",scrollBeyondLastColumn:"Controls the number of extra characters beyond which the editor will scroll horizontally.",scrollBeyondLastLine:"Controls whether the editor will scroll beyond the last line.",scrollPredominantAxis:"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.",selectionClipboard:"Controls whether the Linux primary clipboard should be supported.",selectionHighlight:"Controls whether the editor should highlight matches similar to the selection.","showFoldingControls.always":"Always show the folding controls.","showFoldingControls.mouseover":"Only show the folding controls when the mouse is over the gutter.",showFoldingControls:"Controls when the folding controls on the gutter are shown.",showUnused:"Controls fading out of unused code.","snippetSuggestions.top":"Show snippet suggestions on top of other suggestions.","snippetSuggestions.bottom":"Show snippet suggestions below other suggestions.","snippetSuggestions.inline":"Show snippets suggestions with other suggestions.","snippetSuggestions.none":"Do not show snippet suggestions.",snippetSuggestions:"Controls whether snippets are shown with other suggestions and how they are sorted.",smoothScrolling:"Controls whether the editor will scroll using an animation.",suggestFontSize:"Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.",suggestLineHeight:"Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.",suggestOnTriggerCharacters:"Controls whether suggestions should automatically show up when typing trigger characters.","suggestSelection.first":"Always select the first suggestion.","suggestSelection.recentlyUsed":"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently.","suggestSelection.recentlyUsedByPrefix":"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.",suggestSelection:"Controls how suggestions are pre-selected when showing the suggest list.","tabCompletion.on":"Tab complete will insert the best matching suggestion when pressing tab.","tabCompletion.off":"Disable tab completions.","tabCompletion.onlySnippets":"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.",tabCompletion:"Enables tab completions.",useTabStops:"Inserting and deleting whitespace follows tab stops.",wordSeparators:"Characters that will be used as word separators when doing word related navigations or operations.","wordWrap.off":"Lines will never wrap.","wordWrap.on":"Lines will wrap at the viewport width.","wordWrap.wordWrapColumn":"Lines will wrap at `#editor.wordWrapColumn#`.","wordWrap.bounded":"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.",wordWrap:"Controls how lines should wrap.",wordWrapColumn:"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.","wrappingIndent.none":"No indentation. Wrapped lines begin at column 1.","wrappingIndent.same":"Wrapped lines get the same indentation as the parent.","wrappingIndent.indent":"Wrapped lines get +1 indentation toward the parent.","wrappingIndent.deepIndent":"Wrapped lines get +2 indentation toward the parent.",wrappingIndent:"Controls the indentation of wrapped lines.","wrappingStrategy.simple":"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width.","wrappingStrategy.advanced":"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.",wrappingStrategy:"Controls the algorithm that computes wrapping points."},"vs/editor/browser/widget/diffReview":{"label.close":"Close",no_lines_changed:"no lines changed",one_line_changed:"1 line changed",more_lines_changed:"{0} lines changed",header:"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",blankLine:"blank",equalLine:"{0} original line {1} modified line {2}",insertLine:"+ {0} modified line {1}",deleteLine:"- {0} original line {1}","editor.action.diffReview.next":"Go to Next Difference","editor.action.diffReview.prev":"Go to Previous Difference"},"vs/editor/browser/controller/textAreaHandler":{accessibilityOffAriaLabel:"The editor is not accessible at this time. Press {0} for options."},"vs/editor/contrib/caretOperations/transpose":{"transposeLetters.label":"Transpose Letters"},"vs/editor/contrib/cursorUndo/cursorUndo":{"cursor.undo":"Cursor Undo","cursor.redo":"Cursor Redo"},"vs/editor/contrib/comment/comment":{"comment.line":"Toggle Line Comment",miToggleLineComment:"&&Toggle Line Comment","comment.line.add":"Add Line Comment","comment.line.remove":"Remove Line Comment","comment.block":"Toggle Block Comment",miToggleBlockComment:"Toggle &&Block Comment"},"vs/editor/contrib/caretOperations/caretOperations":{"caret.moveLeft":"Move Selected Text Left","caret.moveRight":"Move Selected Text Right"},"vs/editor/contrib/fontZoom/fontZoom":{"EditorFontZoomIn.label":"Editor Font Zoom In","EditorFontZoomOut.label":"Editor Font Zoom Out","EditorFontZoomReset.label":"Editor Font Zoom Reset"},"vs/editor/contrib/parameterHints/parameterHints":{"parameterHints.trigger.label":"Trigger Parameter Hints"},"vs/editor/contrib/tokenization/tokenization":{forceRetokenize:"Developer: Force Retokenize"},"vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode":{"toggle.tabMovesFocus":"Toggle Tab Key Moves Focus","toggle.tabMovesFocus.on":"Pressing Tab will now move focus to the next focusable element","toggle.tabMovesFocus.off":"Pressing Tab will now insert the tab character"},"vs/editor/contrib/clipboard/clipboard":{"actions.clipboard.cutLabel":"Cut",miCut:"Cu&&t","actions.clipboard.copyLabel":"Copy",miCopy:"&&Copy","actions.clipboard.pasteLabel":"Paste",miPaste:"&&Paste","actions.clipboard.copyWithSyntaxHighlightingLabel":"Copy With Syntax Highlighting"},"vs/editor/contrib/format/formatActions":{"formatDocument.label":"Format Document","formatSelection.label":"Format Selection"},"vs/editor/contrib/contextmenu/contextmenu":{"action.showContextMenu.label":"Show Editor Context Menu"},"vs/editor/contrib/hover/hover":{showHover:"Show Hover",showDefinitionPreviewHover:"Show Definition Preview Hover"},"vs/editor/contrib/inPlaceReplace/inPlaceReplace":{"InPlaceReplaceAction.previous.label":"Replace with Previous Value","InPlaceReplaceAction.next.label":"Replace with Next Value"},"vs/editor/contrib/rename/rename":{"no result":"No result.",resolveRenameLocationFailed:"An unknown error occurred while resolving rename location",label:"Renaming '{0}'",quotableLabel:"Renaming {0}",aria:"Successfully renamed '{0}' to '{1}'. Summary: {2}","rename.failedApply":"Rename failed to apply edits","rename.failed":"Rename failed to compute edits","rename.label":"Rename Symbol",enablePreview:"Enable/disable the ability to preview changes before renaming"},"vs/editor/contrib/smartSelect/smartSelect":{"smartSelect.expand":"Expand Selection",miSmartSelectGrow:"&&Expand Selection","smartSelect.shrink":"Shrink Selection",miSmartSelectShrink:"&&Shrink Selection"},"vs/editor/contrib/bracketMatching/bracketMatching":{overviewRulerBracketMatchForeground:"Overview ruler marker colour for matching brackets.","smartSelect.jumpBracket":"Go to Bracket","smartSelect.selectToBracket":"Select to Bracket",miGoToBracket:"Go to &&Bracket"},"vs/editor/contrib/codelens/codelensController":{showLensOnLine:"Show Code Lens Commands For Current Line"},"vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition":{multipleResults:"Click to show {0} definitions."},"vs/editor/contrib/links/links":{"links.navigate.executeCmd":"Execute command","links.navigate.follow":"Follow link","links.navigate.kb.meta.mac":"cmd + click","links.navigate.kb.meta":"ctrl + click","links.navigate.kb.alt.mac":"option + click","links.navigate.kb.alt":"alt + click","invalid.url":"Failed to open this link because it is not well-formed: {0}","missing.url":"Failed to open this link because its target is missing.",label:"Open Link"},"vs/editor/contrib/gotoError/gotoError":{"markerAction.next.label":"Go to Next Problem (Error, Warning, Info)","markerAction.previous.label":"Go to Previous Problem (Error, Warning, Info)","markerAction.nextInFiles.label":"Go to Next Problem in Files (Error, Warning, Info)","markerAction.previousInFiles.label":"Go to Previous Problem in Files (Error, Warning, Info)",miGotoNextProblem:"Next &&Problem",miGotoPreviousProblem:"Previous &&Problem"},"vs/editor/contrib/rename/onTypeRename":{"onTypeRename.label":"On Type Rename Symbol"},"vs/editor/contrib/peekView/peekView":{"label.close":"Close",peekViewTitleBackground:"Background colour of the peek view title area.",peekViewTitleForeground:"Colour of the peek view title.",peekViewTitleInfoForeground:"Colour of the peek view title info.",peekViewBorder:"Colour of the peek view borders and arrow.",peekViewResultsBackground:"Background colour of the peek view result list.",peekViewResultsMatchForeground:"Foreground colour for line nodes in the peek view result list.",peekViewResultsFileForeground:"Foreground colour for file nodes in the peek view result list.",peekViewResultsSelectionBackground:"Background colour of the selected entry in the peek view result list.",peekViewResultsSelectionForeground:"Foreground colour of the selected entry in the peek view result list.",peekViewEditorBackground:"Background colour of the peek view editor.",peekViewEditorGutterBackground:"Background colour of the gutter in the peek view editor.",peekViewResultsMatchHighlight:"Match highlight colour in the peek view result list.",peekViewEditorMatchHighlight:"Match highlight colour in the peek view editor.",peekViewEditorMatchHighlightBorder:"Match highlight border in the peek view editor."},"vs/editor/contrib/gotoSymbol/goToCommands":{"peek.submenu":"Peek","def.title":"Definitions",noResultWord:"No definition found for '{0}'","generic.noResults":"No definition found","actions.goToDecl.label":"Go to Definition",miGotoDefinition:"Go to &&Definition","actions.goToDeclToSide.label":"Open Definition to the Side","actions.previewDecl.label":"Peek Definition","decl.title":"Declarations","decl.noResultWord":"No declaration found for '{0}'","decl.generic.noResults":"No declaration found","actions.goToDeclaration.label":"Go to Declaration",miGotoDeclaration:"Go to &&Declaration","actions.peekDecl.label":"Peek Declaration","typedef.title":"Type Definitions","goToTypeDefinition.noResultWord":"No type definition found for '{0}'","goToTypeDefinition.generic.noResults":"No type definition found","actions.goToTypeDefinition.label":"Go to Type Definition",miGotoTypeDefinition:"Go to &&Type Definition","actions.peekTypeDefinition.label":"Peek Type Definition","impl.title":"Implementations","goToImplementation.noResultWord":"No implementation found for '{0}'","goToImplementation.generic.noResults":"No implementation found","actions.goToImplementation.label":"Go to Implementations",miGotoImplementation:"Go to &&Implementations","actions.peekImplementation.label":"Peek Implementations","references.no":"No references found for '{0}'","references.noGeneric":"No references found","goToReferences.label":"Go to References",miGotoReference:"Go to &&References","ref.title":"References","references.action.label":"Peek References","label.generic":"Go To Any Symbol","generic.title":"Locations","generic.noResult":"No results for '{0}'"},"vs/editor/contrib/indentation/indentation":{indentationToSpaces:"Convert Indentation to Spaces",indentationToTabs:"Convert Indentation to Tabs",configuredTabSize:"Configured Tab Size",selectTabWidth:"Select Tab Size for Current File",indentUsingTabs:"Indent Using Tabs",indentUsingSpaces:"Indent Using Spaces",detectIndentation:"Detect Indentation from Content","editor.reindentlines":"Reindent Lines","editor.reindentselectedlines":"Reindent Selected Lines"},"vs/editor/contrib/wordHighlighter/wordHighlighter":{wordHighlight:"Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.",wordHighlightStrong:"Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.",wordHighlightBorder:"Border colour of a symbol during read-access, like reading a variable.",wordHighlightStrongBorder:"Border colour of a symbol during write-access, like writing to a variable.",overviewRulerWordHighlightForeground:"Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.",overviewRulerWordHighlightStrongForeground:"Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.","wordHighlight.next.label":"Go to Next Symbol Highlight","wordHighlight.previous.label":"Go to Previous Symbol Highlight","wordHighlight.trigger.label":"Trigger Symbol Highlight"},"vs/editor/contrib/find/findController":{startFindAction:"Find",miFind:"&&Find",startFindWithSelectionAction:"Find With Selection",findNextMatchAction:"Find Next",findPreviousMatchAction:"Find Previous",nextSelectionMatchFindAction:"Find Next Selection",previousSelectionMatchFindAction:"Find Previous Selection",startReplace:"Replace",miReplace:"&&Replace"},"vs/editor/contrib/suggest/suggestController":{"arai.alert.snippet":"Accepting '{0}' made {1} additional edits","suggest.trigger.label":"Trigger Suggest","accept.accept":"{0} to insert","accept.insert":"{0} to insert","accept.replace":"{0} to replace","detail.more":"show less","detail.less":"show more"},"vs/editor/contrib/quickAccess/gotoLineQuickAccess":{cannotRunGotoLine:"Open a text editor first to go to a line.",gotoLineColumnLabel:"Go to line {0} and column {1}.",gotoLineLabel:"Go to line {0}.",gotoLineLabelEmptyWithLimit:"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",gotoLineLabelEmpty:"Current Line: {0}, Character: {1}. Type a line number to navigate to."},"vs/editor/contrib/folding/folding":{"unfoldAction.label":"Unfold","unFoldRecursivelyAction.label":"Unfold Recursively","foldAction.label":"Fold","toggleFoldAction.label":"Toggle Fold","foldRecursivelyAction.label":"Fold Recursively","foldAllBlockComments.label":"Fold All Block Comments","foldAllMarkerRegions.label":"Fold All Regions","unfoldAllMarkerRegions.label":"Unfold All Regions","foldAllAction.label":"Fold All","unfoldAllAction.label":"Unfold All","foldLevelAction.label":"Fold Level {0}",foldBackgroundBackground:"Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."},"vs/editor/contrib/linesOperations/linesOperations":{"lines.copyUp":"Copy Line Up",miCopyLinesUp:"&&Copy Line Up","lines.copyDown":"Copy Line Down",miCopyLinesDown:"Co&&py Line Down",duplicateSelection:"Duplicate Selection",miDuplicateSelection:"&&Duplicate Selection","lines.moveUp":"Move Line Up",miMoveLinesUp:"Mo&&ve Line Up","lines.moveDown":"Move Line Down",miMoveLinesDown:"Move &&Line Down","lines.sortAscending":"Sort Lines Ascending","lines.sortDescending":"Sort Lines Descending","lines.trimTrailingWhitespace":"Trim Trailing Whitespace","lines.delete":"Delete Line","lines.indent":"Indent Line","lines.outdent":"Outdent Line","lines.insertBefore":"Insert Line Above","lines.insertAfter":"Insert Line Below","lines.deleteAllLeft":"Delete All Left","lines.deleteAllRight":"Delete All Right","lines.joinLines":"Join Lines","editor.transpose":"Transpose characters around the cursor","editor.transformToUppercase":"Transform to Uppercase","editor.transformToLowercase":"Transform to Lowercase","editor.transformToTitlecase":"Transform to Title Case"},"vs/editor/contrib/multicursor/multicursor":{"mutlicursor.insertAbove":"Add Cursor Above",miInsertCursorAbove:"&&Add Cursor Above","mutlicursor.insertBelow":"Add Cursor Below",miInsertCursorBelow:"A&&dd Cursor Below","mutlicursor.insertAtEndOfEachLineSelected":"Add Cursors to Line Ends",miInsertCursorAtEndOfEachLineSelected:"Add C&&ursors to Line Ends","mutlicursor.addCursorsToBottom":"Add Cursors To Bottom","mutlicursor.addCursorsToTop":"Add Cursors To Top",addSelectionToNextFindMatch:"Add Selection To Next Find Match",miAddSelectionToNextFindMatch:"Add &&Next Occurrence",addSelectionToPreviousFindMatch:"Add Selection To Previous Find Match",miAddSelectionToPreviousFindMatch:"Add P&&revious Occurrence",moveSelectionToNextFindMatch:"Move Last Selection To Next Find Match",moveSelectionToPreviousFindMatch:"Move Last Selection To Previous Find Match",selectAllOccurrencesOfFindMatch:"Select All Occurrences of Find Match",miSelectHighlights:"Select All &&Occurrences","changeAll.label":"Change All Occurrences"},"vs/editor/contrib/codeAction/codeActionCommands":{"args.schema.kind":"Kind of the code action to run.","args.schema.apply":"Controls when the returned actions are applied.","args.schema.apply.first":"Always apply the first returned code action.","args.schema.apply.ifSingle":"Apply the first returned code action if it is the only one.","args.schema.apply.never":"Do not apply the returned code actions.","args.schema.preferred":"Controls if only preferred code actions should be returned.",applyCodeActionFailed:"An unknown error occurred while applying the code action","quickfix.trigger.label":"Quick Fix...","editor.action.quickFix.noneMessage":"No code actions available","editor.action.codeAction.noneMessage.preferred.kind":"No preferred code actions for '{0}' available","editor.action.codeAction.noneMessage.kind":"No code actions for '{0}' available","editor.action.codeAction.noneMessage.preferred":"No preferred code actions available","editor.action.codeAction.noneMessage":"No code actions available","refactor.label":"Refactor...","editor.action.refactor.noneMessage.preferred.kind":"No preferred refactorings for '{0}' available","editor.action.refactor.noneMessage.kind":"No refactorings for '{0}' available","editor.action.refactor.noneMessage.preferred":"No preferred refactorings available","editor.action.refactor.noneMessage":"No refactorings available","source.label":"Source Action...","editor.action.source.noneMessage.preferred.kind":"No preferred source actions for '{0}' available","editor.action.source.noneMessage.kind":"No source actions for '{0}' available","editor.action.source.noneMessage.preferred":"No preferred source actions available","editor.action.source.noneMessage":"No source actions available","organizeImports.label":"Organise Imports","editor.action.organize.noneMessage":"No organise imports action available","fixAll.label":"Fix All","fixAll.noneMessage":"No fix all action available","autoFix.label":"Auto Fix...","editor.action.autoFix.noneMessage":"No auto fixes available"},"vs/editor/contrib/rename/renameInputField":{renameAriaLabel:"Rename input. Type new name and press Enter to commit.",label:"{0} to Rename, {1} to Preview"},"vs/editor/contrib/parameterHints/parameterHintsWidget":{hint:"{0}, hint"},"vs/editor/contrib/message/messageController":{"editor.readonly":"Cannot edit in read-only editor"},"vs/editor/contrib/quickAccess/gotoSymbolQuickAccess":{cannotRunGotoSymbolWithoutEditor:"To go to a symbol, first open a text editor with symbol information.",cannotRunGotoSymbolWithoutSymbolProvider:"The active text editor does not provide symbol information.",openToSide:"Open to the Side",openToBottom:"Open to the Bottom",symbols:"symbols ({0})",property:"properties ({0})",method:"methods ({0})",function:"functions ({0})",_constructor:"constructors ({0})",variable:"variables ({0})",class:"classes ({0})",struct:"structs ({0})",event:"events ({0})",operator:"operators ({0})",interface:"interfaces ({0})",namespace:"namespaces ({0})",package:"packages ({0})",typeParameter:"type parameters ({0})",modules:"modules ({0})",enum:"enumerations ({0})",enumMember:"enumeration members ({0})",string:"strings ({0})",file:"files ({0})",array:"arrays ({0})",number:"numbers ({0})",boolean:"booleans ({0})",object:"objects ({0})",key:"keys ({0})",field:"fields ({0})",constant:"constants ({0})"},"vs/editor/contrib/snippet/snippetVariables":{Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",SundayShort:"Sun",MondayShort:"Mon",TuesdayShort:"Tue",WednesdayShort:"Wed",ThursdayShort:"Thu",FridayShort:"Fri",SaturdayShort:"Sat",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",JanuaryShort:"Jan",FebruaryShort:"Feb",MarchShort:"Mar",AprilShort:"Apr",MayShort:"May",JuneShort:"Jun",JulyShort:"Jul",AugustShort:"Aug",SeptemberShort:"Sep",OctoberShort:"Oct",NovemberShort:"Nov",DecemberShort:"Dec"},"vs/editor/contrib/gotoSymbol/peek/referencesController":{labelLoading:"Loading...","metaTitle.N":"{0} ({1})"},"vs/editor/contrib/format/format":{hint11:"Made 1 formatting edit on line {0}",hintn1:"Made {0} formatting edits on line {1}",hint1n:"Made 1 formatting edit between lines {0} and {1}",hintnn:"Made {0} formatting edits between lines {1} and {2}"},"vs/editor/contrib/gotoSymbol/referencesModel":{"aria.oneReference":"symbol in {0} on line {1} at column {2}","aria.fileReferences.1":"1 symbol in {0}, full path {1}","aria.fileReferences.N":"{0} symbols in {1}, full path {2}","aria.result.0":"No results found","aria.result.1":"Found 1 symbol in {0}","aria.result.n1":"Found {0} symbols in {1}","aria.result.nm":"Found {0} symbols in {1} files"},"vs/editor/contrib/gotoSymbol/symbolNavigation":{"location.kb":"Symbol {0} of {1}, {2} for next",location:"Symbol {0} of {1}"},"vs/editor/contrib/gotoError/gotoErrorWidget":{Error:"Error",Warning:"Warning",Info:"Info",Hint:"Hint","marker aria":"{0} at {1}. ",problems:"{0} of {1} problems",change:"{0} of {1} problem",editorMarkerNavigationError:"Editor marker navigation widget error colour.",editorMarkerNavigationWarning:"Editor marker navigation widget warning colour.",editorMarkerNavigationInfo:"Editor marker navigation widget info colour.",editorMarkerNavigationBackground:"Editor marker navigation widget background."},"vs/editor/contrib/hover/modesContentHover":{"modesContentHover.loading":"Loading...","peek problem":"Peek Problem",titleAndKb:"{0} ({1})",checkingForQuickFixes:"Checking for quick fixes...",noQuickFixes:"No quick fixes available","quick fixes":"Quick Fix..."},"vs/editor/contrib/documentSymbols/outlineTree":{provider:"Outline Provider","title.template":"{0} ({1})","1.problem":"1 problem in this element","N.problem":"{0} problems in this element","deep.problem":"Contains elements with problems",Array:"array",Boolean:"boolean",Class:"class",Constant:"constant",Constructor:"constructor",Enum:"enumeration",EnumMember:"enumeration member",Event:"event",Field:"field",File:"File",Function:"function",Interface:"interface",Key:"key",Method:"method",Module:"module",Namespace:"namespace",Null:"null",Number:"number",Object:"object",Operator:"operator",Package:"package",Property:"property",String:"string",Struct:"struct",TypeParameter:"type parameter",Variable:"variable","symbolIcon.arrayForeground":"The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.booleanForeground":"The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.classForeground":"The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.colorForeground":"The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.constantForeground":"The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.constructorForeground":"The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.enumeratorForeground":"The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.enumeratorMemberForeground":"The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.eventForeground":"The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.fieldForeground":"The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.fileForeground":"The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.folderForeground":"The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.functionForeground":"The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.interfaceForeground":"The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.keyForeground":"The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.keywordForeground":"The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.methodForeground":"The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.moduleForeground":"The foreground colour for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.namespaceForeground":"The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.nullForeground":"The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.numberForeground":"The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.objectForeground":"The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.operatorForeground":"The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.packageForeground":"The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.propertyForeground":"The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.referenceForeground":"The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.snippetForeground":"The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.stringForeground":"The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.structForeground":"The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.textForeground":"The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.typeParameterForeground":"The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.unitForeground":"The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.","symbolIcon.variableForeground":"The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."},"vs/editor/contrib/gotoSymbol/peek/referencesWidget":{missingPreviewMessage:"no preview available",treeAriaLabel:"References",noResults:"No results","peekView.alternateTitle":"References"},"vs/editor/contrib/find/findWidget":{"label.find":"Find","placeholder.find":"Find","label.previousMatchButton":"Previous match","label.nextMatchButton":"Next match","label.toggleSelectionFind":"Find in selection","label.closeButton":"Close","label.replace":"Replace","placeholder.replace":"Replace","label.replaceButton":"Replace","label.replaceAllButton":"Replace All","label.toggleReplaceButton":"Toggle Replace mode","title.matchesCountLimit":"Only the first {0} results are highlighted, but all find operations work on the entire text.","label.matchesLocation":"{0} of {1}","label.noResults":"No results",ariaSearchNoResultEmpty:"{0} found",ariaSearchNoResult:"{0} found for '{1}'",ariaSearchNoResultWithLineNum:"{0} found for '{1}', at {2}",ariaSearchNoResultWithLineNumNoCurrentMatch:"{0} found for '{1}'","ctrlEnter.keybindingChanged":"Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior."},"vs/editor/contrib/suggest/suggestWidget":{editorSuggestWidgetBackground:"Background colour of the suggest widget.",editorSuggestWidgetBorder:"Border colour of the suggest widget.",editorSuggestWidgetForeground:"Foreground colour of the suggest widget.",editorSuggestWidgetSelectedBackground:"Background colour of the selected entry in the suggest widget.",editorSuggestWidgetHighlightForeground:"Colour of the match highlights in the suggest widget.",readMore:"Read More...{0}",readLess:"Read less...{0}",loading:"Loading...","suggestWidget.loading":"Loading...","suggestWidget.noSuggestions":"No suggestions.",ariaCurrenttSuggestionReadDetails:"Item {0}, docs: {1}"},"vs/editor/contrib/codeAction/lightBulbWidget":{prefferedQuickFixWithKb:"Show Fixes. Preferred Fix Available ({0})",quickFixWithKb:"Show Fixes ({0})",quickFix:"Show Fixes"},"vs/editor/contrib/gotoSymbol/peek/referencesTree":{referencesFailre:"Failed to resolve file.",referencesCount:"{0} references",referenceCount:"{0} reference"},"vs/platform/extensionManagement/common/extensionManagement":{extensions:"Extensions",preferences:"Preferences"},"vs/platform/environment/node/argvHelper":{unknownOption:"Warning: '{0}' is not in the list of known options, but still passed to Electron/Chromium.",multipleValues:"Option '{0}' is defined more than once. Using value '{1}.'",gotoValidation:"Arguments in `--goto` mode should be in the format of `FILE(:LINE(:CHARACTER))`."},"vs/platform/extensionManagement/node/extensionManagementUtil":{invalidManifest:"VSIX invalid: package.json is not a JSON file."},"vs/platform/request/common/request":{httpConfigurationTitle:"HTTP",proxy:"The proxy setting to use. If not set, will be inherited from the `http_proxy` and `https_proxy` environment variables.",strictSSL:"Controls whether the proxy server certificate should be verified against the list of supplied CAs.",proxyAuthorization:"The value to send as the `Proxy-Authorization` header for every network request.",proxySupportOff:"Disable proxy support for extensions.",proxySupportOn:"Enable proxy support for extensions.",proxySupportOverride:"Enable proxy support for extensions, override request options.",proxySupport:"Use the proxy support for extensions.",systemCertificates:"Controls whether CA certificates should be loaded from the OS. (On Windows and macOS a reload of the window is required after turning this off.)"},"vs/platform/update/common/update.config.contribution":{updateConfigurationTitle:"Update",updateMode:"Configure whether you receive automatic updates. Requires a restart after change. The updates are fetched from a Microsoft online service.",none:"Disable updates.",manual:"Disable automatic background update checks. Updates will be available if you manually check for updates.",start:"Check for updates only on startup. Disable automatic background update checks.",default:"Enable automatic update checks. Code will check for updates automatically and periodically.",deprecated:"This setting is deprecated, please use '{0}' instead.",enableWindowsBackgroundUpdatesTitle:"Enable Background Updates on Windows",enableWindowsBackgroundUpdates:"Enable to download and install new VS Code Versions in the background on Windows",showReleaseNotes:"Show Release Notes after an update. The Release Notes are fetched from a Microsoft online service."},"vs/platform/telemetry/common/telemetryService":{telemetryConfigurationTitle:"Telemetry","telemetry.enableTelemetry":"Enable usage data and errors to be sent to a Microsoft online service."},"vs/platform/label/common/label":{untitledWorkspace:"Untitled (Workspace)",workspaceName:"{0} (Workspace)"},"vs/platform/files/electron-browser/diskFileSystemProvider":{binFailed:"Failed to move '{0}' to the recycle bin",trashFailed:"Failed to move '{0}' to the trash"},"vs/platform/files/common/files":{unknownError:"Unknown Error"},"vs/platform/environment/node/argv":{optionsUpperCase:"Options",extensionsManagement:"Extensions Management",troubleshooting:"Troubleshooting",diff:"Compare two files with each other.",add:"Add folder(s) to the last active window.",goto:"Open a file at the path on the specified line and character position.",newWindow:"Force to open a new window.",reuseWindow:"Force to open a file or folder in an already opened window.",folderUri:"Opens a window with given folder URI(s)",fileUri:"Opens a window with given file uri(s)",wait:"Wait for the files to be closed before returning.",locale:"The locale to use (e.g. en-US or zh-TW).",userDataDir:"Specifies the directory that user data is kept in. Can be used to open multiple distinct instances of Code.",help:"Print usage.",extensionHomePath:"Set the root path for extensions.",listExtensions:"List the installed extensions.",showVersions:"Show versions of installed extensions, when using --list-extension.",category:"Filters installed extensions by provided category, when using --list-extension.",installExtension:"Installs or updates the extension. Use `--force` argument to avoid prompts.",uninstallExtension:"Uninstalls an extension.",experimentalApis:"Enables proposed API features for extensions. Can receive one or more extension IDs to enable individually.",version:"Print version.",verbose:"Print verbose output (implies --wait).",log:"Log level to use. Default is 'info'. Allowed values are 'critical', 'error', 'warn', 'info', 'debug', 'trace', 'off'.",status:"Print process usage and diagnostics information.","prof-startup":"Run CPU profiler during startup",disableExtensions:"Disable all installed extensions.",disableExtension:"Disable an extension.","turn sync":"Turn sync on or off","inspect-extensions":"Allow debugging and profiling of extensions. Check the developer tools for the connection URI.","inspect-brk-extensions":"Allow debugging and profiling of extensions with the extension host being paused after start. Check the developer tools for the connection URI.",disableGPU:"Disable GPU hardware acceleration.",maxMemory:"Max memory size for a window (in Mbytes).",telemetry:"Shows all telemetry events which VS code collects.",usage:"Usage",options:"options",paths:"paths",stdinWindows:"To read output from another program, append '-' (e.g. 'echo Hello World | {0} -')",stdinUnix:"To read from stdin, append '-' (e.g. 'ps aux | grep code | {0} -')",unknownVersion:"Unknown version",unknownCommit:"Unknown commit"},"vs/platform/markers/common/markers":{"sev.error":"Error","sev.warning":"Warning","sev.info":"Info"},"vs/platform/dialogs/common/dialogs":{moreFile:"...1 additional file not shown",moreFiles:"...{0} additional files not shown"},"vs/platform/userDataSync/common/userDataSync":{sync:"Sync","sync.keybindingsPerPlatform":"Synchronize keybindings per platform.","sync.ignoredExtensions":"List of extensions to be ignored while synchronizing. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp.","sync.ignoredSettings":"Configure settings to be ignored while synchronizing.","app.extension.identifier.errorMessage":"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."},"vs/platform/files/node/diskFileSystemProvider":{fileExists:"File already exists",fileNotExists:"File does not exist",moveError:"Unable to move '{0}' into '{1}' ({2}).",copyError:"Unable to copy '{0}' into '{1}' ({2}).",fileCopyErrorPathCase:"'File cannot be copied to same path with different path case",fileCopyErrorExists:"File at target already exists"},"vs/platform/configuration/common/configurationRegistry":{"defaultConfigurations.title":"Default Configuration Overrides","overrideSettings.description":"Configure editor settings to be overridden for {0} language.","overrideSettings.defaultDescription":"Configure editor settings to be overridden for a language.","overrideSettings.errorMessage":"This setting does not support per-language configuration.","config.property.languageDefault":"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.","config.property.duplicate":"Cannot register '{0}'. This property is already registered."},"vs/platform/workspaces/common/workspaces":{codeWorkspace:"Code Workspace"},"vs/platform/userDataSync/common/userDataSyncService":{"turned off":"Cannot sync because syncing is turned off in the cloud","session expired":"Cannot sync because current session is expired"},"vs/platform/undoRedo/common/undoRedoService":{externalRemoval:"The following files have been closed: {0}.",noParallelUniverses:"The following files have been modified in an incompatible way: {0}.",cannotWorkspaceUndo:"Could not undo '{0}' across all files. {1}",cannotWorkspaceUndoDueToChanges:"Could not undo '{0}' across all files because changes were made to {1}",confirmWorkspace:"Would you like to undo '{0}' across all files?",ok:"Undo in {0} Files",nok:"Undo this File",cancel:"Cancel",cannotWorkspaceRedo:"Could not redo '{0}' across all files. {1}",cannotWorkspaceRedoDueToChanges:"Could not redo '{0}' across all files because changes were made to {1}"},"vs/platform/files/common/fileService":{invalidPath:"Unable to resolve filesystem provider with relative file path '{0}'",noProviderFound:"No file system provider found for resource '{0}'",fileNotFoundError:"Unable to resolve non-existing file '{0}'",fileExists:"Unable to create file '{0}' that already exists when overwrite flag is not set","err.write":"Unable to write file '{0}' ({1})",fileIsDirectoryWriteError:"Unable to write file '{0}' that is actually a directory",fileModifiedError:"File Modified Since","err.read":"Unable to read file '{0}' ({1})",fileIsDirectoryReadError:"Unable to read file '{0}' that is actually a directory",fileNotModifiedError:"File not modified since",fileTooLargeError:"Unable to read file '{0}' that is too large to open",unableToMoveCopyError1:"Unable to copy when source '{0}' is same as target '{1}' with different path case on a case insensitive file system",unableToMoveCopyError2:"Unable to move/copy when source '{0}' is parent of target '{1}'.",unableToMoveCopyError3:"Unable to move/copy '{0}' because target '{1}' already exists at destination.",unableToMoveCopyError4:"Unable to move/copy '{0}' into '{1}' since a file would replace the folder it is contained in.",mkdirExistsError:"Unable to create folder '{0}' that already exists but is not a directory",deleteFailedTrashUnsupported:"Unable to delete file '{0}' via trash because provider does not support it.",deleteFailedNotFound:"Unable to delete non-existing file '{0}'",deleteFailedNonEmptyFolder:"Unable to delete non-empty folder '{0}'.","err.readonly":"Unable to modify readonly file '{0}'"},"vs/platform/quickinput/browser/helpQuickAccess":{globalCommands:"global commands",editorCommands:"editor commands",helpPickAriaLabel:"{0}, {1}"},"vs/platform/list/browser/listService":{workbenchConfigurationTitle:"Workbench","multiSelectModifier.ctrlCmd":"Maps to `Control` on Windows and Linux and to `Command` on macOS.","multiSelectModifier.alt":"Maps to `Alt` on Windows and Linux and to `Option` on macOS.",multiSelectModifier:"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.",openModeModifier:"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ","horizontalScrolling setting":"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.","tree horizontalScrolling setting":"Controls whether trees support horizontal scrolling in the workbench.",deprecated:"This setting is deprecated, please use '{0}' instead.","tree indent setting":"Controls tree indentation in pixels.","render tree indent guides":"Controls whether the tree should render indent guides.","keyboardNavigationSettingKey.simple":"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes.","keyboardNavigationSettingKey.highlight":"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements.","keyboardNavigationSettingKey.filter":"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.",keyboardNavigationSettingKey:"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.","automatic keyboard navigation setting":"Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut."},"vs/platform/files/common/io":{fileTooLargeForHeapError:"To open a file of this size, you need to restart and allow it to use more memory",fileTooLargeError:"File is too large to open"},"vs/platform/extensionManagement/node/extensionManagementService":{invalidManifest:"Extension invalid: package.json is not a JSON file.",incompatible:"Unable to install extension '{0}' as it is not compatible with VS Code '{1}'.",restartCode:"Please restart VS Code before reinstalling {0}.",MarketPlaceDisabled:"Marketplace is not enabled","malicious extension":"Can't install extension since it was reported to be problematic.",notFoundCompatibleDependency:"Unable to install '{0}' extension because it is not compatible with the current version of VS Code (version {1}).",removeError:"Error while removing the extension: {0}. Please Quit and Start VS Code before trying again.","Not a Marketplace extension":"Only Marketplace Extensions can be reinstalled",quitCode:"Unable to install the extension. Please Quit and Start VS Code before reinstalling.",exitCode:"Unable to install the extension. Please Exit and Start VS Code before reinstalling.",errorDeleting:"Unable to delete the existing folder '{0}' while installing the extension '{1}'. Please delete the folder manually and try again","cannot read":"Cannot read the extension from {0}",renameError:"Unknown error while renaming {0} to {1}",notInstalled:"Extension '{0}' is not installed.",singleDependentError:"Cannot uninstall extension '{0}'. Extension '{1}' depends on this.",twoDependentsError:"Cannot uninstall extension '{0}'. Extensions '{1}' and '{2}' depend on this.",multipleDependentsError:"Cannot uninstall extension '{0}'. Extensions '{1}', '{2}' and others depend on this.",notExists:"Could not find extension"},"vs/platform/actions/browser/menuEntryActionViewItem":{titleAndKb:"{0} ({1})"},"vs/platform/theme/common/colorRegistry":{foreground:"Overall foreground color. This color is only used if not overridden by a component.",errorForeground:"Overall foreground color for error messages. This color is only used if not overridden by a component.",descriptionForeground:"Foreground colour for description text providing additional information, for example for a label.",iconForeground:"The default color for icons in the workbench.",focusBorder:"Overall border color for focused elements. This color is only used if not overridden by a component.",contrastBorder:"An extra border around elements to separate them from others for greater contrast.",activeContrastBorder:"An extra border around active elements to separate them from others for greater contrast.",selectionBackground:"The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.",textSeparatorForeground:"Color for text separators.",textLinkForeground:"Foreground color for links in text.",textLinkActiveForeground:"Foreground color for links in text when clicked on and on mouse hover.",textPreformatForeground:"Foreground color for preformatted text segments.",textBlockQuoteBackground:"Background colour for block quotes in text.",textBlockQuoteBorder:"Border color for block quotes in text.",textCodeBlockBackground:"Background color for code blocks in text.",widgetShadow:"Shadow color of widgets such as find/replace inside the editor.",inputBoxBackground:"Input box background.",inputBoxForeground:"Input box foreground.",inputBoxBorder:"Input box border.",inputBoxActiveOptionBorder:"Border color of activated options in input fields.","inputOption.activeBackground":"Background color of activated options in input fields.",inputPlaceholderForeground:"Input box foreground colour for placeholder text.",inputValidationInfoBackground:"Input validation background color for information severity.",inputValidationInfoForeground:"Input validation foreground colour for information severity.",inputValidationInfoBorder:"Input validation border color for information severity.",inputValidationWarningBackground:"Input validation background color for warning severity.",inputValidationWarningForeground:"Input validation foreground colour for warning severity.",inputValidationWarningBorder:"Input validation border color for warning severity.",inputValidationErrorBackground:"Input validation background colour for error severity.",inputValidationErrorForeground:"Input validation foreground colour for error severity.",inputValidationErrorBorder:"Input validation border color for error severity.",dropdownBackground:"Dropdown background.",dropdownListBackground:"Dropdown list background.",dropdownForeground:"Dropdown foreground.",dropdownBorder:"Dropdown border.","checkbox.background":"Background color of checkbox widget.","checkbox.foreground":"Foreground color of checkbox widget.","checkbox.border":"Border color of checkbox widget.",buttonForeground:"Button foreground color.",buttonBackground:"Button background color.",buttonHoverBackground:"Button background colour when hovering.",badgeBackground:"Badge background colour. Badges are small information labels, e.g. for search results count.",badgeForeground:"Badge foreground colour. Badges are small information labels, e.g. for search results count.",scrollbarShadow:"Scrollbar shadow to indicate that the view is scrolled.",scrollbarSliderBackground:"Scrollbar slider background color.",scrollbarSliderHoverBackground:"Scrollbar slider background color when hovering.",scrollbarSliderActiveBackground:"Scrollbar slider background color when clicked on.",progressBarBackground:"Background color of the progress bar that can show for long running operations.","editorError.foreground":"Foreground colour of error squigglies in the editor.",errorBorder:"Border color of error boxes in the editor.","editorWarning.foreground":"Foreground colour of warning squigglies in the editor.",warningBorder:"Border color of warning boxes in the editor.","editorInfo.foreground":"Foreground colour of info squigglies in the editor.",infoBorder:"Border color of info boxes in the editor.","editorHint.foreground":"Foreground colour of hint squigglies in the editor.",hintBorder:"Border color of hint boxes in the editor.",editorBackground:"Editor background color.",editorForeground:"Editor default foreground color.",editorWidgetBackground:"Background colour of editor widgets, such as find/replace.",editorWidgetForeground:"Foreground color of editor widgets, such as find/replace.",editorWidgetBorder:"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.",editorWidgetResizeBorder:"Border colour of the resize bar of editor widgets. The colour is only used if the widget chooses to have a resize border and if the colour is not overridden by a widget.",pickerBackground:"Quick picker background color. The quick picker widget is the container for pickers like the command palette.",pickerForeground:"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.",pickerTitleBackground:"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.",pickerGroupForeground:"Quick picker color for grouping labels.",pickerGroupBorder:"Quick picker color for grouping borders.",editorSelectionBackground:"Color of the editor selection.",editorSelectionForeground:"Colour of the selected text for high contrast.",editorInactiveSelection:"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations.",editorSelectionHighlight:"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations.",editorSelectionHighlightBorder:"Border color for regions with the same content as the selection.",editorFindMatch:"Colour of the current search match.",findMatchHighlight:"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations.",findRangeHighlight:"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations.",editorFindMatchBorder:"Border colour of the current search match.",findMatchHighlightBorder:"Border color of the other search matches.",findRangeHighlightBorder:"Border colour of the range limiting the search. The colour must not be opaque to ensure underlying decorations will not be hidden.","searchEditor.queryMatch":"Color of the Search Editor query matches.","searchEditor.editorFindMatchBorder":"Border color of the Search Editor query matches.",hoverHighlight:"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations.",hoverBackground:"Background color of the editor hover.",hoverForeground:"Foreground color of the editor hover.",hoverBorder:"Border colour of the editor hover.",statusBarBackground:"Background color of the editor hover status bar.",activeLinkForeground:"Colour of active links.",editorLightBulbForeground:"The color used for the lightbulb actions icon.",editorLightBulbAutoFixForeground:"The color used for the lightbulb auto fix actions icon.",diffEditorInserted:"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations.",diffEditorRemoved:"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations.",diffEditorInsertedOutline:"Outline color for the text that got inserted.",diffEditorRemovedOutline:"Outline color for text that got removed.",diffEditorBorder:"Border colour between the two text editors.",listFocusBackground:"List/Tree background colour for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.",listFocusForeground:"List/Tree foreground colour for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.",listActiveSelectionBackground:"List/Tree background colour for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.",listActiveSelectionForeground:"List/Tree foreground colour for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.",listInactiveSelectionBackground:"List/Tree background colour for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.",listInactiveSelectionForeground:"List/Tree foreground colour for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.",listInactiveFocusBackground:"List/Tree background colour for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.",listHoverBackground:"List/Tree background when hovering over items using the mouse.",listHoverForeground:"List/Tree foreground when hovering over items using the mouse.",listDropBackground:"List/Tree drag and drop background when moving items around using the mouse.",highlight:"List/Tree foreground color of the match highlights when searching inside the list/tree.",invalidItemForeground:"List/Tree foreground colour for invalid items, for example an unresolved root in explorer.",listErrorForeground:"Foreground color of list items containing errors.",listWarningForeground:"Foreground color of list items containing warnings.",listFilterWidgetBackground:"Background color of the type filter widget in lists and trees.",listFilterWidgetOutline:"Outline color of the type filter widget in lists and trees.",listFilterWidgetNoMatchesOutline:"Outline colour of the type filter widget in lists and trees, when there are no matches.",listFilterMatchHighlight:"Background color of the filtered match.",listFilterMatchHighlightBorder:"Border color of the filtered match.",treeIndentGuidesStroke:"Tree stroke colour for the indentation guides.",listDeemphasizedForeground:"List/Tree foreground color for items that are deemphasized. ",menuBorder:"Border colour of menus.",menuForeground:"Foreground colour of menu items.",menuBackground:"Background colour of menu items.",menuSelectionForeground:"Foreground colour of the selected menu item in menus.",menuSelectionBackground:"Background colour of the selected menu item in menus.",menuSelectionBorder:"Border colour of the selected menu item in menus.",menuSeparatorBackground:"Colour of a separator menu item in menus.",snippetTabstopHighlightBackground:"Highlight background colour of a snippet tabstop.",snippetTabstopHighlightBorder:"Highlight border colour of a snippet tabstop.",snippetFinalTabstopHighlightBackground:"Highlight background colour of the final tabstop of a snippet.",snippetFinalTabstopHighlightBorder:"Highlight border colour of the final stabstop of a snippet.",breadcrumbsFocusForeground:"Colour of focused breadcrumb items.",breadcrumbsBackground:"Background colour of breadcrumb items.",breadcrumbsSelectedForegound:"Colour of selected breadcrumb items.",breadcrumbsSelectedBackground:"Background colour of breadcrumb item picker.",mergeCurrentHeaderBackground:"Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations.",mergeCurrentContentBackground:"Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations.",mergeIncomingHeaderBackground:"Incoming header background in inline merge-conflicts. The colour must not be opaque so as not to hide underlying decorations.",mergeIncomingContentBackground:"Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations.",mergeCommonHeaderBackground:"Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations.",mergeCommonContentBackground:"Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations.",mergeBorder:"Border color on headers and the splitter in inline merge-conflicts.",overviewRulerCurrentContentForeground:"Current overview ruler foreground for inline merge-conflicts.",overviewRulerIncomingContentForeground:"Incoming overview ruler foreground for inline merge-conflicts.",overviewRulerCommonContentForeground:"Common ancestor overview ruler foreground for inline merge-conflicts.",overviewRulerFindMatchForeground:"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations.",overviewRulerSelectionHighlightForeground:"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations.",minimapFindMatchHighlight:"Minimap marker colour for find matches.",minimapSelectionHighlight:"Minimap marker color for the editor selection.",minimapError:"Minimap marker color for errors.",overviewRuleWarning:"Minimap marker color for warnings.",minimapBackground:"Minimap background color.",minimapSliderBackground:"Minimap slider background color.",minimapSliderHoverBackground:"Minimap slider background color when hovering.",minimapSliderActiveBackground:"Minimap slider background color when clicked on.",problemsErrorIconForeground:"The color used for the problems error icon.",problemsWarningIconForeground:"The color used for the problems warning icon.",problemsInfoIconForeground:"The color used for the problems info icon."},"vs/platform/extensions/common/extensionValidator":{versionSyntax:"Could not parse `engines.vscode` value {0}. Please use, for example: ^1.22.0, ^1.22.x, etc.",versionSpecificity1:"Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions before 1.0.0, please define at a minimum the major and minor desired version. E.g. ^0.10.0, 0.10.x, 0.11.0, etc.",versionSpecificity2:"Version specified in `engines.vscode` ({0}) is not specific enough. For vscode versions after 1.0.0, please define at a minimum the major desired version. E.g. ^1.10.0, 1.10.x, 1.x.x, 2.x.x, etc.",versionMismatch:"Extension is not compatible with Code {0}. Extension requires: {1}."},"vs/platform/userDataSync/common/settingsSync":{errorInvalidSettings:"Unable to sync settings as there are errors/warning in settings file."},"vs/platform/userDataSync/common/keybindingsSync":{errorInvalidSettings:"Unable to sync keybindings as there are errors/warning in keybindings file."},"vs/platform/workspaces/electron-main/workspacesMainService":{ok:"OK",workspaceOpenedMessage:"Unable to save workspace '{0}'",workspaceOpenedDetail:"The workspace is already opened in another window. Please close that window first and then try again."},"vs/platform/dialogs/electron-main/dialogs":{open:"Open",openFolder:"Open Folder",openFile:"Open File",openWorkspaceTitle:"Open Workspace",openWorkspace:"&&Open"},"vs/platform/keybinding/common/abstractKeybindingService":{"first.chord":"({0}) was pressed. Waiting for second key of chord...","missing.chord":"The key combination ({0}, {1}) is not a command."},"vs/platform/issue/electron-main/issueMainService":{local:"Local",issueReporterWriteToClipboard:"There is too much data to send to GitHub directly. The data will be copied to the clipboard, please paste it into the GitHub issue page that is opened.",ok:"OK",cancel:"Cancel",confirmCloseIssueReporter:"Your input will not be saved. Are you sure you want to close this window?",yes:"Yes",issueReporter:"Issue Reporter",processExplorer:"Process Explorer"},"vs/platform/workspaces/electron-main/workspacesHistoryMainService":{newWindow:"New Window",newWindowDesc:"Opens a new window",recentFolders:"Recent Workspaces",folderDesc:"{0} {1}",workspaceDesc:"{0} {1}"},"vs/platform/quickinput/browser/commandsQuickAccess":{commandPickAriaLabelWithKeybinding:"{0}, {1}",recentlyUsed:"recently used",morecCommands:"other commands",canNotRun:"Command '{0}' resulted in an error ({1})"},"vs/platform/theme/common/tokenClassificationRegistry":{"schema.token.settings":"Colors and styles for the token.","schema.token.foreground":"Foreground colour for the token.","schema.token.background.warning":"Token background colors are currently not supported.","schema.token.fontStyle":"Font style of the rule: 'italic', 'bold' or 'underline' or a combination. The empty string unsets inherited settings.","schema.fontStyle.error":"Font style must be 'italic', 'bold' or 'underline' or a combination. The empty string unsets all styles.","schema.token.fontStyle.none":"None (clear inherited style)",comment:"Style for comments.",string:"Style for strings.",keyword:"Style for keywords.",number:"Style for numbers.",regexp:"Style for expressions.",operator:"Style for operators.",namespace:"Style for namespaces.",type:"Style for types.",struct:"Style for structs.",class:"Style for classes.",interface:"Style for interfaces.",enum:"Style for enums.",typeParameter:"Style for type parameters.",function:"Style for functions",member:"Style for member",macro:"Style for macros.",variable:"Style for variables.",parameter:"Style for parameters.",property:"Style for properties.",enumMember:"Style for enum members.",event:"Style for events.",labels:"Style for labels. ",declaration:"Style for all symbol declarations.",documentation:"Style to use for references in documentation.",static:"Style to use for symbols that are static.",abstract:"Style to use for symbols that are abstract.",deprecated:"Style to use for symbols that are deprecated.",modification:"Style to use for write accesses.",async:"Style to use for symbols that are async.",readonly:"Style to use for symbols that are readonly."},"vs/platform/userDataSync/common/abstractSynchronizer":{incompatible:"Cannot sync {0} as its version {1} is not compatible with cloud {2}"},"vs/platform/menubar/electron-main/menubar":{miNewWindow:"New &&Window",mFile:"&&File",mEdit:"&&Edit",mSelection:"&&Selection",mView:"&&View",mGoto:"&&Go",mRun:"&&Run",mTerminal:"&&Terminal",mWindow:"Window",mHelp:"&&Help",mAbout:"About {0}",miPreferences:"&&Preferences",mServices:"Services",mHide:"Hide {0}",mHideOthers:"Hide Others",mShowAll:"Show All",miQuit:"Quit {0}",mMinimize:"Minimise",mZoom:"Zoom",mBringToFront:"Bring All to Front",miSwitchWindow:"Switch &&Window...",mNewTab:"New Tab",mShowPreviousTab:"Show Previous Tab",mShowNextTab:"Show Next Tab",mMoveTabToNewWindow:"Move Tab to New Window",mMergeAllWindows:"Merge All Windows",miCheckForUpdates:"Check for &&Updates...",miCheckingForUpdates:"Checking For Updates...",miDownloadUpdate:"D&&ownload Available Update",miDownloadingUpdate:"Downloading Update...",miInstallUpdate:"Install &&Update...",miInstallingUpdate:"Installing Update...",miRestartToUpdate:"Restart to &&Update"},"vs/platform/theme/common/iconRegistry":{},"vs/platform/windows/electron-main/windowsMainService":{pathNotExistTitle:"Path does not exist",pathNotExistDetail:"The path '{0}' does not seem to exist anymore on disk.",uriInvalidTitle:"URI can not be opened",uriInvalidDetail:"The URI '{0}' is not valid and can not be opened.",ok:"OK"},"win32/i18n/messages":{AddContextMenuFiles:'Add "Open with %1" action to Windows Explorer file context menu',AddContextMenuFolders:'Add "Open with %1" action to Windows Explorer directory context menu',AssociateWithFiles:"Register %1 as an editor for supported file types",AddToPath:"Add to PATH (requires shell restart)",RunAfter:"Run %1 after installation",Other:"Other:",SourceFile:"%1 Source File",OpenWithCodeContextMenu:"Open w&ith %1"},"vs/code/electron-browser/processExplorer/processExplorerMain":{cpu:"CPU %",memory:"Memory (MB)",pid:"pid",name:"Name",killProcess:"Kill Process",forceKillProcess:"Force Kill Process",copy:"Copy",copyAll:"Copy All",debug:"Debug"},"vs/code/node/cliProcessMain":{notFound:"Extension '{0}' not found.",notInstalled:"Extension '{0}' is not installed.",useId:"Make sure you use the full extension ID, including the publisher, e.g.: {0}",installingExtensions:"Installing extensions...","installation failed":"Failed Installing Extensions: {0}",successVsixInstall:"Extension '{0}' was successfully installed.",cancelVsixInstall:"Cancelled installing Extension '{0}'.",alreadyInstalled:"Extension '{0}' is already installed.",forceUpdate:"Extension '{0}' v{1} is already installed, but a newer version {2} is available in the marketplace. Use '--force' option to update to newer version.",updateMessage:"Updating the Extension '{0}' to the version {1}",forceDowngrade:"A newer version of extension '{0}' v{1} is already installed. Use '--force' option to downgrade to older version.",installing:"Installing extension '{0}' v{1}...",successInstall:"Extension '{0}' v{1} was successfully installed.",uninstalling:"Uninstalling {0}...",successUninstall:"Extension '{0}' was successfully uninstalled!"},"vs/code/electron-main/main":{secondInstanceAdmin:"A second instance of {0} is already running as administrator.",secondInstanceAdminDetail:"Please close the other instance and try again.",secondInstanceNoResponse:"Another instance of {0} is running but not responding",secondInstanceNoResponseDetail:"Please close all other instances and try again.",startupDataDirError:"Unable to write program user data.",startupUserDataAndExtensionsDirErrorDetail:"Please make sure the following directories are writeable:\n\n{0}",close:"&&Close"},"vs/code/electron-browser/issue/issueReporterMain":{hide:"hide",show:"show",previewOnGitHub:"Preview on GitHub",loadingData:"Loading data...",rateLimited:"GitHub query limit exceeded. Please wait.",similarIssues:"Similar issues",open:"Open",closed:"Closed",noSimilarIssues:"No similar issues found",settingsSearchIssue:"Settings Search Issue",bugReporter:"Bug Report",featureRequest:"Feature Request",performanceIssue:"Performance Issue",selectSource:"Select source",vscode:"Visual Studio Code",extension:"An Extension",unknown:"Don't Know",stepsToReproduce:"Steps to Reproduce",bugDescription:"Share the steps needed to reliably reproduce the problem. Please include actual and expected results. We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.",performanceIssueDesciption:"When did this performance issue happen? Does it occur on startup or after a specific series of actions? We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.",description:"Description",featureRequestDescription:"Please describe the feature you would like to see. We support GitHub-flavoured Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.",expectedResults:"Expected Results",settingsSearchResultsDescription:"Please list the results that you were expecting to see when you searched with this query. We support GitHub-flavored Markdown. You will be able to edit your issue and add screenshots when we preview it on GitHub.",pasteData:"We have written the needed data into your clipboard because it was too large to send. Please paste.",disabledExtensions:"Extensions are disabled"},"vs/code/electron-main/app":{"trace.message":"Successfully created trace.","trace.detail":"Please create an issue and manually attach the following file:\n{0}","trace.ok":"OK"},"vs/code/electron-browser/issue/issueReporterPage":{completeInEnglish:"Please complete the form in English.",issueTypeLabel:"This is a",issueSourceLabel:"File on",disableExtensionsLabelText:"Try to reproduce the problem after {0}. If the problem only reproduces when extensions are active, it is likely an issue with an extension.",disableExtensions:"disabling all extensions and reloading the window",chooseExtension:"Extension",extensionWithNonstandardBugsUrl:"The issue reporter is unable to create issues for this extension. Please visit {0} to report an issue.",extensionWithNoBugsUrl:"The issue reporter is unable to create issues for this extension, as it does not specify a URL for reporting issues. Please check the marketplace page of this extension to see if other instructions are available.",issueTitleLabel:"Title",issueTitleRequired:"Please enter a title.",titleLengthValidation:"The title is too long.",details:"Please enter details.",sendSystemInfo:"Include my system information ({0})",show:"show",sendProcessInfo:"Include my currently running processes ({0})",sendWorkspaceInfo:"Include my workspace metadata ({0})",sendExtensions:"Include my enabled extensions ({0})",sendSearchedExtensions:"Send searched extensions ({0})",sendSettingsSearchDetails:"Send settings search details ({0})"},"vs/code/electron-main/auth":{authRequire:"Proxy Authentication Required",proxyauth:"The proxy {0} requires authentication."},"vs/code/electron-main/window":{reopen:"&&Reopen",wait:"&&Keep Waiting",close:"&&Close",appStalled:"The window is no longer responding",appStalledDetail:"You can reopen or close the window or keep waiting.",appCrashed:"The window has crashed",appCrashedDetail:"We are sorry for the inconvenience! You can reopen the window to continue where you left off.",hiddenMenuBar:"You can still access the menu bar by pressing the Alt-key."},"vs/workbench/electron-browser/desktop.contribution":{view:"View",newTab:"New Window Tab",showPreviousTab:"Show Previous Window Tab",showNextWindowTab:"Show Next Window Tab",moveWindowTabToNewWindow:"Move Window Tab to New Window",mergeAllWindowTabs:"Merge All Windows",toggleWindowTabsBar:"Toggle Window Tabs Bar",developer:"Developer",preferences:"Preferences",miCloseWindow:"Clos&&e Window",miExit:"E&&xit",miZoomIn:"&&Zoom In",miZoomOut:"&&Zoom Out",miZoomReset:"&&Reset Zoom",miReportIssue:"Report &&Issue",miToggleDevTools:"&&Toggle Developer Tools",miOpenProcessExplorerer:"Open &&Process Explorer",windowConfigurationTitle:"Window","window.openWithoutArgumentsInNewWindow.on":"Open a new empty window.","window.openWithoutArgumentsInNewWindow.off":"Focus the last active running instance.",openWithoutArgumentsInNewWindow:"Controls whether a new empty window should open when starting a second instance without arguments or if the last running instance should get focus.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).","window.reopenFolders.all":"Reopen all windows.","window.reopenFolders.folders":"Reopen all folders. Empty workspaces will not be restored.","window.reopenFolders.one":"Reopen the last active window.","window.reopenFolders.none":"Never reopen a window. Always start with an empty one.",restoreWindows:"Controls how windows are being reopened after a restart.",restoreFullscreen:"Controls whether a window should restore to full screen mode if it was exited in full screen mode.",zoomLevel:"Adjust the zoom level of the window. The original size is 0 and each increment above (e.g. 1) or below (e.g. -1) represents zooming 20% larger or smaller. You can also enter decimals to adjust the zoom level with a finer granularity.","window.newWindowDimensions.default":"Open new windows in the center of the screen.","window.newWindowDimensions.inherit":"Open new windows with same dimension as last active one.","window.newWindowDimensions.offset":"Open new windows with same dimension as last active one with an offset position.","window.newWindowDimensions.maximized":"Open new windows maximized.","window.newWindowDimensions.fullscreen":"Open new windows in full screen mode.",newWindowDimensions:"Controls the dimensions of opening a new window when at least one window is already opened. Note that this setting does not have an impact on the first window that is opened. The first window will always restore the size and location as you left it before closing.",closeWhenEmpty:"Controls whether closing the last editor should also close the window. This setting only applies for windows that do not show folders.",autoDetectHighContrast:"If enabled, will automatically change to high contrast theme if Windows is using a high contrast theme, and to dark theme when switching away from a Windows high contrast theme.","window.doubleClickIconToClose":"If enabled, double clicking the application icon in the title bar will close the window and the window cannot be dragged by the icon. This setting only has an effect when `#window.titleBarStyle#` is set to `custom`.",titleBarStyle:"Adjust the appearance of the window title bar. On Linux and Windows, this setting also affects the application and context menu appearances. Changes require a full restart to apply.","window.nativeTabs":"Enables macOS Sierra window tabs. Note that changes require a full restart to apply and that native tabs will disable a custom title bar style if configured.","window.nativeFullScreen":"Controls if native full-screen should be used on macOS. Disable this option to prevent macOS from creating a new space when going full-screen.","window.clickThroughInactive":"If enabled, clicking on an inactive window will both activate the window and trigger the element under the mouse if it is clickable. If disabled, clicking anywhere on an inactive window will activate it only and a second click is required on the element.",telemetryConfigurationTitle:"Telemetry","telemetry.enableCrashReporting":"Enable crash reports to be sent to a Microsoft online service. \nThis option requires restart to take effect.","argv.locale":"The display Language to use. Picking a different language requires the associated language pack to be installed.","argv.disableHardwareAcceleration":"Disables hardware acceleration. ONLY change this option if you encounter graphic issues.","argv.disableColorCorrectRendering":"Resolves issues around colour profile selection. ONLY change this option if you encounter graphic issues.","argv.forceColorProfile":"Allows to override the color profile to use. If you experience colors appear badly, try to set this to `srgb` and restart.","argv.force-renderer-accessibility":"Forces the renderer to be accessible. ONLY change this if you are using a screen reader on Linux. On other platforms the renderer will automatically be accessible. This flag is automatically set if you have editor.accessibilitySupport: on."},"vs/workbench/browser/actions/textInputActions":{undo:"Undo",redo:"Redo",cut:"Cut",copy:"Copy",paste:"Paste",selectAll:"Select All"},"vs/workbench/browser/actions/workspaceCommands":{addFolderToWorkspace:"Add Folder to Workspace...",add:"&&Add",addFolderToWorkspaceTitle:"Add Folder to Workspace",workspaceFolderPickerPlaceholder:"Select workspace folder"},"vs/workbench/browser/actions/developerActions":{"inspect context keys":"Inspect Context Keys","toggle screencast mode":"Toggle Screencast Mode",logStorage:"Log Storage Database Contents",logWorkingCopies:"Log Working Copies",developer:"Developer",screencastModeConfigurationTitle:"Screencast Mode","screencastMode.location.verticalPosition":"Controls the vertical offset of the screencast mode overlay from the bottom as a percentage of the workbench height.","screencastMode.onlyKeyboardShortcuts":"Only show keyboard shortcuts in Screencast Mode."},"vs/workbench/browser/actions/navigationActions":{navigateLeft:"Navigate to the View on the Left",navigateRight:"Navigate to the View on the Right",navigateUp:"Navigate to the View Above",navigateDown:"Navigate to the View Below",view:"View"},"vs/workbench/browser/actions/quickAccessActions":{quickOpen:"Go to File...",quickNavigateNext:"Navigate Next in Quick Open",quickNavigatePrevious:"Navigate Previous in Quick Open",quickSelectNext:"Select Next in Quick Open",quickSelectPrevious:"Select Previous in Quick Open"},"vs/workbench/api/common/configurationExtensionPoint":{"vscode.extension.contributes.configuration.title":"A summary of the settings. This label will be used in the settings file as separating comment.","vscode.extension.contributes.configuration.properties":"Description of the configuration properties.","scope.application.description":"Configuration that can be configured only in the user settings.","scope.machine.description":"Configuration that can be configured only in the user settings or only in the remote settings.","scope.window.description":"Configuration that can be configured in the user, remote or workspace settings.","scope.resource.description":"Configuration that can be configured in the user, remote, workspace or folder settings.","scope.language-overridable.description":"Resource configuration that can be configured in language specific settings.","scope.machine-overridable.description":"Machine configuration that can be configured also in workspace or folder settings.","scope.description":"Scope in which the configuration is applicable. Available scopes are `application`, `machine`, `window`, `resource`, and `machine-overridable`.","scope.enumDescriptions":"Descriptions for enum values","scope.markdownEnumDescriptions":"Descriptions for enum values in the markdown format.","scope.markdownDescription":"The description in the markdown format.","scope.deprecationMessage":"If set, the property is marked as deprecated and the given message is shown as an explanation.","vscode.extension.contributes.defaultConfiguration":"Contributes default editor configuration settings by language.","vscode.extension.contributes.configuration":"Contributes configuration settings.","invalid.title":"'configuration.title' must be a string","invalid.properties":"'configuration.properties' must be an object","invalid.property":"'configuration.property' must be an object","invalid.allOf":"'configuration.allOf' is deprecated and should no longer be used. Instead, pass multiple configuration sections as an array to the 'configuration' contribution point.","workspaceConfig.folders.description":"List of folders to be loaded in the workspace.","workspaceConfig.path.description":"A file path. e.g. `/root/folderA` or `./folderA` for a relative path that will be resolved against the location of the workspace file.","workspaceConfig.name.description":"An optional name for the folder. ","workspaceConfig.uri.description":"URI of the folder","workspaceConfig.settings.description":"Workspace settings","workspaceConfig.launch.description":"Workspace launch configurations","workspaceConfig.tasks.description":"Workspace task configurations","workspaceConfig.extensions.description":"Workspace extensions","workspaceConfig.remoteAuthority":"The remote server where the workspace is located. Only used by unsaved remote workspaces.",unknownWorkspaceProperty:"Unknown workspace configuration property"},"vs/workbench/browser/parts/sidebar/sidebarPart":{focusSideBar:"Focus into Side Bar",viewCategory:"View"},"vs/workbench/electron-browser/actions/developerActions":{toggleDevTools:"Toggle Developer Tools",toggleSharedProcess:"Toggle Shared Process",configureRuntimeArguments:"Configure Runtime Arguments"},"vs/workbench/browser/actions/helpActions":{keybindingsReference:"Keyboard Shortcuts Reference",openDocumentationUrl:"Documentation",openIntroductoryVideosUrl:"Introductory Videos",openTipsAndTricksUrl:"Tips and Tricks",newsletterSignup:"Sign up for the VS Code Newsletter",openTwitterUrl:"Join Us on Twitter",openUserVoiceUrl:"Search Feature Requests",openLicenseUrl:"View Licence",openPrivacyStatement:"Privacy Statement",help:"Help",miDocumentation:"&&Documentation",miKeyboardShortcuts:"&&Keyboard Shortcuts Reference",miIntroductoryVideos:"Introductory &&Videos",miTipsAndTricks:"Tips and Tri&&cks",miTwitter:"&&Join Us on Twitter",miUserVoice:"&&Search Feature Requests",miLicense:"View &&License",miPrivacyStatement:"Privac&&y Statement"},"vs/workbench/api/browser/viewsExtensionPoint":{"vscode.extension.contributes.views.containers.id":"Unique id used to identify the container in which views can be contributed using 'views' contribution point","vscode.extension.contributes.views.containers.title":"Human readable string used to render the container","vscode.extension.contributes.views.containers.icon":"Path to the container icon. Icons are 24x24 centred on a 50x40 block and have a fill colour of 'rgb(215, 218, 224)' or '#d7dae0'. It is recommended that icons be in SVG, though any image file type is accepted.","vscode.extension.contributes.viewsContainers":"Contributes views containers to the editor","views.container.activitybar":"Contribute views containers to Activity Bar","views.container.panel":"Contribute views containers to Panel","vscode.extension.contributes.view.id":"Identifier of the view. This should be unique across all views. It is recommended to include your extension id as part of the view id. Use this to register a data provider through `vscode.window.registerTreeDataProviderForView` API. Also to trigger activating your extension by registering `onView:${id}` event to `activationEvents`.","vscode.extension.contributes.view.name":"The human-readable name of the view. Will be shown","vscode.extension.contributes.view.when":"Condition which must be true to show this view","vscode.extension.contributes.view.group":"Nested group in the viewlet","vscode.extension.contributes.view.remoteName":"The name of the remote type associated with this view","vscode.extension.contributes.views":"Contributes views to the editor","views.explorer":"Contributes views to Explorer container in the Activity bar","views.debug":"Contributes views to Debug container in the Activity bar","views.scm":"Contributes views to SCM container in the Activity bar","views.test":"Contributes views to Test container in the Activity bar","views.remote":"Contributes views to Remote container in the Activity bar. To contribute to this container, enableProposedApi needs to be turned on","views.contributed":"Contributes views to contributed views container",test:"Test","viewcontainer requirearray":"views containers must be an array",requireidstring:"property `{0}` is mandatory and must be of type `string`. Only alphanumeric characters, '_', and '-' are allowed.",requirestring:"property `{0}` is mandatory and must be of type `string`",showViewlet:"Show {0}",view:"View",ViewContainerRequiresProposedAPI:"View container '{0}' requires 'enableProposedApi' turned on to be added to 'Remote'.",ViewContainerDoesnotExist:"View container '{0}' does not exist and all views registered to it will be added to 'Explorer'.",duplicateView1:"Cannot register multiple views with same id `{0}`",duplicateView2:"A view with id `{0}` is already registered.",requirearray:"views must be an array",optstring:"property `{0}` can be omitted or must be of type `string`"},"vs/workbench/browser/actions/workspaceActions":{openFile:"Open File...",openFolder:"Open folder...",openFileFolder:"Open...",openWorkspaceAction:"Open Workspace...",closeWorkspace:"Close Workspace",noWorkspaceOpened:"There is currently no workspace opened in this instance to close.",openWorkspaceConfigFile:"Open Workspace Configuration File",globalRemoveFolderFromWorkspace:"Remove Folder from Workspace...",saveWorkspaceAsAction:"Save Workspace As...",duplicateWorkspaceInNewWindow:"Duplicate Workspace in New Window",workspaces:"Workspaces",miAddFolderToWorkspace:"A&&dd Folder to Workspace...",miSaveWorkspaceAs:"Save Workspace As...",miCloseFolder:"Close &&Folder",miCloseWorkspace:"Close &&Workspace"},"vs/workbench/browser/actions/windowActions":{remove:"Remove from Recently Opened",dirtyRecentlyOpened:"Workspace With Dirty Files",workspaces:"Workspaces",files:"files",dirtyWorkspace:"Workspace with Dirty Files",dirtyWorkspaceConfirm:"Do you want to open the workspace to review the dirty files?",dirtyWorkspaceConfirmDetail:"Workspaces with dirty files cannot be removed until all dirty files have been saved or reverted.",recentDirtyAriaLabel:"{0}, dirty workspace",openRecent:"Open Recent...",quickOpenRecent:"Quick Open Recent...",toggleFullScreen:"Toggle Full Screen",reloadWindow:"Reload Window",about:"About",newWindow:"New Window",file:"File",view:"View",developer:"Developer",help:"Help",miNewWindow:"New &&Window",miOpenRecent:"Open &&Recent",miMore:"&&More...",miToggleFullScreen:"&&Full Screen",miAbout:"&&About"},"vs/workbench/api/common/menusExtensionPoint":{requirearray:"menu items must be an array",requirestring:"property `{0}` is mandatory and must be of type `string`",optstring:"property `{0}` can be omitted or must be of type `string`","vscode.extension.contributes.menuItem.command":"Identifier of the command to execute. The command must be declared in the 'commands'-section","vscode.extension.contributes.menuItem.alt":"Identifier of an alternative command to execute. The command must be declared in the 'commands'-section","vscode.extension.contributes.menuItem.when":"Condition which must be true to show this item","vscode.extension.contributes.menuItem.group":"Group into which this command belongs","vscode.extension.contributes.menus":"Contributes menu items to the editor","menus.commandPalette":"The Command Palette","menus.touchBar":"The touch bar (macOS only)","menus.editorTitle":"The editor title menu","menus.editorContext":"The editor context menu","menus.explorerContext":"The file explorer context menu","menus.editorTabContext":"The editor tabs context menu","menus.debugCallstackContext":"The debug callstack context menu","menus.webNavigation":"The top level navigational menu (web only)","menus.scmTitle":"The Source Control title menu","menus.scmSourceControl":"The Source Control menu","menus.resourceGroupContext":"The Source Control resource group context menu","menus.resourceStateContext":"The Source Control resource state context menu","menus.resourceFolderContext":"The Source Control resource folder context menu","menus.changeTitle":"The Source Control inline change menu","view.viewTitle":"The contributed view title menu","view.itemContext":"The contributed view item context menu","commentThread.title":"The contributed comment thread title menu","commentThread.actions":"The contributed comment thread context menu, rendered as buttons below the comment editor","comment.title":"The contributed comment title menu","comment.actions":"The contributed comment context menu, rendered as buttons below the comment editor","notebook.cell.title":"The contributed notebook cell title menu","menus.extensionContext":"The extension context menu","view.timelineTitle":"The Timeline view title menu","view.timelineContext":"The Timeline view item context menu",nonempty:"expected non-empty value.",opticon:"property `icon` can be omitted or must be either a string or a literal like `{dark, light}`",requireStringOrObject:"property `{0}` is mandatory and must be of type `string` or `object`",requirestrings:"properties `{0}` and `{1}` are mandatory and must be of type `string`","vscode.extension.contributes.commandType.command":"Identifier of the command to execute","vscode.extension.contributes.commandType.title":"Title by which the command is represented in the UI","vscode.extension.contributes.commandType.category":"(Optional) Category string by the command is grouped in the UI","vscode.extension.contributes.commandType.precondition":"(Optional) Condition which must be true to enable the command","vscode.extension.contributes.commandType.icon":"(Optional) Icon which is used to represent the command in the UI. Either a file path, an object with file paths for dark and light themes, or a theme icon references, like `$(zap)`","vscode.extension.contributes.commandType.icon.light":"Icon path when a light theme is used","vscode.extension.contributes.commandType.icon.dark":"Icon path when a dark theme is used","vscode.extension.contributes.commands":"Contributes commands to the command palette.",dup:"Command `{0}` appears multiple times in the `commands` section.","menuId.invalid":"`{0}` is not a valid menu identifier","proposedAPI.invalid":"{0} is a proposed menu identifier and is only available when running out of dev or with the following command line switch: --enable-proposed-api {1}","missing.command":"Menu item references a command `{0}` which is not defined in the 'commands' section.","missing.altCommand":"Menu item references an alt-command `{0}` which is not defined in the 'commands' section.","dupe.command":"Menu item references the same command as default and alt-command"},"vs/workbench/electron-browser/actions/windowActions":{closeWindow:"Close Window",zoomIn:"Zoom In",zoomOut:"Zoom Out",zoomReset:"Reset Zoom",reloadWindowWithExtensionsDisabled:"Reload With Extensions Disabled",close:"Close Window",switchWindowPlaceHolder:"Select a window to switch to",windowDirtyAriaLabel:"{0}, dirty window",current:"Current Window",switchWindow:"Switch Window...",quickSwitchWindow:"Quick Switch Window..."},"vs/workbench/browser/workbench.contribution":{"workbench.editor.titleScrollbarSizing.default":"The default size.","workbench.editor.titleScrollbarSizing.large":"Increases the size, so it can be grabed more easily with the mouse",tabScrollbarHeight:"Controls the height of the scrollbars used for tabs and breadcrumbs in the editor title area.",showEditorTabs:"Controls whether opened editors should show in tabs or not.",highlightModifiedTabs:"Controls whether a top border is drawn on modified (dirty) editor tabs or not.","workbench.editor.labelFormat.default":"Show the name of the file. When tabs are enabled and two files have the same name in one group the distinguishing sections of each file's path are added. When tabs are disabled, the path relative to the workspace folder is shown if the editor is active.","workbench.editor.labelFormat.short":"Show the name of the file followed by its directory name.","workbench.editor.labelFormat.medium":"Show the name of the file followed by its path relative to the workspace folder.","workbench.editor.labelFormat.long":"Show the name of the file followed by its absolute path.",tabDescription:"Controls the format of the label for an editor.","workbench.editor.untitled.labelFormat.content":"The name of the untitled file is derived from the contents of its first line unless it has an associated file path. It will fallback to the name in case the line is empty or contains no word characters.","workbench.editor.untitled.labelFormat.name":"The name of the untitled file is not derived from the contents of the file.",untitledLabelFormat:"Controls the format of the label for an untitled editor.",editorTabCloseButton:"Controls the position of the editor's tabs close buttons, or disables them when set to 'off'.","workbench.editor.tabSizing.fit":"Always keep tabs large enough to show the full editor label.","workbench.editor.tabSizing.shrink":"Allow tabs to get smaller when the available space is not enough to show all tabs at once.",tabSizing:"Controls the sizing of editor tabs.","workbench.editor.splitSizingDistribute":"Splits all the editor groups to equal parts.","workbench.editor.splitSizingSplit":"Splits the active editor group to equal parts.",splitSizing:"Controls the sizing of editor groups when splitting them.",focusRecentEditorAfterClose:"Controls whether tabs are closed in most recently used order or from left to right.",showIcons:"Controls whether opened editors should show with an icon or not. This requires an icon theme to be enabled as well.",enablePreview:"Controls whether opened editors show as preview. Preview editors are reused until they are pinned (e.g. via double click or editing) and show up with an italic font style.",enablePreviewFromQuickOpen:"Controls whether editors opened from Quick Open show as preview. Preview editors are reused until they are pinned (e.g. via double click or editing).",closeOnFileDelete:"Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open on such an event. Note that deleting from within the application will always close the editor and that dirty files will never close to preserve your data.",editorOpenPositioning:"Controls where editors open. Select `left` or `right` to open editors to the left or right of the currently active one. Select `first` or `last` to open editors independently from the currently active one.",sideBySideDirection:"Controls the default direction of editors that are opened side by side (e.g. from the explorer). By default, editors will open on the right hand side of the currently active one. If changed to `down`, the editors will open below the currently active one.",closeEmptyGroups:"Controls the behaviour of empty editor groups when the last tab in the group is closed. When enabled, empty groups will automatically close. When disabled, empty groups will remain part of the grid.",revealIfOpen:"Controls whether an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an existing editor will be displayed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored (e.g. when forcing an editor to open in a specific group or to the side of the currently active group).",mouseBackForwardToNavigate:"Navigate between open files using mouse buttons four and five if provided.",restoreViewState:"Restores the last view state (e.g. scroll position) when re-opening files after they have been closed.",centeredLayoutAutoResize:"Controls if the centred layout should automatically resize to maximum width when more than one group is open. Once only one group is open it will resize back to the original centred width.",limitEditorsEnablement:"Controls if the number of opened editors should be limited or not. When enabled, less recently used editors that are not dirty will close to make space for newly opening editors.",limitEditorsMaximum:"Controls the maximum number of opened editors. Use the `#workbench.editor.limit.perEditorGroup#` setting to control this limit per editor group or across all groups.",perEditorGroup:"Controls if the limit of maximum opened editors should apply per editor group or across all editor groups.",commandHistory:"Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history.",preserveInput:"Controls whether the last typed input to the command palette should be restored when opening it the next time.",closeOnFocusLost:"Controls whether Quick Open should close automatically once it loses focus.","workbench.quickOpen.preserveInput":"Controls whether the last typed input to Quick Open should be restored when opening it the next time.",openDefaultSettings:"Controls whether opening settings also opens an editor showing all default settings.",useSplitJSON:"Controls whether to use the split JSON editor when editing settings as JSON.",openDefaultKeybindings:"Controls whether opening keybinding settings also opens an editor showing all default keybindings.",sideBarLocation:"Controls the location of the sidebar and activity bar. They can either show on the left or right of the workbench.",panelDefaultLocation:"Controls the default location of the panel (terminal, debug console, output, problems). It can either show at the bottom, right, or left of the workbench.",statusBarVisibility:"Controls the visibility of the status bar at the bottom of the workbench.",activityBarVisibility:"Controls the visibility of the activity bar in the workbench.",viewVisibility:"Controls the visibility of view header actions. View header actions may either be always visible, or only visible when that view is focused or hovered over.",fontAliasing:"Controls font aliasing method in the workbench.","workbench.fontAliasing.default":"Sub-pixel font smoothing. On most non-retina displays this will give the sharpest text.","workbench.fontAliasing.antialiased":"Smooth the font on the level of the pixel, as opposed to the subpixel. Can make the font appear lighter overall.","workbench.fontAliasing.none":"Disables font smoothing. Text will show with jagged sharp edges.","workbench.fontAliasing.auto":"Applies `default` or `antialiased` automatically based on the DPI of displays.","settings.editor.ui":"Use the settings UI editor.","settings.editor.json":"Use the JSON file editor.","settings.editor.desc":"Determines which settings editor to use by default.",windowTitle:"Controls the window title based on the active editor. Variables are substituted based on the context:",activeEditorShort:"`${activeEditorShort}`: the file name (e.g. myFile.txt).",activeEditorMedium:"`${activeEditorMedium}`: the path of the file relative to the workspace folder (e.g. myFolder/myFileFolder/myFile.txt).",activeEditorLong:"`${activeEditorLong}`: the full path of the file (e.g. /Users/Development/myFolder/myFileFolder/myFile.txt).",activeFolderShort:"`${activeFolderShort}`: the name of the folder the file is contained in (e.g. myFileFolder).",activeFolderMedium:"`${activeFolderMedium}`: the path of the folder the file is contained in, relative to the workspace folder (e.g. myFolder/myFileFolder).",activeFolderLong:"`${activeFolderLong}`: the full path of the folder the file is contained in (e.g. /Users/Development/myFolder/myFileFolder).",folderName:"`${folderName}`: name of the workspace folder the file is contained in (e.g. myFolder).",folderPath:"`${folderPath}`: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder).",rootName:"`${rootName}`: name of the workspace (e.g. myFolder or myWorkspace).",rootPath:"`${rootPath}`: file path of the workspace (e.g. /Users/Development/myWorkspace).",appName:"`${appName}`: e.g. VS Code.",remoteName:"`${remoteName}`: e.g. SSH",dirty:"`${dirty}`: a dirty indicator if the active editor is dirty.",separator:'`${separator}`: a conditional separator (" - ") that only shows when surrounded by variables with values or static text.',windowConfigurationTitle:"Window","window.menuBarVisibility.default":"Menu is only hidden in full screen mode.","window.menuBarVisibility.visible":"Menu is always visible even in full screen mode.","window.menuBarVisibility.toggle":"Menu is hidden but can be displayed via Alt key.","window.menuBarVisibility.hidden":"Menu is always hidden.","window.menuBarVisibility.compact":"Menu is displayed as a compact button in the sidebar. This value is ignored when 'window.titleBarStyle' is 'native'.",menuBarVisibility:"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. By default, the menu bar will be visible, unless the window is full screen.",enableMenuBarMnemonics:"Controls whether the main menus can be opened via Alt-key shortcuts. Disabling mnemonics allows to bind these Alt-key shortcuts to editor commands instead.",customMenuBarAltFocus:"Controls whether the menu bar will be focused by pressing the Alt-key. This setting has no effect on toggling the menu bar with the Alt-key.","window.openFilesInNewWindow.on":"Files will open in a new window.","window.openFilesInNewWindow.off":"Files will open in the window with the files' folder open or the last active window.","window.openFilesInNewWindow.defaultMac":"Files will open in the window with the files' folder open or the last active window unless opened via the Dock or from Finder.","window.openFilesInNewWindow.default":"Files will open in a new window unless picked from within the application (e.g. via the File menu).",openFilesInNewWindowMac:"Controls whether files should open in a new window. \nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).",openFilesInNewWindow:"Controls whether files should open in a new window.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).","window.openFoldersInNewWindow.on":"Folders will open in a new window.","window.openFoldersInNewWindow.off":"Folders will replace the last active window.","window.openFoldersInNewWindow.default":"Folders will open in a new window unless a folder is picked from within the application (e.g. via the File menu).",openFoldersInNewWindow:"Controls whether folders should open in a new window or replace the last active window.\nNote that there can still be cases where this setting is ignored (e.g. when using the `--new-window` or `--reuse-window` command line option).",zenModeConfigurationTitle:"Zen Mode","zenMode.fullScreen":"Controls whether turning on Zen Mode also puts the workbench into full screen mode.","zenMode.centerLayout":"Controls whether turning on Zen Mode also centres the layout.","zenMode.hideTabs":"Controls whether turning on Zen Mode also hides workbench tabs.","zenMode.hideStatusBar":"Controls whether turning on Zen Mode also hides the status bar at the bottom of the workbench.","zenMode.hideActivityBar":"Controls whether turning on Zen Mode also hides the activity bar at the left of the workbench.","zenMode.hideLineNumbers":"Controls whether turning on Zen Mode also hides the editor line numbers.","zenMode.restore":"Controls whether a window should restore to zen mode if it was exited in zen mode.","zenMode.silentNotifications":"Controls whether notifications are shown while in zen mode. If true, only error notifications will pop out."},"vs/workbench/browser/parts/titlebar/titlebarPart":{patchedWindowTitle:"[Unsupported]",userIsAdmin:"[Administrator]",userIsSudo:"[Superuser]",devExtensionWindowTitlePrefix:"[Extension Development Host]"},"vs/workbench/browser/workbench":{loaderErrorNative:"Failed to load a required file. Please restart the application to try again. Details: {0}"},"vs/workbench/common/editor":{sideBySideLabels:"{0} - {1}"},"vs/workbench/api/common/jsonValidationExtensionPoint":{"contributes.jsonValidation":"Contributes json schema configuration.","contributes.jsonValidation.fileMatch":'The file pattern (or an array of patterns) to match, for example "package.json" or "*.launch". Exclusion patterns start with \'!\'',"contributes.jsonValidation.url":"A schema URL ('http:', 'https:') or relative path to the extension folder ('./').","invalid.jsonValidation":"'configuration.jsonValidation' must be a array","invalid.fileMatch":"'configuration.jsonValidation.fileMatch' must be defined as a string or an array of strings.","invalid.url":"'configuration.jsonValidation.url' must be a URL or relative path","invalid.path.1":"Expected `contributes. {0}.url` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.","invalid.url.fileschema":"'configuration.jsonValidation.url' is an invalid relative URL: {0}","invalid.url.schema":"'configuration.jsonValidation.url' must be an absolute URL or start with './'  to reference schemas located in the extension."},"vs/workbench/api/browser/mainThreadMessageService":{extensionSource:"{0} (Extension)",defaultSource:"Extension",manageExtension:"Manage Extension",cancel:"Cancel",ok:"OK"},"vs/workbench/api/browser/mainThreadFileSystemEventService":{"files.participants.timeout":"Timeout in milliseconds after which file participants for create, rename, and delete are cancelled. Use `0` to disable participants."},"vs/workbench/api/browser/mainThreadProgress":{manageExtension:"Manage Extension"},"vs/workbench/api/browser/mainThreadSaveParticipant":{"timeout.onWillSave":"Aborted onWillSaveTextDocument-event after 1750ms"},"vs/workbench/browser/actions/layoutActions":{view:"View",closeSidebar:"Close Side Bar",toggleActivityBar:"Toggle Activity Bar Visibility",miShowActivityBar:"Show &&Activity Bar",toggleCenteredLayout:"Toggle Centered Layout",miToggleCenteredLayout:"Centered Layout",flipLayout:"Toggle Vertical/Horizontal Editor Layout",miToggleEditorLayout:"Flip &&Layout",toggleSidebarPosition:"Toggle Side Bar Position",moveSidebarRight:"Move Side Bar Right",moveSidebarLeft:"Move Side Bar Left",miMoveSidebarRight:"&&Move Side Bar Right",miMoveSidebarLeft:"&&Move Side Bar Left",toggleEditor:"Toggle Editor Area Visibility",miShowEditorArea:"Show &&Editor Area",toggleSidebar:"Toggle Side Bar Visibility",miAppearance:"&&Appearance",miShowSidebar:"Show &&Side Bar",toggleStatusbar:"Toggle Status Bar Visibility",miShowStatusbar:"Show S&&tatus Bar",toggleTabs:"Toggle Tab Visibility",toggleZenMode:"Toggle Zen Mode",miToggleZenMode:"Zen Mode",toggleMenuBar:"Toggle Menu Bar",miShowMenuBar:"Show Menu &&Bar",resetViewLocations:"Reset View Locations",moveFocusedView:"Move Focused View","moveFocusedView.error.noFocusedView":"There is no view currently focused.","moveFocusedView.error.nonMovableView":"The currently focused view is not movable.","moveFocusedView.selectDestination":"Select a Destination for the View",sidebar:"Side Bar","moveFocusedView.newContainerInSidebar":"New Container in Side Bar",panel:"Panel","moveFocusedView.newContainerInPanel":"New Container in Panel",resetFocusedViewLocation:"Reset Focused View Location","resetFocusedView.error.noFocusedView":"There is no view currently focused.",increaseViewSize:"Increase Current View Size",decreaseViewSize:"Decrease Current View Size"},"vs/workbench/browser/parts/panel/panelPart":{hidePanel:"Hide Panel"},"vs/workbench/browser/parts/activitybar/activitybarPart":{hideMenu:"Hide Menu",showMenu:"Show Menu",hideActivitBar:"Hide Activity Bar",manage:"Manage",accounts:"Accounts"},"vs/workbench/browser/parts/statusbar/statusbarPart":{hide:"Hide '{0}'",hideStatusBar:"Hide Status Bar"},"vs/workbench/common/configuration":{workbenchConfigurationTitle:"Workbench"},"vs/workbench/common/theme":{tabActiveBackground:"Active tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabUnfocusedActiveBackground:"Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabInactiveBackground:"Inactive tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabHoverBackground:"Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabUnfocusedHoverBackground:"Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabBorder:"Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveBorder:"Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveUnfocusedBorder:"Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveBorderTop:"Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveUnfocusedBorderTop:"Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveModifiedBorder:"Border on the top of modified (dirty) active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabInactiveModifiedBorder:"Border on the top of modified (dirty) inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",unfocusedActiveModifiedBorder:"Border on the top of modified (dirty) active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",unfocusedINactiveModifiedBorder:"Border on the top of modified (dirty) inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabHoverBorder:"Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabUnfocusedHoverBorder:"Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabActiveForeground:"Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabInactiveForeground:"Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabUnfocusedActiveForeground:"Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",tabUnfocusedInactiveForeground:"Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.",editorPaneBackground:"Background colour of the editor pane visible on the left and right side of the centred editor layout.",editorGroupBackground:"Deprecated background colour of an editor group.",deprecatedEditorGroupBackground:"Deprecated: Background colour of an editor group is no longer being supported with the introduction of the grid editor layout. You can use editorGroup.emptyBackground to set the background colour of empty editor groups.",editorGroupEmptyBackground:"Background colour of an empty editor group. Editor groups are the containers of editors.",editorGroupFocusedEmptyBorder:"Border colour of an empty editor group that is focused. Editor groups are the containers of editors.",tabsContainerBackground:"Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.",tabsContainerBorder:"Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.",editorGroupHeaderBackground:'Background colour of the editor group title header when tabs are disabled (`"workbench.editor.showTabs": false`). Editor groups are the containers of editors.',editorGroupBorder:"Color to separate multiple editor groups from each other. Editor groups are the containers of editors.",editorDragAndDropBackground:"Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.",imagePreviewBorder:"Border color for image in image preview.",panelBackground:"Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.",panelBorder:"Panel border colour to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.",panelActiveTitleForeground:"Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.",panelInactiveTitleForeground:"Title colour for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.",panelActiveTitleBorder:"Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.",panelDragAndDropBackground:"Drag and drop feedback color for the panel title items. The color should have transparency so that the panel entries can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal.",panelInputBorder:"Input box border for inputs in the panel.",statusBarForeground:"Status bar foreground color when a workspace is opened. The status bar is shown in the bottom of the window.",statusBarNoFolderForeground:"Status bar foreground colour when no folder is opened. The status bar is shown in the bottom of the window.",statusBarBackground:"Status bar background color when a workspace is opened. The status bar is shown in the bottom of the window.",statusBarNoFolderBackground:"Status bar background colour when no folder is opened. The status bar is shown in the bottom of the window.",statusBarBorder:"Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.",statusBarNoFolderBorder:"Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.",statusBarItemActiveBackground:"Status bar item background color when clicking. The status bar is shown in the bottom of the window.",statusBarItemHoverBackground:"Status bar item background color when hovering. The status bar is shown in the bottom of the window.",statusBarProminentItemForeground:"Status bar prominent items foreground color. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.",statusBarProminentItemBackground:"Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.",statusBarProminentItemHoverBackground:"Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. Change mode `Toggle Tab Key Moves Focus` from command palette to see an example. The status bar is shown in the bottom of the window.",activityBarBackground:"Activity bar background colour. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarForeground:"Activity bar item foreground colour when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarInActiveForeground:"Activity bar item foreground colour when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarBorder:"Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarActiveBorder:"Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarActiveFocusBorder:"Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarActiveBackground:"Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarDragAndDropBackground:"Drag and drop feedback colour for the activity bar items. The colour should have transparency so that the activity bar entries can still shine through. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarBadgeBackground:"Activity notification badge background colour. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",activityBarBadgeForeground:"Activity notification badge foreground colour. The activity bar is showing on the far left or right and allows to switch between views of the side bar.",statusBarItemHostBackground:"Background color for the remote indicator on the status bar.",statusBarItemHostForeground:"Foreground color for the remote indicator on the status bar.","extensionBadge.remoteBackground":"Background colour for the remote badge in the extensions view.","extensionBadge.remoteForeground":"Foreground color for the remote badge in the extensions view.",sideBarBackground:"Side bar background color. The side bar is the container for views like explorer and search.",sideBarForeground:"Side bar foreground colour. The side bar is the container for views like explorer and search.",sideBarBorder:"Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search.",sideBarTitleForeground:"Side bar title foreground color. The side bar is the container for views like explorer and search.",sideBarDragAndDropBackground:"Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search.",sideBarSectionHeaderBackground:"Side bar section header background color. The side bar is the container for views like explorer and search.",sideBarSectionHeaderForeground:"Side bar section header foreground colour. The side bar is the container for views like explorer and search.",sideBarSectionHeaderBorder:"Side bar section header border colour. The side bar is the container for views like explorer and search.",titleBarActiveForeground:"Title bar foreground when the window is active. Note that this color is currently only supported on macOS.",titleBarInactiveForeground:"Title bar foreground when the window is inactive. Note that this colour is currently only supported on macOS.",titleBarActiveBackground:"Title bar background when the window is active. Note that this color is currently only supported on macOS.",titleBarInactiveBackground:"Title bar background when the window is inactive. Note that this color is currently only supported on macOS.",titleBarBorder:"Title bar border color. Note that this color is currently only supported on macOS.",menubarSelectionForeground:"Foreground colour of the selected menu item in the menubar.",menubarSelectionBackground:"Background colour of the selected menu item in the menubar.",menubarSelectionBorder:"Border colour of the selected menu item in the menubar.",notificationCenterBorder:"Notifications centre border colour. Notifications slide in from the bottom right of the window.",notificationToastBorder:"Notification toast border color. Notifications slide in from the bottom right of the window.",notificationsForeground:"Notifications foreground colour. Notifications slide in from the bottom right of the window.",notificationsBackground:"Notifications background color. Notifications slide in from the bottom right of the window.",notificationsLink:"Notification links foreground color. Notifications slide in from the bottom right of the window.",notificationCenterHeaderForeground:"Notifications center header foreground color. Notifications slide in from the bottom right of the window.",notificationCenterHeaderBackground:"Notifications center header background color. Notifications slide in from the bottom right of the window.",notificationsBorder:"Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window.",notificationsErrorIconForeground:"The color used for the icon of error notifications. Notifications slide in from the bottom right of the window.",notificationsWarningIconForeground:"The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window.",notificationsInfoIconForeground:"The color used for the icon of info notifications. Notifications slide in from the bottom right of the window.",windowActiveBorder:"The color used for the border of the window when it is active. Only supported in the desktop client when using the custom title bar.",windowInactiveBorder:"The color used for the border of the window when it is inactive. Only supported in the desktop client when using the custom title bar."},"vs/workbench/api/node/extHostDebugService":{"debug.terminal.title":"debuggee"},"vs/workbench/api/browser/mainThreadEditors":{diffLeftRightLabel:"{0} ⟷ {1}"},"vs/workbench/api/browser/mainThreadExtensionService":{"reload window":"Cannot activate the '{0}' extension because it depends on the '{1}' extension, which is not loaded. Would you like to reload the window to load the extension?",reload:"Reload Window",disabledDep:"Cannot activate the '{0}' extension because it depends on the '{1}' extension, which is disabled. Would you like to enable the extension and reload the window?","enable dep":"Enable and Reload",uninstalledDep:"Cannot activate the '{0}' extension because it depends on the '{1}' extension, which is not installed. Would you like to install the extension and reload the window?","install missing dep":"Install and Reload",unknownDep:"Cannot activate the '{0}' extension because it depends on an unknown '{1}' extension ."},"vs/workbench/api/browser/mainThreadWorkspace":{folderStatusMessageAddSingleFolder:"Extension '{0}' added 1 folder to the workspace",folderStatusMessageAddMultipleFolders:"Extension '{0}' added {1} folders to the workspace",folderStatusMessageRemoveSingleFolder:"Extension '{0}' removed 1 folder from the workspace",folderStatusMessageRemoveMultipleFolders:"Extension '{0}' removed {1} folders from the workspace",folderStatusChangeFolder:"Extension '{0}' changed folders of the workspace"},"vs/workbench/browser/parts/views/views":{"focus view":"Focus on {0} View","view category":"View",resetViewLocation:"Reset View Location"},"vs/workbench/api/browser/mainThreadAuthentication":{manageTrustedExtensions:"Manage Trusted Extensions",manageExensions:"Choose which extensions can access this account",addAnotherAccount:"Sign in to another {0} account",addAccount:"Sign in to {0}",signOut:"Sign Out",confirmAuthenticationAccess:"The extension '{0}' is trying to access authentication information for the {1} account '{2}'.",cancel:"Cancel",allow:"Allow",confirmLogin:"The extension '{0}' wants to sign in using {1}."},"vs/workbench/common/views":{duplicateId:"A view with id '{0}' is already registered"},"vs/workbench/common/editor/diffEditorInput":{sideBySideLabels:"{0} ↔ {1}"},"vs/workbench/electron-browser/window":{runningAsRoot:"It is not recommended to run {0} as root user.",mPreferences:"Preferences"},"vs/workbench/browser/viewlet":{"compositePart.hideSideBarLabel":"Hide Side Bar",collapse:"Collapse All"},"vs/workbench/api/browser/mainThreadTask":{"task.label":"{0}: {1}"},"vs/workbench/browser/parts/compositePart":{ariaCompositeToolbarLabel:"{0} actions",titleTooltip:"{0} ({1})"},"vs/workbench/browser/parts/editor/editorWidgets":{openWorkspace:"Open Workspace"},"vs/workbench/browser/parts/editor/textResourceEditor":{textEditor:"Text Editor",readonlyEditorWithInputAriaLabel:"{0} readonly editor",readonlyEditorAriaLabel:"Readonly editor",writeableEditorWithInputAriaLabel:"{0} editor",writeableEditorAriaLabel:"Editor"},"vs/workbench/browser/parts/notifications/notificationsAlerts":{alertErrorMessage:"Error: {0}",alertWarningMessage:"Warning: {0}",alertInfoMessage:"Info: {0}"},"vs/workbench/api/common/extHostWorkspace":{updateerror:"Extension '{0}' failed to update workspace folders: {1}"},"vs/workbench/api/browser/mainThreadWebview":{errorMessage:"An error occurred while restoring view:{0}",defaultEditLabel:"Edit"},"vs/workbench/browser/parts/notifications/notificationsStatus":{"status.notifications":"Notifications",hideNotifications:"Hide Notifications",zeroNotifications:"No Notifications",noNotifications:"No New Notifications",oneNotification:"1 New Notification",notifications:"{0} New Notifications",noNotificationsWithProgress:"No New Notifications ({0} in progress)",oneNotificationWithProgress:"1 New Notification ({0} in progress)",notificationsWithProgress:"{0} New Notifications ({0} in progress)","status.message":"Status Message"},"vs/workbench/browser/parts/notifications/notificationsCommands":{notifications:"Notifications",showNotifications:"Show notifications",hideNotifications:"Hide Notifications",clearAllNotifications:"Clear All Notifications",focusNotificationToasts:"Focus Notification Toast"},"vs/workbench/api/common/extHostExtensionService":{extensionTestError:"Path {0} does not point to a valid extension test runner."},"vs/workbench/browser/parts/panel/panelActions":{closePanel:"Close Panel",togglePanel:"Toggle Panel",focusPanel:"Focus into Panel",toggleMaximizedPanel:"Toggle Maximised Panel",maximizePanel:"Maximize Panel Size",minimizePanel:"Restore Panel Size",positionPanelLeft:"Move Panel Left",positionPanelRight:"Move Panel Right",positionPanelBottom:"Move Panel To Bottom",previousPanelView:"Previous Panel View",nextPanelView:"Next Panel View",view:"View",miShowPanel:"Show &&Panel"},"vs/workbench/browser/parts/notifications/notificationsCenter":{notificationsEmpty:"No New Notifications",notifications:"Notifications",notificationsToolbar:"Notification Center Actions",notificationsList:"Notifications List"},"vs/workbench/browser/parts/editor/textEditor":{editorLabelWithGroup:"{0}, {1}"},"vs/workbench/browser/parts/activitybar/activitybarActions":{previousSideBarView:"Previous Side Bar View",nextSideBarView:"Next Side Bar View",view:"View"},"vs/workbench/browser/parts/notifications/notificationsToasts":{notificationsToast:"Notification Toast"},"vs/workbench/browser/parts/views/treeView":{"no-dataprovider":"There is no data provider registered that can provide view data.",refresh:"Refresh",collapseAll:"Collapse All","command-error":"Error running command {1}: {0}. This is likely caused by the extension that contributes {1}."},"vs/workbench/browser/parts/compositeBarActions":{badgeTitle:"{0} - {1}",additionalViews:"Additional Views",numberBadge:"{0} ({1})",manageExtension:"Manage Extension",titleKeybinding:"{0} ({1})",hide:"hide",keep:"Keep",compositeActive:"{0} active",toggle:"Toggle View Pinned"},"vs/workbench/browser/parts/editor/binaryEditor":{binaryEditor:"Binary Viewer",sizeB:"{0}B",sizeKB:"{0}KB",sizeMB:"{0}MB",sizeGB:"{0}GB",sizeTB:"{0}TB",nativeFileTooLargeError:"The file is not displayed in the editor because it is too large ({0}).",nativeBinaryError:"The file is not displayed in the editor because it is either binary or uses an unsupported text encoding.",openAsText:"Do you want to open it anyway?"},"vs/workbench/browser/parts/editor/editorCommands":{"editorCommand.activeEditorMove.description":"Move the active editor by tabs or groups","editorCommand.activeEditorMove.arg.name":"Active editor move argument","editorCommand.activeEditorMove.arg.description":"Argument Properties:\n\t* 'to': String value providing where to move.\n\t* 'by': String value providing the unit for move (by tab or by group).\n\t* 'value': Number value providing how many positions or an absolute position to move.",toggleInlineView:"Toggle Inline View",compare:"Compare"},"vs/workbench/browser/parts/titlebar/menubarControl":{mFile:"&&File",mEdit:"&&Edit",mSelection:"&&Selection",mView:"&&View",mGoto:"&&Go",mRun:"&&Run",mTerminal:"&&Terminal",mHelp:"&&Help","menubar.customTitlebarAccessibilityNotification":"Accessibility support is enabled for you. For the most accessible experience, we recommend the custom title bar style.",goToSetting:"Open Settings",checkForUpdates:"Check for &&Updates...",checkingForUpdates:"Checking For Updates...","download now":"D&&ownload Update",DownloadingUpdate:"Downloading Update...","installUpdate...":"Install &&Update...",installingUpdate:"Installing Update...",restartToUpdate:"Restart to &&Update"},"vs/workbench/browser/parts/compositeBar":{activityBarAriaLabel:"Active View Switcher"},"vs/workbench/browser/parts/views/viewPaneContainer":{viewToolbarAriaLabel:"{0} actions",hideView:"hide"},"vs/workbench/api/common/extHostExtensionActivator":{failedDep1:"Cannot activate extension '{0}' because it depends on extension '{1}', which failed to activate.",activationError:"Activating extension '{0}' failed: {1}."},"vs/workbench/browser/parts/notifications/notificationsActions":{clearNotification:"Clear Notification",clearNotifications:"Clear All Notifications",hideNotificationsCenter:"Hide Notifications",expandNotification:"Expand Notification",collapseNotification:"Collapse Notification",configureNotification:"Configure Notification",copyNotification:"Copy Text"},"vs/workbench/api/common/extHost.api.impl":{extensionLabel:"{0} (Extension)"},"vs/workbench/browser/parts/editor/editor.contribution":{textEditor:"Text Editor",textDiffEditor:"Text Diff Editor",binaryDiffEditor:"Binary Diff Editor",sideBySideEditor:"Side by Side Editor",editorQuickAccessPlaceholder:"Type the name of an editor to open it.",activeGroupEditorsByMostRecentlyUsedQuickAccess:"Show Editors in Active Group by Most Recently Used",allEditorsByAppearanceQuickAccess:"Show All Opened Editors By Appearance",allEditorsByMostRecentlyUsedQuickAccess:"Show All Opened Editors By Most Recently Used",view:"View",file:"File",splitUp:"Split Up",splitDown:"Split Down",splitLeft:"Split Left",splitRight:"Split Right",close:"Close",closeOthers:"Close Others",closeRight:"Close to the Right",closeAllSaved:"Close Saved",closeAll:"Close All",keepOpen:"Keep Open",toggleInlineView:"Toggle Inline View",showOpenedEditors:"Show Opened Editors",splitEditorRight:"Split Editor Right",splitEditorDown:"Split Editor Down","navigate.prev.label":"Previous Change","navigate.next.label":"Next Change","ignoreTrimWhitespace.label":"Ignore Leading/Trailing Whitespace Differences","showTrimWhitespace.label":"Show Leading/Trailing Whitespace Differences",keepEditor:"Keep Editor",closeEditorsInGroup:"Close All Editors in Group",closeSavedEditors:"Close Saved Editors in Group",closeOtherEditors:"Close Other Editors in Group",closeRightEditors:"Close Editors to the Right in Group",miReopenClosedEditor:"&&Reopen Closed Editor",miClearRecentOpen:"&&Clear Recently Opened",miEditorLayout:"Editor &&Layout",miSplitEditorUp:"Split &&Up",miSplitEditorDown:"Split &&Down",miSplitEditorLeft:"Split &&Left",miSplitEditorRight:"Split &&Right",miSingleColumnEditorLayout:"&&Single",miTwoColumnsEditorLayout:"&&Two Columns",miThreeColumnsEditorLayout:"Three Columns",miTwoRowsEditorLayout:"T&&wo Rows",miThreeRowsEditorLayout:"Three &&Rows",miTwoByTwoGridEditorLayout:"&&Grid (2x2)",miTwoRowsRightEditorLayout:"Two R&&ows Right",miTwoColumnsBottomEditorLayout:"Two &&Columns Bottom",miBack:"&&Back",miForward:"&&Forward",miLastEditLocation:"&&Last Edit Location",miNextEditor:"&&Next Editor",miPreviousEditor:"&&Previous Editor",miNextRecentlyUsedEditor:"&&Next Used Editor",miPreviousRecentlyUsedEditor:"&&Previous Used Editor",miNextEditorInGroup:"&&Next Editor in Group",miPreviousEditorInGroup:"&&Previous Editor in Group",miNextUsedEditorInGroup:"&&Next Used Editor in Group",miPreviousUsedEditorInGroup:"&&Previously Used Editor in Group",miSwitchEditor:"Switch &&Editor",miFocusFirstGroup:"Group &&1",miFocusSecondGroup:"Group &&2",miFocusThirdGroup:"Group &&3",miFocusFourthGroup:"Group &&4",miFocusFifthGroup:"Group &&5",miNextGroup:"&&Next Group",miPreviousGroup:"&&Previous Group",miFocusLeftGroup:"Group &&Left",miFocusRightGroup:"Group &&Right",miFocusAboveGroup:"Group &&Above",miFocusBelowGroup:"Group &&Below",miSwitchGroup:"Switch &&Group"},"vs/workbench/browser/parts/editor/editorQuickAccess":{entryAriaLabelWithGroupDirty:"{0}, dirty, {1}",entryAriaLabelWithGroup:"{0}, {1}",entryAriaLabelDirty:"{0}, dirty",closeEditor:"Close Editor"},"vs/workbench/browser/parts/editor/textDiffEditor":{textDiffEditor:"Text Diff Editor",readonlyEditorWithInputAriaLabel:"{0} readonly compare editor",readonlyEditorAriaLabel:"Readonly compare editor",editableEditorWithInputAriaLabel:"{0} compare editor",editableEditorAriaLabel:"Compare editor"},"vs/workbench/browser/parts/editor/editorGroupView":{araLabelGroupActions:"Editor group actions",closeGroupAction:"Close",emptyEditorGroup:"{0} (empty)",groupLabel:"Group {0}",groupAriaLabel:"Editor Group {0}",ok:"OK",cancel:"Cancel",editorOpenErrorDialog:"Unable to open '{0}'",editorOpenError:"Unable to open '{0}': {1}."},"vs/workbench/api/common/extHostStatusBar":{"status.extensionMessage":"Extension Status"},"vs/workbench/api/common/extHostProgress":{extensionSource:"{0} (Extension)"},"vs/workbench/browser/parts/editor/binaryDiffEditor":{metadataDiff:"{0} ↔ {1}"},"vs/workbench/api/common/extHostDiagnostics":{limitHit:"Not showing {0} further errors and warnings."},"vs/workbench/browser/parts/notifications/notificationsViewer":{executeCommand:"Click to execute command '{0}'",notificationActions:"Notification Actions",notificationSource:"Source: {0}"},"vs/workbench/api/common/extHostTreeViews":{"treeView.notRegistered":"No tree view with id '{0}' registered.","treeView.duplicateElement":"Element with id {0} is already registered"},"vs/workbench/browser/parts/editor/editorActions":{splitEditor:"Split Editor",splitEditorOrthogonal:"Split Editor Orthogonal",splitEditorGroupLeft:"Split Editor Left",splitEditorGroupRight:"Split Editor Right",splitEditorGroupUp:"Split Editor Up",splitEditorGroupDown:"Split Editor Down",joinTwoGroups:"Join Editor Group with Next Group",joinAllGroups:"Join All Editor Groups",navigateEditorGroups:"Navigate Between Editor Groups",focusActiveEditorGroup:"Focus Active Editor Group",focusFirstEditorGroup:"Focus First Editor Group",focusLastEditorGroup:"Focus Last Editor Group",focusNextGroup:"Focus Next Editor Group",focusPreviousGroup:"Focus Previous Editor Group",focusLeftGroup:"Focus Left Editor Group",focusRightGroup:"Focus Right Editor Group",focusAboveGroup:"Focus Above Editor Group",focusBelowGroup:"Focus Below Editor Group",closeEditor:"Close Editor",closeOneEditor:"Close",revertAndCloseActiveEditor:"Revert and Close Editor",closeEditorsToTheLeft:"Close Editors to the Left in Group",closeAllEditors:"Close All Editors",closeAllGroups:"Close All Editor Groups",closeEditorsInOtherGroups:"Close Editors in Other Groups",closeEditorInAllGroups:"Close Editor in All Groups",moveActiveGroupLeft:"Move Editor Group Left",moveActiveGroupRight:"Move Editor Group Right",moveActiveGroupUp:"Move Editor Group Up",moveActiveGroupDown:"Move Editor Group Down",minimizeOtherEditorGroups:"Maximise Editor Group",evenEditorGroups:"Reset Editor Group Sizes",toggleEditorWidths:"Toggle Editor Group Sizes",maximizeEditor:"Maximize Editor Group and Hide Side Bar",openNextEditor:"Open Next Editor",openPreviousEditor:"Open Previous Editor",nextEditorInGroup:"Open Next Editor in Group",openPreviousEditorInGroup:"Open Previous Editor in Group",firstEditorInGroup:"Open First Editor in Group",lastEditorInGroup:"Open Last Editor in Group",navigateNext:"Go Forward",navigatePrevious:"Go Back",navigateToLastEditLocation:"Go to Last Edit Location",navigateLast:"Go Last",reopenClosedEditor:"Reopen Closed Editor",clearRecentFiles:"Clear Recently Opened",showEditorsInActiveGroup:"Show Editors in Active Group By Most Recently Used",showAllEditors:"Show All Editors By Appearance",showAllEditorsByMostRecentlyUsed:"Show All Editors By Most Recently Used",quickOpenPreviousRecentlyUsedEditor:"Quick Open Previous Recently Used Editor",quickOpenLeastRecentlyUsedEditor:"Quick Open Least Recently Used Editor",quickOpenPreviousRecentlyUsedEditorInGroup:"Quick Open Previous Recently Used Editor in Group",quickOpenLeastRecentlyUsedEditorInGroup:"Quick Open Least Recently Used Editor in Group",navigateEditorHistoryByInput:"Quick Open Previous Editor from History",openNextRecentlyUsedEditor:"Open Next Recently Used Editor",openPreviousRecentlyUsedEditor:"Open Previous Recently Used Editor",openNextRecentlyUsedEditorInGroup:"Open Next Recently Used Editor in Group",openPreviousRecentlyUsedEditorInGroup:"Open Previous Recently Used Editor in Group",clearEditorHistory:"Clear Editor History",moveEditorLeft:"Move Editor Left",moveEditorRight:"Move Editor Right",moveEditorToPreviousGroup:"Move Editor into Previous Group",moveEditorToNextGroup:"Move Editor into Next Group",moveEditorToAboveGroup:"Move Editor into Above Group",moveEditorToBelowGroup:"Move Editor into Below Group",moveEditorToLeftGroup:"Move Editor into Left Group",moveEditorToRightGroup:"Move Editor into Right Group",moveEditorToFirstGroup:"Move Editor into First Group",moveEditorToLastGroup:"Move Editor into Last Group",editorLayoutSingle:"Single Column Editor Layout",editorLayoutTwoColumns:"Two Columns Editor Layout",editorLayoutThreeColumns:"Three Columns Editor Layout",editorLayoutTwoRows:"Two Rows Editor Layout",editorLayoutThreeRows:"Three Rows Editor Layout",editorLayoutTwoByTwoGrid:"Grid Editor Layout (2x2)",editorLayoutTwoColumnsBottom:"Two Columns Bottom Editor Layout",editorLayoutTwoRowsRight:"Two Rows Right Editor Layout",newEditorLeft:"New Editor Group to the Left",newEditorRight:"New Editor Group to the Right",newEditorAbove:"New Editor Group Above",newEditorBelow:"New Editor Group Below"},"vs/workbench/browser/parts/editor/titleControl":{araLabelEditorActions:"Editor actions",draggedEditorGroup:"{0} (+{1})"},"vs/workbench/browser/parts/editor/editorStatus":{singleSelectionRange:"Ln {0}, Col {1} ({2} selected)",singleSelection:"Ln {0}, Col {1}",multiSelectionRange:"{0} selections ({1} characters selected)",multiSelection:"{0} selections",endOfLineLineFeed:"LF",endOfLineCarriageReturnLineFeed:"CRLF","screenReaderDetectedExplanation.question":"Are you using a screen reader to operate VS Code? (Certain features like word wrap are disabled when using a screen reader)","screenReaderDetectedExplanation.answerYes":"Yes","screenReaderDetectedExplanation.answerNo":"No",noEditor:"No text editor active at this time",noWritableCodeEditor:"The active code editor is read-only.",indentConvert:"convert file",indentView:"change view",pickAction:"Select Action",tabFocusModeEnabled:"Tab Moves Focus",disableTabMode:"Disable Accessibility Mode","status.editor.tabFocusMode":"Accessibility Mode",columnSelectionModeEnabled:"Column Selection",disableColumnSelectionMode:"Disable Column Selection Mode","status.editor.columnSelectionMode":"Column Selection Mode",screenReaderDetected:"Screen Reader Optimized",screenReaderDetectedExtra:'If you are not using a Screen Reader, please change the setting `editor.accessibilitySupport` to "off".',"status.editor.screenReaderMode":"Screen Reader Mode",gotoLine:"Go to Line/Column","status.editor.selection":"Editor Selection",selectIndentation:"Select Indentation","status.editor.indentation":"Editor Indentation",selectEncoding:"Select Encoding","status.editor.encoding":"Editor Encoding",selectEOL:"Select End of Line Sequence","status.editor.eol":"Editor End of Line",selectLanguageMode:"Select Language Mode","status.editor.mode":"Editor Language",fileInfo:"File Information","status.editor.info":"File Information",spacesSize:"Spaces: {0}",tabSize:"Tab Size: {0}",currentProblem:"Current Problem",showLanguageExtensions:"Search Marketplace Extensions for '{0}'...",changeMode:"Change Language Mode",languageDescription:"({0}) - Configured Language",languageDescriptionConfigured:"({0})",languagesPicks:"languages (identifier)",configureModeSettings:"Configure '{0}' language based settings...",configureAssociationsExt:"Configure File Association for '{0}'...",autoDetect:"Auto Detect",pickLanguage:"Select Language Mode",currentAssociation:"Current Association",pickLanguageToConfigure:"Select Language Mode to Associate with '{0}'",changeEndOfLine:"Change End of Line Sequence",pickEndOfLine:"Select End of Line Sequence",changeEncoding:"Change File Encoding",noFileEditor:"No file active at this time",saveWithEncoding:"Save with Encoding",reopenWithEncoding:"Reopen with Encoding",guessedEncoding:"Guessed from content",pickEncodingForReopen:"Select File Encoding to Reopen File",pickEncodingForSave:"Select File Encoding to Save with"},"vs/workbench/browser/parts/editor/tabsTitleControl":{araLabelTabActions:"Tab actions"},"vs/workbench/browser/parts/editor/breadcrumbs":{title:"Breadcrumb Navigation",enabled:"Enable/disable navigation breadcrumbs.",filepath:"Controls whether and how file paths are shown in the breadcrumbs view.","filepath.on":"Show the file path in the breadcrumbs view.","filepath.off":"Do not show the file path in the breadcrumbs view.","filepath.last":"Only show the last element of the file path in the breadcrumbs view.",symbolpath:"Controls whether and how symbols are shown in the breadcrumbs view.","symbolpath.on":"Show all symbols in the breadcrumbs view.","symbolpath.off":"Do not show symbols in the breadcrumbs view.","symbolpath.last":"Only show the current symbol in the breadcrumbs view.",symbolSortOrder:"Controls how symbols are sorted in the breadcrumbs outline view.","symbolSortOrder.position":"Show symbol outline in file position order.","symbolSortOrder.name":"Show symbol outline in alphabetical order.","symbolSortOrder.type":"Show symbol outline in symbol type order.",icons:"Render breadcrumb items with icons.","filteredTypes.file":"When enabled breadcrumbs show `file`-symbols.","filteredTypes.module":"When enabled breadcrumbs show `module`-symbols.","filteredTypes.namespace":"When enabled breadcrumbs show `namespace`-symbols.","filteredTypes.package":"When enabled breadcrumbs show `package`-symbols.","filteredTypes.class":"When enabled breadcrumbs show `class`-symbols.","filteredTypes.method":"When enabled breadcrumbs show `method`-symbols.","filteredTypes.property":"When enabled breadcrumbs show `property`-symbols.","filteredTypes.field":"When enabled breadcrumbs show `field`-symbols.","filteredTypes.constructor":"When enabled breadcrumbs show `constructor`-symbols.","filteredTypes.enum":"When enabled, breadcrumbs show `enum`-symbols.","filteredTypes.interface":"When enabled breadcrumbs show `interface`-symbols.","filteredTypes.function":"When enabled breadcrumbs show `function`-symbols.","filteredTypes.variable":"When enabled breadcrumbs show `variable`-symbols.","filteredTypes.constant":"When enabled breadcrumbs show `constant`-symbols.","filteredTypes.string":"When enabled breadcrumbs show `string`-symbols.","filteredTypes.number":"When enabled breadcrumbs show `number`-symbols.","filteredTypes.boolean":"When enabled breadcrumbs show `boolean`-symbols.","filteredTypes.array":"When enabled breadcrumbs show `array`-symbols.","filteredTypes.object":"When enabled breadcrumbs show `object`-symbols.","filteredTypes.key":"When enabled breadcrumbs show `key`-symbols.","filteredTypes.null":"When enabled breadcrumbs show `null`-symbols.","filteredTypes.enumMember":"When enabled breadcrumbs show `enumMember`-symbols.","filteredTypes.struct":"When enabled breadcrumbs show `struct`-symbols.","filteredTypes.event":"When enabled breadcrumbs show `event`-symbols.","filteredTypes.operator":"When enabled breadcrumbs show `operator`-symbols.","filteredTypes.typeParameter":"When enabled breadcrumbs show `typeParameter`-symbols."},"vs/workbench/browser/parts/editor/breadcrumbsControl":{"cmd.toggle":"Toggle Breadcrumbs","cmd.category":"View",miShowBreadcrumbs:"Show &&Breadcrumbs","cmd.focus":"Focus Breadcrumbs"},"vs/workbench/contrib/backup/electron-browser/backupTracker":{backupTrackerBackupFailed:"One or many editors that are dirty could not be saved to the backup location.",backupTrackerConfirmFailed:"One or many editors that are dirty could not be saved or reverted.",ok:"OK",backupErrorDetails:"Try saving or reverting the dirty editors first and then try again."},"vs/workbench/contrib/bulkEdit/browser/bulkEdit.contribution":{overlap:"Another refactoring is being previewed.",cancel:"Cancel",continue:"Continue",detail:"Press 'Continue' to discard the previous refactoring and continue with the current refactoring.",apply:"Apply Refactoring",cat:"Refactor Preview",Discard:"Discard Refactoring",toogleSelection:"Toggle Change",groupByFile:"Group Changes By File",groupByType:"Group Changes By Type",panel:"Refactor Preview"},"vs/workbench/contrib/bulkEdit/browser/bulkEditPane":{"empty.msg":"Invoke a code action, like rename, to see a preview of its changes here.","conflict.1":"Cannot apply refactoring because '{0}' has changed in the meantime.","conflict.N":"Cannot apply refactoring because {0} other files have changed in the meantime.","edt.title.del":"{0} (delete, refactor preview)",rename:"Rename",create:"create","edt.title.2":"{0} ({1}, refactor preview)","edt.title.1":"{0} (refactor preview)"},"vs/workbench/contrib/bulkEdit/browser/bulkEditPreview":{default:"Other"},"vs/workbench/contrib/bulkEdit/browser/bulkEditTree":{"aria.renameAndEdit":"Renaming {0} to {1}, also making text edits","aria.createAndEdit":"Creating {0}, also making text edits","aria.deleteAndEdit":"Deleting {0}, also making text edits","aria.editOnly":"{0}, making text edits","aria.rename":"Renaming {0} to {1}","aria.create":"Creating {0}","aria.delete":"Deleting {0}","aria.replace":"line {0}, replacing {1} with {2}","aria.del":"line {0}, removing {1}","aria.insert":"line {0}, inserting {1}","rename.label":"{0} → {1}","detail.rename":"(renaming)","detail.create":"(creating)","detail.del":"(deleting)",title:"{0} - {1}"},"vs/workbench/contrib/callHierarchy/browser/callHierarchy.contribution":{"no.item":"No results",error:"Failed to show call hierarchy",title:"Peek Call Hierarchy","title.toggle":"Toggle Call Hierarchy","title.refocus":"Refocus Call Hierarchy"},"vs/workbench/contrib/callHierarchy/browser/callHierarchyPeek":{"toggle.from":"Show Incoming Calls","toggle.to":"Showing Outgoing Calls","tree.aria":"Call Hierarchy",callFrom:"Calls from '{0}'",callsTo:"Callers of '{0}'","title.loading":"Loading...","empt.callsFrom":"No calls from '{0}'","empt.callsTo":"No callers of '{0}'"},"vs/workbench/contrib/cli/node/cli.contribution":{install:"Install '{0}' command in PATH","not available":"This command is not available",successIn:"Shell command '{0}' successfully installed in PATH.",ok:"OK",cancel2:"Cancel",warnEscalation:"Code will now prompt with 'osascript' for Administrator privileges to install the shell command.",cantCreateBinFolder:"Unable to create '/usr/local/bin'.",aborted:"Aborted",uninstall:"Uninstall '{0}' command from PATH",successFrom:"Shell command '{0}' successfully uninstalled from PATH.",warnEscalationUninstall:"Code will now prompt with 'osascript' for Administrator privileges to uninstall the shell command.",cantUninstall:"Unable to uninstall the shell command '{0}'.",shellCommand:"Shell Command"},"vs/workbench/contrib/codeActions/common/codeActionsContribution":{"codeActionsOnSave.fixAll":"Controls whether auto fix action should be run on file save.",codeActionsOnSave:"Code action kinds to be run on save.","codeActionsOnSave.generic":"Controls whether '{0}' actions should be run on file save."},"vs/workbench/contrib/codeActions/common/documentationExtensionPoint":{"contributes.documentation":"Contributed documentation.","contributes.documentation.refactorings":"Contributed documentation for refactorings.","contributes.documentation.refactoring":"Contributed documentation for refactoring.","contributes.documentation.refactoring.title":"Label for the documentation used in the UI.","contributes.documentation.refactoring.when":"When clause.","contributes.documentation.refactoring.command":"Command executed."},"vs/workbench/contrib/codeActions/common/codeActionsExtensionPoint":{"contributes.codeActions":"Configure which editor to use for a resource.","contributes.codeActions.languages":"Language modes that the code actions are enabled for.","contributes.codeActions.kind":"`CodeActionKind` of the contributed code action.","contributes.codeActions.title":"Label for the code action used in the UI.","contributes.codeActions.description":"Description of what the code action does."},"vs/workbench/contrib/codeEditor/electron-browser/selectionClipboard":{"actions.pasteSelectionClipboard":"Paste Selection Clipboard"},"vs/workbench/contrib/codeEditor/browser/largeFileOptimizations":{largeFile:"{0}: tokenization, wrapping and folding have been turned off for this large file in order to reduce memory usage and avoid freezing or crashing.",removeOptimizations:"Forcefully enable features",reopenFilePrompt:"Please reopen file in order for this setting to take effect."},"vs/workbench/contrib/codeEditor/browser/diffEditorHelper":{hintTimeout:"The diff algorithm was stopped early (after {0} ms.)",removeTimeout:"Remove limit",hintWhitespace:"Show Whitespace Differences"},"vs/workbench/contrib/codeEditor/browser/inspectKeybindings":{"workbench.action.inspectKeyMap":"Developer: Inspect Key Mappings","workbench.action.inspectKeyMapJSON":"Inspect Key Mappings (JSON)",developer:"Developer"},"vs/workbench/contrib/codeEditor/browser/toggleColumnSelection":{toggleColumnSelection:"Toggle Column Selection Mode",miColumnSelection:"Column &&Selection Mode"},"vs/workbench/contrib/codeEditor/browser/toggleMinimap":{toggleMinimap:"Toggle Minimap",view:"View",miShowMinimap:"Show &&Minimap"},"vs/workbench/contrib/codeEditor/browser/semanticTokensHelp":{semanticTokensHelp:"Code coloring of '{0}' has been updated as the theme '{1}' has [semantic highlighting](https://go.microsoft.com/fwlink/?linkid=2122588) enabled.",learnMoreButton:"Learn More"},"vs/workbench/contrib/codeEditor/browser/toggleMultiCursorModifier":{toggleLocation:"Toggle Multi-Cursor Modifier",miMultiCursorAlt:"Switch to Alt+Click for Multi-Cursor",miMultiCursorCmd:"Switch to Cmd+Click for Multi-Cursor",miMultiCursorCtrl:"Switch to Ctrl+Click for Multi-Cursor"},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoLineQuickAccess":{gotoLineQuickAccessPlaceholder:"Type the line number and optional column to go to (e.g. 42:5 for line 42 and column 5).",gotoLineQuickAccess:"Go to Line/Column",gotoLine:"Go to Line/Column..."},"vs/workbench/contrib/codeEditor/browser/toggleRenderControlCharacter":{toggleRenderControlCharacters:"Toggle Control Characters",view:"View",miToggleRenderControlCharacters:"Render &&Control Characters"},"vs/workbench/contrib/codeEditor/browser/toggleRenderWhitespace":{toggleRenderWhitespace:"Toggle Render Whitespace",view:"View",miToggleRenderWhitespace:"&&Render Whitespace"},"vs/workbench/contrib/codeEditor/browser/quickaccess/gotoSymbolQuickAccess":{gotoSymbolQuickAccessPlaceholder:"Type the name of a symbol to go to.",gotoSymbolQuickAccess:"Go to Symbol in Editor",gotoSymbolByCategoryQuickAccess:"Go to Symbol in Editor by Category",gotoSymbol:"Go to Symbol in Editor..."},"vs/workbench/contrib/codeEditor/browser/accessibility/accessibility":{emergencyConfOn:"Now changing the setting `editor.accessibilitySupport` to 'on'.",openingDocs:"Now opening the VS Code Accessibility documentation page.",introMsg:"Thank you for trying out VS Code's accessibility options.",status:"Status:",changeConfigToOnMac:"To configure the editor to be permanently optimized for usage with a Screen Reader press Command+E now.",changeConfigToOnWinLinux:"To configure the editor to be permanently optimised for usage with a Screen Reader press Control+E now.",auto_unknown:"The editor is configured to use platform APIs to detect when a Screen Reader is attached, but the current runtime does not support this.",auto_on:"The editor has automatically detected a Screen Reader is attached.",auto_off:"The editor is configured to automatically detect when a Screen Reader is attached, which is not the case at this time.",configuredOn:"The editor is configured to be permanently optimized for usage with a Screen Reader - you can change this by editing the setting `editor.accessibilitySupport`.",configuredOff:"The editor is configured to never be optimised for usage with a Screen Reader.",tabFocusModeOnMsg:"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}.",tabFocusModeOnMsgNoKb:"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding.",tabFocusModeOffMsg:"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}.",tabFocusModeOffMsgNoKb:"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding.",openDocMac:"Press Command+H now to open a browser window with more VS Code information related to Accessibility.",openDocWinLinux:"Press Control+H now to open a browser window with more VS Code information related to Accessibility.",outroMsg:"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape.",ShowAccessibilityHelpAction:"Show Accessibility Help"},"vs/workbench/contrib/codeEditor/browser/toggleWordWrap":{"toggle.wordwrap":"View: Toggle Word Wrap","wordWrap.notInDiffEditor":"Cannot toggle word wrap in a diff editor.",unwrapMinified:"Disable wrapping for this file",wrapMinified:"Enable wrapping for this file",miToggleWordWrap:"Toggle &&Word Wrap"},"vs/workbench/contrib/codeEditor/browser/saveParticipants":{formatting:"Running '{0}' Formatter ([configure](command:workbench.action.openSettings?%5B%22editor.formatOnSave%22%5D)).",codeaction:"Quick Fixes","codeaction.get":"Getting code actions from '{0}' ([configure](command:workbench.action.openSettings?%5B%22editor.codeActionsOnSave%22%5D)).","codeAction.apply":"Applying code action '{0}'."},"vs/workbench/contrib/codeEditor/browser/languageConfigurationExtensionPoint":{parseErrors:"Errors parsing {0}: {1}",formatError:"{0}: Invalid format, JSON object expected.","schema.openBracket":"The opening bracket character or string sequence.","schema.closeBracket":"The closing bracket character or string sequence.","schema.comments":"Defines the comment symbols","schema.blockComments":"Defines how block comments are marked.","schema.blockComment.begin":"The character sequence that starts a block comment.","schema.blockComment.end":"The character sequence that ends a block comment.","schema.lineComment":"The character sequence that starts a line comment.","schema.brackets":"Defines the bracket symbols that increase or decrease the indentation.","schema.autoClosingPairs":"Defines the bracket pairs. When a opening bracket is entered, the closing bracket is inserted automatically.","schema.autoClosingPairs.notIn":"Defines a list of scopes where the auto pairs are disabled.","schema.autoCloseBefore":"Defines what characters must be after the cursor in order for bracket or quote autoclosing to occur when using the 'languageDefined' autoclosing setting. This is typically the set of characters which can not start an expression.","schema.surroundingPairs":"Defines the bracket pairs that can be used to surround a selected string.","schema.wordPattern":"Defines what is considered to be a word in the programming language.","schema.wordPattern.pattern":"The RegExp pattern used to match words.","schema.wordPattern.flags":"The RegExp flags used to match words.","schema.wordPattern.flags.errorMessage":"Must match the pattern `/^([gimuy]+)$/`.","schema.indentationRules":"The language's indentation settings.","schema.indentationRules.increaseIndentPattern":"If a line matches this pattern, then all the lines after it should be indented once (until another rule matches).","schema.indentationRules.increaseIndentPattern.pattern":"The RegExp pattern for increaseIndentPattern.","schema.indentationRules.increaseIndentPattern.flags":"The RegExp flags for increaseIndentPattern.","schema.indentationRules.increaseIndentPattern.errorMessage":"Must match the pattern `/^([gimuy]+)$/`.","schema.indentationRules.decreaseIndentPattern":"If a line matches this pattern, then all the lines after it should be unindented once (until another rule matches).","schema.indentationRules.decreaseIndentPattern.pattern":"The RegExp pattern for decreaseIndentPattern.","schema.indentationRules.decreaseIndentPattern.flags":"The RegExp flags for decreaseIndentPattern.","schema.indentationRules.decreaseIndentPattern.errorMessage":"Must match the pattern `/^([gimuy]+)$/`.","schema.indentationRules.indentNextLinePattern":"If a line matches this pattern, then **only the next line** after it should be indented once.","schema.indentationRules.indentNextLinePattern.pattern":"The RegExp pattern for indentNextLinePattern.","schema.indentationRules.indentNextLinePattern.flags":"The RegExp flags for indentNextLinePattern.","schema.indentationRules.indentNextLinePattern.errorMessage":"Must match the pattern `/^([gimuy]+)$/`.","schema.indentationRules.unIndentedLinePattern":"If a line matches this pattern, then its indentation should not be changed and it should not be evaluated against the other rules.","schema.indentationRules.unIndentedLinePattern.pattern":"The RegExp pattern for unIndentedLinePattern.","schema.indentationRules.unIndentedLinePattern.flags":"The RegExp flags for unIndentedLinePattern.","schema.indentationRules.unIndentedLinePattern.errorMessage":"Must match the pattern `/^([gimuy]+)$/`.","schema.folding":"The language's folding settings.","schema.folding.offSide":"A language adheres to the off-side rule if blocks in that language are expressed by their indentation. If set, empty lines belong to the subsequent block.","schema.folding.markers":"Language specific folding markers such as '#region' and '#endregion'. The start and end regexes will be tested against the contents of all lines and must be designed efficiently","schema.folding.markers.start":"The RegExp pattern for the start marker. The regexp must start with '^'.","schema.folding.markers.end":"The RegExp pattern for the end marker. The regexp must start with '^'."},"vs/workbench/contrib/codeEditor/browser/inspectEditorTokens/inspectEditorTokens":{inspectEditorTokens:"Developer: Inspect Editor Tokens and Scopes","inspectTMScopesWidget.loading":"Loading..."},"vs/workbench/contrib/codeEditor/browser/find/simpleFindWidget":{"label.find":"Find","placeholder.find":"Find","label.previousMatchButton":"Previous match","label.nextMatchButton":"Next match","label.closeButton":"Close"},"vs/workbench/contrib/codeEditor/browser/find/simpleFindReplaceWidget":{"label.find":"Find","placeholder.find":"Find","label.previousMatchButton":"Previous match","label.nextMatchButton":"Next match","label.closeButton":"Close","label.toggleReplaceButton":"Toggle Replace mode","label.replace":"Replace","placeholder.replace":"Replace","label.replaceButton":"Replace","label.replaceAllButton":"Replace All"},"vs/workbench/contrib/comments/browser/comments.contribution":{commentsConfigurationTitle:"Comments",openComments:"Controls when the comments panel should open."},"vs/workbench/contrib/comments/browser/commentsEditorContribution":{pickCommentService:"Select Comment Provider",nextCommentThreadAction:"Go to Next Comment Thread"},"vs/workbench/contrib/comments/browser/commentsView":{collapseAll:"Collapse All"},"vs/workbench/contrib/comments/browser/commentsTreeViewer":{imageWithLabel:"Image: {0}",image:"Image"},"vs/workbench/contrib/comments/browser/commentGlyphWidget":{editorGutterCommentRangeForeground:"Editor gutter decoration colour for commenting ranges."},"vs/workbench/contrib/comments/common/commentModel":{noComments:"There are no comments on this review."},"vs/workbench/contrib/comments/browser/commentThreadWidget":{"label.collapse":"Collapse",commentThreadParticipants:"Participants: {0}",startThread:"Start discussion",reply:"Reply...",newComment:"Type a new comment"},"vs/workbench/contrib/comments/browser/commentNode":{commentToggleReaction:"Toggle Reaction",commentToggleReactionError:"Toggling the comment reaction failed: {0}.",commentToggleReactionDefaultError:"Toggling the comment reaction failed",commentDeleteReactionError:"Deleting the comment reaction failed: {0}.",commentDeleteReactionDefaultError:"Deleting the comment reaction failed",commentAddReactionError:"Deleting the comment reaction failed: {0}.",commentAddReactionDefaultError:"Deleting the comment reaction failed"},"vs/workbench/contrib/comments/browser/reactionsAction":{pickReactions:"Pick Reactions..."},"vs/workbench/contrib/customEditor/browser/webviewEditor.contribution":{"editor.editorAssociations":"Configure which editor to use for a resource.","editor.editorAssociations.viewType":"Editor view type.","editor.editorAssociations.mime":"Mime type the editor should be used for. This is used for binary files.","editor.editorAssociations.filenamePattern":"Glob pattern the editor should be used for."},"vs/workbench/contrib/customEditor/browser/commands":{viewCategory:"View","reopenWith.title":"Reopen With..."},"vs/workbench/contrib/customEditor/browser/customEditors":{"promptOpenWith.defaultEditor":"VS Code's standard text editor",openWithCurrentlyActive:"Currently Active","promptOpenWith.setDefaultTooltip":"Set as default editor for '{0}' files","promptOpenWith.placeHolder":"Select editor to use for '{0}'..."},"vs/workbench/contrib/customEditor/browser/extensionPoint":{"contributes.customEditors":"Contributed custom editors.","contributes.viewType":"Unique identifier of the custom editor.","contributes.displayName":"Human readable name of the custom editor. This is displayed to users when selecting which editor to use.","contributes.selector":"Set of globs that the custom editor is enabled for.","contributes.selector.filenamePattern":"Glob that the custom editor is enabled for.","contributes.priority":"Controls when the custom editor is used. May be overridden by users.","contributes.priority.default":"Editor is automatically used for a resource if no other default custom editors are registered for it.","contributes.priority.option":"Editor is not automatically used but can be selected by a user.","contributes.priority.builtin":"Editor automatically used if no other `default` or `builtin` editors are registered for the resource."},"vs/workbench/contrib/debug/common/debug":{internalConsoleOptions:"Controls when the internal debug console should open."},"vs/workbench/contrib/debug/browser/callStackEditorContribution":{topStackFrameLineHighlight:"Background colour for the highlight of line at the top stack frame position.",focusedStackFrameLineHighlight:"Background colour for the highlight of line at focused stack frame position."},"vs/workbench/contrib/debug/browser/debugViewlet":{startAdditionalSession:"Start Additional Session",toggleDebugPanel:"Debug Console"},"vs/workbench/contrib/debug/browser/debugEditorContribution":{addConfiguration:"Add Configuration..."},"vs/workbench/contrib/debug/browser/breakpointEditorContribution":{logPoint:"Logpoint",breakpoint:"Breakpoint",breakpointHasConditionDisabled:"This {0} has a {1} that will get lost on remove. Consider enabling the {0} instead.",message:"Message",condition:"condition",breakpointHasConditionEnabled:"This {0} has a {1} that will get lost on remove. Consider disabling the {0} instead.",removeLogPoint:"Remove {0}",disableLogPoint:"{0} {1}",disable:"Disable",enable:"Enable",cancel:"Cancel",removeBreakpoint:"Remove {0}",editBreakpoint:"Edit {0}...",disableBreakpoint:"Disable {0}",enableBreakpoint:"Enable {0}",removeBreakpoints:"Remove Breakpoints",removeInlineBreakpointOnColumn:"Remove Inline Breakpoint on Column {0}",removeLineBreakpoint:"Remove Line Breakpoint",editBreakpoints:"Edit Breakpoints",editInlineBreakpointOnColumn:"Edit Inline Breakpoint on Column {0}",editLineBrekapoint:"Edit Line Breakpoint",enableDisableBreakpoints:"Enable/Disable Breakpoints",disableInlineColumnBreakpoint:"Disable Inline Breakpoint on Column {0}",disableBreakpointOnLine:"Disable Line Breakpoint",enableBreakpoints:"Enable Inline Breakpoint on Column {0}",enableBreakpointOnLine:"Enable Line Breakpoint",addBreakpoint:"Add Breakpoint",addConditionalBreakpoint:"Add Conditional Breakpoint...",addLogPoint:"Add Logpoint...","debugIcon.breakpointForeground":"Icon color for breakpoints.","debugIcon.breakpointDisabledForeground":"Icon colour for disabled breakpoints.","debugIcon.breakpointUnverifiedForeground":"Icon color for unverified breakpoints.","debugIcon.breakpointCurrentStackframeForeground":"Icon color for the current breakpoint stack frame.","debugIcon.breakpointStackframeForeground":"Icon color for all breakpoint stack frames."},"vs/workbench/contrib/debug/browser/debug.contribution":{toggleDebugViewlet:"Show Run and Debug",run:"Run",debugPanel:"Debug Console",variables:"Variables",watch:"Watch",callStack:"Call Stack",breakpoints:"Breakpoints",loadedScripts:"Loaded Scripts",view:"View",debugCategory:"Debug",runCategory:"Run",terminateThread:"Terminate Thread",debugFocusConsole:"Focus on Debug Console View",jumpToCursor:"Jump to Cursor",inlineBreakpoint:"Inline Breakpoint",startDebugPlaceholder:"Type the name of a launch configuration to run.",startDebuggingHelp:"Start Debugging",debugConfigurationTitle:"Debug",allowBreakpointsEverywhere:"Allow setting breakpoints in any file.",openExplorerOnEnd:"Automatically open the explorer view at the end of a debug session.",inlineValues:"Show variable values inline in editor while debugging.",toolBarLocation:"Controls the location of the debug toolbar. Either `floating` in all views, `docked` in the debug view, or `hidden`.",never:"Never show debug in status bar",always:"Always show debug in status bar",onFirstSessionStart:"Show debug in status bar only after debug was started for the first time",showInStatusBar:"Controls when the debug status bar should be visible.","debug.console.closeOnEnd":"Controls if the debug console should be automatically closed when the debug session ends.",openDebug:"Controls when the debug view should open.",enableAllHovers:"Controls whether the non-debug hovers should be enabled while debugging. When enabled the hover providers will be called to provide a hover. Regular hovers will not be shown even if this setting is enabled.",showSubSessionsInToolBar:"Controls whether the debug sub-sessions are shown in the debug tool bar. When this setting is false the stop command on a sub-session will also stop the parent session.","debug.console.fontSize":"Controls the font size in pixels in the debug console.","debug.console.fontFamily":"Controls the font family in the debug console.","debug.console.lineHeight":"Controls the line height in pixels in the debug console. Use 0 to compute the line height from the font size.","debug.console.wordWrap":"Controls if the lines should wrap in the debug console.","debug.console.historySuggestions":"Controls if the debug console should suggest previously typed input.",launch:"Global debug launch configuration. Should be used as an alternative to 'launch.json' that is shared across workspaces.","debug.focusWindowOnBreak":"Controls whether the workbench window should be focused when the debugger breaks.",debugAnyway:"Ignore task errors and start debugging.",showErrors:"Show the Problems view and do not start debugging.",prompt:"Prompt user.",cancel:"Cancel debugging.","debug.onTaskErrors":"Controls what to do when errors are encountered after running a preLaunchTask.",showBreakpointsInOverviewRuler:"Controls whether breakpoints should be shown in the overview ruler.",showInlineBreakpointCandidates:"Controls whether inline breakpoints candidate decorations should be shown in the editor while debugging.",stepBackDebug:"Step Back",reverseContinue:"Reverse",restartFrame:"Restart Frame",copyStackTrace:"Copy Call Stack",miViewRun:"&&Run",miToggleDebugConsole:"De&&bug Console",miStartDebugging:"&&Start Debugging",miRun:"Run &&Without Debugging",miStopDebugging:"&&Stop Debugging","miRestart Debugging":"&&Restart Debugging",miOpenConfigurations:"Open &&Configurations",miAddConfiguration:"A&&dd Configuration...",miStepOver:"Step &&Over",miStepInto:"Step &&Into",miStepOut:"Step O&&ut",miContinue:"&&Continue",miToggleBreakpoint:"Toggle &&Breakpoint",miConditionalBreakpoint:"&&Conditional Breakpoint…",miInlineBreakpoint:"Inline Breakp&&oint",miFunctionBreakpoint:"&&Function Breakpoint...",miLogPoint:"&&Logpoint...",miNewBreakpoint:"&&New Breakpoint",miEnableAllBreakpoints:"&&Enable All Breakpoints",miDisableAllBreakpoints:"Disable A&&ll Breakpoints",miRemoveAllBreakpoints:"Remove &&All Breakpoints",miInstallAdditionalDebuggers:"&&Install Additional Debuggers..."},"vs/workbench/contrib/debug/browser/repl":{replAriaLabel:"Read Eval Print Loop Panel",debugConsole:"Debug Console",copy:"Copy",copyAll:"Copy All",collapse:"Collapse All",startDebugFirst:"Please start a debug session to evaluate expressions","actions.repl.acceptInput":"REPL Accept Input","repl.action.filter":"REPL Focus Content to Filter","actions.repl.copyAll":"Debug: Console Copy All",selectRepl:"Select Debug Console",clearRepl:"Clear Console",debugConsoleCleared:"Debug console was cleared"},"vs/workbench/contrib/debug/browser/welcomeView":{run:"Run",openAFileWhichCanBeDebugged:"[Open a file](command:{0}) which can be debugged or run.",runAndDebugAction:"[Run and Debug{0}](command:{1})",customizeRunAndDebug:"To customize Run and Debug [create a launch.json file](command:{0}).",customizeRunAndDebugOpenFolder:"To customize Run and Debug, [open a folder](command:{0}) and create a launch.json file."},"vs/workbench/contrib/debug/browser/debugActionViewItems":{debugLaunchConfigurations:"Debug Launch Configurations",noConfigurations:"No Configurations",addConfigTo:"Add Config ({0})...",addConfiguration:"Add Configuration...",debugSession:"Debug Session"},"vs/workbench/contrib/debug/browser/exceptionWidget":{debugExceptionWidgetBorder:"Exception widget border colour.",debugExceptionWidgetBackground:"Exception widget background color.",exceptionThrownWithId:"Exception has occurred: {0}",exceptionThrown:"Exception has occurred."},"vs/workbench/contrib/debug/browser/debugToolBar":{debugToolBarBackground:"Debug toolbar background colour.",debugToolBarBorder:"Debug toolbar border colour.","debugIcon.startForeground":"Debug toolbar icon for start debugging.","debugIcon.pauseForeground":"Debug toolbar icon for pause.","debugIcon.stopForeground":"Debug toolbar icon for stop.","debugIcon.disconnectForeground":"Debug toolbar icon for disconnect.","debugIcon.restartForeground":"Debug toolbar icon for restart.","debugIcon.stepOverForeground":"Debug toolbar icon for step over.","debugIcon.stepIntoForeground":"Debug toolbar icon for step into.","debugIcon.stepOutForeground":"Debug toolbar icon for step over.","debugIcon.continueForeground":"Debug toolbar icon for continue.","debugIcon.stepBackForeground":"Debug toolbar icon for step back."},"vs/workbench/contrib/debug/browser/statusbarColorProvider":{statusBarDebuggingBackground:"Status bar background color when a program is being debugged. The status bar is shown in the bottom of the window",statusBarDebuggingForeground:"Status bar foreground color when a program is being debugged. The status bar is shown in the bottom of the window",statusBarDebuggingBorder:"Status bar border color separating to the sidebar and editor when a program is being debugged. The status bar is shown in the bottom of the window"},"vs/workbench/contrib/debug/common/debugContentProvider":{unable:"Unable to resolve the resource without a debug session",canNotResolveSourceWithError:"Could not load source '{0}': {1}.",canNotResolveSource:"Could not load source '{0}'."},"vs/workbench/contrib/debug/browser/debugStatus":{"status.debug":"Debug",selectAndStartDebug:"Select and start debug configuration"},"vs/workbench/contrib/debug/browser/debugQuickAccess":{customizeLaunchConfig:"Configure Launch Configuration",addConfigTo:"Add Config ({0})...",addConfiguration:"Add Configuration..."},"vs/workbench/contrib/debug/browser/debugHover":{treeAriaLabel:"Debug Hover",variableAriaLabel:"{0} value {1}, variables, debug"},"vs/workbench/contrib/debug/browser/debugActions":{openLaunchJson:"Open {0}",launchJsonNeedsConfigurtion:"Configure or Fix 'launch.json'",noFolderDebugConfig:"Please first open a folder in order to do advanced debug configuration.",selectWorkspaceFolder:"Select a workspace folder to create a launch.json file in",startDebug:"Start Debugging",startWithoutDebugging:"Start Without Debugging",selectAndStartDebugging:"Select and Start Debugging",removeBreakpoint:"Remove Breakpoint",removeAllBreakpoints:"Remove All Breakpoints",enableAllBreakpoints:"Enable All Breakpoints",disableAllBreakpoints:"Disable All Breakpoints",activateBreakpoints:"Activate Breakpoints",deactivateBreakpoints:"Deactivate Breakpoints",reapplyAllBreakpoints:"Reapply All Breakpoints",addFunctionBreakpoint:"Add Function Breakpoint",addWatchExpression:"Add Expression",removeAllWatchExpressions:"Remove All Expressions",focusSession:"Focus Session",copyValue:"Copy Value"},"vs/workbench/contrib/debug/browser/debugEditorActions":{toggleBreakpointAction:"Debug: Toggle Breakpoint",conditionalBreakpointEditorAction:"Debug: Add Conditional Breakpoint...",logPointEditorAction:"Debug: Add Logpoint...",runToCursor:"Run to Cursor",evaluateInDebugConsole:"Evaluate in Debug Console",addToWatch:"Add to Watch",showDebugHover:"Debug: Show Hover",goToNextBreakpoint:"Debug: Go To Next Breakpoint",goToPreviousBreakpoint:"Debug: Go To Previous Breakpoint"},"vs/workbench/contrib/debug/browser/linkDetector":{fileLinkMac:"Cmd + click to follow link",fileLink:"Ctrl + click to follow link"},"vs/workbench/contrib/debug/common/replModel":{consoleCleared:"Console was cleared",snapshotObj:"Only primitive values are shown for this object."},"vs/workbench/contrib/debug/browser/breakpointWidget":{breakpointWidgetLogMessagePlaceholder:"Message to log when breakpoint is hit. Expressions within {} are interpolated. 'Enter' to accept, 'esc' to cancel.",breakpointWidgetHitCountPlaceholder:"Break when hit count condition is met. 'Enter' to accept, 'Esc' to cancel.",breakpointWidgetExpressionPlaceholder:"Break when expression evaluates to true. 'Enter' to accept, 'esc' to cancel.",expression:"Expression",hitCount:"Hit Count",logMessage:"Log Message",breakpointType:"Breakpoint Type"},"vs/workbench/contrib/debug/browser/watchExpressionsView":{watchAriaTreeLabel:"Debug Watch Expressions",editWatchExpression:"Edit Expression",removeWatchExpression:"Remove Expression",watchExpressionInputAriaLabel:"Type watch expression",watchExpressionPlaceholder:"Expression to watch",watchExpressionAriaLabel:"{0} value {1}, watch, debug",watchVariableAriaLabel:"{0} value {1}, watch, debug"},"vs/workbench/contrib/debug/browser/variablesView":{variablesAriaTreeLabel:"Debug Variables",setValue:"Set Value",copyAsExpression:"Copy as Expression",addToWatchExpressions:"Add to Watch",breakWhenValueChanges:"Break When Value Changes",variableValueAriaLabel:"Type new variable value",variableScopeAriaLabel:"Scope {0}, variables, debug",variableAriaLabel:"{0} value {1}, variables, debug"},"vs/workbench/contrib/debug/browser/replViewer":{stateCapture:"Object state is captured from first evaluation",replVariableAriaLabel:"Variable {0} has value {1}, read eval print loop, debug",replValueOutputAriaLabel:"{0}, read eval print loop, debug",replRawObjectAriaLabel:"Repl variable {0} has value {1}, read eval print loop, debug",replGroup:"Repl group {0}, read eval print loop, debug"},"vs/workbench/contrib/debug/node/debugAdapter":{debugAdapterBinNotFound:"Debug adapter executable '{0}' does not exist.",debugAdapterCannotDetermineExecutable:"Cannot determine executable for debug adapter '{0}'.",unableToLaunchDebugAdapter:"Unable to launch debug adapter from '{0}'.",unableToLaunchDebugAdapterNoArgs:"Unable to launch debug adapter."},"vs/workbench/contrib/debug/browser/loadedScriptsView":{loadedScriptsAriaLabel:"Debug Loaded Scripts",loadedScriptsSession:"Debug Session",loadedScriptsRootFolderAriaLabel:"Workspace folder {0}, loaded script, debug",loadedScriptsSessionAriaLabel:"Session {0}, loaded script, debug",loadedScriptsFolderAriaLabel:"Folder {0}, loaded script, debug",loadedScriptsSourceAriaLabel:"{0}, loaded script, debug"},"vs/workbench/contrib/debug/browser/debugCommands":{restartDebug:"Restart",stepOverDebug:"Step Over",stepIntoDebug:"Step Into",stepOutDebug:"Step Out",pauseDebug:"Pause",disconnect:"Disconnect",stop:"Stop",continueDebug:"Continue",chooseLocation:"Choose the specific location",noExecutableCode:"No executable code is associated at the current cursor position.",jumpToCursor:"Jump to Cursor",debug:"Debug",noFolderDebugConfig:"Please first open a folder in order to do advanced debug configuration.",addInlineBreakpoint:"Add Inline Breakpoint"},"vs/workbench/contrib/debug/browser/breakpointsView":{Logpoint:"Logpoint",Breakpoint:"Breakpoint",editBreakpoint:"Edit {0}...",removeBreakpoint:"Remove {0}",functionBreakpointsNotSupported:"Function breakpoints are not supported by this debug type",dataBreakpointsNotSupported:"Data breakpoints are not supported by this debug type",functionBreakpointPlaceholder:"Function to break on",functionBreakPointInputAriaLabel:"Type function breakpoint",disabledLogpoint:"Disabled Logpoint",disabledBreakpoint:"Disabled breakpoint",unverifiedLogpoint:"Unverified Logpoint",unverifiedBreakopint:"Unverified breakpoint",functionBreakpointUnsupported:"Function breakpoints not supported by this debug type",functionBreakpoint:"Function Breakpoint",dataBreakpointUnsupported:"Data breakpoints not supported by this debug type",dataBreakpoint:"Data Breakpoint",breakpointUnsupported:"Breakpoints of this type are not supported by the debugger",logMessage:"Log Message: {0}",expression:"Expression: {0}",hitCount:"Hit Count: {0}",breakpoint:"Breakpoint"},"vs/workbench/contrib/debug/common/debugSource":{unknownSource:"Unknown Source"},"vs/workbench/contrib/debug/browser/callStackView":{debugStopped:"Paused on {0}",callStackAriaLabel:"Debug Call Stack",showMoreStackFrames2:"Show More Stack Frames",session:"Session",running:"Running",thread:"Thread",restartFrame:"Restart Frame",loadMoreStackFrames:"Load More Stack Frames",showMoreAndOrigin:"Show {0} More: {1}",showMoreStackFrames:"Show {0} More Stack Frames",threadAriaLabel:"Thread {0}, callstack, debug",stackFrameAriaLabel:"Stack Frame {0} line {1} {2}, callstack, debug",sessionLabel:"Debug Session {0}"},"vs/workbench/contrib/debug/browser/debugService":{"1activeSession":"1 active session",nActiveSessions:"{0} active sessions",configurationAlreadyRunning:'There is already a debug configuration "{0}" running.',compoundMustHaveConfigurations:'Compound must have "configurations" attribute set in order to start multiple configurations.',noConfigurationNameInWorkspace:"Could not find launch configuration '{0}' in the workspace.",multipleConfigurationNamesInWorkspace:"There are multiple launch configurations '{0}' in the workspace. Use folder name to qualify the configuration.",noFolderWithName:"Can not find folder with name '{0}' for configuration '{1}' in compound '{2}'.",configMissing:"Configuration '{0}' is missing in 'launch.json'.",launchJsonDoesNotExist:"'launch.json' does not exist.",debugRequestNotSupported:"Attribute '{0}' has an unsupported value '{1}' in the chosen debug configuration.",debugRequesMissing:"Attribute '{0}' is missing from the chosen debug configuration.",debugTypeNotSupported:"Configured debug type '{0}' is not supported.",debugTypeMissing:"Missing property 'type' for the chosen launch configuration.",noFolderWorkspaceDebugError:"The active file can not be debugged. Make sure it is saved and that you have a debug extension installed for that file type.",debugAdapterCrash:"Debug adapter process has terminated unexpectedly ({0})",cancel:"Cancel",debuggingPaused:"Debugging paused {0}, {1} {2} {3}",breakpointAdded:"Added breakpoint, line {0}, file {1}",breakpointRemoved:"Removed breakpoint, line {0}, file {1}"},"vs/workbench/contrib/debug/common/debugModel":{invalidVariableAttributes:"Invalid variable attributes",startDebugFirst:"Please start a debug session to evaluate expressions",notAvailable:"not available",pausedOn:"Paused on {0}",paused:"Paused",running:"Running",breakpointDirtydHover:"Unverified breakpoint. File is modified, please restart debug session."},"vs/workbench/contrib/debug/browser/debugTaskRunner":{preLaunchTaskErrors:"Errors exist after running preLaunchTask '{0}'.",preLaunchTaskError:"Error exists after running preLaunchTask '{0}'.",preLaunchTaskExitCode:"The preLaunchTask '{0}' terminated with exit code {1}.",preLaunchTaskTerminated:"The preLaunchTask '{0}' terminated.",debugAnyway:"Debug Anyway",showErrors:"Show Errors",abort:"Abort",remember:"Remember my choice in user settings",invalidTaskReference:"Task '{0}' can not be referenced from a launch configuration that is in a different workspace folder.",DebugTaskNotFoundWithTaskId:"Could not find the task '{0}'.",DebugTaskNotFound:"Could not find the specified task.",taskNotTrackedWithTaskId:"The specified task cannot be tracked.",taskNotTracked:"The task '{0}' cannot be tracked."},"vs/workbench/contrib/debug/browser/debugConfigurationManager":{debugNoType:"Debugger 'type' can not be omitted and must be of type 'string'.",more:"More...",selectDebug:"Select Environment","DebugConfig.failed":"Unable to create 'launch.json' file inside the '.vscode' folder ({0}).",workspace:"workspace","user settings":"User Settings"},"vs/workbench/contrib/debug/browser/debugSession":{noDebugAdapter:"No debug adapter, can not send '{0}'",sessionNotReadyForBreakpoints:"Session is not ready for breakpoints",debuggingStarted:"Debugging started.",debuggingStopped:"Debugging stopped."},"vs/workbench/contrib/debug/common/debugger":{"cannot.find.da":"Cannot find debug adapter for type '{0}'.","launch.config.comment1":"Use IntelliSense to learn about possible attributes.","launch.config.comment2":"Hover to view descriptions of existing attributes.","launch.config.comment3":"For more information, visit: {0}",debugType:"Type of configuration.",debugTypeNotRecognised:"The debug type is not recognized. Make sure that you have a corresponding debug extension installed and that it is enabled.",node2NotSupported:'"node2" is no longer supported, use "node" instead and set the "protocol" attribute to "inspector".',debugName:"Name of configuration; appears in the launch configuration dropdown menu.",debugRequest:'Request type of configuration. Can be "launch" or "attach".',debugServer:"For debug extension development only: if a port is specified VS Code tries to connect to a debug adapter running in server mode",debugPrelaunchTask:"Task to run before debug session starts.",debugPostDebugTask:"Task to run after debug session ends.",debugWindowsConfiguration:"Windows specific launch configuration attributes.",debugOSXConfiguration:"OS X specific launch configuration attributes.",debugLinuxConfiguration:"Linux specific launch configuration attributes."},"vs/workbench/contrib/debug/browser/rawDebugSession":{noDebugAdapterStart:"No debug adapter, can not start debug session.",noDebugAdapter:"No debug adapter found. Can not send '{0}'.",moreInfo:"More Info"},"vs/workbench/contrib/debug/common/debugSchemas":{"vscode.extension.contributes.debuggers":"Contributes debug adapters.","vscode.extension.contributes.debuggers.type":"Unique identifier for this debug adapter.","vscode.extension.contributes.debuggers.label":"Display name for this debug adapter.","vscode.extension.contributes.debuggers.program":"Path to the debug adapter program. Path is either absolute or relative to the extension folder.","vscode.extension.contributes.debuggers.args":"Optional arguments to pass to the adapter.","vscode.extension.contributes.debuggers.runtime":"Optional runtime in case the program attribute is not an executable but requires a runtime.","vscode.extension.contributes.debuggers.runtimeArgs":"Optional runtime arguments.","vscode.extension.contributes.debuggers.variables":"Mapping from interactive variables (e.g. ${action.pickProcess}) in `launch.json` to a command.","vscode.extension.contributes.debuggers.initialConfigurations":"Configurations for generating the initial 'launch.json'.","vscode.extension.contributes.debuggers.languages":'List of languages for which the debug extension could be considered the "default debugger".',"vscode.extension.contributes.debuggers.configurationSnippets":"Snippets for adding new configurations in 'launch.json'.","vscode.extension.contributes.debuggers.configurationAttributes":"JSON schema configurations for validating 'launch.json'.","vscode.extension.contributes.debuggers.windows":"Windows specific settings.","vscode.extension.contributes.debuggers.windows.runtime":"Runtime used for Windows.","vscode.extension.contributes.debuggers.osx":"macOS specific settings.","vscode.extension.contributes.debuggers.osx.runtime":"Runtime used for macOS.","vscode.extension.contributes.debuggers.linux":"Linux specific settings.","vscode.extension.contributes.debuggers.linux.runtime":"Runtime used for Linux.","vscode.extension.contributes.breakpoints":"Contributes breakpoints.","vscode.extension.contributes.breakpoints.language":"Allow breakpoints for this language.",presentation:"Presentation options on how to show this configuration in the debug configuration dropdown and the command palette.","presentation.hidden":"Controls if this configuration should be shown in the configuration dropdown and the command palette.","presentation.group":"Group that this configuration belongs to. Used for grouping and sorting in the configuration dropdown and the command palette.","presentation.order":"Order of this configuration within a group. Used for grouping and sorting in the configuration dropdown and the command palette.","app.launch.json.title":"Launch","app.launch.json.version":"Version of this file format.","app.launch.json.configurations":"List of configurations. Add new configurations or edit existing ones by using IntelliSense.","app.launch.json.compounds":"List of compounds. Each compound references multiple configurations which will get launched together.","app.launch.json.compound.name":"Name of compound. Appears in the launch configuration drop down menu.",useUniqueNames:"Please use unique configuration names.","app.launch.json.compound.folder":"Name of folder in which the compound is located.","app.launch.json.compounds.configurations":"Names of configurations that will be started as part of this compound.",compoundPrelaunchTask:"Task to run before any of the compound configurations start."},"vs/workbench/contrib/emmet/browser/actions/showEmmetCommands":{showEmmetCommands:"Show Emmet Commands",miShowEmmetCommands:"E&&mmet..."},"vs/workbench/contrib/emmet/browser/actions/expandAbbreviation":{expandAbbreviationAction:"Emmet: Expand Abbreviation",miEmmetExpandAbbreviation:"Emmet: E&&xpand Abbreviation"},"vs/workbench/contrib/experiments/browser/experiments.contribution":{"workbench.enableExperiments":"Fetches experiments to run from a Microsoft online service."},"vs/workbench/contrib/extensions/electron-browser/extensions.contribution":{runtimeExtension:"Running Extensions"},"vs/workbench/contrib/extensions/electron-browser/runtimeExtensionsInput":{extensionsInputName:"Running Extensions"},"vs/workbench/contrib/extensions/electron-browser/extensionsActions":{openExtensionsFolder:"Open Extensions Folder"},"vs/workbench/contrib/extensions/electron-browser/extensionProfileService":{profilingExtensionHost:"Profiling Extension Host",selectAndStartDebug:"Click to stop profiling.",profilingExtensionHostTime:"Profiling Extension Host ({0} sec)","status.profiler":"Extension Profiler",restart1:"Profile Extensions",restart2:"In order to profile extensions a restart is required. Do you want to restart '{0}' now?",restart3:"Restart",cancel:"Cancel"},"vs/workbench/contrib/extensions/electron-browser/extensionsAutoProfiler":{"unresponsive-exthost":"The extension '{0}' took a very long time to complete its last operation and it has prevented other extensions from running.",show:"Show Extensions"},"vs/workbench/contrib/extensions/browser/extensions.contribution":{extension:"Extension",extensions:"Extensions",view:"View",extensionsConfigurationTitle:"Extensions",extensionsAutoUpdate:"When enabled, automatically installs updates for extensions. The updates are fetched from a Microsoft online service.",extensionsCheckUpdates:"When enabled, automatically checks extensions for updates. If an extension has an update, it is marked as outdated in the Extensions view. The updates are fetched from a Microsoft online service.",extensionsIgnoreRecommendations:"When enabled, the notifications for extension recommendations will not be shown.",extensionsShowRecommendationsOnlyOnDemand:"When enabled, recommendations will not be fetched or shown unless specifically requested by the user. Some recommendations are fetched from a Microsoft online service.",extensionsCloseExtensionDetailsOnViewChange:"When enabled, editors with extension details will be automatically closed upon navigating away from the Extensions View.",handleUriConfirmedExtensions:"When an extension is listed here, a confirmation prompt will not be shown when that extension handles a URI.",notFound:"Extension '{0}' not found.","workbench.extensions.uninstallExtension.description":"Uninstall the given extension","workbench.extensions.uninstallExtension.arg.name":"Id of the extension to uninstall","id required":"Extension id required.",notInstalled:"Extension '{0}' is not installed. Make sure you use the full extension ID, including the publisher, e.g.: ms-vscode.csharp.","workbench.extensions.search.description":"Search for a specific extension","workbench.extensions.search.arg.name":"Query to use in search",miOpenKeymapExtensions:"&&Keymaps",miOpenKeymapExtensions2:"Keymaps",miPreferencesExtensions:"&&Extensions",miViewExtensions:"E&&xtensions",showExtensions:"Extensions",extensionInfoName:"Name: {0}",extensionInfoId:"Id: {0}",extensionInfoDescription:"Description: {0}",extensionInfoVersion:"Version: {0}",extensionInfoPublisher:"Publisher: {0}",extensionInfoVSMarketplaceLink:"VS Marketplace Link: {0}","workbench.extensions.action.configure":"Extension Settings","workbench.extensions.action.toggleIgnoreExtension":"Sync This Extension"},"vs/workbench/contrib/extensions/electron-browser/runtimeExtensionsEditor":{languageActivation:"Activated because you opened a {0} file",workspaceGenericActivation:"Activated on {0}","unresponsive.title":"Extension has caused the extension host to freeze.",errors:"{0} uncaught errors","disable workspace":"Disable (Workspace)",disable:"Disable",showRuntimeExtensions:"Show Running Extensions",reportExtensionIssue:"Report Issue",debugExtensionHost:"Start Debugging Extension Host",restart1:"Profile Extensions",restart2:"In order to profile extensions a restart is required. Do you want to restart '{0}' now?",restart3:"Restart",cancel:"Cancel","debugExtensionHost.launch.name":"Attach Extension Host",extensionHostProfileStart:"Start Extension Host Profile",stopExtensionHostProfileStart:"Stop Extension Host Profile",saveExtensionHostProfile:"Save Extension Host Profile"},"vs/workbench/contrib/extensions/browser/extensionsViewlet":{marketPlace:"Marketplace",enabledExtensions:"Enabled",disabledExtensions:"Disabled",popularExtensions:"Popular",recommendedExtensions:"Recommended",otherRecommendedExtensions:"Other Recommendations",workspaceRecommendedExtensions:"Workspace Recommendations",builtInExtensions:"Features",builtInThemesExtensions:"Themes",builtInBasicsExtensions:"Programming Languages",installed:"Installed",searchExtensions:"Search Extensions in Marketplace","sort by installs":"Sort By: Install Count","sort by rating":"Sort By: Rating","sort by name":"Sort By: Name",extensionFoundInSection:"1 extension found in the {0} section.",extensionFound:"1 extension found.",extensionsFoundInSection:"{0} extensions found in the {1} section.",extensionsFound:"{0} extensions found.",suggestProxyError:"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.","open user settings":"Open User Settings",outdatedExtensions:"{0} Outdated Extensions","malicious warning":"We have uninstalled '{0}' which was reported to be problematic.",reloadNow:"Reload Now"},"vs/workbench/contrib/extensions/electron-browser/extensionsSlowActions":{"cmd.reportOrShow":"Performance Issue","cmd.report":"Report Issue","attach.title":"Did you attach the CPU-Profile?",ok:"OK","attach.msg":"This is a reminder to make sure that you have not forgotten to attach '{0}' to the issue you have just created.","cmd.show":"Show Issues","attach.msg2":"This is a reminder to make sure that you have not forgotten to attach '{0}' to an existing performance issue."},"vs/workbench/contrib/extensions/common/extensionsFileTemplate":{"app.extensions.json.title":"Extensions","app.extensions.json.recommendations":"List of extensions which should be recommended for users of this workspace. The identifier of an extension is always '${publisher}.${name}'. For example: 'vscode.csharp'.","app.extension.identifier.errorMessage":"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'.","app.extensions.json.unwantedRecommendations":"List of extensions recommended by VS Code that should not be recommended for users of this workspace. The identifier of an extension is always '${publisher}.${name}'. For example: 'vscode.csharp'."},"vs/workbench/contrib/extensions/browser/remoteExtensionsInstaller":{},"vs/workbench/contrib/extensions/common/extensionsInput":{extensionsInputName:"Extension: {0}"},"vs/workbench/contrib/extensions/browser/extensionsQuickAccess":{searchFor:"Press Enter to search for extension '{0}'.",install:"Press Enter to install extension '{0}'.",manage:"Press Enter to manage your extensions."},"vs/workbench/contrib/extensions/browser/extensionsDependencyChecker":{extensions:"Extensions",reload:"Reload Window"},"vs/workbench/contrib/extensions/browser/extensionsActivationProgress":{activation:"Activating Extensions..."},"vs/workbench/contrib/extensions/common/extensionsUtils":{disableOtherKeymapsConfirmation:"Disable other keymaps ({0}) to avoid conflicts between keybindings?",yes:"Yes",no:"No"},"vs/workbench/contrib/extensions/browser/extensionsWorkbenchService":{"Manifest is not found":"Manifest is not found",malicious:"This extension is reported to be problematic.",uninstallingExtension:"Uninstalling extension....",incompatible:"Unable to install extension '{0}' as it is not compatible with VS Code '{1}'.","installing named extension":"Installing '{0}' extension....","installing extension":"Installing extension....",singleDependentError:"Cannot disable extension '{0}'. Extension '{1}' depends on this.",twoDependentsError:"Cannot disable extension '{0}'. Extensions '{1}' and '{2}' depend on this.",multipleDependentsError:"Cannot disable extension '{0}'. Extensions '{1}', '{2}' and others depend on this."},"vs/workbench/contrib/extensions/browser/extensionEditor":{name:"Extension name","extension id":"Extension identifier",preview:"Preview",builtin:"Built-in",publisher:"Publisher name","install count":"Install count",rating:"Rating",repository:"Repository",license:"Licence",details:"Details",detailstooltip:"Extension details, rendered from the extension's 'README.md' file",contributions:"Feature Contributions",contributionstooltip:"Lists contributions to VS Code by this extension",changelog:"Changelog",changelogtooltip:"Extension update history, rendered from the extension's 'CHANGELOG.md' file",dependencies:"Dependencies",dependenciestooltip:"Lists extensions this extension depends on",recommendationHasBeenIgnored:"You have chosen not to receive recommendations for this extension.",noReadme:"No README available.",noChangelog:"No Changelog available.",noContributions:"No Contributions",noDependencies:"No Dependencies",settings:"Settings ({0})","setting name":"Name",description:"Description",default:"Default",debuggers:"Debuggers ({0})","debugger name":"Name","debugger type":"Type",viewContainers:"View Containers ({0})","view container id":"ID","view container title":"Title","view container location":"Where",views:"Views ({0})","view id":"ID","view name":"Name","view location":"Where",localizations:"Localizations ({0})","localizations language id":"Language Id","localizations language name":"Language Name","localizations localized language name":"Language Name (Localized)",codeActions:"Code Actions ({0})","codeActions.title":"Title","codeActions.kind":"Kind","codeActions.description":"Description","codeActions.languages":"Languages",colorThemes:"Color Themes ({0})",iconThemes:"Icon Themes ({0})",colors:"Colours ({0})",colorId:"ID",defaultDark:"Dark Default",defaultLight:"Light Default",defaultHC:"High Contrast Default","JSON Validation":"JSON Validation ({0})",fileMatch:"File Match",schema:"Schema",commands:"Commands ({0})","command name":"Name","keyboard shortcuts":"Keyboard Shortcuts",menuContexts:"Menu Contexts",languages:"Languages ({0})","language id":"ID","language name":"Name","file extensions":"File Extensions",grammar:"Grammar",snippets:"Snippets",find:"Find","find next":"Find Next","find previous":"Find Previous"},"vs/workbench/contrib/extensions/browser/extensionTipsService":{neverShowAgain:"Don't Show Again",searchMarketplace:"Search Marketplace",dynamicWorkspaceRecommendation:"This extension may interest you because it's popular among users of the {0} repository.",exeBasedRecommendation:"This extension is recommended because you have {0} installed.",fileBasedRecommendation:"This extension is recommended based on the files you recently opened.",workspaceRecommendation:"This extension is recommended by users of the current workspace.",workspaceRecommended:"This workspace has extension recommendations.",installAll:"Install All",showRecommendations:"Show Recommendations",exeRecommended:"The '{0}' extension is recommended as you have {1} installed on your system.",install:"Install",ignoreExtensionRecommendations:"Do you want to ignore all extension recommendations?",ignoreAll:"Yes, Ignore All",no:"No",reallyRecommended2:"The '{0}' extension is recommended for this file type.",reallyRecommendedExtensionPack:"The '{0}' extension pack is recommended for this file type.",showLanguageExtensions:"The Marketplace has extensions that can help with '.{0}' files",dontShowAgainExtension:"Don't Show Again for '.{0}' files"},"vs/workbench/contrib/extensions/browser/extensionsViews":{extensions:"Extensions",galleryError:"We cannot connect to the Extensions Marketplace at this time, please try again later.",error:"Error while loading extensions. {0}","no extensions found":"No extensions found.",suggestProxyError:"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.","open user settings":"Open User Settings"},"vs/workbench/contrib/extensions/browser/extensionsViewer":{error:"Error","Unknown Extension":"Unknown Extension:"},"vs/workbench/contrib/extensions/browser/extensionsWidgets":{ratedBySingleUser:"Rated by 1 user",ratedByUsers:"Rated by {0} users",noRating:"No rating","extension-arialabel":"{0}. Press enter for extension details.",viewExtensionDetailsAria:"{0}. Press enter for extension details.","remote extension title":"Extension in {0}"},"vs/workbench/contrib/extensions/browser/extensionsActions":{download:"Download Manually","install vsix":"Once downloaded, please manually install the downloaded VSIX of '{0}'.",noOfYearsAgo:"{0} years ago","one year ago":"1 year ago",noOfMonthsAgo:"{0} months ago","one month ago":"1 month ago",noOfDaysAgo:"{0} days ago","one day ago":"1 day ago",noOfHoursAgo:"{0} hours ago","one hour ago":"1 hour ago","just now":"Just now",install:"Install",installing:"Installing",installExtensionStart:"Installing extension {0} started. An editor is now open with more details on this extension",installExtensionComplete:"Installing extension {0} is completed. Please reload Visual Studio Code to enable it.",failedToInstall:"Failed to install '{0}'.","install locally":"Install Locally",uninstallAction:"Uninstall",Uninstalling:"Uninstalling",uninstallExtensionStart:"Uninstalling extension {0} started.",uninstallExtensionComplete:"Please reload Visual Studio Code to complete the uninstallation of the extension {0}.",updateExtensionStart:"Updating extension {0} to version {1} started.",updateExtensionComplete:"Updating extension {0} to version {1} completed.",failedToUpdate:"Failed to update '{0}'.",updateTo:"Update to {0}",updateAction:"Update",manage:"Manage","ManageExtensionAction.uninstallingTooltip":"Uninstalling","install another version":"Install Another Version...",selectVersion:"Select Version to Install",current:"Current",enableForWorkspaceAction:"Enable (Workspace)",enableGloballyAction:"Enable",disableForWorkspaceAction:"Disable (Workspace)",disableGloballyAction:"Disable",enableAction:"Enable",disableAction:"Disable",checkForUpdates:"Check for Extension Updates",noUpdatesAvailable:"All extensions are up to date.",ok:"OK",singleUpdateAvailable:"An extension update is available.",updatesAvailable:"{0} extension updates are available.",singleDisabledUpdateAvailable:"An update to an extension which is disabled is available.",updatesAvailableOneDisabled:"{0} extension updates are available. One of them is for a disabled extension.",updatesAvailableAllDisabled:"{0} extension updates are available. All of them are for disabled extensions.",updatesAvailableIncludingDisabled:"{0} extension updates are available. {1} of them are for disabled extensions.",enableAutoUpdate:"Enable Auto Updating Extensions",disableAutoUpdate:"Disable Auto Updating Extensions",updateAll:"Update All Extensions",reloadAction:"Reload",reloadRequired:"Reload Required",postUninstallTooltip:"Please reload Visual Studio Code to complete the uninstallation of this extension.",postUpdateTooltip:"Please reload Visual Studio Code to complete the updating of this extension.",postEnableTooltip:"Please reload Visual Studio Code to complete the enabling of this extension.","color theme":"Set Color Theme","select color theme":"Select Color Theme","file icon theme":"Set File Icon Theme","select file icon theme":"Select File Icon Theme","product icon theme":"Set Product Icon Theme","select product icon theme":"Select Product Icon Theme",toggleExtensionsViewlet:"Show Extensions",installExtensions:"Install Extensions",showEnabledExtensions:"Show Enabled Extensions",showInstalledExtensions:"Show Installed Extensions",showDisabledExtensions:"Show Disabled Extensions",clearExtensionsInput:"Clear Extensions Input",showBuiltInExtensions:"Show Built-in Extensions",showOutdatedExtensions:"Show Outdated Extensions",showPopularExtensions:"Show Popular Extensions",showRecommendedExtensions:"Show Recommended Extensions",installWorkspaceRecommendedExtensions:"Install All Workspace Recommended Extensions",installRecommendedExtension:"Install Recommended Extension",ignoreExtensionRecommendation:"Do not recommend this extension again",undo:"Undo",showRecommendedKeymapExtensionsShort:"Keymaps",showLanguageExtensionsShort:"Language Extensions",showAzureExtensionsShort:"Azure Extensions",extensions:"Extensions","OpenExtensionsFile.failed":"Unable to create 'extensions.json' file inside the '.vscode' folder ({0}).",configureWorkspaceRecommendedExtensions:"Configure Recommended Extensions (Workspace)",configureWorkspaceFolderRecommendedExtensions:"Configure Recommended Extensions (Workspace Folder)",addToWorkspaceFolderRecommendations:"Add to Recommended Extensions (Workspace Folder)",addToWorkspaceFolderIgnoredRecommendations:"Ignore Recommended Extension (Workspace Folder)","AddToWorkspaceFolderRecommendations.noWorkspace":"There are no workspace folders open to add recommendations.","AddToWorkspaceFolderRecommendations.alreadyExists":"This extension is already present in this workspace folder's recommendations.","AddToWorkspaceFolderRecommendations.success":"The extension was successfully added to this workspace folder's recommendations.",viewChanges:"View Changes","AddToWorkspaceFolderRecommendations.failure":"Failed to write to extensions.json. {0}","AddToWorkspaceFolderIgnoredRecommendations.alreadyExists":"This extension is already present in this workspace folder's unwanted recommendations.","AddToWorkspaceFolderIgnoredRecommendations.success":"The extension was successfully added to this workspace folder's unwanted recommendations.",addToWorkspaceRecommendations:"Add to Recommended Extensions (Workspace)",addToWorkspaceIgnoredRecommendations:"Ignore Recommended Extension (Workspace)","AddToWorkspaceRecommendations.alreadyExists":"This extension is already present in workspace recommendations.","AddToWorkspaceRecommendations.success":"The extension was successfully added to this workspace's recommendations.","AddToWorkspaceRecommendations.failure":"Failed to write. {0}","AddToWorkspaceUnwantedRecommendations.alreadyExists":"This extension is already present in workspace unwanted recommendations.","AddToWorkspaceUnwantedRecommendations.success":"The extension was successfully added to this workspace's unwanted recommendations.",updated:"Updated",installed:"Installed",uninstalled:"Uninstalled",enabled:"Enabled",disabled:"Disabled","malicious tooltip":"This extension was reported to be problematic.",malicious:"Malicious","syncingore.label":"This extension is ignored during sync.","extension enabled on remote":"Extension is enabled on '{0}'","disabled because of extension kind":"This extension has defined that it cannot run on the remote server",disableAll:"Disable All Installed Extensions",disableAllWorkspace:"Disable All Installed Extensions for this Workspace",enableAll:"Enable All Extensions",enableAllWorkspace:"Enable All Extensions for this Workspace",installVSIX:"Install from VSIX...",installFromVSIX:"Install from VSIX",installButton:"&&Install","InstallVSIXAction.successReload":"Please reload Visual Studio Code to complete installing the extension {0}.","InstallVSIXAction.success":"Installing the extension {0} is completed.","InstallVSIXAction.reloadNow":"Reload Now",reinstall:"Reinstall Extension...",selectExtensionToReinstall:"Select Extension to Reinstall","ReinstallAction.successReload":"Please reload Visual Studio Code to complete reinstalling the extension {0}.","ReinstallAction.success":"Reinstalling the extension {0} is completed.","install previous version":"Install Specific Version of Extension...",selectExtension:"Select Extension","InstallAnotherVersionExtensionAction.successReload":"Please reload Visual Studio Code to complete installing the extension {0}.","InstallAnotherVersionExtensionAction.success":"Installing the extension {0} is completed.","InstallAnotherVersionExtensionAction.reloadNow":"Reload Now","select extensions to install":"Select extensions to install","no local extensions":"There are no extensions to install.","installing extensions":"Installing Extensions...",reload:"Reload Window",extensionButtonProminentBackground:"Button background color for actions extension that stand out (e.g. install button).",extensionButtonProminentForeground:"Button foreground color for actions extension that stand out (e.g. install button).",extensionButtonProminentHoverBackground:"Button background hover colour for actions extension that stand out (e.g. install button)."},"vs/workbench/contrib/externalTerminal/node/externalTerminalService":{"console.title":"VS Code Console","mac.terminal.script.failed":"Script '{0}' failed with exit code {1}","mac.terminal.type.not.supported":"'{0}' not supported","press.any.key":"Press any key to continue...","linux.term.failed":"'{0}' failed with exit code {1}","ext.term.app.not.found":"can't find terminal application '{0}'",terminalConfigurationTitle:"External Terminal","terminal.explorerKind.integrated":"Use VS Code's integrated terminal.","terminal.explorerKind.external":"Use the configured external terminal.","explorer.openInTerminalKind":"Customises what kind of terminal to launch.","terminal.external.windowsExec":"Customizes which terminal to run on Windows.","terminal.external.osxExec":"Customises which terminal application to run on macOS.","terminal.external.linuxExec":"Customizes which terminal to run on Linux."},"vs/workbench/contrib/externalTerminal/browser/externalTerminal.contribution":{globalConsoleAction:"Open New External Terminal",scopedConsoleAction:"Open in Terminal"},"vs/workbench/contrib/feedback/browser/feedbackStatusbarItem":{"status.feedback":"Tweet Feedback",help:"Help"},"vs/workbench/contrib/feedback/browser/feedback":{sendFeedback:"Tweet Feedback","label.sendASmile":"Tweet us your feedback.",close:"Close",patchedVersion1:"Your installation is corrupt.",patchedVersion2:"Please specify this if you submit a bug.",sentiment:"How was your experience?",smileCaption:"Happy Feedback Sentiment",frownCaption:"Sad Feedback Sentiment","other ways to contact us":"Other ways to contact us","submit a bug":"Submit a bug","request a missing feature":"Request a missing feature","tell us why":"Tell us why?",feedbackTextInput:"Tell us your feedback",showFeedback:"Show Feedback Smiley in Status Bar",tweet:"Tweet",tweetFeedback:"Tweet Feedback","character left":"character left","characters left":"characters left"},"vs/workbench/contrib/files/electron-browser/fileActions.contribution":{revealInWindows:"Reveal in File Explorer",revealInMac:"Reveal in Finder",openContainer:"Open Containing Folder",filesCategory:"File"},"vs/workbench/contrib/files/electron-browser/files.contribution":{textFileEditor:"Text File Editor"},"vs/workbench/contrib/files/electron-browser/fileCommands":{openFileToReveal:"Open a file first to reveal"},"vs/workbench/contrib/files/electron-browser/textFileEditor":{fileTooLargeForHeapError:"To open a file of this size, you need to restart and allow it to use more memory",relaunchWithIncreasedMemoryLimit:"Restart with {0} MB",configureMemoryLimit:"Configure Memory Limit"},"vs/workbench/contrib/files/common/editors/fileEditorInput":{orphanedReadonlyFile:"{0} (deleted, read-only)",orphanedFile:"{0} (deleted)",readonlyFile:"{0} (read-only)"},"vs/workbench/contrib/files/browser/files.contribution":{showExplorerViewlet:"Show Explorer",view:"View",binaryFileEditor:"Binary File Editor","hotExit.off":"Disable hot exit. A prompt will show when attempting to close a window with dirty files.","hotExit.onExit":"Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu). All windows without folders opened will be restored upon next launch. A list of workspaces with unsaved files can be accessed via `File > Open Recent > More...`","hotExit.onExitAndWindowClose":"Hot exit will be triggered when the last window is closed on Windows/Linux or when the `workbench.action.quit` command is triggered (command palette, keybinding, menu), and also for any window with a folder opened regardless of whether it's the last window. All windows without folders opened will be restored upon next launch. A list of workspaces with unsaved files can be accessed via `File > Open Recent > More...`",hotExit:"Controls whether unsaved files are remembered between sessions, allowing the save prompt when exiting the editor to be skipped.","hotExit.onExitAndWindowCloseBrowser":"Hot exit will be triggered when the browser quits or the window or tab is closed.",filesConfigurationTitle:"files",exclude:"Configure glob patterns for excluding files and folders. For example, the files explorer decides which files and folders to show or hide based on this setting. Refer to the `#search.exclude#` setting to define search specific excludes. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options).","files.exclude.boolean":"The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.","files.exclude.when":"Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.",associations:'Configure file associations to languages (e.g. `"*.extension": "html"`). These have precedence over the default associations of the languages installed.',encoding:"The default character set encoding to use when reading and writing files. This setting can also be configured per language.",autoGuessEncoding:"When enabled, the editor will attempt to guess the character set encoding when opening files. This setting can also be configured per language.","eol.LF":"LF","eol.CRLF":"CRLF","eol.auto":"Uses operating system specific end of line character.",eol:"The default end of line character.",useTrash:"Moves files/folders to the OS trash (recycle bin on Windows) when deleting. Disabling this will delete files/folders permanently.",trimTrailingWhitespace:"When enabled, will trim trailing whitespace when saving a file.",insertFinalNewline:"When enabled, insert a final new line at the end of the file when saving it.",trimFinalNewlines:"When enabled, will trim all new lines after the final new line at the end of the file when saving it.","files.autoSave.off":"A dirty editor is never automatically saved.","files.autoSave.afterDelay":"A dirty editor is automatically saved after the configured `#files.autoSaveDelay#`.","files.autoSave.onFocusChange":"A dirty editor is automatically saved when the editor loses focus.","files.autoSave.onWindowChange":"A dirty editor is automatically saved when the window loses focus.",autoSave:"Controls auto save of dirty editors. Read more about autosave [here](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save).",autoSaveDelay:"Controls the delay in ms after which a dirty editor is saved automatically. Only applies when `#files.autoSave#` is set to `{0}`.",watcherExclude:"Configure glob patterns of file paths to exclude from file watching. Patterns must match on absolute paths (i.e. prefix with ** or the full path to match properly). Changing this setting requires a restart. When you experience Code consuming lots of CPU time on startup, you can exclude large folders to reduce the initial load.",defaultLanguage:"The default language mode that is assigned to new files. If configured to `${activeEditorLanguage}`, will use the language mode of the currently active text editor if any.",maxMemoryForLargeFilesMB:"Controls the memory available to VS Code after restart when trying to open large files. Has the same effect as specifying `--max-memory=NEWSIZE` on the command line.",askUser:"Will refuse to save and ask for resolving the save conflict manually.",overwriteFileOnDisk:"Will resolve the save conflict by overwriting the file on disk with the changes in the editor.","files.saveConflictResolution":"A save conflict can occur when a file is saved to disk that was changed by another program in the meantime. To prevent data loss, the user is asked to compare the changes in the editor with the version on disk. This setting should only be changed if you frequently encounter save conflict errors and may result in data loss if used without caution.","files.simpleDialog.enable":"Enables the simple file dialog. The simple file dialog replaces the system file dialog when enabled.",formatOnSave:"Format a file on save. A formatter must be available, the file must not be saved after delay, and the editor must not be shutting down.",explorerConfigurationTitle:"File Explorer",openEditorsVisible:"Number of editors shown in the Open Editors pane.",autoReveal:"Controls whether the explorer should automatically reveal and select files when opening them.",enableDragAndDrop:"Controls whether the explorer should allow to move files and folders via drag and drop.",confirmDragAndDrop:"Controls whether the explorer should ask for confirmation to move files and folders via drag and drop.",confirmDelete:"Controls whether the explorer should ask for confirmation when deleting a file via the trash.","sortOrder.default":"Files and folders are sorted by their names, in alphabetical order. Folders are displayed before files.","sortOrder.mixed":"Files and folders are sorted by their names, in alphabetical order. Files are interwoven with folders.","sortOrder.filesFirst":"Files and folders are sorted by their names, in alphabetical order. Files are displayed before folders.","sortOrder.type":"Files and folders are sorted by their extensions, in alphabetical order. Folders are displayed before files.","sortOrder.modified":"Files and folders are sorted by last modified date, in descending order. Folders are displayed before files.",sortOrder:"Controls sorting order of files and folders in the explorer.","explorer.decorations.colors":"Controls whether file decorations should use colours.","explorer.decorations.badges":"Controls whether file decorations should use badges.",simple:'Appends the word "copy" at the end of the duplicated name potentially followed by a number',smart:"Adds a number at the end of the duplicated name. If some number is already part of the name, tries to increase that number","explorer.incrementalNaming":"Controls what naming strategy to use when a giving a new name to a duplicated explorer item on paste.",compressSingleChildFolders:"Controls whether the explorer should render folders in a compact form. In such a form, single child folders will be compressed in a combined tree element. Useful for Java package structures, for example.",miViewExplorer:"&&Explorer"},"vs/workbench/contrib/files/browser/explorerViewlet":{folders:"Folders",explore:"Explorer",noWorkspaceHelp:"You have not yet added a folder to the workspace.\n[Add Folder](command:{0})",remoteNoFolderHelp:"Connected to remote.\n[Open Folder](command:{0})",noFolderHelp:"You have not yet opened a folder.\n[Open Folder](command:{0})"},"vs/workbench/contrib/files/browser/fileActions.contribution":{filesCategory:"File",workspaces:"Workspaces",file:"File",copyPath:"Copy Path",copyRelativePath:"Copy Relative Path",revealInSideBar:"Reveal in Side Bar",acceptLocalChanges:"Use your changes and overwrite file contents",revertLocalChanges:"Discard your changes and revert to file contents",copyPathOfActive:"Copy Path of Active File",copyRelativePathOfActive:"Copy Relative Path of Active File",saveAllInGroup:"Save All in Group",saveFiles:"Save All Files",revert:"Revert File",compareActiveWithSaved:"Compare Active File with Saved",closeEditor:"Close Editor",view:"View",openToSide:"Open to the Side",saveAll:"Save All",compareWithSaved:"Compare with Saved",compareWithSelected:"Compare with Selected",compareSource:"Select for Compare",compareSelected:"Compare Selected",close:"Close",closeOthers:"Close Others",closeSaved:"Close Saved",closeAll:"Close All",cut:"Cut",deleteFile:"Delete Permanently",newFile:"New File",openFile:"Open File...",miNewFile:"&&New File",miSave:"&&Save",miSaveAs:"Save &&As...",miSaveAll:"Save A&&ll",miOpen:"&&Open...",miOpenFile:"&&Open File...",miOpenFolder:"Open &&Folder...",miOpenWorkspace:"Open Wor&&kspace...",miAutoSave:"A&&uto Save",miRevert:"Re&&vert File",miCloseEditor:"&&Close Editor",miGotoFile:"Go to &&File..."},"vs/workbench/contrib/files/browser/editors/textFileEditor":{textFileEditor:"Text File Editor",openFolderError:"File is a directory",createFile:"Create File",readonlyFileEditorWithInputAriaLabel:"{0} readonly editor",readonlyFileEditorAriaLabel:"Readonly editor",fileEditorWithInputAriaLabel:"{0} editor",fileEditorAriaLabel:"Editor"},"vs/workbench/contrib/files/common/workspaceWatcher":{netVersionError:"The Microsoft .NET Framework 4.5 is required. Please follow the link to install it.",installNet:"Download .NET Framework 4.5",enospcError:"Unable to watch for file changes in this large workspace. Please follow the instructions link to resolve this issue.",learnMore:"Instructions"},"vs/workbench/contrib/files/browser/editors/binaryFileEditor":{binaryFileEditor:"Binary File Viewer"},"vs/workbench/contrib/files/common/dirtyFilesIndicator":{dirtyFile:"1 unsaved file",dirtyFiles:"{0} unsaved files"},"vs/workbench/contrib/files/browser/views/emptyView":{noWorkspace:"No Folder Opened"},"vs/workbench/contrib/files/browser/editors/textFileSaveErrorHandler":{userGuide:"Use the actions in the editor tool bar to either undo your changes or overwrite the content of the file with your changes.",staleSaveError:"Failed to save '{0}': The content of the file is newer. Please compare your version with the file contents or overwrite the content of the file with your changes.",retry:"Retry",discard:"Discard",readonlySaveErrorAdmin:"Failed to save '{0}': File is read-only. Select 'Overwrite as Admin' to retry as administrator.",readonlySaveErrorSudo:"Failed to save '{0}': File is read-only. Select 'Overwrite as Sudo' to retry as superuser.",readonlySaveError:"Failed to save '{0}': File is read-only. Select 'Overwrite' to attempt to make it writeable.",permissionDeniedSaveError:"Failed to save '{0}': Insufficient permissions. Select 'Retry as Admin' to retry as administrator.",permissionDeniedSaveErrorSudo:"Failed to save '{0}': Insufficient permissions. Select 'Retry as Sudo' to retry as superuser.",genericSaveError:"Failed to save '{0}': {1}",learnMore:"Learn More",dontShowAgain:"Don't Show Again",compareChanges:"Compare",saveConflictDiffLabel:"{0} (in file) ↔ {1} (in {2}) - Resolve save conflict",overwriteElevated:"Overwrite as Admin...",overwriteElevatedSudo:"Overwrite as Sudo...",saveElevated:"Retry as Admin...",saveElevatedSudo:"Retry as Sudo...",overwrite:"Overwrite",configure:"Configure"},"vs/workbench/contrib/files/browser/views/explorerView":{explorerSection:"Explorer Section: {0}",treeAriaLabel:"Files Explorer"},"vs/workbench/contrib/files/browser/views/openEditorsView":{openEditors:"Open Editors",dirtyCounter:"{0} unsaved"},"vs/workbench/contrib/files/browser/fileCommands":{saveAs:"Save As...",save:"Save",saveWithoutFormatting:"Save without Formatting",saveAll:"Save All",removeFolderFromWorkspace:"Remove Folder from Workspace",modifiedLabel:"{0} (in file) ↔ {1}",openFileToCopy:"Open a file first to copy its path",genericSaveError:"Failed to save '{0}': {1}",genericRevertError:"Failed to revert '{0}': {1}"},"vs/workbench/contrib/files/browser/fileActions":{newFile:"New File",newFolder:"New Folder",rename:"Rename",delete:"Delete",copyFile:"Copy",pasteFile:"Paste",download:"Download",createNewFile:"New File",createNewFolder:"New Folder",newUntitledFile:"New Untitled File",deleteButtonLabelRecycleBin:"&&Move to Recycle Bin",deleteButtonLabelTrash:"&&Move to Trash",deleteButtonLabel:"&&Delete",dirtyMessageFilesDelete:"You are deleting files with unsaved changes. Do you want to continue?",dirtyMessageFolderOneDelete:"You are deleting a folder {0} with unsaved changes in 1 file. Do you want to continue?",dirtyMessageFolderDelete:"You are deleting a folder {0} with unsaved changes in {1} files. Do you want to continue?",dirtyMessageFileDelete:"You are deleting {0} with unsaved changes. Do you want to continue?",dirtyWarning:"Your changes will be lost if you don't save them.",undoBinFiles:"You can restore these files from the Recycle Bin.",undoBin:"You can restore this file from the Recycle Bin.",undoTrashFiles:"You can restore these files from the Trash.",undoTrash:"You can restore this file from the Trash.",doNotAskAgain:"Do not ask me again",irreversible:"This action is irreversible!",binFailed:"Failed to delete using the Recycle Bin. Do you want to permanently delete instead?",trashFailed:"Failed to delete using the Trash. Do you want to permanently delete instead?",deletePermanentlyButtonLabel:"&&Delete Permanently",retryButtonLabel:"&&Retry",confirmMoveTrashMessageFilesAndDirectories:"Are you sure you want to delete the following {0} files/directories and their contents?",confirmMoveTrashMessageMultipleDirectories:"Are you sure you want to delete the following {0} directories and their contents?",confirmMoveTrashMessageMultiple:"Are you sure you want to delete the following {0} files?",confirmMoveTrashMessageFolder:"Are you sure you want to delete '{0}' and its contents?",confirmMoveTrashMessageFile:"Are you sure you want to delete '{0}'?",confirmDeleteMessageFilesAndDirectories:"Are you sure you want to permanently delete the following {0} files/directories and their contents?",confirmDeleteMessageMultipleDirectories:"Are you sure you want to permanently delete the following {0} directories and their contents?",confirmDeleteMessageMultiple:"Are you sure you want to permanently delete the following {0} files?",confirmDeleteMessageFolder:"Are you sure you want to permanently delete '{0}' and its contents?",confirmDeleteMessageFile:"Are you sure you want to permanently delete '{0}'?",globalCompareFile:"Compare Active File With...",openFileToCompare:"Open a file first to compare it with another file.",toggleAutoSave:"Toggle Auto Save",saveAllInGroup:"Save All in Group",closeGroup:"Close Group",focusFilesExplorer:"Focus on Files Explorer",showInExplorer:"Reveal Active File in Side Bar",openFileToShow:"Open a file first to show it in the explorer",collapseExplorerFolders:"Collapse Folders in Explorer",refreshExplorer:"Refresh Explorer",openFileInNewWindow:"Open Active File in New Window","openFileToShowInNewWindow.unsupportedschema":"The active editor must contain an openable resource.","openFileToShowInNewWindow.nofile":"Open a file first to open in new window",emptyFileNameError:"A file or folder name must be provided.",fileNameStartsWithSlashError:"A file or folder name cannot start with a slash.",fileNameExistsError:"A file or folder **{0}** already exists at this location. Please choose a different name.",invalidFileNameError:"The name **{0}** is not valid as a file or folder name. Please choose a different name.",fileNameWhitespaceWarning:"Leading or trailing whitespace detected in file or folder name.",compareWithClipboard:"Compare Active File with Clipboard",clipboardComparisonLabel:"Clipboard ↔ {0}",retry:"Retry",downloadFolder:"Download Folder",downloadFile:"Download File",fileIsAncestor:"File to paste is an ancestor of the destination folder",fileDeleted:"The file to paste has been deleted or moved since you copied it. {0}"},"vs/workbench/contrib/files/browser/views/explorerDecorationsProvider":{canNotResolve:"Unable to resolve workspace folder",symbolicLlink:"Symbolic Link",unknown:"Unknown File Type",label:"Explorer"},"vs/workbench/contrib/files/browser/views/explorerViewer":{fileInputAriaLabel:"Type file name. Press Enter to confirm or Escape to cancel.",confirmOverwrite:"A file or folder with the name '{0}' already exists in the destination folder. Do you want to replace it?",irreversible:"This action is irreversible!",replaceButtonLabel:"&&Replace",copyFolders:"&&Copy Folders",copyFolder:"&&Copy Folder",cancel:"Cancel",copyfolders:"Are you sure to want to copy folders?",copyfolder:"Are you sure to want to copy '{0}'?",addFolders:"&&Add Folders to Workspace",addFolder:"&&Add Folder to Workspace",dropFolders:"Do you want to copy, or add, the folders to the workspace?",dropFolder:"Do you want to copy '{0}' or add '{0}' as a folder to the workspace?",confirmRootsMove:"Are you sure you want to change the order of multiple root folders in your workspace?",confirmMultiMove:"Are you sure you want to move the following {0} files into '{1}'?",confirmRootMove:"Are you sure you want to change the order of root folder '{0}' in your workspace?",confirmMove:"Are you sure you want to move '{0}' into '{1}'?",doNotAskAgain:"Do not ask me again",moveButtonLabel:"&&Move"},"vs/workbench/contrib/format/browser/formatActionsNone":{"formatDocument.label.multiple":"Format Document","no.provider":"There is no formatter for '{0}' files installed.","install.formatter":"Install Formatter..."},"vs/workbench/contrib/format/browser/formatActionsMultiple":{nullFormatterDescription:"None",miss:"Extension '{0}' cannot format '{1}'","config.needed":"There are multiple formatters for '{0}' files. Select a default formatter to continue.","config.bad":"Extension '{0}' is configured as formatter but not available. Select a different default formatter to continue.","do.config":"Configure...",select:"Select a default formatter for '{0}' files","formatter.default":"Defines a default formatter which takes precedence over all other formatter settings. Must be the identifier of an extension contributing a formatter.",def:"(default)",config:"Configure Default Formatter...","format.placeHolder":"Select a formatter","formatDocument.label.multiple":"Format Document With...","formatSelection.label.multiple":"Format Selection With..."},"vs/workbench/contrib/issue/electron-browser/issue.contribution":{help:"Help",reportIssueInEnglish:"Report Issue",developer:"Developer"},"vs/workbench/contrib/issue/electron-browser/issueActions":{openProcessExplorer:"Open Process Explorer",reportPerformanceIssue:"Report Performance Issue"},"vs/workbench/contrib/localizations/browser/localizations.contribution":{updateLocale:"Would you like to change VS Code's UI language to {0} and restart?",activateLanguagePack:"In order to use VS Code in {0}, VS Code needs to restart.",yes:"Yes","restart now":"Restart Now",neverAgain:"Don't Show Again","vscode.extension.contributes.localizations":"Contributes localizations to the editor","vscode.extension.contributes.localizations.languageId":"Id of the language into which the display strings are translated.","vscode.extension.contributes.localizations.languageName":"Name of the language in English.","vscode.extension.contributes.localizations.languageNameLocalized":"Name of the language in contributed language.","vscode.extension.contributes.localizations.translations":"List of translations associated to the language.","vscode.extension.contributes.localizations.translations.id":"Id of VS Code or Extension for which this translation is contributed to. Id of VS Code is always `vscode` and of extension should be in format `publisherId.extensionName`.","vscode.extension.contributes.localizations.translations.id.pattern":"Id should be `vscode` or in format `publisherId.extensionName` for translating VS code or an extension respectively.","vscode.extension.contributes.localizations.translations.path":"A relative path to a file containing translations for the language."},"vs/workbench/contrib/localizations/browser/localizationsActions":{configureLocale:"Configure Display Language",installAdditionalLanguages:"Install additional languages...",chooseDisplayLanguage:"Select Display Language",relaunchDisplayLanguageMessage:"A restart is required for the change in display language to take effect.",relaunchDisplayLanguageDetail:"Press the restart button to restart {0} and change the display language.",restart:"&&Restart"},"vs/workbench/contrib/localizations/browser/minimalTranslations":{showLanguagePackExtensions:"Search language packs in the Marketplace to change the display language to {0}.",searchMarketplace:"Search Marketplace",installAndRestartMessage:"Install language pack to change the display language to {0}.",installAndRestart:"Install and Restart"},"vs/workbench/contrib/logs/electron-browser/logs.contribution":{developer:"Developer"},"vs/workbench/contrib/logs/electron-browser/logsActions":{openLogsFolder:"Open Logs Folder",openExtensionLogsFolder:"Open Extension Logs Folder"},"vs/workbench/contrib/logs/common/logs.contribution":{developer:"Developer",userDataSyncLog:"Preferences Sync",rendererLog:"Window",mainLog:"Main",sharedLog:"Shared",telemetryLog:"Telemetry"},"vs/workbench/contrib/logs/common/logsActions":{setLogLevel:"Set Log Level...",trace:"Trace",debug:"Debug",info:"Info",warn:"Warning",err:"Error",critical:"Critical",off:"Off",selectLogLevel:"Select log level","default and current":"Default & Current",default:"Default",current:"Current",openSessionLogFile:"Open Window Log File (Session)...","sessions placeholder":"Select Session","log placeholder":"Select Log file"},"vs/workbench/contrib/markers/browser/markers.contribution":{copyMarker:"Copy",copyMessage:"Copy Message",focusProblemsList:"Focus problems view",focusProblemsFilter:"Focus problems filter","show multiline":"Show message in multiple lines",problems:"Problems","show singleline":"Show message in single line",clearFiltersText:"Clear filters text",miMarker:"&&Problems","status.problems":"Problems",totalErrors:"{0} Errors",totalWarnings:"{0} Warnings",totalInfos:"{0} Infos",noProblems:"No Problems",manyProblems:"10K+"},"vs/workbench/contrib/markers/browser/markers":{totalProblems:"Total {0} Problems"},"vs/workbench/contrib/markers/browser/messages":{viewCategory:"View","problems.view.toggle.label":"Toggle Problems (Errors, Warnings, Infos)","problems.view.focus.label":"Focus Problems (Errors, Warnings, Infos)","problems.panel.configuration.title":"Problems View","problems.panel.configuration.autoreveal":"Controls whether Problems view should automatically reveal files when opening them.","problems.panel.configuration.showCurrentInStatus":"When enabled shows the current problem in the status bar.","markers.panel.title.problems":"Problems","markers.panel.no.problems.build":"No problems have been detected in the workspace so far.","markers.panel.no.problems.activeFile.build":"No problems have been detected in the current file so far.","markers.panel.no.problems.filters":"No results found with provided filter criteria.","markers.panel.action.moreFilters":"More Filters...","markers.panel.filter.showErrors":"Show Errors","markers.panel.filter.showWarnings":"Show Warnings","markers.panel.filter.showInfos":"Show Information","markers.panel.filter.useFilesExclude":"Hide Excluded Files","markers.panel.filter.activeFile":"Show Active File Only","markers.panel.action.filter":"Filter Problems","markers.panel.action.quickfix":"Show Fixes","markers.panel.filter.ariaLabel":"Filter Problems","markers.panel.filter.placeholder":"Filter. E.g.: text, **/*.ts, !**/node_modules/**","markers.panel.filter.errors":"errors","markers.panel.filter.warnings":"warnings","markers.panel.filter.infos":"infos","markers.panel.single.error.label":"1 Error","markers.panel.multiple.errors.label":"{0} Errors","markers.panel.single.warning.label":"1 Warning","markers.panel.multiple.warnings.label":"{0} Warnings","markers.panel.single.info.label":"1 Info","markers.panel.multiple.infos.label":"{0} Infos","markers.panel.single.unknown.label":"1 Unknown","markers.panel.multiple.unknowns.label":"{0} Unknowns","markers.panel.at.ln.col.number":"[{0}, {1}]","problems.tree.aria.label.resource":"{0} problems in file {1} of folder {2}","problems.tree.aria.label.marker.relatedInformation":" This problem has references to {0} locations.","problems.tree.aria.label.error.marker":"Error generated by {0}: {1} at line {2} and character {3}.{4}","problems.tree.aria.label.error.marker.nosource":"Error: {0} at line {1} and character {2}.{3}","problems.tree.aria.label.warning.marker":"Warning generated by {0}: {1} at line {2} and character {3}.{4}","problems.tree.aria.label.warning.marker.nosource":"Warning: {0} at line {1} and character {2}.{3}","problems.tree.aria.label.info.marker":"Info generated by {0}: {1} at line {2} and character {3}.{4}","problems.tree.aria.label.info.marker.nosource":"Info: {0} at line {1} and character {2}.{3}","problems.tree.aria.label.marker":"Problem generated by {0}: {1} at line {2} and character {3}.{4}","problems.tree.aria.label.marker.nosource":"Problem: {0} at line {1} and character {2}.{3}","problems.tree.aria.label.relatedinfo.message":"{0} at line {1} and character {2} in {3}","errors.warnings.show.label":"Show Errors and Warnings"},"vs/workbench/contrib/markers/browser/markersFileDecorations":{label:"Problems","tooltip.1":"1 problem in this file","tooltip.N":"{0} problems in this file","markers.showOnFile":"Show Errors & Warnings on files and folder."},"vs/workbench/contrib/markers/browser/markersViewActions":{"showing filtered problems":"Showing {0} of {1}"},"vs/workbench/contrib/markers/browser/markersView":{collapseAll:"Collapse All",filter:"Filter","No problems filtered":"Showing {0} problems","problems filtered":"Showing {0} of {1} problems",clearFilter:"Clear Filters"},"vs/workbench/contrib/markers/browser/markersTreeViewer":{"single line":"Show message in single line","multi line":"Show message in multiple lines","links.navigate.follow":"Follow link","links.navigate.kb.meta":"ctrl + click","links.navigate.kb.meta.mac":"cmd + click","links.navigate.kb.alt.mac":"option + click","links.navigate.kb.alt":"alt + click"},"vs/workbench/contrib/notebook/browser/notebook.contribution":{notebookConfigurationTitle:"Notebook","notebook.displayOrder.description":"Priority list for output mime types"},"vs/workbench/contrib/notebook/browser/contrib/notebookActions":{"notebookActions.category":"Notebook","notebookActions.execute":"Execute Cell","notebookActions.cancel":"Stop Execution","notebookActions.executeCell":"Execute Cell","notebookActions.CancelCell":"Cancel Execution","notebookActions.executeAndSelectBelow":"Execute Notebook Cell and Select Below","notebookActions.executeAndInsertBelow":"Execute Notebook Cell and Insert Below","notebookActions.executeNotebook":"Execute Notebook","notebookActions.cancelNotebook":"Cancel Notebook Execution","notebookActions.executeNotebookCell":"Execute Notebook Active Cell","notebookActions.quitEditing":"Quit Notebook Cell Editing","notebookActions.hideFind":"Hide Find in Notebook","notebookActions.findInNotebook":"Find in Notebook","notebookActions.menu.executeNotebook":"Execute Notebook (Run all cells)","notebookActions.menu.cancelNotebook":"Stop Notebook Execution","notebookActions.menu.execute":"Execute Notebook Cell","notebookActions.changeCellToCode":"Change Cell to Code","notebookActions.changeCellToMarkdown":"Change Cell to Markdown","notebookActions.insertCodeCellAbove":"Insert Code Cell Above","notebookActions.insertCodeCellBelow":"Insert Code Cell Below","notebookActions.insertMarkdownCellBelow":"Insert Markdown Cell Below","notebookActions.insertMarkdownCellAbove":"Insert Markdown Cell Above","notebookActions.editCell":"Edit Cell","notebookActions.saveCell":"Save Cell","notebookActions.deleteCell":"Delete Cell","notebookActions.moveCellUp":"Move Cell Up","notebookActions.copyCellUp":"Copy Cell Up","notebookActions.moveCellDown":"Move Cell Down","notebookActions.copyCellDown":"Copy Cell Down"},"vs/workbench/contrib/notebook/browser/notebookEditor":{"notebook.focusedCellIndicator":"The color of the focused notebook cell indicator.","notebook.outputContainerBackgroundColor":"The Color of the notebook output container background.",cellToolbarSeperator:"The color of seperator in Cell bottom toolbar"},"vs/workbench/contrib/notebook/browser/extensionPoint":{"contributes.notebook.provider":"Contributes notebook document provider.","contributes.notebook.provider.viewType":"Unique identifier of the notebook.","contributes.notebook.provider.displayName":"Human readable name of the notebook.","contributes.notebook.provider.selector":"Set of globs that the notebook is for.","contributes.notebook.provider.selector.filenamePattern":"Glob that the notebook is enabled for.","contributes.notebook.selector.provider.excludeFileNamePattern":"Glob that the notebook is disabled for.","contributes.notebook.renderer":"Contributes notebook output renderer provider.","contributes.notebook.renderer.viewType":"Unique identifier of the notebook output renderer.","contributes.notebook.renderer.displayName":"Human readable name of the notebook output renderer.","contributes.notebook.selector":"Set of globs that the notebook is for."},"vs/workbench/contrib/notebook/browser/view/renderers/codeCell":{curruentActiveMimeType:" (Currently Active)","promptChooseMimeType.placeHolder":"Select output mimetype to render for current output"},"vs/workbench/contrib/outline/browser/outline.contribution":{name:"Outline",outlineConfigurationTitle:"Outline","outline.showIcons":"Render Outline Elements with Icons.","outline.showProblem":"Show Errors & Warnings on Outline Elements.","outline.problem.colors":"Use colors for Errors & Warnings.","outline.problems.badges":"Use badges for Errors & Warnings.","filteredTypes.file":"When enabled outline shows `file`-symbols.","filteredTypes.module":"When enabled outline shows `module`-symbols.","filteredTypes.namespace":"When enabled outline shows `namespace`-symbols.","filteredTypes.package":"When enabled outline shows `package`-symbols.","filteredTypes.class":"When enabled outline shows `class`-symbols.","filteredTypes.method":"When enabled outline shows `method`-symbols.","filteredTypes.property":"When enabled outline shows `property`-symbols.","filteredTypes.field":"When enabled outline shows `field`-symbols.","filteredTypes.constructor":"When enabled outline shows `constructor`-symbols.","filteredTypes.enum":"When enabled outline shows `enum`-symbols.","filteredTypes.interface":"When enabled outline shows `interface`-symbols.","filteredTypes.function":"When enabled outline shows `function`-symbols.","filteredTypes.variable":"When enabled outline shows `variable`-symbols.","filteredTypes.constant":"When enabled outline shows `constant`-symbols.","filteredTypes.string":"When enabled outline shows `string`-symbols.","filteredTypes.number":"When enabled outline shows `number`-symbols.","filteredTypes.boolean":"When enabled outline shows `boolean`-symbols.","filteredTypes.array":"When enabled outline shows `array`-symbols.","filteredTypes.object":"When enabled outline shows `object`-symbols.","filteredTypes.key":"When enabled outline shows `key`-symbols.","filteredTypes.null":"When enabled outline shows `null`-symbols.","filteredTypes.enumMember":"When enabled outline shows `enumMember`-symbols.","filteredTypes.struct":"When enabled outline shows `struct`-symbols.","filteredTypes.event":"When enabled outline shows `event`-symbols.","filteredTypes.operator":"When enabled outline shows `operator`-symbols.","filteredTypes.typeParameter":"When enabled outline shows `typeParameter`-symbols."},"vs/workbench/contrib/outline/browser/outlinePane":{collapse:"Collapse All",sortByPosition:"Sort By: Position",sortByName:"Sort By: Name",sortByKind:"Sort By: Category",followCur:"Follow Cursor",filterOnType:"Filter on Type","no-editor":"The active editor cannot provide outline information.",loading:"Loading document symbols for '{0}'...","no-symbols":"No symbols found in document '{0}'"},"vs/workbench/contrib/output/browser/output.contribution":{output:"Output",logViewer:"Log Viewer","switchToOutput.label":"Switch to Output","clearOutput.label":"Clear Output",viewCategory:"View",outputCleared:"Output was cleared",toggleAutoScroll:"Toggle Auto Scrolling",outputScrollOff:"Turn Auto Scrolling Off",outputScrollOn:"Turn Auto Scrolling On",openActiveLogOutputFile:"Open Log Output File",toggleOutput:"Toggle Output",developer:"Developer",showLogs:"Show Logs...",selectlog:"Select Log",openLogFile:"Open Log File...",selectlogFile:"Select Log file",miToggleOutput:"&&Output","output.smartScroll.enabled":"Enable/disable the ability of smart scrolling in the output view. Smart scrolling allows you to lock scrolling automatically when you click in the output view and unlocks when you click in the last line."},"vs/workbench/contrib/output/browser/outputView":{"output model title":"{0} - Output",channel:"Output channel for '{0}'",output:"Output",outputViewWithInputAriaLabel:"{0}, Output panel",outputViewAriaLabel:"Output panel",outputChannels:"Output Channels.",logChannel:"Log ({0})"},"vs/workbench/contrib/output/browser/logViewer":{logViewerAriaLabel:"Log Viewer"},"vs/workbench/contrib/performance/electron-browser/performance.contribution":{"show.cat":"Developer","show.label":"Startup Performance"},"vs/workbench/contrib/performance/electron-browser/startupProfiler":{"prof.message":"Successfully created profiles.","prof.detail":"Please create an issue and manually attach the following files:\n{0}","prof.restartAndFileIssue":"Create Issue and Restart","prof.restart":"Restart","prof.thanks":"Thanks for helping us.","prof.detail.restart":"A final restart is required to continue to use '{0}'. Again, thank you for your contribution."},"vs/workbench/contrib/performance/electron-browser/perfviewEditor":{name:"Startup Performance"},"vs/workbench/contrib/preferences/browser/keybindingsEditorContribution":{"defineKeybinding.start":"Define Keybinding","defineKeybinding.kbLayoutErrorMessage":"You won't be able to produce this key combination under your current keyboard layout.","defineKeybinding.kbLayoutLocalAndUSMessage":"**{0}** for your current keyboard layout (**{1}** for US standard).","defineKeybinding.kbLayoutLocalMessage":"**{0}** for your current keyboard layout."},"vs/workbench/contrib/preferences/browser/preferences.contribution":{defaultPreferencesEditor:"Default Preferences Editor",settingsEditor2:"Settings Editor 2",keybindingsEditor:"Keybindings Editor",openSettings2:"Open Settings (UI)",preferences:"Preferences",settings:"Settings",miOpenSettings:"&&Settings",openSettingsJson:"Open Settings (JSON)",openGlobalSettings:"Open User Settings",openRawDefaultSettings:"Open Default Settings (JSON)",openWorkspaceSettings:"Open Workspace Settings",openWorkspaceSettingsFile:"Open Workspace Settings (JSON)",openFolderSettings:"Open Folder Settings",openFolderSettingsFile:"Open Folder Settings (JSON)",filterModifiedLabel:"Show modified settings",filterOnlineServicesLabel:"Show settings for online services",miOpenOnlineSettings:"&&Online Services Settings",onlineServices:"Online Services Settings",openRemoteSettings:"Open Remote Settings ({0})","settings.focusSearch":"Focus settings search","settings.clearResults":"Clear settings search results","settings.focusFile":"Focus settings file","settings.focusNextSetting":"Focus next setting","settings.focusPreviousSetting":"Focus previous setting","settings.editFocusedSetting":"Edit focused setting","settings.focusSettingsList":"Focus settings list","settings.focusSettingsTOC":"Focus settings TOC tree","settings.showContextMenu":"Show context menu",openGlobalKeybindings:"Open Keyboard Shortcuts","Keyboard Shortcuts":"Keyboard Shortcuts",openDefaultKeybindingsFile:"Open Default Keyboard Shortcuts (JSON)",openGlobalKeybindingsFile:"Open Keyboard Shortcuts (JSON)",showDefaultKeybindings:"Show Default Keybindings",showUserKeybindings:"Show User Keybindings",clear:"Clear Search Results",miPreferences:"&&Preferences"},"vs/workbench/contrib/preferences/browser/keybindingWidgets":{"defineKeybinding.initial":"Press desired key combination and then press ENTER.","defineKeybinding.oneExists":"1 existing command has this keybinding","defineKeybinding.existing":"{0} existing commands have this keybinding","defineKeybinding.chordsTo":"chord to"},"vs/workbench/contrib/preferences/browser/preferencesActions":{configureLanguageBasedSettings:"Configure Language Specific Settings...",languageDescriptionConfigured:"({0})",pickLanguage:"Select Language"},"vs/workbench/contrib/preferences/common/preferencesContribution":{enableNaturalLanguageSettingsSearch:"Controls whether to enable the natural language search mode for settings. The natural language search is provided by a Microsoft online service.","settingsSearchTocBehavior.hide":"Hide the Table of Contents while searching.","settingsSearchTocBehavior.filter":"Filter the Table of Contents to just categories that have matching settings. Clicking a category will filter the results to that category.",settingsSearchTocBehavior:"Controls the behaviour of the settings editor Table of Contents while searching."},"vs/workbench/contrib/preferences/browser/preferencesWidgets":{defaultSettings:"Place your settings in the right hand side editor to override.",noSettingsFound:"No Settings Found.",settingsSwitcherBarAriaLabel:"Settings Switcher",userSettings:"User",userSettingsRemote:"Remote",workspaceSettings:"workspace",folderSettings:"Folder"},"vs/workbench/contrib/preferences/browser/preferencesEditor":{"SearchSettingsWidget.AriaLabel":"Search settings","SearchSettingsWidget.Placeholder":"Search settings",noSettingsFound:"No Settings Found",oneSettingFound:"1 Setting Found",settingsFound:"{0} Settings Found",totalSettingsMessage:"Total {0} Settings",nlpResult:"Natural Language Results",filterResult:"Filtered Results",defaultSettings:"Default Settings",defaultUserSettings:"Default User Settings",defaultWorkspaceSettings:"Default Workspace Settings",defaultFolderSettings:"Default Folder Settings",defaultEditorReadonly:"Edit in the right hand side editor to override defaults.",preferencesAriaLabel:"Default preferences. Readonly editor."},"vs/workbench/contrib/preferences/browser/keybindingsEditor":{recordKeysLabel:"Record Keys",recordKeysLabelWithKeybinding:"{0} ({1})",sortByPrecedeneLabel:"Sort by Precedence",sortByPrecedeneLabelWithKeybinding:"{0} ({1})","SearchKeybindings.FullTextSearchPlaceholder":"Type to search in keybindings","SearchKeybindings.KeybindingsSearchPlaceholder":"Recording Keys. Press Escape to exit",clearInput:"Clear Keybindings Search Input",recording:"Recording Keys",command:"Command",keybinding:"Keybinding",when:"When",source:"Source",keybindingsLabel:"Keybindings","show sorted keybindings":"Showing {0} Keybindings in precedence order","show keybindings":"Showing {0} Keybindings in alphabetical order",changeLabel:"Change Keybinding",addLabel:"Add Keybinding",editWhen:"Change When Expression",removeLabel:"Remove Keybinding",resetLabel:"Reset Keybinding",showSameKeybindings:"Show Same Keybindings",copyLabel:"Copy",copyCommandLabel:"Copy Command ID",error:"Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.",editKeybindingLabelWithKey:"Change Keybinding {0}",editKeybindingLabel:"Change Keybinding",addKeybindingLabelWithKey:"Add Keybinding {0}",addKeybindingLabel:"Add Keybinding",title:"{0} ({1})",keybindingAriaLabel:"Keybinding is {0}.",noKeybinding:"No Keybinding assigned.",sourceAriaLabel:"Source is {0}.",whenContextInputAriaLabel:"Type when context. Press Enter to confirm or Escape to cancel.",whenAriaLabel:"When is {0}.",noWhen:"No when context."},"vs/workbench/contrib/preferences/browser/settingsEditor2":{settingsContextMenuAriaShortcut:"For more actions, Press {0}.",clearInput:"Clear Settings Search Input","SearchSettings.AriaLabel":"Search settings",noResults:"No Settings Found",clearSearchFilters:"Clear Filters",settingsNoSaveNeeded:"Your changes are automatically saved as you edit.",oneResult:"1 Setting Found",moreThanOneResult:"{0} Settings Found",turnOnSyncButton:"Turn on Preferences Sync",lastSyncedLabel:"Last synced: {0}"},"vs/workbench/contrib/preferences/browser/settingsLayout":{commonlyUsed:"Commonly Used",textEditor:"Text Editor",cursor:"Cursor",find:"Find",font:"Font",formatting:"Formatting",diffEditor:"Diff Editor",minimap:"Minimap",suggestions:"Suggestions",files:"files",workbench:"Workbench",appearance:"Appearance",breadcrumbs:"Breadcrumbs",editorManagement:"Editor Management",settings:"Settings Editor",zenMode:"Zen Mode",screencastMode:"Screencast Mode",window:"Window",newWindow:"New Window",features:"Features",fileExplorer:"Explorer",search:"Search",debug:"Debug",scm:"SCM",extensions:"Extensions",terminal:"Terminal",task:"Task",problems:"Problems",output:"Output",comments:"Comments",remote:"Remote",timeline:"Timeline",application:"Application",proxy:"Proxy",keyboard:"Keyboard",update:"Update",telemetry:"Telemetry",sync:"Sync"},"vs/workbench/contrib/preferences/browser/tocTree":{groupRowAriaLabel:"{0}, group"},"vs/workbench/contrib/preferences/browser/settingsTreeModels":{workspace:"workspace",remote:"Remote",user:"User"},"vs/workbench/contrib/preferences/browser/settingsWidgets":{headerForeground:"The foreground color for a section header or active title.",modifiedItemForeground:"The color of the modified setting indicator.",settingsDropdownBackground:"Settings editor dropdown background.",settingsDropdownForeground:"Settings editor dropdown foreground.",settingsDropdownBorder:"Settings editor dropdown border.",settingsDropdownListBorder:"Settings editor dropdown list border. This surrounds the options and separates the options from the description.",settingsCheckboxBackground:"Settings editor checkbox background.",settingsCheckboxForeground:"Settings editor checkbox foreground.",settingsCheckboxBorder:"Settings editor checkbox border.",textInputBoxBackground:"Settings editor text input box background.",textInputBoxForeground:"Settings editor text input box foreground.",textInputBoxBorder:"Settings editor text input box border.",numberInputBoxBackground:"Settings editor number input box background.",numberInputBoxForeground:"Settings editor number input box foreground.",numberInputBoxBorder:"Settings editor number input box border.",removeItem:"Remove Item",editItem:"Edit Item",editItemInSettingsJson:"Edit Item in settings.json",addItem:"Add Item",itemInputPlaceholder:"String Item...",listSiblingInputPlaceholder:"Sibling...",listValueHintLabel:"List item `{0}`",listSiblingHintLabel:"List item `{0}` with sibling `${1}`",okButton:"OK",cancelButton:"Cancel",removeExcludeItem:"Remove Exclude Item",editExcludeItem:"Edit Exclude Item",editExcludeItemInSettingsJson:"Edit Exclude Item in settings.json",addPattern:"Add Pattern",excludePatternInputPlaceholder:"Exclude Pattern...",excludeSiblingInputPlaceholder:"When Pattern Is Present...",excludePatternHintLabel:"Exclude files matching `{0}`",excludeSiblingHintLabel:"Exclude files matching `{0}`, only when a file matching `{1}` is present"},"vs/workbench/contrib/preferences/browser/preferencesRenderers":{emptyUserSettingsHeader:"Place your settings here to override the Default Settings.",emptyWorkspaceSettingsHeader:"Place your settings here to override the User Settings.",emptyFolderSettingsHeader:"Place your folder settings here to override those from the Workspace Settings.",editTtile:"Edit",replaceDefaultValue:"Replace in Settings",copyDefaultValue:"Copy to Settings","unknown configuration setting":"Unknown Configuration Setting",unsupportedRemoteMachineSetting:"This setting cannot be applied in this window. It will be applied when you open local window.",unsupportedWindowSetting:"This setting cannot be applied in this workspace. It will be applied when you open the containing workspace folder directly.",unsupportedApplicationSetting:"This setting can be applied only in application user settings",unsupportedMachineSetting:"This setting can only be applied in user settings in local window or in remote settings in remote window.",unsupportedProperty:"Unsupported Property"},"vs/workbench/contrib/preferences/browser/settingsTree":{extensions:"Extensions",extensionSyncIgnoredLabel:"Sync: Ignored",modified:"Modified",settingsContextMenuTitle:"More Actions... ",alsoConfiguredIn:"Also modified in",configuredIn:"Modified in","settings.Modified":" Modified. ",newExtensionsButtonLabel:"Show matching extensions",editInSettingsJson:"Edit in settings.json","settings.Default":"{0}",resetSettingLabel:"Reset Setting",validationError:"Validation Error.",treeAriaLabel:"Settings",copySettingIdLabel:"Copy Setting ID",copySettingAsJSONLabel:"Copy Setting as JSON",stopSyncingSetting:"Sync This Setting"},"vs/workbench/contrib/quickaccess/browser/quickAccess.contribution":{helpQuickAccessPlaceholder:"Type '{0}' to get help on the actions you can take from here.",helpQuickAccess:"Show all Quick Access Providers",viewQuickAccessPlaceholder:"Type the name of a view, output channel or terminal to open.",viewQuickAccess:"Open View",commandsQuickAccessPlaceholder:"Type the name of a command to run.",commandsQuickAccess:"Show and Run Commands",miCommandPalette:"&&Command Palette...",miOpenView:"&&Open View...",miGotoSymbolInEditor:"Go to &&Symbol in Editor...",miGotoLine:"Go to &&Line/Column...",commandPalette:"Command Palette...",view:"View"},"vs/workbench/contrib/quickaccess/browser/commandsQuickAccess":{commandWithCategory:"{0}: {1}",showTriggerActions:"Show All Commands",clearCommandHistory:"Clear Command History"},"vs/workbench/contrib/quickaccess/browser/viewQuickAccess":{views:"Side Bar",panels:"Panel",terminalTitle:"{0}: {1}",terminals:"Terminal",logChannel:"Log ({0})",channels:"Output",openView:"Open View",quickOpenView:"Quick Open View"},"vs/workbench/contrib/quickopen/browser/quickopen.contribution":{view:"View",commandsHandlerDescriptionDefault:"Show and Run Commands",gotoLineDescriptionMac:"Go to Line/Column",gotoLineDescriptionWin:"Go to Line/Column",gotoSymbolDescription:"Go to Symbol in Editor",gotoSymbolDescriptionScoped:"Go to Symbol in Editor by Category",helpDescription:"Show Help",viewPickerDescription:"Open View",miCommandPalette:"&&Command Palette...",miOpenView:"&&Open View...",miGotoSymbolInEditor:"Go to &&Symbol in Editor...",miGotoLine:"Go to &&Line/Column...",commandPalette:"Command Palette..."},"vs/workbench/contrib/quickopen/browser/helpHandler":{entryAriaLabel:"{0}, picker help",globalCommands:"global commands",editorCommands:"editor commands"},"vs/workbench/contrib/quickopen/browser/gotoLineHandler":{gotoLine:"Go to Line/Column...",gotoLineLabelEmptyWithLimit:"Current Line: {0}, Column: {1}. Type a line number between 1 and {2} to navigate to.",gotoLineLabelEmpty:"Current Line: {0}, Column: {1}. Type a line number to navigate to.",gotoLineColumnLabel:"Go to line {0} and column {1}.",gotoLineLabel:"Go to line {0}.",cannotRunGotoLine:"Open a text file first to go to a line."},"vs/workbench/contrib/quickopen/browser/viewPickerHandler":{entryAriaLabel:"{0}, view picker",views:"Side Bar",panels:"Panel",terminals:"Terminal",terminalTitle:"{0}: {1}",channels:"Output",logChannel:"Log ({0})",openView:"Open View",quickOpenView:"Quick Open View"},"vs/workbench/contrib/quickopen/browser/gotoSymbolHandler":{property:"properties ({0})",method:"methods ({0})",function:"functions ({0})",_constructor:"constructors ({0})",variable:"variables ({0})",class:"classes ({0})",struct:"structs ({0})",event:"events ({0})",operator:"operators ({0})",interface:"interfaces ({0})",namespace:"namespaces ({0})",package:"packages ({0})",typeParameter:"type parameters ({0})",modules:"modules ({0})",enum:"enumerations ({0})",enumMember:"enumeration members ({0})",string:"strings ({0})",file:"files ({0})",array:"arrays ({0})",number:"numbers ({0})",boolean:"booleans ({0})",object:"objects ({0})",key:"keys ({0})",field:"fields ({0})",constant:"constants ({0})",gotoSymbol:"Go to Symbol in Editor...",symbols:"symbols ({0})",entryAriaLabel:"{0}, symbols",noSymbolsMatching:"No symbols matching",noSymbolsFound:"No symbols found",gotoSymbolHandlerAriaLabel:"Type to narrow down symbols of the currently active editor.",cannotRunGotoSymbolInFile:"No symbol information for the file",cannotRunGotoSymbol:"Open a text file first to go to a symbol"},"vs/workbench/contrib/quickopen/browser/commandsHandler":{showTriggerActions:"Show All Commands",clearCommandHistory:"Clear Command History","showCommands.label":"Command Palette...",entryAriaLabelWithKey:"{0}, {1}, commands",entryAriaLabel:"{0}, commands",actionNotEnabled:"Command '{0}' is not enabled in the current context.",canNotRun:"Command '{0}' resulted in an error.",recentlyUsed:"recently used",morecCommands:"other commands","cat.title":"{0}: {1}",noCommandsMatching:"No commands matching"},"vs/workbench/contrib/relauncher/browser/relauncher.contribution":{relaunchSettingMessage:"A setting has changed that requires a restart to take effect.",relaunchSettingMessageWeb:"A setting has changed that requires a reload to take effect.",relaunchSettingDetail:"Press the restart button to restart {0} and enable the setting.",relaunchSettingDetailWeb:"Press the reload button to reload {0} and enable the setting.",restart:"&&Restart",restartWeb:"&&Reload"},"vs/workbench/contrib/remote/electron-browser/remote.contribution":{remote:"Remote","remote.downloadExtensionsLocally":"When enabled extensions are downloaded locally and installed on remote.","remote.restoreForwardedPorts":"Restores the ports you forwarded in a workspace."},"vs/workbench/contrib/remote/common/remote.contribution":{remoteExtensionLog:"Remote Server",ui:"UI extension kind. In a remote window, such extensions are enabled only when available on the local machine.",workspace:"Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.",remote:"Remote","remote.extensionKind":"Override the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions are run on the remote. By overriding an extension's default kind using this setting, you specify if that extension should be installed and enabled locally or remotely."},"vs/workbench/contrib/remote/browser/remote":{RemoteHelpInformationExtPoint:"Contributes help information for Remote","RemoteHelpInformationExtPoint.getStarted":"The url to your project's Getting Started page","RemoteHelpInformationExtPoint.documentation":"The url to your project's documentation page","RemoteHelpInformationExtPoint.feedback":"The url to your project's feedback reporter","RemoteHelpInformationExtPoint.issues":"The url to your project's issues list","remote.help.getStarted":"Get Started","remote.help.documentation":"Read Documentation","remote.help.feedback":"Provide Feedback","remote.help.issues":"Review Issues","remote.help.report":"Report Issue",pickRemoteExtension:"Select url to open","remote.help":"Help and feedback","remote.explorer":"Remote Explorer",toggleRemoteViewlet:"Show Remote Explorer",view:"View",reconnectionWaitOne:"Attempting to reconnect in {0} second...",reconnectionWaitMany:"Attempting to reconnect in {0} seconds...",reconnectNow:"Reconnect Now",reloadWindow:"Reload Window",connectionLost:"Connection Lost",reconnectionRunning:"Attempting to reconnect...",reconnectionPermanentFailure:"Cannot reconnect. Please reload the window.",cancel:"Cancel"},"vs/workbench/contrib/remote/browser/explorerViewItems":{remotes:"Switch Remote","remote.explorer.switch":"Switch Remote"},"vs/workbench/contrib/remote/browser/remoteIndicator":{"remote.category":"Remote","remote.showMenu":"Show Remote Menu","remote.close":"Close Remote Connection",miCloseRemote:"Close Re&&mote Connection","host.open":"Opening Remote...","host.tooltip":"Editing on {0}",disconnectedFrom:"Disconnected from","host.tooltipDisconnected":"Disconnected from {0}","noHost.tooltip":"Open a remote window","status.host":"Remote Host","cat.title":"{0}: {1}","closeRemote.title":"Close Remote Connection"},"vs/workbench/contrib/remote/browser/tunnelView":{"remote.tunnelsView.add":"Forward a Port...","remote.tunnelsView.forwarded":"Forwarded","remote.tunnelsView.detected":"Existing Tunnels","remote.tunnelsView.candidates":"Not Forwarded","remote.tunnelsView.input":"Press Enter to confirm or Escape to cancel.","remote.tunnelsView.forwardedPortLabel0":"{0}","remote.tunnelsView.forwardedPortLabel2":"{0}:{1} → {2}","remote.tunnelsView.forwardedPortLabel3":"{0} → {1}","remote.tunnelsView.forwardedPortLabel4":"{0}:{1}","remote.tunnelsView.forwardedPortLabel5":"{0}","remote.tunnelsView.forwardedPortDescription0":"{0} to {1}","remote.tunnel":"Forwarded Ports","remote.tunnel.label":"Set Label","remote.tunnelsView.labelPlaceholder":"Port label","remote.tunnelsView.portNumberValid":"Forwarded port is invalid.","remote.tunnelsView.portNumberToHigh":"Port number must be ≥ 0 and < {0}.","remote.tunnel.forward":"Forward a Port","remote.tunnel.forwardItem":"Forward Port","remote.tunnel.forwardPrompt":"Port number or address (eg. 3000 or 10.10.10.10:2000).","remote.tunnel.forwardError":"Unable to forward {0}:{1}. The host may not be available or that remote port may already be forwarded","remote.tunnel.closeNoPorts":"No ports currently forwarded. Try running the {0} command","remote.tunnel.close":"Stop Forwarding Port","remote.tunnel.closePlaceholder":"Choose a port to stop forwarding","remote.tunnel.open":"Open in Browser","remote.tunnel.copyAddressInline":"Copy Address","remote.tunnel.copyAddressCommandPalette":"Copy Forwarded Port Address","remote.tunnel.copyAddressPlaceholdter":"Choose a forwarded port","remote.tunnel.refreshView":"Refresh","remote.tunnel.changeLocalPort":"Change Local Port","remote.tunnel.changeLocalPortNumber":"The local port {0} is not available. Port number {1} has been used instead","remote.tunnelsView.changePort":"New local port"},"vs/workbench/contrib/scm/browser/scm.contribution":{toggleGitViewlet:"Show Git","source control":"Source Control",toggleSCMViewlet:"Show SCM",view:"View",scmConfigurationTitle:"SCM",alwaysShowProviders:"Controls whether to show the Source Control Provider section even when there's only one Provider registered.",providersVisible:"Controls how many providers are visible in the Source Control Provider section. Set to `0` to be able to manually resize the view.","scm.diffDecorations.all":"Show the diff decorations in all available locations.","scm.diffDecorations.gutter":"Show the diff decorations only in the editor gutter.","scm.diffDecorations.overviewRuler":"Show the diff decorations only in the overview ruler.","scm.diffDecorations.minimap":"Show the diff decorations only in the minimap.","scm.diffDecorations.none":"Do not show the diff decorations.",diffDecorations:"Controls diff decorations in the editor.",diffGutterWidth:"Controls the width(px) of diff decorations in gutter (added & modified).","scm.diffDecorationsGutterVisibility.always":"Show the diff decorator in the gutter at all times.","scm.diffDecorationsGutterVisibility.hover":"Show the diff decorator in the gutter only on hover.","scm.diffDecorationsGutterVisibility":"Controls the visibility of the Source Control diff decorator in the gutter.",alwaysShowActions:"Controls whether inline actions are always visible in the Source Control view.","scm.countBadge.all":"Show the sum of all Source Control Providers count badges.","scm.countBadge.focused":"Show the count badge of the focused Source Control Provider.","scm.countBadge.off":"Disable the Source Control count badge.","scm.countBadge":"Controls the Source Control count badge.","scm.defaultViewMode.tree":"Show the repository changes as a tree.","scm.defaultViewMode.list":"Show the repository changes as a list.","scm.defaultViewMode":"Controls the default Source Control repository view mode.",autoReveal:"Controls whether the SCM view should automatically reveal and select files when opening them.",miViewSCM:"S&&CM","scm accept":"SCM: Accept Input"},"vs/workbench/contrib/scm/browser/scmViewlet":{scm:"Source Control","no open repo":"No source control providers registered.","source control":"Source Control",viewletTitle:"{0}: {1}"},"vs/workbench/contrib/scm/browser/activity":{"status.scm":"Source Control",scmPendingChangesBadge:"{0} pending changes"},"vs/workbench/contrib/scm/browser/mainPane":{"scm providers":"Source Control Providers"},"vs/workbench/contrib/scm/browser/repositoryPane":{toggleViewMode:"Toggle View Mode"},"vs/workbench/contrib/scm/browser/dirtydiffDecorator":{changes:"{0} of {1} changes",change:"{0} of {1} change","show previous change":"Show Previous Change","show next change":"Show Next Change",miGotoNextChange:"Next &&Change",miGotoPreviousChange:"Previous &&Change","move to previous change":"Move to Previous Change","move to next change":"Move to Next Change",editorGutterModifiedBackground:"Editor gutter background colour for lines that are modified.",editorGutterAddedBackground:"Editor gutter background color for lines that are added.",editorGutterDeletedBackground:"Editor gutter background color for lines that are deleted.",minimapGutterModifiedBackground:"Minimap gutter background color for lines that are modified.",minimapGutterAddedBackground:"Minimap gutter background color for lines that are added.",minimapGutterDeletedBackground:"Minimap gutter background color for lines that are deleted.",overviewRulerModifiedForeground:"Overview ruler marker colour for modified content.",overviewRulerAddedForeground:"Overview ruler marker colour for added content.",overviewRulerDeletedForeground:"Overview ruler marker color for deleted content."},"vs/workbench/contrib/search/browser/search.contribution":{search:"Search",copyMatchLabel:"Copy",copyPathLabel:"Copy Path",copyAllLabel:"Copy All",revealInSideBar:"Reveal in Side Bar",clearSearchHistoryLabel:"Clear Search History",focusSearchListCommandLabel:"Focus List",findInFolder:"Find in Folder...",findInWorkspace:"Find in Workspace...",showTriggerActions:"Go to Symbol in Workspace...",name:"Search",view:"View",findInFiles:"Find in Files",miFindInFiles:"Find &&in Files",miReplaceInFiles:"Replace &&in Files",anythingQuickAccessPlaceholder:"Search files by name (append {0} to go to line or {1} to go to symbol)",anythingQuickAccess:"Go to File",symbolsQuickAccessPlaceholder:"Type the name of a symbol to open.",symbolsQuickAccess:"Go to Symbol in Workspace",searchConfigurationTitle:"Search",exclude:"Configure glob patterns for excluding files and folders in fulltext searches and quick open. Inherits all glob patterns from the `#files.exclude#` setting. Read more about glob patterns [here](https://code.visualstudio.com/docs/editor/codebasics#_advanced-search-options).","exclude.boolean":"The glob pattern to match file paths against. Set to true or false to enable or disable the pattern.","exclude.when":"Additional check on the siblings of a matching file. Use $(basename) as variable for the matching file name.",useRipgrep:'This setting is deprecated and now falls back on "search.usePCRE2".',useRipgrepDeprecated:'Deprecated. Consider "search.usePCRE2" for advanced regex feature support.',"search.maintainFileSearchCache":"When enabled, the searchService process will be kept alive instead of being shut down after an hour of inactivity. This will keep the file search cache in memory.",useIgnoreFiles:"Controls whether to use `.gitignore` and `.ignore` files when searching for files.",useGlobalIgnoreFiles:"Controls whether to use global `.gitignore` and `.ignore` files when searching for files.","search.quickOpen.includeSymbols":"Whether to include results from a global symbol search in the file results for Quick Open.","search.quickOpen.includeHistory":"Whether to include results from recently opened files in the file results for Quick Open.","filterSortOrder.default":"History entries are sorted by relevance based on the filter value used. More relevant entries appear first.","filterSortOrder.recency":"History entries are sorted by recency. More recently opened entries appear first.",filterSortOrder:"Controls sorting order of editor history in quick open when filtering.","search.followSymlinks":"Controls whether to follow symlinks while searching.","search.smartCase":"Search case-insensitively if the pattern is all lowercase, otherwise, search case-sensitively.","search.globalFindClipboard":"Controls whether the search view should read or modify the shared find clipboard on macOS.","search.location":"Controls whether the search will be shown as a view in the sidebar or as a panel in the panel area for more horizontal space.","search.location.deprecationMessage":"This setting is deprecated. Please use the search view's context menu instead.","search.collapseResults.auto":"Files with less than 10 results are expanded. Others are collapsed.","search.collapseAllResults":"Controls whether the search results will be collapsed or expanded.","search.useReplacePreview":"Controls whether to open Replace Preview when selecting or replacing a match.","search.showLineNumbers":"Controls whether to show line numbers for search results.","search.usePCRE2":"Whether to use the PCRE2 regex engine in text search. This enables using some advanced regex features like lookahead and backreferences. However, not all PCRE2 features are supported - only features that are also supported by JavaScript.",usePCRE2Deprecated:"Deprecated. PCRE2 will be used automatically when using regex features that are only supported by PCRE2.","search.actionsPositionAuto":"Position the actionbar to the right when the search view is narrow, and immediately after the content when the search view is wide.","search.actionsPositionRight":"Always position the actionbar to the right.","search.actionsPosition":"Controls the positioning of the actionbar on rows in the search view.","search.searchOnType":"Search all files as you type.","search.searchOnTypeDebouncePeriod":"When `#search.searchOnType#` is enabled, controls the timeout in milliseconds between a character being typed and the search starting. Has no effect when `search.searchOnType` is disabled.","search.searchEditor.doubleClickBehaviour.selectWord":"Double clicking selects the word under the cursor.","search.searchEditor.doubleClickBehaviour.goToLocation":"Double clicking opens the result in the active editor group.","search.searchEditor.doubleClickBehaviour.openLocationToSide":"Double clicking opens the result in the editor group to the side, creating one if it does not yet exist.","search.searchEditor.doubleClickBehaviour":"Configure effect of double clicking a result in a search editor.","searchSortOrder.default":"Results are sorted by folder and file names, in alphabetical order.","searchSortOrder.filesOnly":"Results are sorted by file names ignoring folder order, in alphabetical order.","searchSortOrder.type":"Results are sorted by file extensions, in alphabetical order.","searchSortOrder.modified":"Results are sorted by file last modified date, in descending order.","searchSortOrder.countDescending":"Results are sorted by count per file, in descending order.","searchSortOrder.countAscending":"Results are sorted by count per file, in ascending order.","search.sortOrder":"Controls sorting order of search results.",miViewSearch:"&&Search",miGotoSymbolInWorkspace:"Go to Symbol in &&Workspace..."},"vs/workbench/contrib/search/browser/symbolsQuickAccess":{openToSide:"Open to the Side",openToBottom:"Open to the Bottom"},"vs/workbench/contrib/search/common/queryBuilder":{"search.noWorkspaceWithName":"No folder in workspace with name: {0}"},"vs/workbench/contrib/search/browser/searchView":{searchCanceled:"Search was cancelled before any results could be found - ",moreSearch:"Toggle Search Details","searchScope.includes":"files to include","label.includes":"Search Include Patterns","searchScope.excludes":"files to exclude","label.excludes":"Search Exclude Patterns","replaceAll.confirmation.title":"Replace All","replaceAll.confirm.button":"&&Replace","replaceAll.occurrence.file.message":"Replaced {0} occurrence across {1} file with '{2}'.","removeAll.occurrence.file.message":"Replaced {0} occurrence across {1} file.","replaceAll.occurrence.files.message":"Replaced {0} occurrence across {1} files with '{2}'.","removeAll.occurrence.files.message":"Replaced {0} occurrence across {1} files.","replaceAll.occurrences.file.message":"Replaced {0} occurrences across {1} file with '{2}'.","removeAll.occurrences.file.message":"Replaced {0} occurrences across {1} file.","replaceAll.occurrences.files.message":"Replaced {0} occurrences across {1} files with '{2}'.","removeAll.occurrences.files.message":"Replaced {0} occurrences across {1} files.","removeAll.occurrence.file.confirmation.message":"Replace {0} occurrence across {1} file with '{2}'?","replaceAll.occurrence.file.confirmation.message":"Replace {0} occurrence across {1} file?","removeAll.occurrence.files.confirmation.message":"Replace {0} occurrence across {1} files with '{2}'?","replaceAll.occurrence.files.confirmation.message":"Replace {0} occurrence across {1} files?","removeAll.occurrences.file.confirmation.message":"Replace {0} occurrences across {1} file with '{2}'?","replaceAll.occurrences.file.confirmation.message":"Replace {0} occurrences across {1} file?","removeAll.occurrences.files.confirmation.message":"Replace {0} occurrences across {1} files with '{2}'?","replaceAll.occurrences.files.confirmation.message":"Replace {0} occurrences across {1} files?",ariaSearchResultsClearStatus:"The search results have been cleared",searchPathNotFoundError:"Search path not found: {0}",searchMaxResultsWarning:"The result set only contains a subset of all matches. Please be more specific in your search to narrow down the results.",noResultsIncludesExcludes:"No results found in '{0}' excluding '{1}' - ",noResultsIncludes:"No results found in '{0}' - ",noResultsExcludes:"No results found excluding '{0}' - ",noResultsFound:"No results found. Review your settings for configured exclusions and check your gitignore files - ","rerunSearch.message":"Search again","rerunSearchInAll.message":"Search again in all files","openSettings.message":"Open Settings","openSettings.learnMore":"Learn More",ariaSearchResultsStatus:"Search returned {0} results in {1} files",useIgnoresAndExcludesDisabled:" - exclude settings and ignore files are disabled","openInEditor.message":"Open in editor","openInEditor.tooltip":"Copy current search results to an editor","search.file.result":"{0} result in {1} file","search.files.result":"{0} result in {1} files","search.file.results":"{0} results in {1} file","search.files.results":"{0} results in {1} files",searchWithoutFolder:"You have not opened or specified a folder. Only open files are currently searched - ",openFolder:"Open Folder"},"vs/workbench/contrib/search/browser/searchWidget":{"search.action.replaceAll.disabled.label":"Replace All (Submit Search to Enable)","search.action.replaceAll.enabled.label":"Replace All","search.replace.toggle.button.title":"Toggle Replace","label.Search":"Search: Type Search Term and press Enter to search or Escape to cancel","search.placeHolder":"Search",showContext:"Show Context","label.Replace":"Replace: Type replace term and press Enter to preview or Escape to cancel","search.replace.placeHolder":"Replace"},"vs/workbench/contrib/search/browser/searchActions":{showSearch:"Show Search",replaceInFiles:"Replace in Files",toggleTabs:"Toggle Search on Type","RefreshAction.label":"Refresh","CollapseDeepestExpandedLevelAction.label":"Collapse All","ExpandAllAction.label":"Expand All","ToggleCollapseAndExpandAction.label":"Toggle Collapse and Expand","ClearSearchResultsAction.label":"Clear Search Results","CancelSearchAction.label":"Cancel Search","FocusNextSearchResult.label":"Focus Next Search Result","FocusPreviousSearchResult.label":"Focus Previous Search Result","RemoveAction.label":"Dismiss","file.replaceAll.label":"Replace All","match.replace.label":"Replace"},"vs/workbench/contrib/search/browser/replaceService":{fileReplaceChanges:"{0} ↔ {1} (Replace Preview)"},"vs/workbench/contrib/search/browser/patternInputWidget":{defaultLabel:"input",useExcludesAndIgnoreFilesDescription:"Use Exclude Settings and Ignore Files"},"vs/workbench/contrib/search/browser/anythingQuickAccess":{recentlyOpenedSeparator:"recently opened",fileAndSymbolResultsSeparator:"file and symbol results",fileResultsSeparator:"file results",filePickAriaLabelDirty:"{0}, dirty",openToSide:"Open to the Side",openToBottom:"Open to the Bottom",closeEditor:"Remove from Recently Opened"},"vs/workbench/contrib/search/browser/searchResultsView":{"searchFolderMatch.other.label":"Other files",searchFileMatches:"{0} files found",searchFileMatch:"{0} file found",searchMatches:"{0} matches found",searchMatch:"{0} match found",lineNumStr:"From line {0}",numLinesStr:"{0} more lines",folderMatchAriaLabel:"{0} matches in folder root {1}, Search result",otherFilesAriaLabel:"{0} matches outside of the workspace, Search result",fileMatchAriaLabel:"{0} matches in file {1} of folder {2}, Search result",replacePreviewResultAria:"Replace term {0} with {1} at column position {2} in line with text {3}",searchResultAria:"Found term {0} at column position {1} in line with text {2}"},"vs/workbench/contrib/searchEditor/browser/searchEditor.contribution":{searchEditor:"Search Editor",search:"Search Editor"},"vs/workbench/contrib/searchEditor/browser/searchEditorActions":{"search.openNewEditor":"Open New Search Editor","search.openNewEditorToSide":"Open New Search Editor to Side","search.openResultsInEditor":"Open Results in Editor","search.rerunSearchInEditor":"Search again"},"vs/workbench/contrib/searchEditor/browser/searchEditorInput":{"searchTitle.withQuery":"Search: {0}",searchTitle:"Search"},"vs/workbench/contrib/searchEditor/browser/searchEditor":{moreSearch:"Toggle Search Details","searchScope.includes":"files to include","label.includes":"Search Include Patterns","searchScope.excludes":"files to exclude","label.excludes":"Search Exclude Patterns",runSearch:"Run Search",searchResultItem:"Matched {0} at {1} in file {2}",searchEditor:"Search Editor",textInputBoxBorder:"Search editor text input box border."},"vs/workbench/contrib/searchEditor/browser/searchEditorSerialization":{invalidQueryStringError:"All backslashes in Query string must be escaped (\\\\)",numFiles:"{0} files",oneFile:"1 file",numResults:"{0} results",oneResult:"1 result",noResults:"No results"},"vs/workbench/contrib/snippets/browser/snippets.contribution":{"snippetSchema.json.default":"Empty snippet","snippetSchema.json":"User snippet configuration","snippetSchema.json.prefix":"The prefix to used when selecting the snippet in intellisense","snippetSchema.json.body":"The snippet content. Use '$1', '${1:defaultText}' to define cursor positions, use '$0' for the final cursor position. Insert variable values with '${varName}' and '${varName:defaultText}', e.g. 'This is file: $TM_FILENAME'.","snippetSchema.json.description":"The snippet description.","snippetSchema.json.scope":"A list of language names to which this snippet applies, e.g. 'typescript,javascript'."},"vs/workbench/contrib/snippets/browser/insertSnippet":{"snippet.suggestions.label":"Insert Snippet","sep.userSnippet":"User Snippets","sep.extSnippet":"Extension Snippets","sep.workspaceSnippet":"Workspace Snippets"},"vs/workbench/contrib/snippets/browser/configureSnippets":{"global.scope":"(global)","global.1":"({0})",name:"Type snippet file name",bad_name1:"Invalid file name",bad_name2:"'{0}' is not a valid file name",bad_name3:"'{0}' already exists","new.global_scope":"global","new.global":"New Global Snippets file...","new.workspace_scope":"{0} workspace","new.folder":"New Snippets file for '{0}'...","group.global":"Existing Snippets","new.global.sep":"New Snippets","openSnippet.pickLanguage":"Select Snippets File or Create Snippets","openSnippet.label":"Configure User Snippets",preferences:"Preferences",miOpenSnippets:"User &&Snippets",userSnippets:"User Snippets"},"vs/workbench/contrib/snippets/browser/snippetsService":{"invalid.path.0":"Expected string in `contributes.{0}.path`. Provided value: {1}","invalid.language.0":"When omitting the language, the value of `contributes.{0}.path` must be a `.code-snippets`-file. Provided value: {1}","invalid.language":"Unknown language in `contributes.{0}.language`. Provided value: {1}","invalid.path.1":"Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.","vscode.extension.contributes.snippets":"Contributes snippets.","vscode.extension.contributes.snippets-language":"Language identifier for which this snippet is contributed to.","vscode.extension.contributes.snippets-path":"Path of the snippets file. The path is relative to the extension folder and typically starts with './snippets/'.",badVariableUse:"One or more snippets from the extension '{0}' very likely confuse snippet-variables and snippet-placeholders (see https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax for more details)",badFile:'The snippet file "{0}" could not be read.'},"vs/workbench/contrib/snippets/browser/snippetCompletionProvider":{"detail.snippet":"{0} ({1})","snippetSuggest.longLabel":"{0}, {1}"},"vs/workbench/contrib/snippets/browser/snippetsFile":{"source.workspaceSnippetGlobal":"Workspace Snippet","source.userSnippetGlobal":"Global User Snippet","source.userSnippet":"User Snippet"},"vs/workbench/contrib/stats/electron-browser/workspaceStatsService":{workspaceFound:"This folder contains a workspace file '{0}'. Do you want to open it? [Learn more]({1}) about workspace files.",openWorkspace:"Open Workspace",workspacesFound:"This folder contains multiple workspace files. Do you want to open one? [Learn more]({0}) about workspace files.",selectWorkspace:"Select Workspace",selectToOpen:"Select a workspace to open"},"vs/workbench/contrib/surveys/browser/nps.contribution":{surveyQuestion:"Do you mind taking a quick feedback survey?",takeSurvey:"Take Survey",remindLater:"Remind Me later",neverAgain:"Don't Show Again"},"vs/workbench/contrib/surveys/browser/languageSurveys.contribution":{helpUs:"Help us improve our support for {0}",takeShortSurvey:"Take Short Survey",remindLater:"Remind Me later",neverAgain:"Don't Show Again"},"vs/workbench/contrib/tags/electron-browser/workspaceTagsService":{workspaceFound:"This folder contains a workspace file '{0}'. Do you want to open it? [Learn more]({1}) about workspace files.",openWorkspace:"Open Workspace",workspacesFound:"This folder contains multiple workspace files. Do you want to open one? [Learn more]({0}) about workspace files.",selectWorkspace:"Select Workspace",selectToOpen:"Select a workspace to open"},"vs/workbench/contrib/tasks/node/processRunnerDetector":{"TaskSystemDetector.noGulpTasks":"Running gulp --tasks-simple didn't list any tasks. Did you run npm install?","TaskSystemDetector.noJakeTasks":"Running jake --tasks didn't list any tasks. Did you run npm install?","TaskSystemDetector.noGulpProgram":"Gulp is not installed on your system. Run npm install -g gulp to install it.","TaskSystemDetector.noJakeProgram":"Jake is not installed on your system. Run npm install -g jake to install it.","TaskSystemDetector.noGruntProgram":"Grunt is not installed on your system. Run npm install -g grunt to install it.","TaskSystemDetector.noProgram":"Program {0} was not found. Message is {1}","TaskSystemDetector.buildTaskDetected":"Build task named '{0}' detected.","TaskSystemDetector.testTaskDetected":"Test task named '{0}' detected."},"vs/workbench/contrib/tasks/node/processTaskSystem":{version1_0:"The task system is configured for version 0.1.0 (see tasks.json file), which can only execute custom tasks. Upgrade to version 2.0.0 to run the task: {0}","TaskRunnerSystem.unknownError":"A unknown error has occurred while executing a task. See task output log for details.","TaskRunnerSystem.watchingBuildTaskFinished":"\nWatching build tasks has finished.","TaskRunnerSystem.childProcessError":"Failed to launch external program {0} {1}.","TaskRunnerSystem.cancelRequested":"\nThe task '{0}' was terminated per user request.",unknownProblemMatcher:"Problem matcher {0} can't be resolved. The matcher will be ignored"},"vs/workbench/contrib/tasks/browser/task.contribution":{tasksCategory:"Tasks",building:"Building...",runningTasks:"Show Running Tasks","status.runningTasks":"Running Tasks",miRunTask:"&&Run Task...",miBuildTask:"Run &&Build Task...",miRunningTask:"Show Runnin&&g Tasks...",miRestartTask:"R&&estart Running Task...",miTerminateTask:"&&Terminate Task...",miConfigureTask:"&&Configure Tasks...",miConfigureBuildTask:"Configure De&&fault Build Task...","workbench.action.tasks.openWorkspaceFileTasks":"Open Workspace Tasks","ShowLogAction.label":"Show Task Log","RunTaskAction.label":"Run Task","ReRunTaskAction.label":"Rerun Last Task","RestartTaskAction.label":"Restart Running Task","ShowTasksAction.label":"Show Running Tasks","TerminateAction.label":"Terminate Task","BuildAction.label":"Run Build Task","TestAction.label":"Run Test Task","ConfigureDefaultBuildTask.label":"Configure Default Build Task","ConfigureDefaultTestTask.label":"Configure Default Test Task","workbench.action.tasks.openUserTasks":"Open User Tasks",tasksQuickAccessPlaceholder:"Type the name of a task to run.",tasksQuickAccessHelp:"Run Task",tasksConfigurationTitle:"Tasks","task.problemMatchers.neverPrompt":"Configures whether to show the problem matcher prompt when running a task. Set to `true` to never prompt, or use a dictionary of task types to turn off prompting only for specific task types.","task.problemMatchers.neverPrompt.boolean":"Sets problem matcher prompting behavior for all tasks.","task.problemMatchers.neverPrompt.array":"An object containing task type-boolean pairs to never prompt for problem matchers on.","task.autoDetect":"Controls enablement of `provideTasks` for all task provider extension. If the Tasks: Run Task command is slow, disabling auto detect for task providers may help. Individual extensions may also provide settings that disable auto detection.","task.slowProviderWarning":"Configures whether a warning is shown when a provider is slow","task.slowProviderWarning.boolean":"Sets the slow provider warning for all tasks.","task.slowProviderWarning.array":"An array of task types to never show the slow provider warning.","task.quickOpen.history":"Controls the number of recent items tracked in task quick open dialog.","task.quickOpen.detail":"Controls whether to show the task detail for task that have a detail in the Run Task quick pick.","task.quickOpen.skip":"Controls whether the task quick pick is skipped when there is only one task to pick from."},"vs/workbench/contrib/tasks/common/tasks":{"TaskDefinition.missingRequiredProperty":"Error: the task identifier '{0}' is missing the required property '{1}'. The task identifier will be ignored."},"vs/workbench/contrib/tasks/common/jsonSchema_v1":{"JsonSchema.version.deprecated":"Task version 0.1.0 is deprecated. Please use 2.0.0","JsonSchema.version":"The config's version number","JsonSchema._runner":"The runner has graduated. Use the offical runner property","JsonSchema.runner":"Defines whether the task is executed as a process and the output is shown in the output window or inside the terminal.","JsonSchema.windows":"Windows specific command configuration","JsonSchema.mac":"Mac specific command configuration","JsonSchema.linux":"Linux specific command configuration","JsonSchema.shell":"Specifies whether the command is a shell command or an external program. Defaults to false if omitted."},"vs/workbench/contrib/tasks/browser/tasksQuickAccess":{"TaskService.pickRunTask":"Select the task to run"},"vs/workbench/contrib/tasks/common/taskDefinitionRegistry":{"TaskDefinition.description":"The actual task type. Please note that types starting with a '$' are reserved for internal usage.","TaskDefinition.properties":"Additional properties of the task type","TaskTypeConfiguration.noType":"The task type configuration is missing the required 'taskType' property",TaskDefinitionExtPoint:"Contributes task kinds"},"vs/workbench/contrib/tasks/browser/runAutomaticTasks":{"tasks.run.allowAutomatic":"This folder has tasks ({0}) defined in 'tasks.json' that run automatically when you open this folder. Do you allow automatic tasks to run when you open this folder?",allow:"Allow and run",disallow:"Disallow",openTasks:"Open tasks.json","workbench.action.tasks.manageAutomaticRunning":"Manage Automatic Tasks in Folder","workbench.action.tasks.allowAutomaticTasks":"Allow Automatic Tasks in Folder","workbench.action.tasks.disallowAutomaticTasks":"Disallow Automatic Tasks in Folder"},"vs/workbench/contrib/tasks/common/taskConfiguration":{"ConfigurationParser.invalidCWD":"Warning: options.cwd must be of type string. Ignoring value {0}\n","ConfigurationParser.inValidArg":"Error: command argument must either be a string or a quoted string. Provided value is:\n{0}","ConfigurationParser.noShell":"Warning: shell configuration is only supported when executing tasks in the terminal.","ConfigurationParser.noName":"Error: Problem Matcher in declare scope must have a name:\n{0}\n","ConfigurationParser.unknownMatcherKind":"Warning: the defined problem matcher is unknown. Supported types are string | ProblemMatcher | Array<string | ProblemMatcher>.\n{0}\n","ConfigurationParser.invalidVariableReference":"Error: Invalid problemMatcher reference: {0}\n","ConfigurationParser.noTaskType":"Error: tasks configuration must have a type property. The configuration will be ignored.\n{0}\n","ConfigurationParser.noTypeDefinition":"Error: there is no registered task type '{0}'. Did you miss to install an extension that provides a corresponding task provider?","ConfigurationParser.missingType":"Error: the task configuration '{0}' is missing the required property 'type'. The task configuration will be ignored.","ConfigurationParser.incorrectType":"Error: the task configuration '{0}' is using an unknown type. The task configuration will be ignored.","ConfigurationParser.notCustom":"Error: tasks is not declared as a custom task. The configuration will be ignored.\n{0}\n","ConfigurationParser.noTaskName":"Error: a task must provide a label property. The task will be ignored.\n{0}\n","taskConfiguration.noCommandOrDependsOn":"Error: the task '{0}' neither specifies a command nor a dependsOn property. The task will be ignored. Its definition is:\n{1}","taskConfiguration.noCommand":"Error: the task '{0}' doesn't define a command. The task will be ignored. Its definition is:\n{1}","TaskParse.noOsSpecificGlobalTasks":"Task version 2.0.0 doesn't support global OS specific tasks. Convert them to a task with a OS specific command. Affected tasks are:\n{0}"},"vs/workbench/contrib/tasks/common/jsonSchema_v2":{"JsonSchema.shell":"Specifies whether the command is a shell command or an external program. Defaults to false if omitted.","JsonSchema.tasks.isShellCommand.deprecated":"The property isShellCommand is deprecated. Use the type property of the task and the shell property in the options instead. See also the 1.14 release notes.","JsonSchema.tasks.dependsOn.identifier":"The task identifier.","JsonSchema.tasks.dependsOn.string":"Another task this task depends on.","JsonSchema.tasks.dependsOn.array":"The other tasks this task depends on.","JsonSchema.tasks.dependsOn":"Either a string representing another task or an array of other tasks that this task depends on.","JsonSchema.tasks.dependsOrder.parallel":"Run all dependsOn tasks in parallel.","JsonSchema.tasks.dependsOrder.sequence":"Run all dependsOn tasks in sequence.","JsonSchema.tasks.dependsOrder":"Determines the order of the dependsOn tasks for this task. Note that this property is not recursive.","JsonSchema.tasks.detail":"An optional description of a task that shows in the Run Task quick pick as a detail.","JsonSchema.tasks.presentation":"Configures the panel that is used to present the task's output and reads its input.","JsonSchema.tasks.presentation.echo":"Controls whether the executed command is echoed to the panel. Default is true.","JsonSchema.tasks.presentation.focus":"Controls whether the panel takes focus. Default is false. If set to true the panel is revealed as well.","JsonSchema.tasks.presentation.revealProblems.always":"Always reveals the problems panel when this task is executed.","JsonSchema.tasks.presentation.revealProblems.onProblem":"Only reveals the problems panel if a problem is found.","JsonSchema.tasks.presentation.revealProblems.never":"Never reveals the problems panel when this task is executed.","JsonSchema.tasks.presentation.revealProblems":'Controls whether the problems panel is revealed when running this task or not. Takes precedence over option "reveal". Default is "never".',"JsonSchema.tasks.presentation.reveal.always":"Always reveals the terminal when this task is executed.","JsonSchema.tasks.presentation.reveal.silent":"Only reveals the terminal if the task exits with an error or the problem matcher finds an error.","JsonSchema.tasks.presentation.reveal.never":"Never reveals the terminal when this task is executed.","JsonSchema.tasks.presentation.reveal":'Controls whether the terminal running the task is revealed or not. May be overridden by option "revealProblems". Default is "always".',"JsonSchema.tasks.presentation.instance":"Controls whether the panel is shared between tasks, dedicated to this task or a new one is created on every run.","JsonSchema.tasks.presentation.showReuseMessage":"Controls whether to show the `Terminal will be reused by tasks, press any key to close it` message.","JsonSchema.tasks.presentation.clear":"Controls whether the terminal is cleared before executing the task.","JsonSchema.tasks.presentation.group":"Controls whether the task is executed in a specific terminal group using split panes.","JsonSchema.tasks.terminal":"The terminal property is deprecated. Use presentation instead","JsonSchema.tasks.group.kind":"The task's execution group.","JsonSchema.tasks.group.isDefault":"Defines if this task is the default task in the group.","JsonSchema.tasks.group.defaultBuild":"Marks the task as the default build task.","JsonSchema.tasks.group.defaultTest":"Marks the task as the default test task.","JsonSchema.tasks.group.build":"Marks the task as a build task accessible through the 'Run Build Task' command.","JsonSchema.tasks.group.test":"Marks the task as a test task accessible through the 'Run Test Task' command.","JsonSchema.tasks.group.none":"Assigns the task to no group","JsonSchema.tasks.group":'Defines to which execution group this task belongs to. It supports "build" to add it to the build group and "test" to add it to the test group.',"JsonSchema.tasks.type":"Defines whether the task is run as a process or as a command inside a shell.","JsonSchema.commandArray":"The shell command to be executed. Array items will be joined using a space character","JsonSchema.command.quotedString.value":"The actual command value","JsonSchema.tasks.quoting.escape":"Escapes characters using the shell's escape character (e.g. ` under PowerShell and \\ under bash).","JsonSchema.tasks.quoting.strong":"Quotes the argument using the shell's strong quote character (e.g. \" under PowerShell and bash).","JsonSchema.tasks.quoting.weak":"Quotes the argument using the shell's weak quote character (e.g. ' under PowerShell and bash).","JsonSchema.command.quotesString.quote":"How the command value should be quoted.","JsonSchema.command":"The command to be executed. Can be an external program or a shell command.","JsonSchema.args.quotedString.value":"The actual argument value","JsonSchema.args.quotesString.quote":"How the argument value should be quoted.","JsonSchema.tasks.args":"Arguments passed to the command when this task is invoked.","JsonSchema.tasks.label":"The task's user interface label","JsonSchema.version":"The config's version number.","JsonSchema.tasks.identifier":"A user defined identifier to reference the task in launch.json or a dependsOn clause.","JsonSchema.tasks.identifier.deprecated":"User defined identifiers are deprecated. For custom task use the name as a reference and for tasks provided by extensions use their defined task identifier.","JsonSchema.tasks.reevaluateOnRerun":"Whether to reevaluate task variables on rerun.","JsonSchema.tasks.runOn":"Configures when the task should be run. If set to folderOpen, then the task will be run automatically when the folder is opened.","JsonSchema.tasks.instanceLimit":"The number of instances of the task that are allowed to run simultaneously.","JsonSchema.tasks.runOptions":"The task's run related options","JsonSchema.tasks.taskLabel":"The task's label","JsonSchema.tasks.taskName":"The task's name","JsonSchema.tasks.taskName.deprecated":"The task's name property is deprecated. Use the label property instead.","JsonSchema.tasks.background":"Whether the executed task is kept alive and is running in the background.","JsonSchema.tasks.promptOnClose":"Whether the user is prompted when VS Code closes with a running task.","JsonSchema.tasks.matchers":"The problem matcher(s) to use. Can either be a string or a problem matcher definition or an array of strings and problem matchers.","JsonSchema.customizations.customizes.type":"The task type to customise","JsonSchema.tasks.customize.deprecated":"The customise property is deprecated. See the 1.14 release notes on how to migrate to the new task customisation approach","JsonSchema.tasks.showOutput.deprecated":"The property showOutput is deprecated. Use the reveal property inside the presentation property instead. See also the 1.14 release notes.","JsonSchema.tasks.echoCommand.deprecated":"The property echoCommand is deprecated. Use the echo property inside the presentation property instead. See also the 1.14 release notes.","JsonSchema.tasks.suppressTaskName.deprecated":"The property suppressTaskName is deprecated. Inline the command with its arguments into the task instead. See also the 1.14 release notes.","JsonSchema.tasks.isBuildCommand.deprecated":"The property isBuildCommand is deprecated. Use the group property instead. See also the 1.14 release notes.","JsonSchema.tasks.isTestCommand.deprecated":"The property isTestCommand is deprecated. Use the group property instead. See also the 1.14 release notes.","JsonSchema.tasks.taskSelector.deprecated":"The property taskSelector is deprecated. Inline the command with its arguments into the task instead. See also the 1.14 release notes.","JsonSchema.windows":"Windows specific command configuration","JsonSchema.mac":"Mac specific command configuration","JsonSchema.linux":"Linux specific command configuration"},"vs/workbench/contrib/tasks/common/jsonSchemaCommon":{"JsonSchema.options":"Additional command options","JsonSchema.options.cwd":"The current working directory of the executed program or script. If omitted Code's current workspace root is used.","JsonSchema.options.env":"The environment of the executed program or shell. If omitted the parent process' environment is used.","JsonSchema.shellConfiguration":"Configures the shell to be used.","JsonSchema.shell.executable":"The shell to be used.","JsonSchema.shell.args":"The shell arguments.","JsonSchema.command":"The command to be executed. Can be an external program or a shell command.","JsonSchema.tasks.args":"Arguments passed to the command when this task is invoked.","JsonSchema.tasks.taskName":"The task's name","JsonSchema.tasks.windows":"Windows specific command configuration","JsonSchema.tasks.matchers":"The problem matcher(s) to use. Can either be a string or a problem matcher definition or an array of strings and problem matchers.","JsonSchema.tasks.mac":"Mac specific command configuration","JsonSchema.tasks.linux":"Linux specific command configuration","JsonSchema.tasks.suppressTaskName":"Controls whether the task name is added as an argument to the command. If omitted the globally defined value is used.","JsonSchema.tasks.showOutput":"Controls whether the output of the running task is shown or not. If omitted the globally defined value is used.","JsonSchema.echoCommand":"Controls whether the executed command is echoed to the output. Default is false.","JsonSchema.tasks.watching.deprecation":"Deprecated. Use isBackground instead.","JsonSchema.tasks.watching":"Whether the executed task is kept alive and is watching the file system.","JsonSchema.tasks.background":"Whether the executed task is kept alive and is running in the background.","JsonSchema.tasks.promptOnClose":"Whether the user is prompted when VS Code closes with a running task.","JsonSchema.tasks.build":"Maps this task to Code's default build command.","JsonSchema.tasks.test":"Maps this task to Code's default test command.","JsonSchema.args":"Additional arguments passed to the command.","JsonSchema.showOutput":"Controls whether the output of the running task is shown or not. If omitted 'always' is used.","JsonSchema.watching.deprecation":"Deprecated. Use isBackground instead.","JsonSchema.watching":"Whether the executed task is kept alive and is watching the file system.","JsonSchema.background":"Whether the executed task is kept alive and is running in the background.","JsonSchema.promptOnClose":"Whether the user is prompted when VS Code closes with a running background task.","JsonSchema.suppressTaskName":"Controls whether the task name is added as an argument to the command. Default is false.","JsonSchema.taskSelector":"Prefix to indicate that an argument is task.","JsonSchema.matchers":"The problem matcher(s) to use. Can either be a string or a problem matcher definition or an array of strings and problem matchers.","JsonSchema.tasks":"The task configurations. Usually these are enrichments of task already defined in the external task runner."},"vs/workbench/contrib/tasks/browser/taskQuickPick":{"taskQuickPick.showAll":"Show All Tasks...",configureTask:"Configure Task",contributedTasks:"contributed",recentlyUsed:"recently used",configured:"configured","TaskQuickPick.goBack":"Go back ↩","TaskQuickPick.noTasksForType":"No {0} tasks found. Go back ↩"},"vs/workbench/contrib/tasks/common/problemMatcher":{"ProblemPatternParser.problemPattern.missingRegExp":"The problem pattern is missing a regular expression.","ProblemPatternParser.loopProperty.notLast":"The loop property is only supported on the last line matcher.","ProblemPatternParser.problemPattern.kindProperty.notFirst":"The problem pattern is invalid. The kind property must be provided only in the first element","ProblemPatternParser.problemPattern.missingProperty":"The problem pattern is invalid. It must have at least have a file and a message.","ProblemPatternParser.problemPattern.missingLocation":'The problem pattern is invalid. It must either have kind: "file" or have a line or location match group.',"ProblemPatternParser.invalidRegexp":"Error: The string {0} is not a valid regular expression.\n","ProblemPatternSchema.regexp":"The regular expression to find an error, warning or info in the output.","ProblemPatternSchema.kind":"whether the pattern matches a location (file and line) or only a file.","ProblemPatternSchema.file":"The match group index of the filename. If omitted 1 is used.","ProblemPatternSchema.location":"The match group index of the problem's location. Valid location patterns are: (line), (line,column) and (startLine,startColumn,endLine,endColumn). If omitted (line,column) is assumed.","ProblemPatternSchema.line":"The match group index of the problem's line. Defaults to 2","ProblemPatternSchema.column":"The match group index of the problem's line character. Defaults to 3","ProblemPatternSchema.endLine":"The match group index of the problem's end line. Defaults to undefined","ProblemPatternSchema.endColumn":"The match group index of the problem's end line character. Defaults to undefined","ProblemPatternSchema.severity":"The match group index of the problem's severity. Defaults to undefined","ProblemPatternSchema.code":"The match group index of the problem's code. Defaults to undefined","ProblemPatternSchema.message":"The match group index of the message. If omitted it defaults to 4 if location is specified. Otherwise it defaults to 5.","ProblemPatternSchema.loop":"In a multi line matcher loop indicated whether this pattern is executed in a loop as long as it matches. Can only specified on a last pattern in a multi line pattern.","NamedProblemPatternSchema.name":"The name of the problem pattern.","NamedMultiLineProblemPatternSchema.name":"The name of the problem multi line problem pattern.","NamedMultiLineProblemPatternSchema.patterns":"The actual patterns.",ProblemPatternExtPoint:"Contributes problem patterns","ProblemPatternRegistry.error":"Invalid problem pattern. The pattern will be ignored.","ProblemMatcherParser.noProblemMatcher":"Error: the description can't be converted into a problem matcher:\n{0}\n","ProblemMatcherParser.noProblemPattern":"Error: the description doesn't define a valid problem pattern:\n{0}\n","ProblemMatcherParser.noOwner":"Error: the description doesn't define an owner:\n{0}\n","ProblemMatcherParser.noFileLocation":"Error: the description doesn't define a file location:\n{0}\n","ProblemMatcherParser.unknownSeverity":"Info: unknown severity {0}. Valid values are error, warning and info.\n","ProblemMatcherParser.noDefinedPatter":"Error: the pattern with the identifier {0} doesn't exist.","ProblemMatcherParser.noIdentifier":"Error: the pattern property refers to an empty identifier.","ProblemMatcherParser.noValidIdentifier":"Error: the pattern property {0} is not a valid pattern variable name.","ProblemMatcherParser.problemPattern.watchingMatcher":"A problem matcher must define both a begin pattern and an end pattern for watching.","ProblemMatcherParser.invalidRegexp":"Error: The string {0} is not a valid regular expression.\n","WatchingPatternSchema.regexp":"The regular expression to detect the begin or end of a background task.","WatchingPatternSchema.file":"The match group index of the filename. Can be omitted.","PatternTypeSchema.name":"The name of a contributed or predefined pattern","PatternTypeSchema.description":"A problem pattern or the name of a contributed or predefined problem pattern. Can be omitted if base is specified.","ProblemMatcherSchema.base":"The name of a base problem matcher to use.","ProblemMatcherSchema.owner":"The owner of the problem inside Code. Can be omitted if base is specified. Defaults to 'external' if omitted and base is not specified.","ProblemMatcherSchema.source":"A human-readable string describing the source of this diagnostic, e.g. 'typescript' or 'super lint'.","ProblemMatcherSchema.severity":"The default severity for captures problems. Is used if the pattern doesn't define a match group for severity.","ProblemMatcherSchema.applyTo":"Controls if a problem reported on a text document is applied only to open, closed or all documents.","ProblemMatcherSchema.fileLocation":"Defines how file names reported in a problem pattern should be interpreted.","ProblemMatcherSchema.background":"Patterns to track the begin and end of a matcher active on a background task.","ProblemMatcherSchema.background.activeOnStart":"If set to true the background monitor is in active mode when the task starts. This is equals of issuing a line that matches the beginsPattern","ProblemMatcherSchema.background.beginsPattern":"If matched in the output the start of a background task is signaled.","ProblemMatcherSchema.background.endsPattern":"If matched in the output the end of a background task is signaled.","ProblemMatcherSchema.watching.deprecated":"The watching property is deprecated. Use background instead.","ProblemMatcherSchema.watching":"Patterns to track the begin and end of a watching matcher.","ProblemMatcherSchema.watching.activeOnStart":"If set to true the watcher is in active mode when the task starts. This is equals of issuing a line that matches the beginPattern","ProblemMatcherSchema.watching.beginsPattern":"If matched in the output the start of a watching task is signaled.","ProblemMatcherSchema.watching.endsPattern":"If matched in the output the end of a watching task is signaled.","LegacyProblemMatcherSchema.watchedBegin.deprecated":"This property is deprecated. Use the watching property instead.","LegacyProblemMatcherSchema.watchedBegin":"A regular expression signaling that a watched tasks begins executing triggered through file watching.","LegacyProblemMatcherSchema.watchedEnd.deprecated":"This property is deprecated. Use the watching property instead.","LegacyProblemMatcherSchema.watchedEnd":"A regular expression signaling that a watched tasks ends executing.","NamedProblemMatcherSchema.name":"The name of the problem matcher used to refer to it.","NamedProblemMatcherSchema.label":"A human readable label of the problem matcher.",ProblemMatcherExtPoint:"Contributes problem matchers",msCompile:"Microsoft compiler problems",lessCompile:"Less problems","gulp-tsc":"Gulp TSC Problems",jshint:"JSHint problems","jshint-stylish":"JSHint stylish problems","eslint-compact":"ESLint compact problems","eslint-stylish":"ESLint stylish problems",go:"Go problems"},"vs/workbench/contrib/tasks/browser/abstractTaskService":{"ConfigureTaskRunnerAction.label":"Configure Task",tasks:"Tasks","TaskSystem.noHotSwap":"Changing the task execution engine with an active task running requires to reload the Window",reloadWindow:"Reload Window","TaskService.pickBuildTaskForLabel":"Select the build task (there is no default build task defined)",taskServiceOutputPrompt:"There are task errors. See the output for details.",showOutput:"Show output","TaskServer.folderIgnored":"The folder {0} is ignored since it uses task version 0.1.0","TaskService.noBuildTask1":"No build task defined. Mark a task with 'isBuildCommand' in the tasks.json file.","TaskService.noBuildTask2":"No build task defined. Mark a task with as a 'build' group in the tasks.json file.","TaskService.noTestTask1":"No test task defined. Mark a task with 'isTestCommand' in the tasks.json file.","TaskService.noTestTask2":"No test task defined. Mark a task with as a 'test' group in the tasks.json file.","TaskServer.noTask":"Task to execute is undefined","TaskService.associate":"associate","TaskService.attachProblemMatcher.continueWithout":"Continue without scanning the task output","TaskService.attachProblemMatcher.never":"Never scan the task output for this task","TaskService.attachProblemMatcher.neverType":"Never scan the task output for {0} tasks","TaskService.attachProblemMatcher.learnMoreAbout":"Learn more about scanning the task output",selectProblemMatcher:"Select for which kind of errors and warnings to scan the task output",customizeParseErrors:"The current task configuration has errors. Please fix the errors first before customizing a task.",tasksJsonComment:"\t// See https://go.microsoft.com/fwlink/?LinkId=733558 \n\t// for the documentation about the tasks.json format",moreThanOneBuildTask:"There are many build tasks defined in the tasks.json. Executing the first one.\n","TaskSystem.activeSame.noBackground":"The task '{0}' is already active.",terminateTask:"Terminate Task",restartTask:"Restart Task","TaskSystem.active":"There is already a task running. Terminate it first before executing another task.","TaskSystem.restartFailed":"Failed to terminate and restart task {0}","TaskService.noConfiguration":"Error: The {0} task detection didn't contribute a task for the following configuration:\n{1}\nThe task will be ignored.\n","TaskSystem.configurationErrors":"Error: the provided task configuration has validation errors and can't not be used. Please correct the errors first.","TaskSystem.invalidTaskJsonOther":"Error: The content of the tasks json in {0} has syntax errors. Please correct them before executing a task.\n","TasksSystem.locationWorkspaceConfig":"workspace file","TaskSystem.versionWorkspaceFile":"Only tasks version 2.0.0 permitted in .codeworkspace.","TasksSystem.locationUserConfig":"User Settings","TaskSystem.versionSettings":"Only tasks version 2.0.0 permitted in user settings.","taskService.ignoreingFolder":"Ignoring task configurations for workspace folder {0}. Multi folder workspace task support requires that all folders use task version 2.0.0\n","TaskSystem.invalidTaskJson":"Error: The content of the tasks.json file has syntax errors. Please correct them before executing a task.\n","TaskSystem.runningTask":"There is a task running. Do you want to terminate it?","TaskSystem.terminateTask":"&&Terminate Task","TaskSystem.noProcess":"The launched task doesn't exist anymore. If the task spawned background processes exiting VS Code might result in orphaned processes. To avoid this start the last background process with a wait flag.","TaskSystem.exitAnyways":"&&Exit Anyways","TerminateAction.label":"Terminate Task","TaskSystem.unknownError":"An error has occurred while running a task. See task log for details.","TaskService.noWorkspace":"Tasks are only available on a workspace folder.","TaskService.learnMore":"Learn More",configureTask:"Configure Task",recentlyUsed:"recently used tasks",configured:"configured tasks",detected:"detected tasks","TaskService.ignoredFolder":"The following workspace folders are ignored since they use task version 0.1.0: {0}","TaskService.notAgain":"Don't Show Again","TaskService.pickRunTask":"Select the task to run","TaskService.noEntryToRun":"No configured tasks. Configure Tasks...","TaskService.fetchingBuildTasks":"Fetching build tasks...","TaskService.pickBuildTask":"Select the build task to run","TaskService.noBuildTask":"No build task to run found. Configure Build Task...","TaskService.fetchingTestTasks":"Fetching test tasks...","TaskService.pickTestTask":"Select the test task to run","TaskService.noTestTaskTerminal":"No test task to run found. Configure Tasks...","TaskService.taskToTerminate":"Select a task to terminate","TaskService.noTaskRunning":"No task is currently running","TaskService.terminateAllRunningTasks":"All Running Tasks","TerminateAction.noProcess":"The launched process doesn't exist anymore. If the task spawned background tasks exiting VS Code might result in orphaned processes.","TerminateAction.failed":"Failed to terminate running task","TaskService.taskToRestart":"Select the task to restart","TaskService.noTaskToRestart":"No task to restart","TaskService.template":"Select a Task Template","taskQuickPick.userSettings":"User Settings","TaskService.createJsonFile":"Create tasks.json file from template","TaskService.openJsonFile":"Open tasks.json file","TaskService.pickTask":"Select a task to configure","TaskService.defaultBuildTaskExists":"{0} is already marked as the default build task","TaskService.pickDefaultBuildTask":"Select the task to be used as the default build task","TaskService.defaultTestTaskExists":"{0} is already marked as the default test task.","TaskService.pickDefaultTestTask":"Select the task to be used as the default test task","TaskService.pickShowTask":"Select the task to show its output","TaskService.noTaskIsRunning":"No task is running"},"vs/workbench/contrib/tasks/common/taskTemplates":{dotnetCore:"Executes .NET Core build command",msbuild:"Executes the build target",externalCommand:"Example to run an arbitrary external command",Maven:"Executes common maven commands"},"vs/workbench/contrib/tasks/browser/terminalTaskSystem":{"TerminalTaskSystem.unknownError":"A unknown error has occurred while executing a task. See task output log for details.",dependencyFailed:"Couldn't resolve dependent task '{0}' in workspace folder '{1}'","TerminalTaskSystem.nonWatchingMatcher":"Task {0} is a background task but uses a problem matcher without a background pattern","TerminalTaskSystem.terminalName":"Task - {0}",closeTerminal:"Press any key to close the terminal.",reuseTerminal:"Terminal will be reused by tasks, press any key to close it.",TerminalTaskSystem:"Can't execute a shell command on an UNC drive using cmd.exe.",unknownProblemMatcher:"Problem matcher {0} can't be resolved. The matcher will be ignored"},"vs/workbench/contrib/terminal/common/terminalShellConfig":{terminalIntegratedConfigurationTitle:"Integrated Terminal","terminal.integrated.shell.linux":"The path of the shell that the terminal uses on Linux (default: {0}). [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shell.linux.noDefault":"The path of the shell that the terminal uses on Linux. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shell.osx":"The path of the shell that the terminal uses on macOS (default: {0}). [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shell.osx.noDefault":"The path of the shell that the terminal uses on macOS. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shell.windows":"The path of the shell that the terminal uses on Windows (default: {0}). [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shell.windows.noDefault":"The path of the shell that the terminal uses on Windows. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration)."},"vs/workbench/contrib/terminal/common/terminal":{terminalCategory:"Terminal"},"vs/workbench/contrib/terminal/browser/terminalView":{"terminal.useMonospace":"Use 'monospace'","terminal.monospaceOnly":"The terminal only supports monospace fonts. Be sure to restart VS Code if this is a newly installed font."},"vs/workbench/contrib/terminal/electron-browser/terminalRemote":{"workbench.action.terminal.newLocal":"Create New Integrated Terminal (Local)"},"vs/workbench/contrib/terminal/browser/terminal.contribution":{tasksQuickAccessPlaceholder:"Type the name of a terminal to open.",tasksQuickAccessHelp:"Show All Opened Terminals",terminalIntegratedConfigurationTitle:"Integrated Terminal","terminal.integrated.automationShell.linux":"A path that when set will override {0} and ignore {1} values for automation-related terminal usage like tasks and debug.","terminal.integrated.automationShell.osx":"A path that when set will override {0} and ignore {1} values for automation-related terminal usage like tasks and debug.","terminal.integrated.automationShell.windows":"A path that when set will override {0} and ignore {1} values for automation-related terminal usage like tasks and debug.","terminal.integrated.shellArgs.linux":"The command line arguments to use when on the Linux terminal. [Read more about configuring the shell] (https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shellArgs.osx":"The command line arguments to use when on the macOS terminal. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shellArgs.windows":"The command line arguments to use when on the Windows terminal. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.shellArgs.windows.string":"The command line arguments in [command-line format](https://msdn.microsoft.com/en-au/08dfcab2-eb6e-49a4-80eb-87d4076c98c6) to use when on the Windows terminal. [Read more about configuring the shell](https://code.visualstudio.com/docs/editor/integrated-terminal#_configuration).","terminal.integrated.macOptionIsMeta":"Controls whether to treat the option key as the meta key in the terminal on macOS.","terminal.integrated.macOptionClickForcesSelection":"Controls whether to force selection when using Option+click on macOS. This will force a regular (line) selection and disallow the use of column selection mode. This enables copying and pasting using the regular terminal selection, for example, when mouse mode is enabled in tmux.","terminal.integrated.copyOnSelection":"Controls whether text selected in the terminal will be copied to the clipboard.","terminal.integrated.drawBoldTextInBrightColors":'Controls whether bold text in the terminal will always use the "bright" ANSI colour variant.',"terminal.integrated.fontFamily":"Controls the font family of the terminal, this defaults to `#editor.fontFamily#`'s value.","terminal.integrated.fontSize":"Controls the font size in pixels of the terminal.","terminal.integrated.letterSpacing":"Controls the letter spacing of the terminal, this is an integer value which represents the amount of additional pixels to add between characters.","terminal.integrated.lineHeight":"Controls the line height of the terminal, this number is multiplied by the terminal font size to get the actual line-height in pixels.","terminal.integrated.minimumContrastRatio":"When set the foreground color of each cell will change to try meet the contrast ratio specified. Example values:\n\n- 1: The default, do nothing.\n- 4.5: [WCAG AA compliance (minimum)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html).\n- 7: [WCAG AAA compliance (enhanced)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast7.html).\n- 21: White on black or black on white.","terminal.integrated.fastScrollSensitivity":"Scrolling speed multiplier when pressing `Alt`.","terminal.integrated.mouseWheelScrollSensitivity":"A multiplier to be used on the `deltaY` of mouse wheel scroll events.","terminal.integrated.fontWeight":"The font weight to use within the terminal for non-bold text.","terminal.integrated.fontWeightBold":"The font weight to use within the terminal for bold text.","terminal.integrated.cursorBlinking":"Controls whether the terminal cursor blinks.","terminal.integrated.cursorStyle":"Controls the style of terminal cursor.","terminal.integrated.cursorWidth":"Controls the width of the cursor when `#terminal.integrated.cursorStyle#` is set to `line`.","terminal.integrated.scrollback":"Controls the maximum amount of lines the terminal keeps in its buffer.","terminal.integrated.detectLocale":"Controls whether to detect and set the `$LANG` environment variable to a UTF-8 compliant option since VS Code's terminal only supports UTF-8 encoded data coming from the shell.","terminal.integrated.detectLocale.auto":"Set the `$LANG` environment variable if the existing variable does not exist or it does not end in `'.UTF-8'`.","terminal.integrated.detectLocale.off":"Do not set the `$LANG` environment variable.","terminal.integrated.detectLocale.on":"Always set the `$LANG` environment variable.","terminal.integrated.rendererType.auto":"Let VS Code choose which renderer to use.","terminal.integrated.rendererType.canvas":"Use the standard GPU/canvas-based renderer.","terminal.integrated.rendererType.dom":"Use the fallback DOM-based renderer.","terminal.integrated.rendererType.experimentalWebgl":"Use the experimental webgl-based renderer. Note that this has some [known issues](https://github.com/xtermjs/xterm.js/issues?q=is%3Aopen+is%3Aissue+label%3Aarea%2Faddon%2Fwebgl) and this will only be enabled for new terminals (not hot swappable like the other renderers).","terminal.integrated.rendererType":"Controls how the terminal is rendered.","terminal.integrated.rightClickBehavior.default":"Show the context menu.","terminal.integrated.rightClickBehavior.copyPaste":"Copy when there is a selection, otherwise paste.","terminal.integrated.rightClickBehavior.paste":"Paste on right click.","terminal.integrated.rightClickBehavior.selectWord":"Select the word under the cursor and show the context menu.","terminal.integrated.rightClickBehavior":"Controls how terminal reacts to right click.","terminal.integrated.cwd":"An explicit start path where the terminal will be launched, this is used as the current working directory (cwd) for the shell process. This may be particularly useful in workspace settings if the root directory is not a convenient cwd.","terminal.integrated.confirmOnExit":"Controls whether to confirm on exit if there are active terminal sessions.","terminal.integrated.enableBell":"Controls whether the terminal bell is enabled.","terminal.integrated.commandsToSkipShell":"A set of command IDs whose keybindings will not be sent to the shell and instead always be handled by Code. This allows the use of keybindings that would normally be consumed by the shell to act the same as when the terminal is not focused, for example ctrl+p to launch Quick Open.\nDefault Skipped Commands:\n\n{0}","terminal.integrated.allowChords":"Whether or not to allow chord keybindings in the terminal. Note that when this is true and the keystroke results in a chord it will bypass `#terminal.integrated.commandsToSkipShell#`, setting this to false is particularly useful when you want ctrl+k to go to your shell (not VS Code).","terminal.integrated.allowMnemonics":"Whether to allow menubar mnemonics (eg. alt+f) to trigger the open the menubar. Note that this will cause all alt keystrokes will skip the shell when true. This does nothing on macOS.","terminal.integrated.inheritEnv":"Whether new shells should inherit their environment from VS Code. This is not supported on Windows.","terminal.integrated.env.osx":"Object with environment variables that will be added to the VS Code process to be used by the terminal on macOS. Set to `null` to delete the environment variable.","terminal.integrated.env.linux":"Object with environment variables that will be added to the VS Code process to be used by the terminal on Linux. Set to `null` to delete the environment variable.","terminal.integrated.env.windows":"Object with environment variables that will be added to the VS Code process to be used by the terminal on Windows. Set to `null` to delete the environment variable.","terminal.integrated.showExitAlert":'Controls whether to show the alert "The terminal process terminated with exit code" when exit code is non-zero.',"terminal.integrated.splitCwd":"Controls the working directory a split terminal starts with.","terminal.integrated.splitCwd.workspaceRoot":"A new split terminal will use the workspace root as the working directory. In a multi-root workspace a choice for which root folder to use is offered.","terminal.integrated.splitCwd.initial":"A new split terminal will use the working directory that the parent terminal started with.","terminal.integrated.splitCwd.inherited":"On macOS and Linux, a new split terminal will use the working directory of the parent terminal. On Windows, this behaves the same as initial.","terminal.integrated.windowsEnableConpty":"Whether to use ConPTY for Windows terminal process communication (requires Windows 10 build number 18309+). Winpty will be used if this is false.","terminal.integrated.experimentalUseTitleEvent":"An experimental setting that will use the terminal title event for the dropdown title. This setting will only apply to new terminals.","terminal.integrated.enableFileLinks":"Whether to enable file links in the terminal. Links can be slow when working on a network drive in particular because each file link is verified against the file system.","terminal.integrated.unicodeVersion.six":"Version 6 of unicode, this is an older version which should work better on older systems.","terminal.integrated.unicodeVersion.eleven":"Version 11 of unicode, this version provides better support on modern systems that use modern versions of unicode.","terminal.integrated.unicodeVersion":"Controls what version of unicode to use when evaluating the width of characters in the terminal. If you experience emoji or other wide characters not taking up the right amount of space or backspace either deleting too much or too little then you may want to try tweaking this setting.",terminal:"Terminal",viewCategory:"View"},"vs/workbench/contrib/terminal/common/terminalColorRegistry":{"terminal.background":"The background colour of the terminal, this allows colouring the terminal differently to the panel.","terminal.foreground":"The foreground color of the terminal.","terminalCursor.foreground":"The foreground color of the terminal cursor.","terminalCursor.background":"The background color of the terminal cursor. Allows customizing the color of a character overlapped by a block cursor.","terminal.selectionBackground":"The selection background colour of the terminal.","terminal.border":"The colour of the border that separates split panes within the terminal. This defaults to panel.border.","terminal.ansiColor":"'{0}' ANSI color in the terminal."},"vs/workbench/contrib/terminal/common/terminalMenu":{miToggleIntegratedTerminal:"&&Terminal",miNewTerminal:"&&New Terminal",miSplitTerminal:"&&Split Terminal",miRunActiveFile:"Run &&Active File",miRunSelectedText:"Run &&Selected Text"},"vs/workbench/contrib/terminal/browser/terminalsQuickAccess":{renameTerminal:"Rename Terminal",killTerminal:"Kill Terminal Instance","workbench.action.terminal.newplus":"Create New Integrated Terminal"},"vs/workbench/contrib/terminal/browser/terminalService":{"workbench.action.terminal.allowWorkspaceShell":"Allow Workspace Shell Configuration","workbench.action.terminal.disallowWorkspaceShell":"Disallow Workspace Shell Configuration","terminalService.terminalCloseConfirmationSingular":"There is an active terminal session, do you want to kill it?","terminalService.terminalCloseConfirmationPlural":"There are {0} active terminal sessions, do you want to kill them?","terminal.integrated.chooseWindowsShell":"Select your preferred terminal shell, you can change this later in your settings"},"vs/workbench/contrib/terminal/browser/terminalActions":{"workbench.action.terminal.newWorkspacePlaceholder":"Select current working directory for new terminal","workbench.action.terminal.toggleTerminal":"Toggle Integrated Terminal","workbench.action.terminal.kill":"Kill the Active Terminal Instance","workbench.action.terminal.kill.short":"Kill Terminal","workbench.action.terminal.copySelection":"Copy Selection","workbench.action.terminal.copySelection.short":"Copy","workbench.action.terminal.selectAll":"Select All","workbench.action.terminal.deleteWordLeft":"Delete Word Left","workbench.action.terminal.deleteWordRight":"Delete Word Right","workbench.action.terminal.deleteToLineStart":"Delete to Line Start","workbench.action.terminal.moveToLineStart":"Move To Line Start","workbench.action.terminal.moveToLineEnd":"Move To Line End","workbench.action.terminal.sendSequence":"Send Custom Sequence To Terminal","workbench.action.terminal.newWithCwd":"Create New Integrated Terminal Starting in a Custom Working Directory","workbench.action.terminal.newWithCwd.cwd":"The directory to start the terminal at","workbench.action.terminal.new":"Create New Integrated Terminal","workbench.action.terminal.new.short":"New Terminal","workbench.action.terminal.newInActiveWorkspace":"Create New Integrated Terminal (In Active Workspace)","workbench.action.terminal.split":"Split Terminal","workbench.action.terminal.split.short":"Split","workbench.action.terminal.splitInActiveWorkspace":"Split Terminal (In Active Workspace)","workbench.action.terminal.focusPreviousPane":"Focus Previous Pane","workbench.action.terminal.focusNextPane":"Focus Next Pane","workbench.action.terminal.resizePaneLeft":"Resize Pane Left","workbench.action.terminal.resizePaneRight":"Resize Pane Right","workbench.action.terminal.resizePaneUp":"Resize Pane Up","workbench.action.terminal.resizePaneDown":"Resize Pane Down","workbench.action.terminal.focus":"Focus Terminal","workbench.action.terminal.focusNext":"Focus Next Terminal","workbench.action.terminal.focusPrevious":"Focus Previous Terminal","workbench.action.terminal.paste":"Paste into Active Terminal","workbench.action.terminal.paste.short":"Paste","workbench.action.terminal.selectDefaultShell":"Select Default Shell","workbench.action.terminal.runSelectedText":"Run Selected Text In Active Terminal","workbench.action.terminal.runActiveFile":"Run Active File In Active Terminal","workbench.action.terminal.runActiveFile.noFile":"Only files on disk can be run in the terminal","workbench.action.terminal.switchTerminal":"Switch Terminal",terminals:"Open Terminals.","workbench.action.terminal.scrollDown":"Scroll Down (Line)","workbench.action.terminal.scrollDownPage":"Scroll Down (Page)","workbench.action.terminal.scrollToBottom":"Scroll to Bottom","workbench.action.terminal.scrollUp":"Scroll Up (Line)","workbench.action.terminal.scrollUpPage":"Scroll Up (Page)","workbench.action.terminal.scrollToTop":"Scroll to Top","workbench.action.terminal.navigationModeExit":"Exit Navigation Mode","workbench.action.terminal.navigationModeFocusPrevious":"Focus Previous Line (Navigation Mode)","workbench.action.terminal.navigationModeFocusNext":"Focus Next Line (Navigation Mode)","workbench.action.terminal.clear":"Clear","workbench.action.terminal.clearSelection":"Clear Selection","workbench.action.terminal.manageWorkspaceShellPermissions":"Manage Workspace Shell Permissions","workbench.action.terminal.rename":"Rename","workbench.action.terminal.rename.prompt":"Enter terminal name","workbench.action.terminal.renameWithArg":"Rename the Currently Active Terminal","workbench.action.terminal.renameWithArg.name":"The new name for the terminal","workbench.action.terminal.renameWithArg.noTerminal":"No active terminal to rename","workbench.action.terminal.renameWithArg.noName":"No name argument provided","workbench.action.terminal.focusFindWidget":"Focus Find Widget","workbench.action.terminal.hideFindWidget":"Hide Find Widget",quickAccessTerminal:"Switch Active Terminal","workbench.action.terminal.scrollToPreviousCommand":"Scroll To Previous Command","workbench.action.terminal.scrollToNextCommand":"Scroll To Next Command","workbench.action.terminal.selectToPreviousCommand":"Select To Previous Command","workbench.action.terminal.selectToNextCommand":"Select To Next Command","workbench.action.terminal.selectToPreviousLine":"Select To Previous Line","workbench.action.terminal.selectToNextLine":"Select To Next Line","workbench.action.terminal.toggleEscapeSequenceLogging":"Toggle Escape Sequence Logging","workbench.action.terminal.toggleFindRegex":"Toggle find using regex","workbench.action.terminal.toggleFindWholeWord":"Toggle find using whole word","workbench.action.terminal.toggleFindCaseSensitive":"Toggle find using case sensitive","workbench.action.terminal.findNext":"Find Next","workbench.action.terminal.findPrevious":"Find Previous"},"vs/workbench/contrib/terminal/browser/terminalInstance":{"terminal.integrated.a11yPromptLabel":"Terminal input","terminal.integrated.a11yTooMuchOutput":"Too much output to announce, navigate to rows manually to read",yes:"Yes",no:"No",dontShowAgain:"Don't Show Again","terminal.slowRendering":"The standard renderer for the integrated terminal appears to be slow on your computer. Would you like to switch to the alternative DOM-based renderer which may improve performance? [Read more about terminal settings](https://code.visualstudio.com/docs/editor/integrated-terminal#_changing-how-the-terminal-is-rendered).","terminal.integrated.copySelection.noSelection":"The terminal has no selection to copy","terminal.integrated.exitedWithInvalidPath":'The terminal shell path "{0}" does not exist',"terminal.integrated.exitedWithInvalidPathDirectory":'The terminal shell path "{0}" is a directory',"terminal.integrated.exitedWithInvalidCWD":'The terminal shell CWD "{0}" does not exist',"terminal.integrated.legacyConsoleModeError":'The terminal failed to launch properly because your system has legacy console mode enabled, uncheck "Use legacy console" cmd.exe\'s properties to fix this.',"terminal.integrated.launchFailed":"The terminal process command '{0}{1}' failed to launch (exit code: {2})","terminal.integrated.launchFailedExtHost":"The terminal process failed to launch (exit code: {0})","terminal.integrated.exitedWithCode":"The terminal process terminated with exit code: {0}"},"vs/workbench/contrib/terminal/browser/terminalConfigHelper":{"terminal.integrated.allowWorkspaceShell":"Do you allow this workspace to modify your terminal shell? {0}",allow:"Allow",disallow:"Disallow","useWslExtension.title":"The '{0}' extension is recommended for opening a terminal in WSL.",install:"Install"},"vs/workbench/contrib/terminal/browser/terminalTab":{terminalFocus:"Terminal {0}"},"vs/workbench/contrib/terminal/browser/terminalLinkHandler":{"terminalLinkHandler.followLinkAlt.mac":"Option + click","terminalLinkHandler.followLinkAlt":"Alt + click","terminalLinkHandler.followLinkCmd":"Cmd + click","terminalLinkHandler.followLinkCtrl":"Ctrl + click"},"vs/workbench/contrib/terminal/browser/terminalProcessExtHostProxy":{"terminal.integrated.starting":"Starting..."},"vs/workbench/contrib/testCustomEditors/browser/testCustomEditors":{openCustomEditor:"Test Open Custom Editor",testCustomEditor:"Test Custom Editor"},"vs/workbench/contrib/themes/browser/themes.contribution":{"selectTheme.label":"Colour Theme","themes.category.light":"light themes","themes.category.dark":"dark themes","themes.category.hc":"high contrast themes",installColorThemes:"Install Additional Color Themes...","themes.selectTheme":"Select Colour Theme (Up/Down Keys to Preview)","selectIconTheme.label":"File Icon Theme",noIconThemeLabel:"None",noIconThemeDesc:"Disable file icons",installIconThemes:"Install Additional File Icon Themes...","themes.selectIconTheme":"Select File Icon Theme","selectProductIconTheme.label":"Product Icon Theme",defaultProductIconThemeLabel:"Default","themes.selectProductIconTheme":"Select Product Icon Theme","generateColorTheme.label":"Generate Colour Theme From Current Settings",preferences:"Preferences",developer:"Developer",miSelectColorTheme:"&&Colour Theme",miSelectIconTheme:"File &&Icon Theme","themes.selectIconTheme.label":"File Icon Theme"},"vs/workbench/contrib/timeline/browser/timeline.contribution":{timelineConfigurationTitle:"Timeline","timeline.excludeSources":"Experimental: An array of Timeline sources that should be excluded from the Timeline view","files.openTimeline":"Open Timeline"},"vs/workbench/contrib/timeline/browser/timelinePane":{timeline:"Timeline","timeline.loadMore":"Load more","timeline.editorCannotProvideTimeline":"The active editor cannot provide timeline information.","timeline.noTimelineInfo":"No timeline information was provided.","timeline.loading":"Loading timeline for {0}...",refresh:"Refresh","timeline.toggleFollowActiveEditorCommand":"Toggle Active Editor Following","timeline.filterSource":"Include: {0}"},"vs/workbench/contrib/update/browser/update.contribution":{miReleaseNotes:"&&Release Notes"},"vs/workbench/contrib/update/browser/update":{releaseNotes:"Release Notes",showReleaseNotes:"Show Release Notes","read the release notes":"Welcome to {0} v{1}! Would you like to read the Release Notes?",licenseChanged:"Our licence terms have changed, please click [here]({0}) to go through them.",updateIsReady:"New {0} update available.",checkingForUpdates:"Checking For Updates...","update service":"Update Service",noUpdatesAvailable:"There are currently no updates available.",ok:"OK",thereIsUpdateAvailable:"There is an available update.","download update":"Download Update",later:"Later",updateAvailable:"There's an update available: {0} {1}",installUpdate:"Install Update",updateInstalling:"{0} {1} is being installed in the background; we'll let you know when it's done.",updateNow:"Update Now",updateAvailableAfterRestart:"Restart {0} to apply the latest update.",checkForUpdates:"Check for Updates...",DownloadingUpdate:"Downloading Update...","installUpdate...":"Install Update...",installingUpdate:"Installing Update...",restartToUpdate:"Restart to Update (1)"},"vs/workbench/contrib/update/browser/releaseNotesEditor":{releaseNotesInputName:"Release Notes: {0}",unassigned:"unassigned"},"vs/workbench/contrib/url/common/url.contribution":{openUrl:"Open URL",developer:"Developer"},"vs/workbench/contrib/url/common/trustedDomains":{"trustedDomain.manageTrustedDomain":"Manage Trusted Domains","trustedDomain.trustDomain":"Trust {0}","trustedDomain.trustSubDomain":"Trust {0} and all its subdomains","trustedDomain.trustAllDomains":"Trust all domains (disables link protection)","trustedDomain.manageTrustedDomains":"Manage Trusted Domains"},"vs/workbench/contrib/url/common/trustedDomainsValidator":{openExternalLinkAt:"Do you want {0} to open the external website?",open:"Open",copy:"Copy",cancel:"Cancel",configureTrustedDomains:"Configure Trusted Domains"},"vs/workbench/contrib/userData/browser/userData.contribution":{userConfiguration:"User Configuration","userConfiguration.enableSync":"When enabled, synchronises User Configuration: Settings, Keybindings, Extensions & Snippets.","resolve conflicts":"Resolve Conflicts",syncing:"Synchronising User Configuration...","conflicts detected":"Unable to sync due to conflicts. Please resolve them to continue.",resolve:"Resolve Conflicts","start sync":"Sync: Start","stop sync":"Sync: Stop",resolveConflicts:"Sync: Resolve Conflicts","continue sync":"Sync: Continue"},"vs/workbench/contrib/userDataSync/electron-browser/userDataSync.contribution":{"Open Backup folder":"Open Local Backups Folder","sync preferences":"Preferences Sync"},"vs/workbench/contrib/userDataSync/browser/userDataSyncView":{"sync preferences":"Preferences Sync","remote title":"Remote Backup","local title":"Local Backup","workbench.action.showSyncRemoteBackup":"Show Remote Backup","workbench.action.showSyncLocalBackup":"Show Local Backup","workbench.actions.sync.resolveResourceRef":"Show full content","workbench.actions.sync.commpareWithLocal":"Open Changes"},"vs/workbench/contrib/userDataSync/browser/userDataSync":{settings:"Settings",keybindings:"Keyboard Shortcuts",snippets:"User Snippets",extensions:"Extensions","ui state label":"UI State","sync is on with syncing":"{0} (syncing)","sync is on with time":"{0} (synced {1})","turn on sync with category":"Preferences Sync: Turn on...","sign in":"Preferences Sync: Sign in to sync","stop sync":"Preferences Sync: Turn Off",showConflicts:"Preferences Sync: Show Settings Conflicts",showKeybindingsConflicts:"Preferences Sync: Show Keybindings Conflicts",showSnippetsConflicts:"Preferences Sync: Show User Snippets Conflicts","configure sync":"Preferences Sync: Configure...","show sync log":"Preferences Sync: Show Log","sync settings":"Preferences Sync: Show Settings",chooseAccountTitle:"Preferences Sync: Choose Account",chooseAccount:"Choose an account you would like to use for preferences sync","conflicts detected":"Unable to sync due to conflicts in {0}. Please resolve them to continue.","accept remote":"Accept Remote","accept local":"Accept Local","show conflicts":"Show Conflicts","sign in message":"Please sign in with your {0} account to continue sync","Sign in":"Sign in","turned off":"Sync was turned off from another device.","turn on sync":"Turn on Sync","too large":"Disabled syncing {0} because size of the {1} file to sync is larger than {2}. Please open the file and reduce the size and enable sync","open file":"Open {0} File","error incompatible":"Turned off sync because local data is incompatible with the data in the cloud. Please update {0} and turn on sync to continue syncing.",errorInvalidConfiguration:"Unable to sync {0} because there are some errors/warnings in the file. Please open the file to correct errors/warnings in it.","sign in to sync":"Sign in to Sync","has conflicts":"Preferences Sync: Conflicts Detected","sync preview message":"Synchronizing your preferences is a preview feature, please read the documentation before turning it on.","open doc":"Open Documentation",cancel:"Cancel","turn on sync confirmation":"Do you want to turn on preferences sync?","turn on":"Turn On","turn on title":"Preferences Sync: Turn On","sign in and turn on sync detail":"Sign in with your {0} account to synchronize your data across devices.","sign in and turn on sync":"Sign in & Turn on","configure sync placeholder":"Choose what to sync","pick account":"{0}: Pick an account","choose account placeholder":"Pick an account for syncing",existing:"{0}","signed in":"Signed in","choose another":"Use another account","sync turned on":"Preferences sync is turned on","firs time sync":"Sync",merge:"Merge",replace:"Replace Local","first time sync detail":"It looks like this is the first time sync is set up.\nWould you like to merge or replace with the data from the cloud?","turn off sync confirmation":"Do you want to turn off sync?","turn off sync detail":"Your settings, keybindings, extensions and UI State will no longer be synced.","turn off":"Turn Off","turn off sync everywhere":"Turn off sync on all your devices and clear the data from the cloud.",loginFailed:"Logging in failed: {0}","settings conflicts preview":"Settings Conflicts (Remote ↔ Local)","keybindings conflicts preview":"Keybindings Conflicts (Remote ↔ Local)","snippets conflicts preview":"User Snippet Conflicts (Remote ↔ Local) - {0}","turn on failed":"Error while starting Sync: {0}","global activity turn on sync":"Turn on Preferences Sync...","sign in 2":"Preferences Sync: Sign in to sync (1)",resolveConflicts_global:"Preferences Sync: Show Settings Conflicts (1)",resolveKeybindingsConflicts_global:"Preferences Sync: Show Keybindings Conflicts (1)",resolveSnippetsConflicts_global:"Preferences Sync: Show User Snippets Conflicts ({0})","sync is on":"Preferences Sync is On","turn off failed":"Error while turning off sync: {0}","Sync accept remote":"Preferences Sync: {0}","Sync accept local":"Preferences Sync: {0}","confirm replace and overwrite local":"Would you like to accept remote {0} and replace local {1}?","confirm replace and overwrite remote":"Would you like to accept local {0} and replace remote {1}?","update conflicts":"Could not resolve conflicts as there is new local version available. Please try again."},"vs/workbench/contrib/watermark/browser/watermark":{"watermark.showCommands":"Show All Commands","watermark.quickAccess":"Go to File","watermark.openFile":"Open File","watermark.openFolder":"Open Folder","watermark.openFileFolder":"Open File or Folder","watermark.openRecent":"Open Recent","watermark.newUntitledFile":"New Untitled File","watermark.toggleTerminal":"Toggle Terminal","watermark.findInFiles":"Find in Files","watermark.startDebugging":"Start Debugging","tips.enabled":"When enabled, will show the watermark tips when no editor is open."},"vs/workbench/contrib/webview/browser/webview":{developer:"Developer"},"vs/workbench/contrib/webview/browser/webview.contribution":{"webview.editor.label":"webview editor"},"vs/workbench/contrib/webview/electron-browser/webviewCommands":{openToolsLabel:"Open Webview Developer Tools","editor.action.webvieweditor.copy":"Copy2","editor.action.webvieweditor.paste":"Paste","editor.action.webvieweditor.cut":"Cut","editor.action.webvieweditor.undo":"Undo","editor.action.webvieweditor.redo":"Redo"},"vs/workbench/contrib/webview/browser/webviewCommands":{"editor.action.webvieweditor.showFind":"Show find","editor.action.webvieweditor.hideFind":"Stop find","editor.action.webvieweditor.findNext":"Find Next","editor.action.webvieweditor.findPrevious":"Find Previous","editor.action.webvieweditor.selectAll":"Select All",refreshWebviewLabel:"Reload Webviews"},"vs/workbench/contrib/welcome/walkThrough/browser/walkThrough.contribution":{"walkThrough.editor.label":"Interactive Playground",help:"Help",miInteractivePlayground:"I&&nteractive Playground"},"vs/workbench/contrib/welcome/page/browser/welcomePage.contribution":{"workbench.startupEditor.none":"Start without an editor.","workbench.startupEditor.welcomePage":"Open the Welcome page (default).","workbench.startupEditor.readme":"Open the README when opening a folder that contains one, fallback to 'welcomePage' otherwise.","workbench.startupEditor.newUntitledFile":"Open a new untitled file (only applies when opening an empty workspace).","workbench.startupEditor.welcomePageInEmptyWorkbench":"Open the Welcome page when opening an empty workbench.","workbench.startupEditor":"Controls which editor is shown at startup, if none are restored from the previous session.",help:"Help",miWelcome:"&&Welcome"},"vs/workbench/contrib/welcome/overlay/browser/welcomeOverlay":{"welcomeOverlay.explorer":"File Explorer","welcomeOverlay.search":"Search across files","welcomeOverlay.git":"Source code management","welcomeOverlay.debug":"Launch and debug","welcomeOverlay.extensions":"Manage Extensions","welcomeOverlay.problems":"View errors and warnings","welcomeOverlay.terminal":"Toggle Integrated Terminal","welcomeOverlay.commandPalette":"Find and run all commands","welcomeOverlay.notifications":"Show notifications",welcomeOverlay:"User Interface Overview",hideWelcomeOverlay:"Hide Interface Overview",help:"Help"},"vs/workbench/contrib/welcome/walkThrough/browser/editor/editorWalkThrough":{"editorWalkThrough.title":"Interactive Playground",editorWalkThrough:"Interactive Playground"},"vs/workbench/contrib/welcome/common/viewsWelcomeExtensionPoint":{"contributes.viewsWelcome":"Contributed views welcome content. Welcome content will be rendered in views whenever they have no meaningful content to display, ie. the File Explorer when no folder is open. Such content is useful as in-product documentation to drive users to use certain features before they are available. A good example would be a `Clone Repository` button in the File Explorer welcome view.","contributes.viewsWelcome.view":"Contributed welcome content for a specific view.","contributes.viewsWelcome.view.view":"Target view identifier for this welcome content.","contributes.viewsWelcome.view.contents":"Welcome content to be displayed. The format of the contents is a subset of Markdown, with support for links only.","contributes.viewsWelcome.view.when":"Condition when the welcome content should be displayed."},"vs/workbench/contrib/welcome/telemetryOptOut/browser/telemetryOptOut":{"telemetryOptOut.optOutNotice":"Help improve VS Code by allowing Microsoft to collect usage data. Read our [privacy statement]({0}) and learn how to [opt out]({1}).","telemetryOptOut.optInNotice":"Help improve VS Code by allowing Microsoft to collect usage data. Read our [privacy statement]({0}) and learn how to [opt in]({1}).","telemetryOptOut.readMore":"Read More","telemetryOptOut.optOutOption":"Please help Microsoft improve Visual Studio Code by allowing the collection of usage data. Read our [privacy statement]({0}) for more details.","telemetryOptOut.OptIn":"Yes, glad to help","telemetryOptOut.OptOut":"No, thanks"},"vs/workbench/contrib/welcome/walkThrough/browser/walkThroughPart":{"walkThrough.unboundCommand":"unbound","walkThrough.gitNotFound":"It looks like Git is not installed on your system.","walkThrough.embeddedEditorBackground":"Background colour for the embedded editors on the Interactive Playground."},"vs/workbench/contrib/welcome/page/browser/welcomePage":{welcomePage:"Welcome","welcomePage.javaScript":"JavaScript","welcomePage.python":"Python","welcomePage.php":"PHP","welcomePage.azure":"Azure","welcomePage.showAzureExtensions":"Show Azure extensions","welcomePage.docker":"Docker","welcomePage.vim":"Vim","welcomePage.sublime":"Sublime","welcomePage.atom":"Atom","welcomePage.extensionPackAlreadyInstalled":"Support for {0} is already installed.","welcomePage.willReloadAfterInstallingExtensionPack":"The window will reload after installing additional support for {0}.","welcomePage.installingExtensionPack":"Installing additional support for {0}...","welcomePage.extensionPackNotFound":"Support for {0} with id {1} could not be found.","welcomePage.keymapAlreadyInstalled":"The {0} keyboard shortcuts are already installed.","welcomePage.willReloadAfterInstallingKeymap":"The window will reload after installing the {0} keyboard shortcuts.","welcomePage.installingKeymap":"Installing the {0} keyboard shortcuts...","welcomePage.keymapNotFound":"The {0} keyboard shortcuts with id {1} could not be found.","welcome.title":"Welcome","welcomePage.openFolderWithPath":"Open folder {0} with path {1}","welcomePage.extensionListSeparator":", ","welcomePage.installKeymap":"Install {0} keymap","welcomePage.installExtensionPack":"Install additional support for {0}","welcomePage.installedKeymap":"{0} keymap is already installed","welcomePage.installedExtensionPack":"{0} support is already installed",ok:"OK",details:"Details","welcomePage.buttonBackground":"Background color for the buttons on the Welcome page.","welcomePage.buttonHoverBackground":"Hover background colour for the buttons on the Welcome page.","welcomePage.background":"Background colour for the Welcome page."},"vs/workbench/contrib/welcome/page/browser/vs_code_welcome_page":{"welcomePage.vscode":"Visual Studio Code","welcomePage.editingEvolved":"Editing evolved","welcomePage.start":"Start","welcomePage.newFile":"New File","welcomePage.openFolder":"Open folder...","welcomePage.addWorkspaceFolder":"Add workspace folder...","welcomePage.recent":"Recent","welcomePage.moreRecent":"More...","welcomePage.noRecentFolders":"No recent folders","welcomePage.help":"Help","welcomePage.keybindingsCheatsheet":"Printable keyboard cheatsheet","welcomePage.introductoryVideos":"Introductory Videos","welcomePage.tipsAndTricks":"Tips and Tricks","welcomePage.productDocumentation":"Product documentation","welcomePage.gitHubRepository":"GitHub repository","welcomePage.stackOverflow":"Stack Overflow","welcomePage.newsletterSignup":"Join our Newsletter","welcomePage.showOnStartup":"Show welcome page on startup","welcomePage.customize":"Customize","welcomePage.installExtensionPacks":"Tools and languages","welcomePage.installExtensionPacksDescription":"Install support for {0} and {1}","welcomePage.showLanguageExtensions":"Show more language extensions","welcomePage.moreExtensions":"more","welcomePage.installKeymapDescription":"Settings and keybindings","welcomePage.installKeymapExtension":"Install the settings and keyboard shortcuts of {0} and {1}","welcomePage.showKeymapExtensions":"Show other keymap extensions","welcomePage.others":"others","welcomePage.colorTheme":"Colour Theme","welcomePage.colorThemeDescription":"Make the editor and your code look the way you love","welcomePage.learn":"Learn","welcomePage.showCommands":"Find and run all commands","welcomePage.showCommandsDescription":"Rapidly access and search commands from the Command Palette ({0})","welcomePage.interfaceOverview":"Interface overview","welcomePage.interfaceOverviewDescription":"Get a visual overlay highlighting the major components of the UI","welcomePage.interactivePlayground":"Interactive Playground","welcomePage.interactivePlaygroundDescription":"Try out essential editor features in a short walkthrough"},"vs/workbench/services/authentication/browser/authenticationService":{noAuthenticationProviders:"No authentication providers registered"},"vs/workbench/services/bulkEdit/browser/bulkEditService":{workspaceEdit:"Workspace Edit","summary.0":"Made no edits","summary.nm":"Made {0} text edits in {1} files","summary.n0":"Made {0} text edits in one file",nothing:"Made no edits"},"vs/workbench/services/configuration/common/jsonEditingService":{errorInvalidFile:"Unable to write into the file. Please open the file to correct errors/warnings in the file and try again.",errorFileDirty:"Unable to write into the file because the file is dirty. Please save the file and try again."},"vs/workbench/services/configuration/common/configurationEditingService":{openTasksConfiguration:"Open Tasks Configuration",openLaunchConfiguration:"Open Launch Configuration",open:"Open Settings",saveAndRetry:"Save and Retry",errorUnknownKey:"Unable to write to {0} because {1} is not a registered configuration.",errorInvalidWorkspaceConfigurationApplication:"Unable to write {0} to Workspace Settings. This setting can be written only into User settings.",errorInvalidWorkspaceConfigurationMachine:"Unable to write {0} to Workspace Settings. This setting can be written only into User settings.",errorInvalidFolderConfiguration:"Unable to write to Folder Settings because {0} does not support the folder resource scope.",errorInvalidUserTarget:"Unable to write to User Settings because {0} does not support for global scope.",errorInvalidWorkspaceTarget:"Unable to write to Workspace Settings because {0} does not support for workspace scope in a multi folder workspace.",errorInvalidFolderTarget:"Unable to write to Folder Settings because no resource is provided.",errorInvalidResourceLanguageConfiguraiton:"Unable to write to Language Settings because {0} is not a resource language setting.",errorNoWorkspaceOpened:"Unable to write to {0} because no workspace is opened. Please open a workspace first and try again.",errorInvalidTaskConfiguration:"Unable to write into the tasks configuration file. Please open it to correct errors/warnings in it and try again.",errorInvalidLaunchConfiguration:"Unable to write into the launch configuration file. Please open it to correct errors/warnings in it and try again.",errorInvalidConfiguration:"Unable to write into user settings. Please open the user settings to correct errors/warnings in it and try again.",errorInvalidRemoteConfiguration:"Unable to write into remote user settings. Please open the remote user settings to correct errors/warnings in it and try again.",errorInvalidConfigurationWorkspace:"Unable to write into workspace settings. Please open the workspace settings to correct errors/warnings in the file and try again.",errorInvalidConfigurationFolder:"Unable to write into folder settings. Please open the '{0}' folder settings to correct errors/warnings in it and try again.",errorTasksConfigurationFileDirty:"Unable to write into tasks configuration file because the file is dirty. Please save it first and then try again.",errorLaunchConfigurationFileDirty:"Unable to write into launch configuration file because the file is dirty. Please save it first and then try again.",errorConfigurationFileDirty:"Unable to write into user settings because the file is dirty. Please save the user settings file first and then try again.",errorRemoteConfigurationFileDirty:"Unable to write into remote user settings because the file is dirty. Please save the remote user settings file first and then try again.",errorConfigurationFileDirtyWorkspace:"Unable to write into workspace settings because the file is dirty. Please save the workspace settings file first and then try again.",errorConfigurationFileDirtyFolder:"Unable to write into folder settings because the file is dirty. Please save the '{0}' folder settings file first and then try again.",errorTasksConfigurationFileModifiedSince:"Unable to write into tasks configuration file because the content of the file is newer.",errorLaunchConfigurationFileModifiedSince:"Unable to write into launch configuration file because the content of the file is newer.",errorConfigurationFileModifiedSince:"Unable to write into user settings because the content of the file is newer.",errorRemoteConfigurationFileModifiedSince:"Unable to write into remote user settings because the content of the file is newer.",errorConfigurationFileModifiedSinceWorkspace:"Unable to write into workspace settings because the content of the file is newer.",errorConfigurationFileModifiedSinceFolder:"Unable to write into folder settings because the content of the file is newer.",userTarget:"User Settings",remoteUserTarget:"Remote User Settings",workspaceTarget:"Workspace Settings",folderTarget:"Folder Settings"},"vs/workbench/services/configurationResolver/browser/configurationResolverService":{"commandVariable.noStringType":"Cannot substitute command variable '{0}' because command did not return a result of type string.","inputVariable.noInputSection":"Variable '{0}' must be defined in an '{1}' section of the debug or task configuration.","inputVariable.missingAttribute":"Input variable '{0}' is of type '{1}' and must include '{2}'.","inputVariable.defaultInputValue":"(Default)","inputVariable.command.noStringType":"Cannot substitute input variable '{0}' because command '{1}' did not return a result of type string.","inputVariable.unknownType":"Input variable '{0}' can only be of type 'promptString', 'pickString', or 'command'.","inputVariable.undefinedVariable":"Undefined input variable '{0}' encountered. Remove or define '{0}' to continue."},"vs/workbench/services/configurationResolver/common/variableResolver":{canNotResolveFile:"'{0}' can not be resolved. Please open an editor.",canNotFindFolder:"'{0}' can not be resolved. No such folder '{1}'.",canNotResolveWorkspaceFolderMultiRoot:"'{0}' can not be resolved in a multi folder workspace. Scope this variable using ':' and a workspace folder name.",canNotResolveWorkspaceFolder:"'{0}' can not be resolved. Please open a folder.",missingEnvVarName:"'{0}' can not be resolved because no environment variable name is given.",configNotFound:"'{0}' can not be resolved because setting '{1}' not found.",configNoString:"'{0}' can not be resolved because '{1}' is a structured value.",missingConfigName:"'{0}' can not be resolved because no settings name is given.",canNotResolveLineNumber:"'{0}' can not be resolved. Make sure to have a line selected in the active editor.",canNotResolveSelectedText:"'{0}' can not be resolved. Make sure to have some text selected in the active editor.",noValueForCommand:"'{0}' can not be resolved because the command has no value."},"vs/workbench/services/configurationResolver/common/configurationResolverUtils":{deprecatedVariables:"'env.', 'config.' and 'command.' are deprecated, use 'env:', 'config:' and 'command:' instead."},"vs/workbench/services/configurationResolver/common/configurationResolverSchema":{"JsonSchema.input.id":"The input's id is used to associate an input with a variable of the form ${input:id}.","JsonSchema.input.type":"The type of user input prompt to use.","JsonSchema.input.description":"The description is shown when the user is prompted for input.","JsonSchema.input.default":"The default value for the input.","JsonSchema.inputs":"User inputs. Used for defining user input prompts, such as free string input or a choice from several options.","JsonSchema.input.type.promptString":"The 'promptString' type opens an input box to ask the user for input.","JsonSchema.input.password":"Controls if a password input is shown. Password input hides the typed text.","JsonSchema.input.type.pickString":"The 'pickString' type shows a selection list.","JsonSchema.input.options":"An array of strings that defines the options for a quick pick.","JsonSchema.input.pickString.optionLabel":"Label for the option.","JsonSchema.input.pickString.optionValue":"Value for the option.","JsonSchema.input.type.command":"The 'command' type executes a command.","JsonSchema.input.command.command":"The command to execute for this input variable.","JsonSchema.input.command.args":"Optional arguments passed to the command."},"vs/workbench/services/decorations/browser/decorationsService":{bubbleTitle:"Contains emphasized items"},"vs/workbench/services/dialogs/electron-browser/dialogService":{yesButton:"&&Yes",cancelButton:"Cancel",aboutDetail:"Version: {0}\nCommit: {1}\nDate: {2}\nElectron: {3}\nChrome: {4}\nNode.js: {5}\nV8: {6}\nOS: {7}",okButton:"OK",copy:"&&Copy"},"vs/workbench/services/dialogs/browser/dialogService":{yesButton:"&&Yes",cancelButton:"Cancel",aboutDetail:"Version: {0}\nCommit: {1}\nDate: {2}\nBrowser: {3}",copy:"Copy",ok:"OK"},"vs/workbench/services/dialogs/browser/abstractFileDialogService":{saveChangesDetail:"Your changes will be lost if you don't save them.",saveChangesMessage:"Do you want to save the changes you made to {0}?",saveChangesMessages:"Do you want to save the changes to the following {0} files?",saveAll:"&&Save All",save:"&&Save",dontSave:"Do&&n't Save",cancel:"Cancel","openFileOrFolder.title":"Open File or Folder","openFile.title":"Open File","openFolder.title":"Open Folder","openWorkspace.title":"Open Workspace","filterName.workspace":"workspace","saveFileAs.title":"Save As",saveAsTitle:"Save As",allFiles:"All Files",noExt:"No Extension"},"vs/workbench/services/dialogs/browser/simpleFileDialog":{openLocalFile:"Open Local File...",saveLocalFile:"Save Local File...",openLocalFolder:"Open Local Folder...",openLocalFileFolder:"Open Local...","remoteFileDialog.notConnectedToRemote":"File system provider for {0} is not available.","remoteFileDialog.local":"Show Local","remoteFileDialog.badPath":"The path does not exist.","remoteFileDialog.cancel":"Cancel","remoteFileDialog.invalidPath":"Please enter a valid path.","remoteFileDialog.validateFolder":"The folder already exists. Please use a new file name.","remoteFileDialog.validateExisting":"{0} already exists. Are you sure you want to overwrite it?","remoteFileDialog.validateBadFilename":"Please enter a valid file name.","remoteFileDialog.validateNonexistentDir":"Please enter a path that exists.","remoteFileDialog.validateFileOnly":"Please select a file.","remoteFileDialog.validateFolderOnly":"Please select a folder."},"vs/workbench/services/editor/browser/editorService":{sideBySideLabels:"{0} - {1}",compareLabels:"{0} ↔ {1}"},"vs/workbench/services/extensionManagement/electron-browser/extensionManagementServerService":{local:"Local",remote:"Remote"},"vs/workbench/services/extensionManagement/common/extensionManagementService":{singleDependentError:"Cannot uninstall extension '{0}'. Extension '{1}' depends on this.",twoDependentsError:"Cannot uninstall extension '{0}'. Extensions '{1}' and '{2}' depend on this.",multipleDependentsError:"Cannot uninstall extension '{0}'. Extensions '{1}', '{2}' and others depend on this.","Manifest is not found":"Installing Extension {0} failed: Manifest is not found.","cannot be installed":"Cannot install '{0}' because this extension has defined that it cannot run on the remote server."},"vs/workbench/services/extensionManagement/common/extensionEnablementService":{noWorkspace:"No workspace."},"vs/workbench/services/extensions/electron-browser/extensionService":{extensionsDisabled:"All installed extensions are temporarily disabled. Reload the window to return to the previous state.",Reload:"Reload",looping:"The following extensions contain dependency loops and have been disabled: {0}","extensionService.versionMismatchCrash":"Extension host cannot start: version mismatch.",relaunch:"Relaunch VS Code","extensionService.crash":"Extension host terminated unexpectedly.",devTools:"Open Developer Tools",restart:"Restart Extension Host",getEnvironmentFailure:"Could not fetch remote environment",enableResolver:"Extension '{0}' is required to open the remote window.\nOK to enable?",enable:"Enable and Reload",installResolver:"Extension '{0}' is required to open the remote window.\nnOK to install?",install:"Install and Reload",resolverExtensionNotFound:"`{0}` not found on marketplace",restartExtensionHost:"Restart Extension Host",developer:"Developer"},"vs/workbench/services/extensions/electron-browser/remoteExtensionManagementIpc":{incompatible:"Unable to install extension '{0}' as it is not compatible with VS Code '{1}'."},"vs/workbench/services/extensions/browser/extensionUrlHandler":{confirmUrl:"Allow an extension to open this URI?",rememberConfirmUrl:"Don't ask again for this extension.",open:"&&Open",reloadAndHandle:"Extension '{0}' is not loaded. Would you like to reload the window to load the extension and open the URL?",reloadAndOpen:"&&Reload Window and Open",enableAndHandle:"Extension '{0}' is disabled. Would you like to enable the extension and reload the window to open the URL?",enableAndReload:"&&Enable and Open",installAndHandle:"Extension '{0}' is not installed. Would you like to install the extension and reload the window to open this URL?",install:"&&Install",Installing:"Installing Extension '{0}'...",reload:"Would you like to reload the window and open the URL '{0}'?",Reload:"Reload Window and Open",manage:"Manage Authorized Extension URIs..."},"vs/workbench/services/extensions/common/extensionsRegistry":{ui:"UI extension kind. In a remote window, such extensions are enabled only when available on the local machine.",workspace:"Workspace extension kind. In a remote window, such extensions are enabled only when available on the remote.","vscode.extension.engines":"Engine compatibility.","vscode.extension.engines.vscode":"For VS Code extensions, specifies the VS Code version that the extension is compatible with. Cannot be *. For example: ^0.10.5 indicates compatibility with a minimum VS Code version of 0.10.5.","vscode.extension.publisher":"The publisher of the VS Code extension.","vscode.extension.displayName":"The display name for the extension used in the VS Code gallery.","vscode.extension.categories":"The categories used by the VS Code gallery to categorize the extension.","vscode.extension.category.languages.deprecated":"Use 'Programming  Languages' instead","vscode.extension.galleryBanner":"Banner used in the VS Code marketplace.","vscode.extension.galleryBanner.color":"The banner colour on the VS Code marketplace page header.","vscode.extension.galleryBanner.theme":"The colour theme for the font used in the banner.","vscode.extension.contributes":"All contributions of the VS Code extension represented by this package.","vscode.extension.preview":"Sets the extension to be flagged as a Preview in the Marketplace.","vscode.extension.activationEvents":"Activation events for the VS Code extension.","vscode.extension.activationEvents.onLanguage":"An activation event emitted whenever a file that resolves to the specified language gets opened.","vscode.extension.activationEvents.onCommand":"An activation event emitted whenever the specified command gets invoked.","vscode.extension.activationEvents.onDebug":"An activation event emitted whenever a user is about to start debugging or about to setup debug configurations.","vscode.extension.activationEvents.onDebugInitialConfigurations":'An activation event emitted whenever a "launch.json" needs to be created (and all provideDebugConfigurations methods need to be called).',"vscode.extension.activationEvents.onDebugResolve":"An activation event emitted whenever a debug session with the specific type is about to be launched (and a corresponding resolveDebugConfiguration method needs to be called).","vscode.extension.activationEvents.onDebugAdapterProtocolTracker":"An activation event emitted whenever a debug session with the specific type is about to be launched and a debug protocol tracker might be needed.","vscode.extension.activationEvents.workspaceContains":"An activation event emitted whenever a folder is opened that contains at least a file matching the specified glob pattern.","vscode.extension.activationEvents.onFileSystem":"An activation event emitted whenever a file or folder is accessed with the given scheme.","vscode.extension.activationEvents.onSearch":"An activation event emitted whenever a search is started in the folder with the given scheme.","vscode.extension.activationEvents.onView":"An activation event emitted whenever the specified view is expanded.","vscode.extension.activationEvents.onIdentity":"An activation event emitted whenever the specified user identity.","vscode.extension.activationEvents.onUri":"An activation event emitted whenever a system-wide Uri directed towards this extension is open.","vscode.extension.activationEvents.onCustomEditor":"An activation event emitted whenever the specified custom editor becomes visible.","vscode.extension.activationEvents.star":"An activation event emitted on VS Code startup. To ensure a great end user experience, please use this activation event in your extension only when no other activation events combination works in your use-case.","vscode.extension.badges":"Array of badges to display in the sidebar of the Marketplace's extension page.","vscode.extension.badges.url":"Badge image URL.","vscode.extension.badges.href":"Badge link.","vscode.extension.badges.description":"Badge description.","vscode.extension.markdown":"Controls the Markdown rendering engine used in the Marketplace. Either github (default) or standard.","vscode.extension.qna":"Controls the Q&A link in the Marketplace. Set to marketplace to enable the default Marketplace Q & A site. Set to a string to provide the URL of a custom Q & A site. Set to false to disable Q & A altogether.","vscode.extension.extensionDependencies":"Dependencies to other extensions. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp.","vscode.extension.contributes.extensionPack":"A set of extensions that can be installed together. The identifier of an extension is always ${publisher}.${name}. For example: vscode.csharp.",extensionKind:"Define the kind of an extension. `ui` extensions are installed and run on the local machine while `workspace` extensions run on the remote.","extensionKind.ui":"Define an extension which can run only on the local machine when connected to remote window.","extensionKind.workspace":"Define an extension which can run only on the remote machine when connected remote window.","extensionKind.ui-workspace":"Define an extension which can run on either side, with a preference towards running on the local machine.","extensionKind.workspace-ui":"Define an extension which can run on either side, with a preference towards running on the remote machine.","extensionKind.empty":"Define an extension which cannot run in a remote context, neither on the local, nor on the remote machine.","vscode.extension.scripts.prepublish":"Script executed before the package is published as a VS Code extension.","vscode.extension.scripts.uninstall":"Uninstall hook for VS Code extension. Script that gets executed when the extension is completely uninstalled from VS Code which is when VS Code is restarted (shutdown and start) after the extension is uninstalled. Only Node scripts are supported.","vscode.extension.icon":"The path to a 128x128 pixel icon."},"vs/workbench/services/extensions/common/remoteExtensionHostClient":{"remote extension host Log":"Remote Extension Host"},"vs/workbench/services/extensions/common/extensionHostProcessManager":{measureExtHostLatency:"Measure Extension Host Latency",developer:"Developer"},"vs/workbench/services/extensions/electron-browser/cachedExtensionScanner":{overwritingExtension:"Overwriting extension {0} with {1}.",extensionUnderDevelopment:"Loading development extension at {0}","extensionCache.invalid":"Extensions have been modified on disk. Please reload the window.",reloadWindow:"Reload Window"},"vs/workbench/services/extensions/electron-browser/extensionHost":{"extensionHost.startupFailDebug":"Extension host did not start in 10 seconds, it might be stopped on the first line and needs a debugger to continue.","extensionHost.startupFail":"Extension host did not start in 10 seconds, that might be a problem.",reloadWindow:"Reload Window","extension host Log":"Extension Host","extensionHost.error":"Error from the extension host: {0}"},"vs/workbench/services/extensions/node/extensionPoints":{jsonParseFail:"Failed to parse {0}: [{1}, {2}] {3}.",fileReadFail:"Cannot read file {0}: {1}.",jsonsParseReportErrors:"Failed to parse {0}: {1}.",jsonInvalidFormat:"Invalid format {0}: JSON object expected.",missingNLSKey:"Couldn't find message for key {0}.",notSemver:"Extension version is not semver compatible.","extensionDescription.empty":"Got empty extension description","extensionDescription.publisher":"property publisher must be of type `string`.","extensionDescription.name":"property `{0}` is mandatory and must be of type `string`","extensionDescription.version":"property `{0}` is mandatory and must be of type `string`","extensionDescription.engines":"property `{0}` is mandatory and must be of type `object`","extensionDescription.engines.vscode":"property `{0}` is mandatory and must be of type `string`","extensionDescription.extensionDependencies":"property `{0}` can be omitted or must be of type `string[]`","extensionDescription.activationEvents1":"property `{0}` can be omitted or must be of type `string[]`","extensionDescription.activationEvents2":"properties `{0}` and `{1}` must both be specified or must both be omitted","extensionDescription.main1":"property `{0}` can be omitted or must be of type `string`","extensionDescription.main2":"Expected `main` ({0}) to be included inside extension's folder ({1}). This might make the extension non-portable.","extensionDescription.main3":"properties `{0}` and `{1}` must both be specified or must both be omitted"},"vs/workbench/services/files/common/workspaceWatcher":{netVersionError:"The Microsoft .NET Framework 4.5 is required. Please follow the link to install it.",installNet:"Download .NET Framework 4.5",enospcError:"Unable to watch for file changes in this large workspace. Please follow the instructions link to resolve this issue.",learnMore:"Instructions"},"vs/workbench/services/integrity/node/integrityService":{"integrity.prompt":"Your {0} installation appears to be corrupt. Please reinstall.","integrity.moreInformation":"More Information","integrity.dontShowAgain":"Don't Show Again"},"vs/workbench/services/keybinding/electron-browser/keybinding.contribution":{keyboardConfigurationTitle:"Keyboard","touchbar.enabled":"Enables the macOS touchbar buttons on the keyboard if available.","touchbar.ignored":"A set of identifiers for entries in the touchbar that should not show up (for example `workbench.action.navigateBack`."},"vs/workbench/services/keybinding/common/keybindingEditing":{errorKeybindingsFileDirty:"Unable to write because the keybindings configuration file is dirty. Please save it first and then try again.",parseErrors:"Unable to write to the keybindings configuration file. Please open it to correct errors/warnings in the file and try again.",errorInvalidConfiguration:"Unable to write to the keybindings configuration file. It has an object which is not of type Array. Please open the file to clean up and try again.",emptyKeybindingsHeader:"Place your key bindings in this file to override the defaults"},"vs/workbench/services/keybinding/browser/keybindingService":{nonempty:"expected non-empty value.",requirestring:"property `{0}` is mandatory and must be of type `string`",optstring:"property `{0}` can be omitted or must be of type `string`","vscode.extension.contributes.keybindings.command":"Identifier of the command to run when keybinding is triggered.","vscode.extension.contributes.keybindings.args":"Arguments to pass to the command to execute.","vscode.extension.contributes.keybindings.key":"Key or key sequence (separate keys with plus-sign and sequences with space, e.g. Ctrl+O and Ctrl+L L for a chord).","vscode.extension.contributes.keybindings.mac":"Mac specific key or key sequence.","vscode.extension.contributes.keybindings.linux":"Linux specific key or key sequence.","vscode.extension.contributes.keybindings.win":"Windows specific key or key sequence.","vscode.extension.contributes.keybindings.when":"Condition when the key is active.","vscode.extension.contributes.keybindings":"Contributes keybindings.","invalid.keybindings":"Invalid `contributes.{0}`: {1}",unboundCommands:"Here are other available commands: ","keybindings.json.title":"Keybindings configuration","keybindings.json.key":"Key or key sequence (separated by space)","keybindings.json.command":"Name of the command to execute","keybindings.json.when":"Condition when the key is active.","keybindings.json.args":"Arguments to pass to the command to execute.",keyboardConfigurationTitle:"Keyboard",dispatch:"Controls the dispatching logic for key presses to use either `code` (recommended) or `keyCode`."},"vs/workbench/services/label/common/labelService":{"vscode.extension.contributes.resourceLabelFormatters":"Contributes resource label formatting rules.","vscode.extension.contributes.resourceLabelFormatters.scheme":'URI scheme on which to match the formatter on. For example "file". Simple glob patterns are supported.',"vscode.extension.contributes.resourceLabelFormatters.authority":"URI authority on which to match the formatter on. Simple glob patterns are supported.","vscode.extension.contributes.resourceLabelFormatters.formatting":"Rules for formatting uri resource labels.","vscode.extension.contributes.resourceLabelFormatters.label":"Label rules to display. For example: myLabel:/${path}. ${path}, ${scheme} and ${authority} are supported as variables.","vscode.extension.contributes.resourceLabelFormatters.separator":"Separator to be used in the uri label display. '/' or '' as an example.","vscode.extension.contributes.resourceLabelFormatters.tildify":"Controls if the start of the uri label should be tildified when possible.","vscode.extension.contributes.resourceLabelFormatters.formatting.workspaceSuffix":"Suffix appended to the workspace label.",untitledWorkspace:"Untitled (Workspace)",workspaceNameVerbose:"{0} (Workspace)",workspaceName:"{0} (Workspace)"},"vs/workbench/services/lifecycle/electron-browser/lifecycleService":{errorClose:"An unexpected error prevented the window from closing ({0}).",errorQuit:"An unexpected error prevented the application from closing ({0}).",errorReload:"An unexpected error prevented the window from reloading ({0}).",errorLoad:"An unexpected error prevented the window from changing it's workspace ({0})."},"vs/workbench/services/mode/common/workbenchModeService":{"vscode.extension.contributes.languages":"Contributes language declarations.","vscode.extension.contributes.languages.id":"ID of the language.","vscode.extension.contributes.languages.aliases":"Name aliases for the language.","vscode.extension.contributes.languages.extensions":"File extensions associated to the language.","vscode.extension.contributes.languages.filenames":"File names associated to the language.","vscode.extension.contributes.languages.filenamePatterns":"File name glob patterns associated to the language.","vscode.extension.contributes.languages.mimetypes":"Mime types associated to the language.","vscode.extension.contributes.languages.firstLine":"A regular expression matching the first line of a file of the language.","vscode.extension.contributes.languages.configuration":"A relative path to a file containing configuration options for the language.",invalid:"Invalid `contributes.{0}`. Expected an array.","invalid.empty":"Empty value for `contributes.{0}`","require.id":"property `{0}` is mandatory and must be of type `string`","opt.extensions":"property `{0}` can be omitted and must be of type `string[]`","opt.filenames":"property `{0}` can be omitted and must be of type `string[]`","opt.firstLine":"property `{0}` can be omitted and must be of type `string`","opt.configuration":"property `{0}` can be omitted and must be of type `string`","opt.aliases":"property `{0}` can be omitted and must be of type `string[]`","opt.mimetypes":"property `{0}` can be omitted and must be of type `string[]`"},"vs/workbench/services/notification/common/notificationService":{neverShowAgain:"Don't Show Again"},"vs/workbench/services/preferences/common/preferences":{userSettingsTarget:"User Settings",workspaceSettingsTarget:"Workspace Settings"},"vs/workbench/services/preferences/browser/preferencesService":{openFolderFirst:"Open a folder first to create workspace settings",emptyKeybindingsHeader:"Place your key bindings in this file to override the defaults",defaultKeybindings:"Default Keybindings",defaultSettings:"Default Settings",folderSettingsName:"{0} (Folder Settings)","fail.createSettings":"Unable to create '{0}' ({1})."},"vs/workbench/services/preferences/common/preferencesEditorInput":{settingsEditorName:"Default Settings",keybindingsInputName:"Keyboard Shortcuts",settingsEditor2InputName:"Settings"},"vs/workbench/services/preferences/common/preferencesModels":{commonlyUsed:"Commonly Used","validations.stringArrayUniqueItems":"Array has duplicate items","validations.stringArrayMinItem":"Array must have at least {0} items","validations.stringArrayMaxItem":"Array must have at most {0} items","validations.stringArrayItemPattern":"Value {0} must match regex {1}.","validations.stringArrayItemEnum":"Value {0} is not one of {1}","validations.exclusiveMax":"Value must be strictly less than {0}.","validations.exclusiveMin":"Value must be strictly greater than {0}.","validations.max":"Value must be less than or equal to {0}.","validations.min":"Value must be greater than or equal to {0}.","validations.multipleOf":"Value must be a multiple of {0}.","validations.expectedInteger":"Value must be an integer.","validations.maxLength":"Value must be {0} or fewer characters long.","validations.minLength":"Value must be {0} or more characters long.","validations.regex":"Value must match regex `{0}`.","validations.expectedNumeric":"Value must be a number.",defaultKeybindingsHeader:"Override key bindings by placing them into your key bindings file."},"vs/workbench/services/preferences/common/keybindingsEditorModel":{default:"Default",user:"User","cat.title":"{0}: {1}",meta:"meta",option:"option"},"vs/workbench/services/progress/browser/progressService":{"progress.text2":"{0}: {1}","progress.title3":"[{0}] {1}: {2}","progress.title2":"[{0}]: {1}","status.progress":"Progress Message",cancel:"Cancel",dismiss:"Dismiss"},"vs/workbench/services/remote/common/abstractRemoteAgentService":{connectionError:"Failed to connect to the remote extension host server (Error: {0})"},"vs/workbench/services/textfile/electron-browser/nativeTextFileService":{fileBinaryError:"File seems to be binary and cannot be opened as text",fileReadOnlyError:"File is Read Only"},"vs/workbench/services/textfile/browser/textFileService":{fileBinaryError:"File seems to be binary and cannot be opened as text",confirmOverwrite:"'{0}' already exists. Do you want to replace it?",irreversible:"A file or folder with the name '{0}' already exists in the folder '{1}'. Replacing it will overwrite its current contents.",replaceButtonLabel:"&&Replace"},"vs/workbench/services/textfile/common/textFileEditorModelManager":{genericSaveError:"Failed to save '{0}': {1}"},"vs/workbench/services/textfile/common/textFileEditorModel":{saveFileFirst:"The file is dirty. Please save it first before reopening it with another encoding."},"vs/workbench/services/textfile/common/textFileSaveParticipant":{saveParticipants:"Saving '{0}'"},"vs/workbench/services/textMate/browser/abstractTextMateService":{"invalid.language":"Unknown language in `contributes.{0}.language`. Provided value: {1}","invalid.scopeName":"Expected string in `contributes.{0}.scopeName`. Provided value: {1}","invalid.path.0":"Expected string in `contributes.{0}.path`. Provided value: {1}","invalid.injectTo":"Invalid value in `contributes.{0}.injectTo`. Must be an array of language scope names. Provided value: {1}","invalid.embeddedLanguages":"Invalid value in `contributes.{0}.embeddedLanguages`. Must be an object map from scope name to language. Provided value: {1}","invalid.tokenTypes":"Invalid value in `contributes.{0}.tokenTypes`. Must be an object map from scope name to token type. Provided value: {1}","invalid.path.1":"Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.","too many characters":"Tokenization is skipped for long lines for performance reasons. The length of a long line can be configured via `editor.maxTokenizationLineLength`.",neverAgain:"Don't Show Again"},"vs/workbench/services/textMate/common/TMGrammarFactory":{"no-tm-grammar":"No TM Grammar registered for this language."},"vs/workbench/services/textMate/common/TMGrammars":{"vscode.extension.contributes.grammars":"Contributes textmate tokenizers.","vscode.extension.contributes.grammars.language":"Language identifier for which this syntax is contributed to.","vscode.extension.contributes.grammars.scopeName":"Textmate scope name used by the tmLanguage file.","vscode.extension.contributes.grammars.path":"Path of the tmLanguage file. The path is relative to the extension folder and typically starts with './syntaxes/'.","vscode.extension.contributes.grammars.embeddedLanguages":"A map of scope name to language id if this grammar contains embedded languages.","vscode.extension.contributes.grammars.tokenTypes":"A map of scope name to token types.","vscode.extension.contributes.grammars.injectTo":"List of language scope names to which this grammar is injected to."},"vs/workbench/services/themes/common/colorExtensionPoint":{"contributes.color":"Contributes extension defined themable colors","contributes.color.id":"The identifier of the themable color","contributes.color.id.format":"Identifiers should be in the form aa[.bb]*","contributes.color.description":"The description of the themable colour","contributes.defaults.light":"The default color for light themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default.","contributes.defaults.dark":"The default colour for dark themes. Either a colour value in hex (#RRGGBB[AA]) or the identifier of a themable colour which provides the default.","contributes.defaults.highContrast":"The default color for high contrast themes. Either a color value in hex (#RRGGBB[AA]) or the identifier of a themable color which provides the default.","invalid.colorConfiguration":"'configuration.colors' must be a array","invalid.default.colorType":"{0} must be either a colour value in hex (#RRGGBB[AA] or #RGB[A]) or the identifier of a themable colour which provides the default.","invalid.id":"'configuration.colors.id' must be defined and can not be empty","invalid.id.format":"'configuration.colors.id' must follow the word[.word]*","invalid.description":"'configuration.colors.description' must be defined and can not be empty","invalid.defaults":"'configuration.colors.defaults' must be defined and must contain 'light', 'dark' and 'highContrast'"},"vs/workbench/services/themes/browser/workbenchThemeService":{"error.cannotloadtheme":"Unable to load {0}: {1}"},"vs/workbench/services/themes/common/tokenClassificationExtensionPoint":{"contributes.semanticTokenTypes":"Contributes semantic token types.","contributes.semanticTokenTypes.id":"The identifier of the semantic token type","contributes.semanticTokenTypes.id.format":"Identifiers should be in the form letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenTypes.superType":"The super type of the semantic token type","contributes.semanticTokenTypes.superType.format":"Super types should be in the form letterOrDigit[_-letterOrDigit]*","contributes.color.description":"The description of the semantic token type","contributes.semanticTokenModifiers":"Contributes semantic token modifiers.","contributes.semanticTokenModifiers.id":"The identifier of the semantic token modifier","contributes.semanticTokenModifiers.id.format":"Identifiers should be in the form letterOrDigit[_-letterOrDigit]*","contributes.semanticTokenModifiers.description":"The description of the semantic token modifier","contributes.semanticTokenScopes":"Contributes semantic token scope maps.","contributes.semanticTokenScopes.languages":"Lists the languge for which the defaults are.","contributes.semanticTokenScopes.scopes":"Maps a semantic token (described by semantic token selector) to one or more textMate scopes used to represent that token.","invalid.id":"'configuration.{0}.id' must be defined and can not be empty","invalid.id.format":"'configuration.{0}.id' must follow the pattern letterOrDigit[-_letterOrDigit]*","invalid.superType.format":"'configuration.{0}.superType' must follow the pattern letterOrDigit[-_letterOrDigit]*","invalid.description":"'configuration.{0}.description' must be defined and can not be empty","invalid.semanticTokenTypeConfiguration":"'configuration.semanticTokenType' must be an array","invalid.semanticTokenModifierConfiguration":"'configuration.semanticTokenModifier' must be an array","invalid.semanticTokenScopes.configuration":"'configuration.semanticTokenScopes' must be an array","invalid.semanticTokenScopes.language":"'configuration.semanticTokenScopes.language' must be a string","invalid.semanticTokenScopes.scopes":"'configuration.semanticTokenScopes.scopes' must be defined as an object","invalid.semanticTokenScopes.scopes.value":"'configuration.semanticTokenScopes.scopes' values must be an array of strings","invalid.semanticTokenScopes.scopes.selector":"configuration.semanticTokenScopes.scopes': Problems parsing selector {0}."},"vs/workbench/services/themes/browser/productIconThemeData":{defaultTheme:"Default","error.cannotparseicontheme":"Problems parsing product icons file: {0}","error.invalidformat":"Invalid format for product icons theme file: Object expected.","error.missingProperties":"Invalid format for product icons theme file: Must contain iconDefinitions and fonts."},"vs/workbench/services/themes/common/colorThemeSchema":{"schema.token.settings":"Colors and styles for the token.","schema.token.foreground":"Foreground colour for the token.","schema.token.background.warning":"Token background colors are currently not supported.","schema.token.fontStyle":"Font style of the rule: 'italic', 'bold' or 'underline' or a combination. The empty string unsets inherited settings.","schema.fontStyle.error":"Font style must be 'italic', 'bold' or 'underline' or a combination or the empty string.","schema.token.fontStyle.none":"None (clear inherited style)","schema.properties.name":"Description of the rule.","schema.properties.scope":"Scope selector against which this rule matches.","schema.workbenchColors":"Colors in the workbench","schema.tokenColors.path":"Path to a tmTheme file (relative to the current file).","schema.colors":"Colors for syntax highlighting","schema.supportsSemanticHighlighting":"Whether semantic highlighting should be enabled for this theme.","schema.semanticTokenColors":"Colors for semantic tokens"},"vs/workbench/services/themes/common/productIconThemeSchema":{"schema.fonts":"Fonts that are used in the icon definitions.","schema.id":"The ID of the font.","schema.src":"The location of the font.","schema.font-path":"The font path, relative to the current workbench icon theme file.","schema.font-format":"The format of the font.","schema.font-weight":"The weight of the font.","schema.font-sstyle":"The style of the font.","schema.font-size":"The default size of the font.","schema.iconDefinitions":"Assocation of icon name to a font character."},"vs/workbench/services/themes/common/fileIconThemeSchema":{"schema.folderExpanded":"The folder icon for expanded folders. The expanded folder icon is optional. If not set, the icon defined for folder will be shown.","schema.folder":"The folder icon for collapsed folders, and if folderExpanded is not set, also for expanded folders.","schema.file":"The default file icon, shown for all files that don't match any extension, filename or language ID.","schema.folderNames":"Associates folder names to icons. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive.","schema.folderName":"The ID of the icon definition for the association.","schema.folderNamesExpanded":"Associates folder names to icons for expanded folders. The object key is the folder name, not including any path segments. No patterns or wildcards are allowed. Folder name matching is case insensitive.","schema.folderNameExpanded":"The ID of the icon definition for the association.","schema.fileExtensions":"Associates file extensions to icons. The object key is the file extension name. The extension name is the last segment of a file name after the last dot (not including the dot). Extensions are compared case insensitive.","schema.fileExtension":"The ID of the icon definition for the association.","schema.fileNames":"Associates file names to icons. The object key is the full file name, but not including any path segments. File name can include dots and a possible file extension. No patterns or wildcards are allowed. File name matching is case insensitive.","schema.fileName":"The ID of the icon definition for the association.","schema.languageIds":"Associates languages to icons. The object key is the language id as defined in the language contribution point.","schema.languageId":"The ID of the icon definition for the association.","schema.fonts":"Fonts that are used in the icon definitions.","schema.id":"The ID of the font.","schema.src":"The location of the font.","schema.font-path":"The font path, relative to the current icon theme file.","schema.font-format":"The format of the font.","schema.font-weight":"The weight of the font.","schema.font-sstyle":"The style of the font.","schema.font-size":"The default size of the font.","schema.iconDefinitions":"Description of all icons that can be used when associating files to icons.","schema.iconDefinition":"An icon definition. The object key is the ID of the definition.","schema.iconPath":"When using a SVG or PNG: The path to the image. The path is relative to the icon set file.","schema.fontCharacter":"When using a glyph font: The character in the font to use.","schema.fontColor":"When using a glyph font: The color to use.","schema.fontSize":"When using a font: The font size in percentage to the text font. If not set, defaults to the size in the font definition.","schema.fontId":"When using a font: The id of the font. If not set, defaults to the first font definition.","schema.light":"Optional associations for file icons in light color themes.","schema.highContrast":"Optional associations for file icons in high contrast color themes.","schema.hidesExplorerArrows":"Configures whether the file explorer's arrows should be hidden when this theme is active."},"vs/workbench/services/themes/browser/fileIconThemeData":{"error.cannotparseicontheme":"Problems parsing file icons file: {0}","error.invalidformat":"Invalid format for file icons theme file: Object expected."},"vs/workbench/services/themes/common/themeConfiguration":{colorTheme:"Specifies the color theme used in the workbench.",colorThemeError:"Theme is unknown or not installed.",preferredDarkColorTheme:"Specifies the preferred color theme for dark OS appearance when '{0}' is enabled.",preferredLightColorTheme:"Specifies the preferred color theme for light OS appearance when '{0}' is enabled.",preferredHCColorTheme:"Specifies the preferred color theme used in high contrast mode when '{0}' is enabled.",detectColorScheme:"If set, automatically switch to the preferred color theme based on the OS appearance.",workbenchColors:"Overrides colours from the currently selected colour theme.",iconTheme:"Specifies the file icon theme used in the workbench or 'null' to not show any file icons.",noIconThemeDesc:"No file icons",iconThemeError:"File icon theme is unknown or not installed.",workbenchIconTheme:"Specifies the workbench icon theme used.",defaultWorkbenchIconThemeDesc:"Default",workbenchIconThemeError:"Workbench icon theme is unknown or not installed.","editorColors.comments":"Sets the colours and styles for comments","editorColors.strings":"Sets the colors and styles for strings literals.","editorColors.keywords":"Sets the colors and styles for keywords.","editorColors.numbers":"Sets the colors and styles for number literals.","editorColors.types":"Sets the colors and styles for type declarations and references.","editorColors.functions":"Sets the colors and styles for functions declarations and references.","editorColors.variables":"Sets the colors and styles for variables declarations and references.","editorColors.textMateRules":"Sets colors and styles using textmate theming rules (advanced).","editorColors.semanticHighlighting":"Whether semantic highlighting should be enabled for this theme.",editorColors:"Overrides editor colors and font style from the currently selected color theme.",editorColorsTokenStyles:"Overrides token colour and styles from the currently selected colour theme."},"vs/workbench/services/themes/common/themeExtensionPoints":{"vscode.extension.contributes.themes":"Contributes textmate color themes.","vscode.extension.contributes.themes.id":"Id of the color theme as used in the user settings.","vscode.extension.contributes.themes.label":"Label of the color theme as shown in the UI.","vscode.extension.contributes.themes.uiTheme":"Base theme defining the colours around the editor: 'vs' is the light colour theme, 'vs-dark' is the dark colour theme. 'hc-black' is the dark high contrast theme.","vscode.extension.contributes.themes.path":"Path of the tmTheme file. The path is relative to the extension folder and is typically './colorthemes/awesome-color-theme.json'.","vscode.extension.contributes.iconThemes":"Contributes file icon themes.","vscode.extension.contributes.iconThemes.id":"Id of the file icon theme as used in the user settings.","vscode.extension.contributes.iconThemes.label":"Label of the file icon theme as shown in the UI.","vscode.extension.contributes.iconThemes.path":"Path of the file icon theme definition file. The path is relative to the extension folder and is typically './fileicons/awesome-icon-theme.json'.","vscode.extension.contributes.productIconThemes":"Contributes product icon themes.","vscode.extension.contributes.productIconThemes.id":"Id of the product icon theme as used in the user settings.","vscode.extension.contributes.productIconThemes.label":"Label of the product icon theme as shown in the UI.","vscode.extension.contributes.productIconThemes.path":"Path of the product icon theme definition file. The path is relative to the extension folder and is typically './producticons/awesome-product-icon-theme.json'.",reqarray:"Extension point `{0}` must be an array.",reqpath:"Expected string in `contributes.{0}.path`. Provided value: {1}",reqid:"Expected string in `contributes.{0}.id`. Provided value: {1}","invalid.path.1":"Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable."},"vs/workbench/services/themes/common/colorThemeData":{"error.cannotparsejson":"Problems parsing JSON theme file: {0}","error.invalidformat":"Invalid format for JSON theme file: Object expected.","error.invalidformat.colors":"Problem parsing colour theme file: {0}. Property 'colors' is not of type 'object'.","error.invalidformat.tokenColors":"Problem parsing colour theme file: {0}. Property 'tokenColors' should be either an array specifying colours or a path to a TextMate theme file","error.invalidformat.semanticTokenColors":"Problem parsing color theme file: {0}. Property 'semanticTokenColors' conatains a invalid selector","error.plist.invalidformat":"Problem parsing tmTheme file: {0}. 'settings' is not array.","error.cannotparse":"Problems parsing tmTheme file: {0}","error.cannotload":"Problems loading tmTheme file {0}: {1}"},"vs/workbench/services/userData/common/settingsSync":{"Settings Conflicts":"Local ↔ Remote (Settings Conflicts)",errorInvalidSettings:"Unable to sync settings. Please resolve conflicts without any errors/warnings and try again."},"vs/workbench/services/userDataSync/common/userDataSyncUtil":{"select extensions":"Sync: Select Extensions to Sync","choose extensions to sync":"Choose extensions to sync"},"vs/workbench/services/workingCopy/common/workingCopyFileOperationParticipant":{"msg-create":"Running 'File Create' participants...","msg-rename":"Running 'File Rename' participants...","msg-copy":"Running 'File Copy' participants...","msg-delete":"Running 'File Delete' participants..."},"vs/workbench/services/workspace/electron-browser/workspaceEditingService":{workspaceOpenedMessage:"Unable to save workspace '{0}'",ok:"OK",workspaceOpenedDetail:"The workspace is already opened in another window. Please close that window first and then try again."},"vs/workbench/services/workspace/browser/workspaceEditingService":{save:"Save",doNotSave:"Don't Save",cancel:"Cancel",saveWorkspaceMessage:"Do you want to save your workspace configuration as a file?",saveWorkspaceDetail:"Save your workspace if you plan to open it again.",saveWorkspace:"Save Workspace",differentSchemeRoots:"Workspace folders from different providers are not allowed in the same workspace.",errorInvalidTaskConfiguration:"Unable to write into workspace configuration file. Please open the file to correct errors/warnings in it and try again.",errorWorkspaceConfigurationFileDirty:"Unable to write into workspace configuration file because the file is dirty. Please save it and try again.",openWorkspaceConfigurationFile:"Open Workspace Configuration"},"vs/workbench/services/workspaces/electron-browser/workspaceEditingService":{save:"Save",doNotSave:"Don't Save",cancel:"Cancel",saveWorkspaceMessage:"Do you want to save your workspace configuration as a file?",saveWorkspaceDetail:"Save your workspace if you plan to open it again.",workspaceOpenedMessage:"Unable to save workspace '{0}'",ok:"OK",workspaceOpenedDetail:"The workspace is already opened in another window. Please close that window first and then try again."},"vs/workbench/services/workspaces/browser/abstractWorkspaceEditingService":{save:"Save",saveWorkspace:"Save Workspace",differentSchemeRoots:"Workspace folders from different providers are not allowed in the same workspace.",errorInvalidTaskConfiguration:"Unable to write into workspace configuration file. Please open the file to correct errors/warnings in it and try again.",errorWorkspaceConfigurationFileDirty:"Unable to write into workspace configuration file because the file is dirty. Please save it and try again.",openWorkspaceConfigurationFile:"Open Workspace Configuration"}})[e]||{})[n];o||(o=i);for(var s=[],r=3;r<arguments.length;r++)s[r-3]=arguments[r];return he(o,s)}self,ce.exports=(le={775:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0;var i=function(){function e(){}return e.prototype.activate=function(e){this._terminal=e},e.prototype.dispose=function(){},e.prototype.fit=function(){var e=this.proposeDimensions();if(e&&this._terminal){var t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}},e.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var e=this._terminal._core;if(0!==e._renderService.dimensions.actualCellWidth&&0!==e._renderService.dimensions.actualCellHeight){var t=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(t.getPropertyValue("height")),n=Math.max(0,parseInt(t.getPropertyValue("width"))),o=window.getComputedStyle(this._terminal.element),s=i-(parseInt(o.getPropertyValue("padding-top"))+parseInt(o.getPropertyValue("padding-bottom"))),r=n-(parseInt(o.getPropertyValue("padding-right"))+parseInt(o.getPropertyValue("padding-left")))-e.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(r/e._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(s/e._renderService.dimensions.actualCellHeight))}}}},e}();t.FitAddon=i}},de={},function e(t){if(de[t])return de[t].exports;var i=de[t]={exports:{}};return le[t](i,i.exports,e),i.exports}(775));let ge,me,pe,fe=!1,be=!1,_e=!1,ve=!1,we=!1,Ce=!1,ye="en";const Se="undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.electron&&"renderer"===process.type;if("object"!=typeof navigator||Se){if("object"==typeof process){fe="win32"===process.platform,be="darwin"===process.platform,_e="linux"===process.platform,ge="en",ye="en";const e=process.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),i=t.availableLanguages["*"];ge=t.locale,ye=i||"en",me=t._translationsConfigFile}catch(le){}ve=!0}}else pe=navigator.userAgent,fe=pe.indexOf("Windows")>=0,be=pe.indexOf("Macintosh")>=0,Ce=(pe.indexOf("Macintosh")>=0||pe.indexOf("iPad")>=0||pe.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_e=pe.indexOf("Linux")>=0,we=!0,ge=navigator.language,ye=ge;const ke=fe,xe=be,Le=_e,Ee=ve,De=we,Ne=Ce,Te="object"==typeof self?self:"object"==typeof global?global:{},Ie=function(){if(Te.setImmediate)return Te.setImmediate.bind(Te);if("function"==typeof Te.postMessage&&!Te.importScripts){let e=[];Te.addEventListener("message",(t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}}));let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),Te.postMessage({vscodeSetImmediateId:n},"*")}}if("undefined"!=typeof process&&"function"==typeof process.nextTick)return process.nextTick.bind(process);const e=Promise.resolve();return t=>e.then(t)}(),Me=be||Ce?2:fe?1:3;let Re=!0,Ae=!1;const Oe=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function Pe(e){let t=Oe;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const Fe={maxLen:1e3,windowSize:15,timeBudget:150};function We(e,t,i,n,o=Fe){if(i.length>o.maxLen){let s=e-o.maxLen/2;return s<0?(n+=e,s=0):n+=s,We(e,t,i=i.substring(s,e+o.maxLen/2),n,o)}Date.now();const s=e-1-n;let r=-1,a=null;for(let l=1;;l++){Date.now(),o.timeBudget;const e=s-o.windowSize*l;t.lastIndex=Math.max(0,e);const n=Be(t,i,s,r);if(!n&&a)break;if(a=n,e<=0)break;r=e}if(a){let e={word:a[0],startColumn:n+1+a.index,endColumn:n+1+a.index+a[0].length};return t.lastIndex=0,e}return null}function Be(e,t,i,n){let o;for(;o=e.exec(t);){const t=o.index||0;if(t<=i&&e.lastIndex>=i)return o;if(n>0&&t>n)return null}return null}class Ve{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class He{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class ze{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Ue{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class Ke{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class qe{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}class $e extends qe{static boolean(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return $e.boolean(e,this.defaultValue)}}class je extends qe{constructor(e,t,i,n,o,s){void 0!==s&&(s.type="integer",s.default=i,s.minimum=n,s.maximum=o),super(e,t,i,s),this.minimum=n,this.maximum=o}static clampedInt(e,t,i,n){if(void 0===e)return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(n,o),0|o)}validate(e){return je.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Ge extends qe{constructor(e,t,i,n,o){void 0!==o&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Ge.float(e,this.defaultValue))}}class Ze extends qe{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return Ze.string(e,this.defaultValue)}}class Ye extends qe{constructor(e,t,i,n,o){void 0!==o&&(o.type="string",o.enum=n,o.default=i),super(e,t,i,o),this._allowedValues=n}static stringSet(e,t,i){return"string"!=typeof e||-1===i.indexOf(e)?t:e}validate(e){return Ye.stringSet(e,this.defaultValue,this._allowedValues)}}class Je extends Ue{constructor(e,t,i,n,o,s,r){void 0!==r&&(r.type="string",r.enum=o,r.default=n),super(e,t,i,r),this._allowedValues=o,this._convert=s}validate(e){return"string"!=typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var Qe,Xe;(Xe=Qe||(Qe={}))[Xe.Line=1]="Line",Xe[Xe.Block=2]="Block",Xe[Xe.Underline=3]="Underline",Xe[Xe.LineThin=4]="LineThin",Xe[Xe.BlockOutline=5]="BlockOutline",Xe[Xe.UnderlineThin=6]="UnderlineThin";class et extends Ue{constructor(){super(37,"fontLigatures",et.OFF,{anyOf:[{type:"boolean",description:ue("vs/editor/common/config/editorOptions","fontLigatures","Enables/Disables font ligatures.")},{type:"string",description:ue("vs/editor/common/config/editorOptions","fontFeatureSettings","Explicit font-feature-settings.")}],description:ue("vs/editor/common/config/editorOptions","fontLigaturesGeneral","Configures font ligatures or font features."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?et.OFF:"true"===e?et.ON:e:Boolean(e)?et.ON:et.OFF}}et.OFF='"liga" off, "calt" off',et.ON='"liga" on, "calt" on';class tt extends Ue{constructor(){super(39,"fontWeight",st.fontWeight,{anyOf:[{type:"number",minimum:tt.MINIMUM_VALUE,maximum:tt.MAXIMUM_VALUE,errorMessage:ue("vs/editor/common/config/editorOptions","fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:tt.SUGGESTION_VALUES}],default:st.fontWeight,description:ue("vs/editor/common/config/editorOptions","fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(je.clampedInt(e,st.fontWeight,tt.MINIMUM_VALUE,tt.MAXIMUM_VALUE))}}tt.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],tt.MINIMUM_VALUE=1,tt.MAXIMUM_VALUE=1e3;class it extends Ke{constructor(){super(117,[42,50,31,56,84,52,53,86,106,109,110,2])}compute(e,t,i){return it.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const s=t.stableMinimapLayoutInput,r=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,c=e.minimap.renderCharacters;let h=o>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const u=e.minimap.maxColumn,g=e.minimap.size,m=e.minimap.side,p=e.verticalScrollbarWidth,f=e.viewLineCount,b=e.remainingWidth,_=e.isViewportWrapping,v=c?2:3;let w=Math.floor(o*n);const C=w/o;let y=!1,S=!1,k=v*h,x=h/o,L=1;if("fill"===g||"fit"===g){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:s,desiredRatio:l,minimapLineCount:c}=it.computeContainedMinimapLineCount({viewLineCount:f,scrollBeyondLastLine:d,height:n,lineHeight:a,pixelRatio:o});if(f/c>1)y=!0,S=!0,h=1,k=1,x=h/o;else{let n=!1,d=h+1;if("fit"===g){const i=Math.ceil((f+s)*k);_&&r&&b<=t.stableFitRemainingWidth?(n=!0,d=t.stableFitMaxMinimapScale):(n=i>w,_&&n?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=b):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0))}if("fill"===g||n){y=!0;const e=h;k=Math.min(a*o,Math.max(1,Math.floor(1/l))),h=Math.min(d,Math.max(1,Math.floor(k/v))),h>e&&(L=Math.min(2,h/e)),x=h/o/L,w=Math.ceil(Math.max(i,f+s)*k),_&&n&&(t.stableFitMaxMinimapScale=h)}}}const E=Math.floor(u*x),D=Math.min(E,Math.max(0,Math.floor((b-p-2)*x/(l+x)))+8);let N=Math.floor(o*D);const T=N/o;N=Math.floor(N*L);return{renderMinimap:c?1:2,minimapLeft:"left"===m?0:i-D-p,minimapWidth:D,minimapHeightIsEditorHeight:y,minimapIsSampling:S,minimapScale:h,minimapLineHeight:k,minimapCanvasInnerWidth:N,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:T,minimapCanvasOuterHeight:C}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,o=0|t.lineHeight,s=0|t.lineNumbersDigitCount,r=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,d=t.viewLineCount,c=e.get(106),h=e.get(109),u=e.get(110),g=e.get(2),m=t.isDominatedByLongLines,p=e.get(42),f=0!==e.get(52).renderType,b=e.get(53),_=e.get(86),v=e.get(56),w=e.get(84),C=w.verticalScrollbarSize,y=w.verticalHasArrows,S=w.arrowSize,k=w.horizontalScrollbarSize,x=e.get(50),L=e.get(31);let E;if("string"==typeof x&&/^\d+(\.\d+)?ch$/.test(x)){const e=parseFloat(x.substr(0,x.length-2));E=je.clampedInt(e*r,0,0,1e3)}else E=je.clampedInt(x,0,0,1e3);L&&(E+=16);let D=0;if(f){const e=Math.max(s,b);D=Math.round(e*a)}let N=0;p&&(N=o);let T=0,I=T+N,M=I+D,R=M+E;const A=i-N-D-E;let O=!1,P=!1,F=-1;2!==g&&(u&&m?(O=!0,P=!0):"on"===c||"bounded"===c?P=!0:"wordWrapColumn"===c&&(F=h));const W=it._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:r,pixelRatio:l,scrollBeyondLastLine:_,minimap:v,verticalScrollbarWidth:C,viewLineCount:d,remainingWidth:A,isViewportWrapping:P},t.memory||new ze);0!==W.renderMinimap&&0===W.minimapLeft&&(T+=W.minimapWidth,I+=W.minimapWidth,M+=W.minimapWidth,R+=W.minimapWidth);const B=A-W.minimapWidth,V=Math.max(1,Math.floor((B-C-2)/r)),H=y?S:0;return P&&(F=Math.max(1,V),"bounded"===c&&(F=Math.min(F,h))),{width:i,height:n,glyphMarginLeft:T,glyphMarginWidth:N,lineNumbersLeft:I,lineNumbersWidth:D,decorationsLeft:M,decorationsWidth:E,contentLeft:R,contentWidth:B,minimap:W,viewportColumn:V,isWordWrapMinified:O,isViewportWrapping:P,wrappingColumn:F,verticalScrollbarWidth:C,horizontalScrollbarHeight:k,overviewRuler:{top:H,width:C,height:n-2*H,right:0}}}}function nt(e){const t=e.get(79);return"editable"===t?e.get(72):"on"!==t}function ot(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const st={fontFamily:xe?"Menlo, Monaco, 'Courier New', monospace":Le?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:xe?12:14,lineHeight:0,letterSpacing:0},rt=4,at=4,lt=!0,dt=!0,ct=!0,ht=!0,ut=[];function gt(e){return ut[e.id]=e,e}const mt={acceptSuggestionOnCommitCharacter:gt(new $e(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:ue("vs/editor/common/config/editorOptions","acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:gt(new Ye(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",ue("vs/editor/common/config/editorOptions","acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:ue("vs/editor/common/config/editorOptions","acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:gt(new class extends Ue{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[ue("vs/editor/common/config/editorOptions","accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),ue("vs/editor/common/config/editorOptions","accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),ue("vs/editor/common/config/editorOptions","accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:ue("vs/editor/common/config/editorOptions","accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:gt(new je(3,"accessibilityPageSize",10,1,1073741824,{description:ue("vs/editor/common/config/editorOptions","accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:gt(new Ze(4,"ariaLabel",ue("vs/editor/common/config/editorOptions","editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:gt(new Ye(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",ue("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),ue("vs/editor/common/config/editorOptions","editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:ue("vs/editor/common/config/editorOptions","autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:gt(new Ye(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",ue("vs/editor/common/config/editorOptions","editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:ue("vs/editor/common/config/editorOptions","autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:gt(new Ye(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",ue("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),ue("vs/editor/common/config/editorOptions","editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:ue("vs/editor/common/config/editorOptions","autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:gt(new Je(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],(function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}),{enumDescriptions:[ue("vs/editor/common/config/editorOptions","editor.autoIndent.none","The editor will not insert indentation automatically."),ue("vs/editor/common/config/editorOptions","editor.autoIndent.keep","The editor will keep the current line's indentation."),ue("vs/editor/common/config/editorOptions","editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),ue("vs/editor/common/config/editorOptions","editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),ue("vs/editor/common/config/editorOptions","editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:ue("vs/editor/common/config/editorOptions","autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:gt(new $e(9,"automaticLayout",!1)),autoSurround:gt(new Ye(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),ue("vs/editor/common/config/editorOptions","editor.autoSurround.quotes","Surround with quotes but not brackets."),ue("vs/editor/common/config/editorOptions","editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:ue("vs/editor/common/config/editorOptions","autoSurround","Controls whether the editor should automatically surround selections.")})),codeLens:gt(new $e(11,"codeLens",!0,{description:ue("vs/editor/common/config/editorOptions","codeLens","Controls whether the editor shows CodeLens.")})),colorDecorators:gt(new $e(12,"colorDecorators",!0,{description:ue("vs/editor/common/config/editorOptions","colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:gt(new $e(13,"columnSelection",!1,{description:ue("vs/editor/common/config/editorOptions","columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:gt(new class extends Ue{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(14,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:ue("vs/editor/common/config/editorOptions","comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:ue("vs/editor/common/config/editorOptions","comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:$e.boolean(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:$e.boolean(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:gt(new $e(15,"contextmenu",!0)),copyWithSyntaxHighlighting:gt(new $e(16,"copyWithSyntaxHighlighting",!0,{description:ue("vs/editor/common/config/editorOptions","copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:gt(new Je(17,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],(function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}),{description:ue("vs/editor/common/config/editorOptions","cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:gt(new $e(18,"cursorSmoothCaretAnimation",!1,{description:ue("vs/editor/common/config/editorOptions","cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:gt(new Je(19,"cursorStyle",Qe.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],(function(e){switch(e){case"line":return Qe.Line;case"block":return Qe.Block;case"underline":return Qe.Underline;case"line-thin":return Qe.LineThin;case"block-outline":return Qe.BlockOutline;case"underline-thin":return Qe.UnderlineThin}}),{description:ue("vs/editor/common/config/editorOptions","cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:gt(new je(20,"cursorSurroundingLines",0,0,1073741824,{description:ue("vs/editor/common/config/editorOptions","cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:gt(new Ye(21,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),ue("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:ue("vs/editor/common/config/editorOptions","cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:gt(new je(22,"cursorWidth",0,0,1073741824,{markdownDescription:ue("vs/editor/common/config/editorOptions","cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:gt(new $e(23,"disableLayerHinting",!1)),disableMonospaceOptimizations:gt(new $e(24,"disableMonospaceOptimizations",!1)),dragAndDrop:gt(new $e(25,"dragAndDrop",!0,{description:ue("vs/editor/common/config/editorOptions","dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:gt(new class extends $e{constructor(){super(26,"emptySelectionClipboard",!0,{description:ue("vs/editor/common/config/editorOptions","emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:gt(new Ze(27,"extraEditorClassName","")),fastScrollSensitivity:gt(new Ge(28,"fastScrollSensitivity",5,(e=>e<=0?5:e),{markdownDescription:ue("vs/editor/common/config/editorOptions","fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:gt(new class extends Ue{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(29,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:ue("vs/editor/common/config/editorOptions","find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:e.seedSearchStringFromSelection,description:ue("vs/editor/common/config/editorOptions","find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[ue("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)"),ue("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.always","Always turn on Find in selection automatically"),ue("vs/editor/common/config/editorOptions","editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:ue("vs/editor/common/config/editorOptions","find.autoFindInSelection","Controls the condition for turning on find in selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:ue("vs/editor/common/config/editorOptions","find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:xe},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:ue("vs/editor/common/config/editorOptions","find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:ue("vs/editor/common/config/editorOptions","find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:$e.boolean(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:$e.boolean(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":Ye.stringSet(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:$e.boolean(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:$e.boolean(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:$e.boolean(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:gt(new $e(30,"fixedOverflowWidgets",!1)),folding:gt(new $e(31,"folding",!0,{description:ue("vs/editor/common/config/editorOptions","folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:gt(new Ye(32,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),ue("vs/editor/common/config/editorOptions","foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:ue("vs/editor/common/config/editorOptions","foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:gt(new $e(33,"foldingHighlight",!0,{description:ue("vs/editor/common/config/editorOptions","foldingHighlight","Controls whether the editor should highlight folded ranges.")})),unfoldOnClickAfterEndOfLine:gt(new $e(34,"unfoldOnClickAfterEndOfLine",!1,{description:ue("vs/editor/common/config/editorOptions","unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:gt(new Ze(35,"fontFamily",st.fontFamily,{description:ue("vs/editor/common/config/editorOptions","fontFamily","Controls the font family.")})),fontInfo:gt(new class extends Ke{constructor(){super(36)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:gt(new et),fontSize:gt(new class extends qe{constructor(){super(38,"fontSize",st.fontSize,{type:"number",minimum:6,maximum:100,default:st.fontSize,description:ue("vs/editor/common/config/editorOptions","fontSize","Controls the font size in pixels.")})}validate(e){let t=Ge.float(e,this.defaultValue);return 0===t?st.fontSize:Ge.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:gt(new tt),formatOnPaste:gt(new $e(40,"formatOnPaste",!1,{description:ue("vs/editor/common/config/editorOptions","formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:gt(new $e(41,"formatOnType",!1,{description:ue("vs/editor/common/config/editorOptions","formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:gt(new $e(42,"glyphMargin",!0,{description:ue("vs/editor/common/config/editorOptions","glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:gt(new class extends Ue{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[ue("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),ue("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),ue("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]};super(43,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:ue("vs/editor/common/config/editorOptions","editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:ue("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:ue("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:ue("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:ue("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:ue("vs/editor/common/config/editorOptions","editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,description:ue("vs/editor/common/config/editorOptions","alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,description:ue("vs/editor/common/config/editorOptions","alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,description:ue("vs/editor/common/config/editorOptions","alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,description:ue("vs/editor/common/config/editorOptions","alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,description:ue("vs/editor/common/config/editorOptions","alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,o,s;if(!e||"object"!=typeof e)return this.defaultValue;const r=e;return{multiple:Ye.stringSet(r.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=r.multipleDefinitions)&&void 0!==t?t:Ye.stringSet(r.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=r.multipleTypeDefinitions)&&void 0!==i?i:Ye.stringSet(r.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=r.multipleDeclarations)&&void 0!==n?n:Ye.stringSet(r.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=r.multipleImplementations)&&void 0!==o?o:Ye.stringSet(r.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(s=r.multipleReferences)&&void 0!==s?s:Ye.stringSet(r.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:Ze.string(r.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:Ze.string(r.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:Ze.string(r.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:Ze.string(r.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:Ze.string(r.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:gt(new $e(44,"hideCursorInOverviewRuler",!1,{description:ue("vs/editor/common/config/editorOptions","hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:gt(new $e(45,"highlightActiveIndentGuide",!0,{description:ue("vs/editor/common/config/editorOptions","highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:gt(new class extends Ue{constructor(){const e={enabled:!0,delay:300,sticky:!0};super(46,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:ue("vs/editor/common/config/editorOptions","hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:ue("vs/editor/common/config/editorOptions","hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:ue("vs/editor/common/config/editorOptions","hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:$e.boolean(t.enabled,this.defaultValue.enabled),delay:je.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:$e.boolean(t.sticky,this.defaultValue.sticky)}}}),inDiffEditor:gt(new $e(47,"inDiffEditor",!1)),letterSpacing:gt(new Ge(48,"letterSpacing",st.letterSpacing,(e=>Ge.clamp(e,-5,20)),{description:ue("vs/editor/common/config/editorOptions","letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:gt(new class extends Ue{constructor(){const e={enabled:!0};super(49,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:ue("vs/editor/common/config/editorOptions","codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:$e.boolean(t.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:gt(new qe(50,"lineDecorationsWidth",10)),lineHeight:gt(new class extends je{constructor(){super(51,"lineHeight",st.lineHeight,0,150,{description:ue("vs/editor/common/config/editorOptions","lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:gt(new class extends Ue{constructor(){super(52,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[ue("vs/editor/common/config/editorOptions","lineNumbers.off","Line numbers are not rendered."),ue("vs/editor/common/config/editorOptions","lineNumbers.on","Line numbers are rendered as absolute number."),ue("vs/editor/common/config/editorOptions","lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),ue("vs/editor/common/config/editorOptions","lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:ue("vs/editor/common/config/editorOptions","lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:gt(new je(53,"lineNumbersMinChars",5,1,300)),links:gt(new $e(54,"links",!0,{description:ue("vs/editor/common/config/editorOptions","links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:gt(new Ye(55,"matchBrackets","always",["always","near","never"],{description:ue("vs/editor/common/config/editorOptions","matchBrackets","Highlight matching brackets.")})),minimap:gt(new class extends Ue{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(56,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:ue("vs/editor/common/config/editorOptions","minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[ue("vs/editor/common/config/editorOptions","minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),ue("vs/editor/common/config/editorOptions","minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),ue("vs/editor/common/config/editorOptions","minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:ue("vs/editor/common/config/editorOptions","minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:ue("vs/editor/common/config/editorOptions","minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:ue("vs/editor/common/config/editorOptions","minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:ue("vs/editor/common/config/editorOptions","minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:ue("vs/editor/common/config/editorOptions","minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:ue("vs/editor/common/config/editorOptions","minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:$e.boolean(t.enabled,this.defaultValue.enabled),size:Ye.stringSet(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Ye.stringSet(t.side,this.defaultValue.side,["right","left"]),showSlider:Ye.stringSet(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:$e.boolean(t.renderCharacters,this.defaultValue.renderCharacters),scale:je.clampedInt(t.scale,1,1,3),maxColumn:je.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:gt(new Ye(57,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:gt(new Ge(58,"mouseWheelScrollSensitivity",1,(e=>0===e?1:e),{markdownDescription:ue("vs/editor/common/config/editorOptions","mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:gt(new $e(59,"mouseWheelZoom",!1,{markdownDescription:ue("vs/editor/common/config/editorOptions","mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:gt(new $e(60,"multiCursorMergeOverlapping",!0,{description:ue("vs/editor/common/config/editorOptions","multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:gt(new Je(61,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],(function(e){return"ctrlCmd"===e?xe?"metaKey":"ctrlKey":"altKey"}),{markdownEnumDescriptions:[ue("vs/editor/common/config/editorOptions","multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),ue("vs/editor/common/config/editorOptions","multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:ue("vs/editor/common/config/editorOptions",{key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:gt(new Ye(62,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[ue("vs/editor/common/config/editorOptions","multiCursorPaste.spread","Each cursor pastes a single line of the text."),ue("vs/editor/common/config/editorOptions","multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:ue("vs/editor/common/config/editorOptions","multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:gt(new $e(63,"occurrencesHighlight",!0,{description:ue("vs/editor/common/config/editorOptions","occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:gt(new $e(64,"overviewRulerBorder",!0,{description:ue("vs/editor/common/config/editorOptions","overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:gt(new je(65,"overviewRulerLanes",3,0,3)),padding:gt(new class extends Ue{constructor(){super(66,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:ue("vs/editor/common/config/editorOptions","padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:ue("vs/editor/common/config/editorOptions","padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:je.clampedInt(t.top,0,0,1e3),bottom:je.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:gt(new class extends Ue{constructor(){const e={enabled:!0,cycle:!1};super(67,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:ue("vs/editor/common/config/editorOptions","parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:ue("vs/editor/common/config/editorOptions","parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:$e.boolean(t.enabled,this.defaultValue.enabled),cycle:$e.boolean(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:gt(new Ye(68,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),ue("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:ue("vs/editor/common/config/editorOptions","peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:gt(new $e(69,"definitionLinkOpensInPeek",!1,{description:ue("vs/editor/common/config/editorOptions","definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:gt(new class extends Ue{constructor(){const e={other:!0,comments:!1,strings:!1};super(70,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:ue("vs/editor/common/config/editorOptions","quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:ue("vs/editor/common/config/editorOptions","quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:ue("vs/editor/common/config/editorOptions","quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:ue("vs/editor/common/config/editorOptions","quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:$e.boolean(t.other,this.defaultValue.other),comments:$e.boolean(t.comments,this.defaultValue.comments),strings:$e.boolean(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:gt(new je(71,"quickSuggestionsDelay",10,0,1073741824,{description:ue("vs/editor/common/config/editorOptions","quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:gt(new $e(72,"readOnly",!1)),renameOnType:gt(new $e(73,"renameOnType",!1,{description:ue("vs/editor/common/config/editorOptions","renameOnType","Controls whether the editor auto renames on type.")})),renderControlCharacters:gt(new $e(74,"renderControlCharacters",!1,{description:ue("vs/editor/common/config/editorOptions","renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:gt(new $e(75,"renderIndentGuides",!0,{description:ue("vs/editor/common/config/editorOptions","renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:gt(new $e(76,"renderFinalNewline",!0,{description:ue("vs/editor/common/config/editorOptions","renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:gt(new Ye(77,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",ue("vs/editor/common/config/editorOptions","renderLineHighlight.all","Highlights both the gutter and the current line.")],description:ue("vs/editor/common/config/editorOptions","renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:gt(new $e(78,"renderLineHighlightOnlyWhenFocus",!1,{description:ue("vs/editor/common/config/editorOptions","renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused")})),renderValidationDecorations:gt(new Ye(79,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:gt(new Ye(80,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",ue("vs/editor/common/config/editorOptions","renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),ue("vs/editor/common/config/editorOptions","renderWhitespace.selection","Render whitespace characters only on selected text."),ue("vs/editor/common/config/editorOptions","renderWhitespace.trailing","Render only trailing whitespace characters"),""],description:ue("vs/editor/common/config/editorOptions","renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:gt(new je(81,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:gt(new $e(82,"roundedSelection",!0,{description:ue("vs/editor/common/config/editorOptions","roundedSelection","Controls whether selections should have rounded corners.")})),rulers:gt(new class extends Ue{constructor(){const e=[],t={type:"number",description:ue("vs/editor/common/config/editorOptions","rulers.size","Number of monospace characters at which this editor ruler will render.")};super(83,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:ue("vs/editor/common/config/editorOptions","rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:ue("vs/editor/common/config/editorOptions","rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if("number"==typeof i)t.push({column:je.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:je.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort(((e,t)=>e.column-t.column)),t}return this.defaultValue}}),scrollbar:gt(new class extends Ue{constructor(){super(84,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=je.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=je.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:je.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ot(t.vertical,this.defaultValue.vertical),horizontal:ot(t.horizontal,this.defaultValue.horizontal),useShadows:$e.boolean(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:$e.boolean(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:$e.boolean(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:$e.boolean(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:$e.boolean(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:je.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:je.clampedInt(t.verticalSliderSize,n,0,1e3)}}}),scrollBeyondLastColumn:gt(new je(85,"scrollBeyondLastColumn",5,0,1073741824,{description:ue("vs/editor/common/config/editorOptions","scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:gt(new $e(86,"scrollBeyondLastLine",!0,{description:ue("vs/editor/common/config/editorOptions","scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:gt(new $e(87,"scrollPredominantAxis",!0,{description:ue("vs/editor/common/config/editorOptions","scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:gt(new $e(88,"selectionClipboard",!0,{description:ue("vs/editor/common/config/editorOptions","selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Le})),selectionHighlight:gt(new $e(89,"selectionHighlight",!0,{description:ue("vs/editor/common/config/editorOptions","selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:gt(new $e(90,"selectOnLineNumbers",!0)),showFoldingControls:gt(new Ye(91,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","showFoldingControls.always","Always show the folding controls."),ue("vs/editor/common/config/editorOptions","showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:ue("vs/editor/common/config/editorOptions","showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:gt(new $e(92,"showUnused",!0,{description:ue("vs/editor/common/config/editorOptions","showUnused","Controls fading out of unused code.")})),showDeprecated:gt(new $e(113,"showDeprecated",!0,{description:ue("vs/editor/common/config/editorOptions","showDeprecated","Controls strikethrough deprecated variables.")})),snippetSuggestions:gt(new Ye(93,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),ue("vs/editor/common/config/editorOptions","snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),ue("vs/editor/common/config/editorOptions","snippetSuggestions.inline","Show snippets suggestions with other suggestions."),ue("vs/editor/common/config/editorOptions","snippetSuggestions.none","Do not show snippet suggestions.")],description:ue("vs/editor/common/config/editorOptions","snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:gt(new $e(94,"smoothScrolling",!1,{description:ue("vs/editor/common/config/editorOptions","smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:gt(new je(95,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:gt(new class extends Ue{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0,statusBar:{visible:!1}};super(96,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[ue("vs/editor/common/config/editorOptions","suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),ue("vs/editor/common/config/editorOptions","suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:ue("vs/editor/common/config/editorOptions","suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:ue("vs/editor/common/config/editorOptions","suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:ue("vs/editor/common/config/editorOptions","suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:ue("vs/editor/common/config/editorOptions","suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:ue("vs/editor/common/config/editorOptions","suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:ue("vs/editor/common/config/editorOptions","suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:e.maxVisibleSuggestions,minimum:1,maximum:15,description:ue("vs/editor/common/config/editorOptions","suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:ue("vs/editor/common/config/editorOptions","deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")},"editor.suggest.statusBar.visible":{type:"boolean",default:!1,markdownDescription:ue("vs/editor/common/config/editorOptions","editor.suggest.statusBar.visible","Controls the visibility of the status bar at the bottom of the suggest widget.")}})}validate(e){var t;if(!e||"object"!=typeof e)return this.defaultValue;const i=e;return{insertMode:Ye.stringSet(i.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:$e.boolean(i.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:$e.boolean(i.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:$e.boolean(i.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:$e.boolean(i.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:$e.boolean(i.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:je.clampedInt(i.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:$e.boolean(i.showMethods,this.defaultValue.showMethods),showFunctions:$e.boolean(i.showFunctions,this.defaultValue.showFunctions),showConstructors:$e.boolean(i.showConstructors,this.defaultValue.showConstructors),showFields:$e.boolean(i.showFields,this.defaultValue.showFields),showVariables:$e.boolean(i.showVariables,this.defaultValue.showVariables),showClasses:$e.boolean(i.showClasses,this.defaultValue.showClasses),showStructs:$e.boolean(i.showStructs,this.defaultValue.showStructs),showInterfaces:$e.boolean(i.showInterfaces,this.defaultValue.showInterfaces),showModules:$e.boolean(i.showModules,this.defaultValue.showModules),showProperties:$e.boolean(i.showProperties,this.defaultValue.showProperties),showEvents:$e.boolean(i.showEvents,this.defaultValue.showEvents),showOperators:$e.boolean(i.showOperators,this.defaultValue.showOperators),showUnits:$e.boolean(i.showUnits,this.defaultValue.showUnits),showValues:$e.boolean(i.showValues,this.defaultValue.showValues),showConstants:$e.boolean(i.showConstants,this.defaultValue.showConstants),showEnums:$e.boolean(i.showEnums,this.defaultValue.showEnums),showEnumMembers:$e.boolean(i.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:$e.boolean(i.showKeywords,this.defaultValue.showKeywords),showWords:$e.boolean(i.showWords,this.defaultValue.showWords),showColors:$e.boolean(i.showColors,this.defaultValue.showColors),showFiles:$e.boolean(i.showFiles,this.defaultValue.showFiles),showReferences:$e.boolean(i.showReferences,this.defaultValue.showReferences),showFolders:$e.boolean(i.showFolders,this.defaultValue.showFolders),showTypeParameters:$e.boolean(i.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:$e.boolean(i.showSnippets,this.defaultValue.showSnippets),showUsers:$e.boolean(i.showUsers,this.defaultValue.showUsers),showIssues:$e.boolean(i.showIssues,this.defaultValue.showIssues),statusBar:{visible:$e.boolean(null===(t=i.statusBar)||void 0===t?void 0:t.visible,!!this.defaultValue.statusBar.visible)}}}}),suggestFontSize:gt(new je(97,"suggestFontSize",0,0,1e3,{markdownDescription:ue("vs/editor/common/config/editorOptions","suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:gt(new je(98,"suggestLineHeight",0,0,1e3,{markdownDescription:ue("vs/editor/common/config/editorOptions","suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:gt(new $e(99,"suggestOnTriggerCharacters",!0,{description:ue("vs/editor/common/config/editorOptions","suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:gt(new Ye(100,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[ue("vs/editor/common/config/editorOptions","suggestSelection.first","Always select the first suggestion."),ue("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),ue("vs/editor/common/config/editorOptions","suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:ue("vs/editor/common/config/editorOptions","suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:gt(new Ye(101,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),ue("vs/editor/common/config/editorOptions","tabCompletion.off","Disable tab completions."),ue("vs/editor/common/config/editorOptions","tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:ue("vs/editor/common/config/editorOptions","tabCompletion","Enables tab completions.")})),tabIndex:gt(new je(102,"tabIndex",0,-1,1073741824)),unusualLineTerminators:gt(new Ye(103,"unusualLineTerminators","prompt",["off","prompt","auto"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","unusualLineTerminators.off","Unusual line terminators are ignored."),ue("vs/editor/common/config/editorOptions","unusualLineTerminators.prompt","Unusual line terminators prompt to be removed."),ue("vs/editor/common/config/editorOptions","unusualLineTerminators.auto","Unusual line terminators are automatically removed.")],description:ue("vs/editor/common/config/editorOptions","unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useTabStops:gt(new $e(104,"useTabStops",!0,{description:ue("vs/editor/common/config/editorOptions","useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:gt(new Ze(105,"wordSeparators","`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",{description:ue("vs/editor/common/config/editorOptions","wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:gt(new Ye(106,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[ue("vs/editor/common/config/editorOptions","wordWrap.off","Lines will never wrap."),ue("vs/editor/common/config/editorOptions","wordWrap.on","Lines will wrap at the viewport width."),ue("vs/editor/common/config/editorOptions",{key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),ue("vs/editor/common/config/editorOptions",{key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:ue("vs/editor/common/config/editorOptions",{key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:gt(new Ze(107,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:gt(new Ze(108,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:gt(new je(109,"wordWrapColumn",80,1,1073741824,{markdownDescription:ue("vs/editor/common/config/editorOptions",{key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:gt(new $e(110,"wordWrapMinified",!0)),wrappingIndent:gt(new Je(111,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],(function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}),{enumDescriptions:[ue("vs/editor/common/config/editorOptions","wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),ue("vs/editor/common/config/editorOptions","wrappingIndent.same","Wrapped lines get the same indentation as the parent."),ue("vs/editor/common/config/editorOptions","wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),ue("vs/editor/common/config/editorOptions","wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:ue("vs/editor/common/config/editorOptions","wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:gt(new Ye(112,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[ue("vs/editor/common/config/editorOptions","wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),ue("vs/editor/common/config/editorOptions","wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:ue("vs/editor/common/config/editorOptions","wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:gt(new class extends Ke{constructor(){super(114,[57,27])}compute(e,t,i){const n=["monaco-editor"];return t.get(27)&&n.push(t.get(27)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(57)?n.push("mouse-default"):"copy"===t.get(57)&&n.push("mouse-copy"),t.get(92)&&n.push("showUnused"),t.get(113)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:gt(new class extends Ke{constructor(){super(115)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:gt(new class extends Ke{constructor(){super(116,[72])}compute(e,t,i){return!!t.get(72)||e.tabFocusMode}}),layoutInfo:gt(new it),wrappingInfo:gt(new class extends Ke{constructor(){super(118,[117])}compute(e,t,i){const n=t.get(117);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})};const pt=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function ft(e){vt(e)||pt.onUnexpectedError(e)}function bt(e){vt(e)||pt.onUnexpectedExternalError(e)}function _t(e){if(e instanceof Error){let{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}function vt(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function wt(){const e=new Error("Canceled");return e.name=e.message,e}function Ct(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}var yt,St;function kt(e){}!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){for(const i of e)yield t(i)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const o=t[Symbol.iterator]();for(let s=0;s<i;s++){const t=o.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>o}]}}(yt||(yt={}));class xt extends Error{constructor(e){super(`Encounter errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function Lt(e){return"function"==typeof e.dispose&&0===e.dispose.length}function Et(e){if(yt.is(e)){let t=[];for(const i of e)if(i)try{i.dispose()}catch(le){t.push(le)}if(1===t.length)throw t[0];if(t.length>1)throw new xt(t);return Array.isArray(e)?[]:e}if(e)return e.dispose(),e}function Dt(...e){return e.forEach(kt),{dispose:()=>Et(e)}}function Nt(e){return{dispose:()=>{e()}}}class Tt{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{Et(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?Tt.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}Tt.DISABLE_DISPOSED_WARNING=!1;class It{constructor(){this._store=new Tt}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}It.None=Object.freeze({dispose(){}});class Mt{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value&&this._value.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,this._value&&this._value.dispose(),this._value=void 0}}class Rt{constructor(e){this.object=e}dispose(){}}class At{constructor(e){this.element=e,this.next=At.Undefined,this.prev=At.Undefined}}At.Undefined=new At(void 0);class Ot{constructor(){this._first=At.Undefined,this._last=At.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===At.Undefined}clear(){this._first=At.Undefined,this._last=At.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new At(e);if(this._first===At.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==At.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==At.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==At.Undefined&&e.next!==At.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===At.Undefined&&e.next===At.Undefined?(this._first=At.Undefined,this._last=At.Undefined):e.next===At.Undefined?(this._last=this._last.prev,this._last.next=At.Undefined):e.prev===At.Undefined&&(this._first=this._first.next,this._first.prev=At.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==At.Undefined;)yield e.element,e=e.next}toArray(){const e=[];for(let t=this._first;t!==At.Undefined;t=t.next)e.push(t.element);return e}}!function(e){function t(e){return(t,i=null,n)=>{let o,s=!1;return o=e((e=>{if(!s)return o?o.dispose():s=!0,t.call(i,e)}),null,n),s&&o.dispose(),o}}function i(e,t){return r(((i,n=null,o)=>e((e=>i.call(n,t(e))),null,o)))}function n(e,t){return r(((i,n=null,o)=>e((e=>{t(e),i.call(n,e)}),null,o)))}function o(e,t){return r(((i,n=null,o)=>e((e=>t(e)&&i.call(n,e)),null,o)))}function s(e,t,n){let o=n;return i(e,(e=>(o=t(o,e),o)))}function r(e){let t;const i=new Pt({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function a(e,t,i=100,n=!1,o){let s,r,a,l=0;const d=new Pt({leakWarningThreshold:o,onFirstListenerAdd(){s=e((e=>{l++,r=t(r,e),n&&!a&&(d.fire(r),r=void 0),clearTimeout(a),a=setTimeout((()=>{const e=r;r=void 0,a=void 0,(!n||l>1)&&d.fire(e),l=0}),i)}))},onLastListenerRemove(){s.dispose()}});return d.event}function l(e){let t,i=!0;return o(e,(e=>{const n=i||e!==t;return i=!1,t=e,n}))}e.None=()=>It.None,e.once=t,e.map=i,e.forEach=n,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>Dt(...e.map((e=>e((e=>t.call(i,e)),null,n))))},e.reduce=s,e.snapshot=r,e.debounce=a,e.stopwatch=function(e){const n=(new Date).getTime();return i(t(e),(e=>(new Date).getTime()-n))},e.latch=l,e.buffer=function(e,t=!1,i=[]){let n=i.slice(),o=e((e=>{n?n.push(e):r.fire(e)}));const s=()=>{n&&n.forEach((e=>r.fire(e))),n=null},r=new Pt({onFirstListenerAdd(){o||(o=e((e=>r.fire(e))))},onFirstListenerDidAdd(){n&&(t?setTimeout(s):s())},onLastListenerRemove(){o&&o.dispose(),o=null}});return r.event};class d{constructor(e){this.event=e}map(e){return new d(i(this.event,e))}forEach(e){return new d(n(this.event,e))}filter(e){return new d(o(this.event,e))}reduce(e,t){return new d(s(this.event,e,t))}latch(){return new d(l(this.event))}debounce(e,t=100,i=!1,n){return new d(a(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new d(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new Pt({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return o.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>o.fire(i(...e)),o=new Pt({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return o.event},e.fromPromise=function(e){const t=new Pt;let i=!1;return e.then(void 0,(()=>null)).then((()=>{i?t.fire(void 0):setTimeout((()=>t.fire(void 0)),0)})),i=!0,t.event},e.toPromise=function(e){return new Promise((i=>t(e)(i)))}}(St||(St={}));class Pt{constructor(e){this._disposed=!1,this._options=e,this._leakageMon=void 0}get event(){return this._event||(this._event=(e,t,i)=>{this._listeners||(this._listeners=new Ot);const n=this._listeners.isEmpty();n&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);let s,r;return n&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t),this._leakageMon&&(s=this._leakageMon.check(this._listeners.size)),r={dispose:()=>{if(s&&s(),r.dispose=Pt._noop,!this._disposed&&(o(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}},i instanceof Tt?i.add(r):Array.isArray(i)&&i.push(r),r}),this._event}fire(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ot);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(;this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(le){ft(le)}}}}dispose(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0}}Pt._noop=function(){};class Ft extends Pt{constructor(e){super(e),this._isPaused=0,this._eventQueue=new Ot,this._mergeFn=e&&e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=this._eventQueue.toArray();this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class Wt{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e((e=>{const n=this.buffers[this.buffers.length-1];n?n.push((()=>t.call(i,e))):t.call(i,e)}),void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach((e=>e())),i}}class Bt{constructor(){this.listening=!1,this.inputEvent=St.None,this.inputEventListener=It.None,this.emitter=new Pt({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const Vt=Object.freeze((function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}}));var Ht,zt;(zt=Ht||(Ht={})).isCancellationToken=function(e){return e===zt.None||e===zt.Cancelled||e instanceof Ut||!(!e||"object"!=typeof e)&&"boolean"==typeof e.isCancellationRequested&&"function"==typeof e.onCancellationRequested},zt.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:St.None}),zt.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Vt});class Ut{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Vt:(this._emitter||(this._emitter=new Pt),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class Kt{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new Ut),this._token}cancel(){this._token?this._token instanceof Ut&&this._token.cancel():this._token=Ht.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Ut&&this._token.dispose():this._token=Ht.None}}class qt{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const $t=new qt,jt=new qt,Gt=new qt;var Zt,Yt;function Jt(e,t){return(e|(65535&t)<<16>>>0)>>>0}function Qt(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new ti(0!==n?[Xt(i,t),Xt(n,t)]:[Xt(i,t)])}function Xt(e,t){const i=!!(2048&e),n=!!(256&e);return new ei(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}!function(){function e(e,t,i=t,n=i){$t.define(e,t),jt.define(e,i),Gt.define(e,n)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),(Yt=Zt||(Zt={})).toString=function(e){return $t.keyCodeToStr(e)},Yt.fromString=function(e){return $t.strToKeyCode(e)},Yt.toUserSettingsUS=function(e){return jt.keyCodeToStr(e)},Yt.toUserSettingsGeneral=function(e){return Gt.keyCodeToStr(e)},Yt.fromUserSettings=function(e){return jt.strToKeyCode(e)||Gt.strToKeyCode(e)};class ei{constructor(e,t,i,n,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new ti([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class ti{constructor(e){if(0===e.length)throw Ct("parts");this.parts=e}}class ii{constructor(e,t,i,n,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=s}}const ni="undefined"==typeof process?{cwd:()=>"/",env:Object.create(null),get platform(){return ke?"win32":xe?"darwin":"linux"},nextTick:e=>Ie(e)}:process,oi=ni.cwd,si=ni.env,ri=ni.platform;class ai extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";const o=-1!==e.indexOf(".")?"property":"argument";let s=`The "${e}" ${o} ${n} of type ${t}`;s+=". Received type "+typeof i,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function li(e,t){if("string"!=typeof e)throw new ai(t,"string",e)}function di(e){return 47===e||92===e}function ci(e){return 47===e}function hi(e){return e>=65&&e<=90||e>=97&&e<=122}function ui(e,t,i,n){let o="",s=0,r=-1,a=0,l=0;for(let d=0;d<=e.length;++d){if(d<e.length)l=e.charCodeAt(d);else{if(n(l))break;l=47}if(n(l)){if(r===d-1||1===a);else if(2===a){if(o.length<2||2!==s||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2)){if(o.length>2){const e=o.lastIndexOf(i);-1===e?(o="",s=0):(o=o.slice(0,e),s=o.length-1-o.lastIndexOf(i)),r=d,a=0;continue}if(0!==o.length){o="",s=0,r=d,a=0;continue}}t&&(o+=o.length>0?`${i}..`:"..",s=2)}else o.length>0?o+=`${i}${e.slice(r+1,d)}`:o=e.slice(r+1,d),s=d-r-1;r=d,a=0}else 46===l&&-1!==a?++a:a=-1}return o}function gi(e,t){if(null===t||"object"!=typeof t)throw new ai("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const mi={resolve(...e){let t="",i="",n=!1;for(let o=e.length-1;o>=-1;o--){let s;if(o>=0){if(s=e[o],li(s,"path"),0===s.length)continue}else 0===t.length?s=oi():(s=si[`=${t}`]||oi(),(void 0===s||s.slice(0,2).toLowerCase()!==t.toLowerCase()&&92===s.charCodeAt(2))&&(s=`${t}\\`));const r=s.length;let a=0,l="",d=!1;const c=s.charCodeAt(0);if(1===r)di(c)&&(a=1,d=!0);else if(di(c))if(d=!0,di(s.charCodeAt(1))){let e=2,t=e;for(;e<r&&!di(s.charCodeAt(e));)e++;if(e<r&&e!==t){const i=s.slice(t,e);for(t=e;e<r&&di(s.charCodeAt(e));)e++;if(e<r&&e!==t){for(t=e;e<r&&!di(s.charCodeAt(e));)e++;e!==r&&e===t||(l=`\\\\${i}\\${s.slice(t,e)}`,a=e)}}}else a=1;else hi(c)&&58===s.charCodeAt(1)&&(l=s.slice(0,2),a=2,r>2&&di(s.charCodeAt(2))&&(d=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(n){if(t.length>0)break}else if(i=`${s.slice(a)}\\${i}`,n=d,d&&t.length>0)break}return i=ui(i,!n,"\\",di),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){li(e,"path");const t=e.length;if(0===t)return".";let i,n=0,o=!1;const s=e.charCodeAt(0);if(1===t)return ci(s)?"\\":e;if(di(s))if(o=!0,di(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!di(e.charCodeAt(o));)o++;if(o<t&&o!==s){const r=e.slice(s,o);for(s=o;o<t&&di(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!di(e.charCodeAt(o));)o++;if(o===t)return`\\\\${r}\\${e.slice(s)}\\`;o!==s&&(i=`\\\\${r}\\${e.slice(s,o)}`,n=o)}}}else n=1;else hi(s)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),n=2,t>2&&di(e.charCodeAt(2))&&(o=!0,n=3));let r=n<t?ui(e.slice(n),!o,"\\",di):"";return 0!==r.length||o||(r="."),r.length>0&&di(e.charCodeAt(t-1))&&(r+="\\"),void 0===i?o?`\\${r}`:r:o?`${i}\\${r}`:`${i}${r}`},isAbsolute(e){li(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return di(i)||t>2&&hi(i)&&58===e.charCodeAt(1)&&di(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let s=0;s<e.length;++s){const n=e[s];li(n,"path"),n.length>0&&(void 0===t?t=i=n:t+=`\\${n}`)}if(void 0===t)return".";let n=!0,o=0;if("string"==typeof i&&di(i.charCodeAt(0))){++o;const e=i.length;e>1&&di(i.charCodeAt(1))&&(++o,e>2&&(di(i.charCodeAt(2))?++o:n=!1))}if(n){for(;o<t.length&&di(t.charCodeAt(o));)o++;o>=2&&(t=`\\${t.slice(o)}`)}return mi.normalize(t)},relative(e,t){if(li(e,"from"),li(t,"to"),e===t)return"";const i=mi.resolve(e),n=mi.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let o=0;for(;o<e.length&&92===e.charCodeAt(o);)o++;let s=e.length;for(;s-1>o&&92===e.charCodeAt(s-1);)s--;const r=s-o;let a=0;for(;a<t.length&&92===t.charCodeAt(a);)a++;let l=t.length;for(;l-1>a&&92===t.charCodeAt(l-1);)l--;const d=l-a,c=r<d?r:d;let h=-1,u=0;for(;u<c;u++){const i=e.charCodeAt(o+u);if(i!==t.charCodeAt(a+u))break;92===i&&(h=u)}if(u!==c){if(-1===h)return n}else{if(d>c){if(92===t.charCodeAt(a+u))return n.slice(a+u+1);if(2===u)return n.slice(a+u)}r>c&&(92===e.charCodeAt(o+u)?h=u:2===u&&(h=3)),-1===h&&(h=0)}let g="";for(u=o+h+1;u<=s;++u)u!==s&&92!==e.charCodeAt(u)||(g+=0===g.length?"..":"\\..");return a+=h,g.length>0?`${g}${n.slice(a,l)}`:(92===n.charCodeAt(a)&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=mi.resolve(e);if(t.length<=2)return e;if(92===t.charCodeAt(0)){if(92===t.charCodeAt(1)){const e=t.charCodeAt(2);if(63!==e&&46!==e)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(hi(t.charCodeAt(0))&&58===t.charCodeAt(1)&&92===t.charCodeAt(2))return`\\\\?\\${t}`;return e},dirname(e){li(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const o=e.charCodeAt(0);if(1===t)return di(o)?e:".";if(di(o)){if(i=n=1,di(e.charCodeAt(1))){let o=2,s=o;for(;o<t&&!di(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&di(e.charCodeAt(o));)o++;if(o<t&&o!==s){for(s=o;o<t&&!di(e.charCodeAt(o));)o++;if(o===t)return e;o!==s&&(i=n=o+1)}}}}else hi(o)&&58===e.charCodeAt(1)&&(i=t>2&&di(e.charCodeAt(2))?3:2,n=i);let s=-1,r=!0;for(let a=t-1;a>=n;--a)if(di(e.charCodeAt(a))){if(!r){s=a;break}}else r=!1;if(-1===s){if(-1===i)return".";s=i}return e.slice(0,s)},basename(e,t){void 0!==t&&li(t,"ext"),li(e,"path");let i,n=0,o=-1,s=!0;if(e.length>=2&&hi(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(di(l)){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=n;--i)if(di(e.charCodeAt(i))){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){li(e,"path");let t=0,i=-1,n=0,o=-1,s=!0,r=0;e.length>=2&&58===e.charCodeAt(1)&&hi(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(di(t)){if(!s){n=a+1;break}}else-1===o&&(s=!1,o=a+1),46===t?-1===i?i=a:1!==r&&(r=1):-1!==i&&(r=-1)}return-1===i||-1===o||0===r||1===r&&i===o-1&&i===n+1?"":e.slice(i,o)},format:gi.bind(null,"\\"),parse(e){li(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,o=e.charCodeAt(0);if(1===i)return di(o)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(di(o)){if(n=1,di(e.charCodeAt(1))){let t=2,o=t;for(;t<i&&!di(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&di(e.charCodeAt(t));)t++;if(t<i&&t!==o){for(o=t;t<i&&!di(e.charCodeAt(t));)t++;t===i?n=t:t!==o&&(n=t+1)}}}}else if(hi(o)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,di(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let s=-1,r=n,a=-1,l=!0,d=e.length-1,c=0;for(;d>=n;--d)if(o=e.charCodeAt(d),di(o)){if(!l){r=d+1;break}}else-1===a&&(l=!1,a=d+1),46===o?-1===s?s=d:1!==c&&(c=1):-1!==s&&(c=-1);return-1!==a&&(-1===s||0===c||1===c&&s===a-1&&s===r+1?t.base=t.name=e.slice(r,a):(t.name=e.slice(r,s),t.base=e.slice(r,a),t.ext=e.slice(s,a))),t.dir=r>0&&r!==n?e.slice(0,r-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},pi={resolve(...e){let t="",i=!1;for(let n=e.length-1;n>=-1&&!i;n--){const o=n>=0?e[n]:oi();li(o,"path"),0!==o.length&&(t=`${o}/${t}`,i=47===o.charCodeAt(0))}return t=ui(t,!i,"/",ci),i?`/${t}`:t.length>0?t:"."},normalize(e){if(li(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0===(e=ui(e,!t,"/",ci)).length?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(li(e,"path"),e.length>0&&47===e.charCodeAt(0)),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];li(n,"path"),n.length>0&&(void 0===t?t=n:t+=`/${n}`)}return void 0===t?".":pi.normalize(t)},relative(e,t){if(li(e,"from"),li(t,"to"),e===t)return"";if((e=pi.resolve(e))===(t=pi.resolve(t)))return"";const i=e.length,n=i-1,o=t.length-1,s=n<o?n:o;let r=-1,a=0;for(;a<s;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;47===i&&(r=a)}if(a===s)if(o>s){if(47===t.charCodeAt(1+a))return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>s&&(47===e.charCodeAt(1+a)?r=a:0===a&&(r=0));let l="";for(a=1+r+1;a<=i;++a)a!==i&&47!==e.charCodeAt(a)||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+r)}`},toNamespacedPath:e=>e,dirname(e){if(li(e,"path"),0===e.length)return".";const t=47===e.charCodeAt(0);let i=-1,n=!0;for(let o=e.length-1;o>=1;--o)if(47===e.charCodeAt(o)){if(!n){i=o;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&li(t,"ext"),li(e,"path");let i,n=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let r=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(47===l){if(!s){n=i+1;break}}else-1===a&&(s=!1,a=i+1),r>=0&&(l===t.charCodeAt(r)?-1==--r&&(o=i):(r=-1,o=a))}return n===o?o=a:-1===o&&(o=e.length),e.slice(n,o)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?"":e.slice(n,o)},extname(e){li(e,"path");let t=-1,i=0,n=-1,o=!0,s=0;for(let r=e.length-1;r>=0;--r){const a=e.charCodeAt(r);if(47!==a)-1===n&&(o=!1,n=r+1),46===a?-1===t?t=r:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){i=r+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)},format:gi.bind(null,"/"),parse(e){li(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=47===e.charCodeAt(0);let n;i?(t.root="/",n=1):n=0;let o=-1,s=0,r=-1,a=!0,l=e.length-1,d=0;for(;l>=n;--l){const t=e.charCodeAt(l);if(47!==t)-1===r&&(a=!1,r=l+1),46===t?-1===o?o=l:1!==d&&(d=1):-1!==o&&(d=-1);else if(!a){s=l+1;break}}if(-1!==r){const n=0===s&&i?1:s;-1===o||0===d||1===d&&o===r-1&&o===s+1?t.base=t.name=e.slice(n,r):(t.name=e.slice(n,o),t.base=e.slice(n,r),t.ext=e.slice(o,r))}return s>0?t.dir=e.slice(0,s-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};pi.win32=mi.win32=mi,pi.posix=mi.posix=pi;const fi="win32"===ri?mi.normalize:pi.normalize,bi="win32"===ri?mi.resolve:pi.resolve,_i="win32"===ri?mi.relative:pi.relative,vi="win32"===ri?mi.dirname:pi.dirname,wi="win32"===ri?mi.basename:pi.basename,Ci="win32"===ri?mi.extname:pi.extname,yi="win32"===ri?mi.sep:pi.sep,Si=/^\w[\w\d+.-]*$/,ki=/^\//,xi=/^\/\//;const Li="/",Ei=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Di{constructor(e,t,i,n,o,s=!1){"object"==typeof e?(this.scheme=e.scheme||"",this.authority=e.authority||"",this.path=e.path||"",this.query=e.query||"",this.fragment=e.fragment||""):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||"",this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Li&&(t=Li+t):t=Li}return t}(this.scheme,i||""),this.query=n||"",this.fragment=o||"",function(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Si.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!ki.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(xi.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,s))}static isUri(e){return e instanceof Di||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"function"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return Ai(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:o,fragment:s}=e;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===i?i=this.authority:null===i&&(i=""),void 0===n?n=this.path:null===n&&(n=""),void 0===o?o=this.query:null===o&&(o=""),void 0===s?s=this.fragment:null===s&&(s=""),t===this.scheme&&i===this.authority&&n===this.path&&o===this.query&&s===this.fragment?this:new Ti(t,i,n,o,s)}static parse(e,t=!1){const i=Ei.exec(e);return i?new Ti(i[2]||"",Wi(i[4]||""),Wi(i[5]||""),Wi(i[7]||""),Wi(i[9]||""),t):new Ti("","","","","")}static file(e){let t="";if(ke&&(e=e.replace(/\\/g,Li)),e[0]===Li&&e[1]===Li){const i=e.indexOf(Li,2);-1===i?(t=e.substring(2),e=Li):(t=e.substring(2,i),e=e.substring(i)||Li)}return new Ti("file",t,e,"","")}static from(e){return new Ti(e.scheme,e.authority,e.path,e.query,e.fragment)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPaths on URI without path");let i;return i=ke&&"file"===e.scheme?Di.file(mi.join(Ai(e,!0),...t)).path:pi.join(e.path,...t),e.with({path:i})}toString(e=!1){return Oi(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Di)return e;{const t=new Ti(e);return t._formatted=e.external,t._fsPath=e._sep===Ni?e.fsPath:null,t}}return e}}const Ni=ke?1:void 0;class Ti extends Di{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=Ai(this,!1)),this._fsPath}toString(e=!1){return e?Oi(this,!0):(this._formatted||(this._formatted=Oi(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Ni),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Ii={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Mi(e,t){let i,n=-1;for(let o=0;o<e.length;o++){const s=e.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s)-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),void 0!==i&&(i+=e.charAt(o));else{void 0===i&&(i=e.substr(0,o));const t=Ii[s];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,o)),n=-1),i+=t):-1===n&&(n=o)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function Ri(e){let t;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=Ii[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function Ai(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,ke&&(i=i.replace(/\//g,"\\")),i}function Oi(e,t){const i=t?Ri:Mi;let n="",{scheme:o,authority:s,path:r,query:a,fragment:l}=e;if(o&&(n+=o,n+=":"),(s||"file"===o)&&(n+=Li,n+=Li),s){let e=s.indexOf("@");if(-1!==e){const t=s.substr(0,e);s=s.substr(e+1),e=t.indexOf(":"),-1===e?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}s=s.toLowerCase(),e=s.indexOf(":"),-1===e?n+=i(s,!1):(n+=i(s.substr(0,e),!1),n+=s.substr(e))}if(r){if(r.length>=3&&47===r.charCodeAt(0)&&58===r.charCodeAt(2)){const e=r.charCodeAt(1);e>=65&&e<=90&&(r=`/${String.fromCharCode(e+32)}:${r.substr(3)}`)}else if(r.length>=2&&58===r.charCodeAt(1)){const e=r.charCodeAt(0);e>=65&&e<=90&&(r=`${String.fromCharCode(e+32)}:${r.substr(2)}`)}n+=i(r,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:Mi(l,!1)),n}function Pi(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+Pi(e.substr(3)):e}}const Fi=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Wi(e){return e.match(Fi)?e.replace(Fi,(e=>Pi(e))):e}class Bi{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new Bi(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return Bi.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return Bi.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return Bi.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new Bi(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new Bi(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class Vi{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return Vi.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Vi.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return Vi.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return Vi.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return Vi.plusRange(this,e)}static plusRange(e,t){let i,n,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new Vi(i,n,o,s)}intersectRanges(e){return Vi.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,d=t.endColumn;return i<r?(i=r,n=a):i===r&&(n=Math.max(n,a)),o>l?(o=l,s=d):o===l&&(s=Math.min(s,d)),i>o||i===o&&n>s?null:new Vi(i,n,o,s)}equalsRange(e){return Vi.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Vi.getEndPosition(this)}static getEndPosition(e){return new Bi(e.endLineNumber,e.endColumn)}getStartPosition(){return Vi.getStartPosition(this)}static getStartPosition(e){return new Bi(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Vi(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Vi(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Vi.collapseToStart(this)}static collapseToStart(e){return new Vi(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new Vi(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Vi(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class Hi extends Vi{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Hi.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new Hi(this.startLineNumber,this.startColumn,e,t):new Hi(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new Bi(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new Hi(e,t,this.endLineNumber,this.endColumn):new Hi(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new Hi(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new Hi(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,o){return 0===o?new Hi(e,t,i,n):new Hi(i,n,e,t)}}class zi{constructor(e,t,i){this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class Ui{constructor(e,t){this.tokens=e,this.endState=t}}class Ki{constructor(e,t){this.tokens=e,this.endState=t}}var qi,$i,ji,Gi,Zi,Yi,Ji,Qi,Xi,en,tn,nn,on,sn,rn,an,ln,dn,cn,hn,un,gn,mn,pn,fn,bn,_n,vn,wn,Cn,yn,Sn,kn,xn,Ln,En,Dn,Nn,Tn,In,Mn,Rn,An,On,Pn,Fn,Wn,Bn,Vn,Hn,zn,Un,Kn,qn,$n,jn,Gn,Zn,Yn,Jn,Qn,Xn,eo,to,io;($i=qi||(qi={}))[$i.Unknown=0]="Unknown",$i[$i.Disabled=1]="Disabled",$i[$i.Enabled=2]="Enabled",(Gi=ji||(ji={}))[Gi.KeepWhitespace=1]="KeepWhitespace",Gi[Gi.InsertAsSnippet=4]="InsertAsSnippet",(Yi=Zi||(Zi={}))[Yi.Method=0]="Method",Yi[Yi.Function=1]="Function",Yi[Yi.Constructor=2]="Constructor",Yi[Yi.Field=3]="Field",Yi[Yi.Variable=4]="Variable",Yi[Yi.Class=5]="Class",Yi[Yi.Struct=6]="Struct",Yi[Yi.Interface=7]="Interface",Yi[Yi.Module=8]="Module",Yi[Yi.Property=9]="Property",Yi[Yi.Event=10]="Event",Yi[Yi.Operator=11]="Operator",Yi[Yi.Unit=12]="Unit",Yi[Yi.Value=13]="Value",Yi[Yi.Constant=14]="Constant",Yi[Yi.Enum=15]="Enum",Yi[Yi.EnumMember=16]="EnumMember",Yi[Yi.Keyword=17]="Keyword",Yi[Yi.Text=18]="Text",Yi[Yi.Color=19]="Color",Yi[Yi.File=20]="File",Yi[Yi.Reference=21]="Reference",Yi[Yi.Customcolor=22]="Customcolor",Yi[Yi.Folder=23]="Folder",Yi[Yi.TypeParameter=24]="TypeParameter",Yi[Yi.User=25]="User",Yi[Yi.Issue=26]="Issue",Yi[Yi.Snippet=27]="Snippet",(Qi=Ji||(Ji={}))[Qi.Deprecated=1]="Deprecated",(en=Xi||(Xi={}))[en.Invoke=0]="Invoke",en[en.TriggerCharacter=1]="TriggerCharacter",en[en.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(nn=tn||(tn={}))[nn.EXACT=0]="EXACT",nn[nn.ABOVE=1]="ABOVE",nn[nn.BELOW=2]="BELOW",(sn=on||(on={}))[sn.NotSet=0]="NotSet",sn[sn.ContentFlush=1]="ContentFlush",sn[sn.RecoverFromMarkers=2]="RecoverFromMarkers",sn[sn.Explicit=3]="Explicit",sn[sn.Paste=4]="Paste",sn[sn.Undo=5]="Undo",sn[sn.Redo=6]="Redo",(an=rn||(rn={}))[an.LF=1]="LF",an[an.CRLF=2]="CRLF",(dn=ln||(ln={}))[dn.Text=0]="Text",dn[dn.Read=1]="Read",dn[dn.Write=2]="Write",(hn=cn||(cn={}))[hn.None=0]="None",hn[hn.Keep=1]="Keep",hn[hn.Brackets=2]="Brackets",hn[hn.Advanced=3]="Advanced",hn[hn.Full=4]="Full",(gn=un||(un={}))[gn.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",gn[gn.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",gn[gn.accessibilitySupport=2]="accessibilitySupport",gn[gn.accessibilityPageSize=3]="accessibilityPageSize",gn[gn.ariaLabel=4]="ariaLabel",gn[gn.autoClosingBrackets=5]="autoClosingBrackets",gn[gn.autoClosingOvertype=6]="autoClosingOvertype",gn[gn.autoClosingQuotes=7]="autoClosingQuotes",gn[gn.autoIndent=8]="autoIndent",gn[gn.automaticLayout=9]="automaticLayout",gn[gn.autoSurround=10]="autoSurround",gn[gn.codeLens=11]="codeLens",gn[gn.colorDecorators=12]="colorDecorators",gn[gn.columnSelection=13]="columnSelection",gn[gn.comments=14]="comments",gn[gn.contextmenu=15]="contextmenu",gn[gn.copyWithSyntaxHighlighting=16]="copyWithSyntaxHighlighting",gn[gn.cursorBlinking=17]="cursorBlinking",gn[gn.cursorSmoothCaretAnimation=18]="cursorSmoothCaretAnimation",gn[gn.cursorStyle=19]="cursorStyle",gn[gn.cursorSurroundingLines=20]="cursorSurroundingLines",gn[gn.cursorSurroundingLinesStyle=21]="cursorSurroundingLinesStyle",gn[gn.cursorWidth=22]="cursorWidth",gn[gn.disableLayerHinting=23]="disableLayerHinting",gn[gn.disableMonospaceOptimizations=24]="disableMonospaceOptimizations",gn[gn.dragAndDrop=25]="dragAndDrop",gn[gn.emptySelectionClipboard=26]="emptySelectionClipboard",gn[gn.extraEditorClassName=27]="extraEditorClassName",gn[gn.fastScrollSensitivity=28]="fastScrollSensitivity",gn[gn.find=29]="find",gn[gn.fixedOverflowWidgets=30]="fixedOverflowWidgets",gn[gn.folding=31]="folding",gn[gn.foldingStrategy=32]="foldingStrategy",gn[gn.foldingHighlight=33]="foldingHighlight",gn[gn.unfoldOnClickAfterEndOfLine=34]="unfoldOnClickAfterEndOfLine",gn[gn.fontFamily=35]="fontFamily",gn[gn.fontInfo=36]="fontInfo",gn[gn.fontLigatures=37]="fontLigatures",gn[gn.fontSize=38]="fontSize",gn[gn.fontWeight=39]="fontWeight",gn[gn.formatOnPaste=40]="formatOnPaste",gn[gn.formatOnType=41]="formatOnType",gn[gn.glyphMargin=42]="glyphMargin",gn[gn.gotoLocation=43]="gotoLocation",gn[gn.hideCursorInOverviewRuler=44]="hideCursorInOverviewRuler",gn[gn.highlightActiveIndentGuide=45]="highlightActiveIndentGuide",gn[gn.hover=46]="hover",gn[gn.inDiffEditor=47]="inDiffEditor",gn[gn.letterSpacing=48]="letterSpacing",gn[gn.lightbulb=49]="lightbulb",gn[gn.lineDecorationsWidth=50]="lineDecorationsWidth",gn[gn.lineHeight=51]="lineHeight",gn[gn.lineNumbers=52]="lineNumbers",gn[gn.lineNumbersMinChars=53]="lineNumbersMinChars",gn[gn.links=54]="links",gn[gn.matchBrackets=55]="matchBrackets",gn[gn.minimap=56]="minimap",gn[gn.mouseStyle=57]="mouseStyle",gn[gn.mouseWheelScrollSensitivity=58]="mouseWheelScrollSensitivity",gn[gn.mouseWheelZoom=59]="mouseWheelZoom",gn[gn.multiCursorMergeOverlapping=60]="multiCursorMergeOverlapping",gn[gn.multiCursorModifier=61]="multiCursorModifier",gn[gn.multiCursorPaste=62]="multiCursorPaste",gn[gn.occurrencesHighlight=63]="occurrencesHighlight",gn[gn.overviewRulerBorder=64]="overviewRulerBorder",gn[gn.overviewRulerLanes=65]="overviewRulerLanes",gn[gn.padding=66]="padding",gn[gn.parameterHints=67]="parameterHints",gn[gn.peekWidgetDefaultFocus=68]="peekWidgetDefaultFocus",gn[gn.definitionLinkOpensInPeek=69]="definitionLinkOpensInPeek",gn[gn.quickSuggestions=70]="quickSuggestions",gn[gn.quickSuggestionsDelay=71]="quickSuggestionsDelay",gn[gn.readOnly=72]="readOnly",gn[gn.renameOnType=73]="renameOnType",gn[gn.renderControlCharacters=74]="renderControlCharacters",gn[gn.renderIndentGuides=75]="renderIndentGuides",gn[gn.renderFinalNewline=76]="renderFinalNewline",gn[gn.renderLineHighlight=77]="renderLineHighlight",gn[gn.renderLineHighlightOnlyWhenFocus=78]="renderLineHighlightOnlyWhenFocus",gn[gn.renderValidationDecorations=79]="renderValidationDecorations",gn[gn.renderWhitespace=80]="renderWhitespace",gn[gn.revealHorizontalRightPadding=81]="revealHorizontalRightPadding",gn[gn.roundedSelection=82]="roundedSelection",gn[gn.rulers=83]="rulers",gn[gn.scrollbar=84]="scrollbar",gn[gn.scrollBeyondLastColumn=85]="scrollBeyondLastColumn",gn[gn.scrollBeyondLastLine=86]="scrollBeyondLastLine",gn[gn.scrollPredominantAxis=87]="scrollPredominantAxis",gn[gn.selectionClipboard=88]="selectionClipboard",gn[gn.selectionHighlight=89]="selectionHighlight",gn[gn.selectOnLineNumbers=90]="selectOnLineNumbers",gn[gn.showFoldingControls=91]="showFoldingControls",gn[gn.showUnused=92]="showUnused",gn[gn.snippetSuggestions=93]="snippetSuggestions",gn[gn.smoothScrolling=94]="smoothScrolling",gn[gn.stopRenderingLineAfter=95]="stopRenderingLineAfter",gn[gn.suggest=96]="suggest",gn[gn.suggestFontSize=97]="suggestFontSize",gn[gn.suggestLineHeight=98]="suggestLineHeight",gn[gn.suggestOnTriggerCharacters=99]="suggestOnTriggerCharacters",gn[gn.suggestSelection=100]="suggestSelection",gn[gn.tabCompletion=101]="tabCompletion",gn[gn.tabIndex=102]="tabIndex",gn[gn.unusualLineTerminators=103]="unusualLineTerminators",gn[gn.useTabStops=104]="useTabStops",gn[gn.wordSeparators=105]="wordSeparators",gn[gn.wordWrap=106]="wordWrap",gn[gn.wordWrapBreakAfterCharacters=107]="wordWrapBreakAfterCharacters",gn[gn.wordWrapBreakBeforeCharacters=108]="wordWrapBreakBeforeCharacters",gn[gn.wordWrapColumn=109]="wordWrapColumn",gn[gn.wordWrapMinified=110]="wordWrapMinified",gn[gn.wrappingIndent=111]="wrappingIndent",gn[gn.wrappingStrategy=112]="wrappingStrategy",gn[gn.showDeprecated=113]="showDeprecated",gn[gn.editorClassName=114]="editorClassName",gn[gn.pixelRatio=115]="pixelRatio",gn[gn.tabFocusMode=116]="tabFocusMode",gn[gn.layoutInfo=117]="layoutInfo",gn[gn.wrappingInfo=118]="wrappingInfo",(pn=mn||(mn={}))[pn.TextDefined=0]="TextDefined",pn[pn.LF=1]="LF",pn[pn.CRLF=2]="CRLF",(bn=fn||(fn={}))[bn.LF=0]="LF",bn[bn.CRLF=1]="CRLF",(vn=_n||(_n={}))[vn.None=0]="None",vn[vn.Indent=1]="Indent",vn[vn.IndentOutdent=2]="IndentOutdent",vn[vn.Outdent=3]="Outdent",(Cn=wn||(wn={}))[Cn.Unknown=0]="Unknown",Cn[Cn.Backspace=1]="Backspace",Cn[Cn.Tab=2]="Tab",Cn[Cn.Enter=3]="Enter",Cn[Cn.Shift=4]="Shift",Cn[Cn.Ctrl=5]="Ctrl",Cn[Cn.Alt=6]="Alt",Cn[Cn.PauseBreak=7]="PauseBreak",Cn[Cn.CapsLock=8]="CapsLock",Cn[Cn.Escape=9]="Escape",Cn[Cn.Space=10]="Space",Cn[Cn.PageUp=11]="PageUp",Cn[Cn.PageDown=12]="PageDown",Cn[Cn.End=13]="End",Cn[Cn.Home=14]="Home",Cn[Cn.LeftArrow=15]="LeftArrow",Cn[Cn.UpArrow=16]="UpArrow",Cn[Cn.RightArrow=17]="RightArrow",Cn[Cn.DownArrow=18]="DownArrow",Cn[Cn.Insert=19]="Insert",Cn[Cn.Delete=20]="Delete",Cn[Cn.KEY_0=21]="KEY_0",Cn[Cn.KEY_1=22]="KEY_1",Cn[Cn.KEY_2=23]="KEY_2",Cn[Cn.KEY_3=24]="KEY_3",Cn[Cn.KEY_4=25]="KEY_4",Cn[Cn.KEY_5=26]="KEY_5",Cn[Cn.KEY_6=27]="KEY_6",Cn[Cn.KEY_7=28]="KEY_7",Cn[Cn.KEY_8=29]="KEY_8",Cn[Cn.KEY_9=30]="KEY_9",Cn[Cn.KEY_A=31]="KEY_A",Cn[Cn.KEY_B=32]="KEY_B",Cn[Cn.KEY_C=33]="KEY_C",Cn[Cn.KEY_D=34]="KEY_D",Cn[Cn.KEY_E=35]="KEY_E",Cn[Cn.KEY_F=36]="KEY_F",Cn[Cn.KEY_G=37]="KEY_G",Cn[Cn.KEY_H=38]="KEY_H",Cn[Cn.KEY_I=39]="KEY_I",Cn[Cn.KEY_J=40]="KEY_J",Cn[Cn.KEY_K=41]="KEY_K",Cn[Cn.KEY_L=42]="KEY_L",Cn[Cn.KEY_M=43]="KEY_M",Cn[Cn.KEY_N=44]="KEY_N",Cn[Cn.KEY_O=45]="KEY_O",Cn[Cn.KEY_P=46]="KEY_P",Cn[Cn.KEY_Q=47]="KEY_Q",Cn[Cn.KEY_R=48]="KEY_R",Cn[Cn.KEY_S=49]="KEY_S",Cn[Cn.KEY_T=50]="KEY_T",Cn[Cn.KEY_U=51]="KEY_U",Cn[Cn.KEY_V=52]="KEY_V",Cn[Cn.KEY_W=53]="KEY_W",Cn[Cn.KEY_X=54]="KEY_X",Cn[Cn.KEY_Y=55]="KEY_Y",Cn[Cn.KEY_Z=56]="KEY_Z",Cn[Cn.Meta=57]="Meta",Cn[Cn.ContextMenu=58]="ContextMenu",Cn[Cn.F1=59]="F1",Cn[Cn.F2=60]="F2",Cn[Cn.F3=61]="F3",Cn[Cn.F4=62]="F4",Cn[Cn.F5=63]="F5",Cn[Cn.F6=64]="F6",Cn[Cn.F7=65]="F7",Cn[Cn.F8=66]="F8",Cn[Cn.F9=67]="F9",Cn[Cn.F10=68]="F10",Cn[Cn.F11=69]="F11",Cn[Cn.F12=70]="F12",Cn[Cn.F13=71]="F13",Cn[Cn.F14=72]="F14",Cn[Cn.F15=73]="F15",Cn[Cn.F16=74]="F16",Cn[Cn.F17=75]="F17",Cn[Cn.F18=76]="F18",Cn[Cn.F19=77]="F19",Cn[Cn.NumLock=78]="NumLock",Cn[Cn.ScrollLock=79]="ScrollLock",Cn[Cn.US_SEMICOLON=80]="US_SEMICOLON",Cn[Cn.US_EQUAL=81]="US_EQUAL",Cn[Cn.US_COMMA=82]="US_COMMA",Cn[Cn.US_MINUS=83]="US_MINUS",Cn[Cn.US_DOT=84]="US_DOT",Cn[Cn.US_SLASH=85]="US_SLASH",Cn[Cn.US_BACKTICK=86]="US_BACKTICK",Cn[Cn.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",Cn[Cn.US_BACKSLASH=88]="US_BACKSLASH",Cn[Cn.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",Cn[Cn.US_QUOTE=90]="US_QUOTE",Cn[Cn.OEM_8=91]="OEM_8",Cn[Cn.OEM_102=92]="OEM_102",Cn[Cn.NUMPAD_0=93]="NUMPAD_0",Cn[Cn.NUMPAD_1=94]="NUMPAD_1",Cn[Cn.NUMPAD_2=95]="NUMPAD_2",Cn[Cn.NUMPAD_3=96]="NUMPAD_3",Cn[Cn.NUMPAD_4=97]="NUMPAD_4",Cn[Cn.NUMPAD_5=98]="NUMPAD_5",Cn[Cn.NUMPAD_6=99]="NUMPAD_6",Cn[Cn.NUMPAD_7=100]="NUMPAD_7",Cn[Cn.NUMPAD_8=101]="NUMPAD_8",Cn[Cn.NUMPAD_9=102]="NUMPAD_9",Cn[Cn.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",Cn[Cn.NUMPAD_ADD=104]="NUMPAD_ADD",Cn[Cn.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",Cn[Cn.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",Cn[Cn.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",Cn[Cn.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",Cn[Cn.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",Cn[Cn.ABNT_C1=110]="ABNT_C1",Cn[Cn.ABNT_C2=111]="ABNT_C2",Cn[Cn.MAX_VALUE=112]="MAX_VALUE",(Sn=yn||(yn={}))[Sn.Hint=1]="Hint",Sn[Sn.Info=2]="Info",Sn[Sn.Warning=4]="Warning",Sn[Sn.Error=8]="Error",(xn=kn||(kn={}))[xn.Unnecessary=1]="Unnecessary",xn[xn.Deprecated=2]="Deprecated",(En=Ln||(Ln={}))[En.Inline=1]="Inline",En[En.Gutter=2]="Gutter",(Nn=Dn||(Dn={}))[Nn.UNKNOWN=0]="UNKNOWN",Nn[Nn.TEXTAREA=1]="TEXTAREA",Nn[Nn.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",Nn[Nn.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",Nn[Nn.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",Nn[Nn.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",Nn[Nn.CONTENT_TEXT=6]="CONTENT_TEXT",Nn[Nn.CONTENT_EMPTY=7]="CONTENT_EMPTY",Nn[Nn.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",Nn[Nn.CONTENT_WIDGET=9]="CONTENT_WIDGET",Nn[Nn.OVERVIEW_RULER=10]="OVERVIEW_RULER",Nn[Nn.SCROLLBAR=11]="SCROLLBAR",Nn[Nn.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",Nn[Nn.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",(In=Tn||(Tn={}))[In.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",In[In.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",In[In.TOP_CENTER=2]="TOP_CENTER",(Rn=Mn||(Mn={}))[Rn.Left=1]="Left",Rn[Rn.Center=2]="Center",Rn[Rn.Right=4]="Right",Rn[Rn.Full=7]="Full",(On=An||(An={}))[On.Off=0]="Off",On[On.On=1]="On",On[On.Relative=2]="Relative",On[On.Interval=3]="Interval",On[On.Custom=4]="Custom",(Fn=Pn||(Pn={}))[Fn.None=0]="None",Fn[Fn.Text=1]="Text",Fn[Fn.Blocks=2]="Blocks",(Bn=Wn||(Wn={}))[Bn.Smooth=0]="Smooth",Bn[Bn.Immediate=1]="Immediate",(Hn=Vn||(Vn={}))[Hn.Auto=1]="Auto",Hn[Hn.Hidden=2]="Hidden",Hn[Hn.Visible=3]="Visible",(Un=zn||(zn={}))[Un.LTR=0]="LTR",Un[Un.RTL=1]="RTL",(qn=Kn||(Kn={}))[qn.Invoke=1]="Invoke",qn[qn.TriggerCharacter=2]="TriggerCharacter",qn[qn.ContentChange=3]="ContentChange",(jn=$n||($n={}))[jn.File=0]="File",jn[jn.Module=1]="Module",jn[jn.Namespace=2]="Namespace",jn[jn.Package=3]="Package",jn[jn.Class=4]="Class",jn[jn.Method=5]="Method",jn[jn.Property=6]="Property",jn[jn.Field=7]="Field",jn[jn.Constructor=8]="Constructor",jn[jn.Enum=9]="Enum",jn[jn.Interface=10]="Interface",jn[jn.Function=11]="Function",jn[jn.Variable=12]="Variable",jn[jn.Constant=13]="Constant",jn[jn.String=14]="String",jn[jn.Number=15]="Number",jn[jn.Boolean=16]="Boolean",jn[jn.Array=17]="Array",jn[jn.Object=18]="Object",jn[jn.Key=19]="Key",jn[jn.Null=20]="Null",jn[jn.EnumMember=21]="EnumMember",jn[jn.Struct=22]="Struct",jn[jn.Event=23]="Event",jn[jn.Operator=24]="Operator",jn[jn.TypeParameter=25]="TypeParameter",(Zn=Gn||(Gn={}))[Zn.Deprecated=1]="Deprecated",(Jn=Yn||(Yn={}))[Jn.Hidden=0]="Hidden",Jn[Jn.Blink=1]="Blink",Jn[Jn.Smooth=2]="Smooth",Jn[Jn.Phase=3]="Phase",Jn[Jn.Expand=4]="Expand",Jn[Jn.Solid=5]="Solid",function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(Qn||(Qn={})),(eo=Xn||(Xn={}))[eo.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",eo[eo.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",eo[eo.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",eo[eo.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(io=to||(to={}))[io.None=0]="None",io[io.Same=1]="Same",io[io.Indent=2]="Indent",io[io.DeepIndent=3]="DeepIndent";class no{static chord(e,t){return Jt(e,t)}}function oo(){return{editor:void 0,languages:void 0,CancellationTokenSource:Kt,Emitter:Pt,KeyCode:wn,KeyMod:no,Position:Bi,Range:Vi,Selection:Hi,SelectionDirection:zn,MarkerSeverity:yn,MarkerTag:kn,Uri:Di,Token:zi}}no.CtrlCmd=2048,no.Shift=1024,no.Alt=512,no.WinCtrl=256;var so,ro;(ro=so||(so={})).serviceIds=new Map,ro.DI_TARGET="$di$target",ro.DI_DEPENDENCIES="$di$dependencies",ro.getServiceDependencies=function(e){return e[ro.DI_DEPENDENCIES]||[]};const ao=co("instantiationService");function lo(e,t,i,n){t[so.DI_TARGET]===t?t[so.DI_DEPENDENCIES].push({id:e,index:i,optional:n}):(t[so.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}],t[so.DI_TARGET]=t)}function co(e){if(so.serviceIds.has(e))return so.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");lo(t,e,n,!1)};return t.toString=()=>e,so.serviceIds.set(e,t),t}function ho(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");lo(e,t,n,!0)}}const uo=co("codeEditorService");class go{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new Pt,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function mo(){return go.INSTANCE.getZoomLevel()}function po(e){return go.INSTANCE.onDidChangeZoomLevel(e)}go.INSTANCE=new go;const fo=navigator.userAgent,bo=fo.indexOf("Edge/")>=0,_o=fo.indexOf("Firefox")>=0,vo=fo.indexOf("AppleWebKit")>=0,wo=fo.indexOf("Chrome")>=0,Co=!wo&&fo.indexOf("Safari")>=0,yo=!wo&&!Co&&vo,So=fo.indexOf("iPad")>=0||Co&&navigator.maxTouchPoints>0,ko=bo&&fo.indexOf("WebView/")>=0,xo=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,Lo=(e,t,i)=>{const n=e=>o.fire(e),o=new Pt({onFirstListenerAdd:()=>{e.addEventListener(t,n,i)},onLastListenerRemove:()=>{e.removeEventListener(t,n,i)}});return o.event};function Eo(e){return St.map(e,(e=>(e.preventDefault(),e.stopPropagation(),e)))}let Do=new Array(230),No=new Array(112);!function(){for(let t=0;t<No.length;t++)No[t]=-1;function e(e,t){Do[e]=t,No[t]=e}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),_o?(e(59,80),e(107,81),e(109,83),xe&&e(224,57)):vo&&(e(91,57),e(xe?93:92,57))}();const To=xe?256:2048,Io=xe?2048:256;class Mo{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return Zt.fromString(t)}return Do[e.keyCode]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=To),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=Io),t|=e,t}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new ei(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let Ro,Ao=!1,Oo=null;function Po(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&(t.protocol!==i.protocol||t.hostname!==i.hostname||t.port!==i.port))return Ao=!0,null}catch(le){return Ao=!0,null}return e.parent}class Fo{static getSameOriginWindowChain(){if(!Oo){Oo=[];let e,t=window;do{e=Po(t),e?Oo.push({window:t,iframeElement:t.frameElement||null}):Oo.push({window:t,iframeElement:null}),t=e}while(t)}return Oo.slice(0)}static hasDifferentOriginAncestor(){return Oo||this.getSameOriginWindowChain(),Ao}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,o=this.getSameOriginWindowChain();for(const s of o){if(i+=s.window.scrollY,n+=s.window.scrollX,s.window===t)break;if(!s.iframeElement)break;let e=s.iframeElement.getBoundingClientRect();i+=e.top,n+=e.left}return{top:i,left:n}}}class Wo{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=Fo.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Bo{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaY=_o&&!xe?-e.deltaY/3:-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)this.deltaX=Co&&ke?-t.wheelDeltaX/120:t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?this.deltaX=_o&&!xe?-e.deltaX/3:-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}function Vo(e){const t=new Kt,i=e(t.token),n=new Promise(((e,n)=>{t.token.onCancellationRequested((()=>{n(wt())})),Promise.resolve(i).then((i=>{t.dispose(),e(i)}),(e=>{t.dispose(),n(e)}))}));return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}function Ho(e,t,i){return Promise.race([e,new Promise((e=>t.onCancellationRequested((()=>e(i)))))])}class zo{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(((e,t)=>{this.doResolve=e,this.doReject=t})).then((()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}}))),this.timeout=setTimeout((()=>{this.timeout=null,this.doResolve&&this.doResolve(null)}),t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(wt()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}function Uo(e,t){return t?new Promise(((i,n)=>{const o=setTimeout(i,e);t.onCancellationRequested((()=>{clearTimeout(o),n(wt())}))})):Vo((t=>Uo(e,t)))}function Ko(e,t=0){const i=setTimeout(e,t);return Nt((()=>clearTimeout(i)))}function qo(e,t=(e=>!!e),i=null){let n=0;const o=e.length,s=()=>{if(n>=o)return Promise.resolve(i);const r=e[n++];return Promise.resolve(r()).then((e=>t(e)?Promise.resolve(e):s()))};return s()}class $o{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout((()=>{this._token=-1,e()}),t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout((()=>{this._token=-1,e()}),t))}}class jo{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval((()=>{e()}),t)}}class Go{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const e=Object.freeze({didTimeout:!0,timeRemaining:()=>15});Ro=t=>{const i=setTimeout((()=>t(e)));let n=!1;return{dispose(){n||(n=!0,clearTimeout(i))}}}}else Ro=(e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}}}();class Zo{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=Ro((()=>this._executor()))}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}function Yo(e,t=0){return e[e.length-(1+t)]}function Jo(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function Qo(e,t,i){let n=0,o=e.length-1;for(;n<=o;){const s=(n+o)/2|0,r=i(e[s],t);if(r<0)n=s+1;else{if(!(r>0))return s;o=s-1}}return-(n+1)}function Xo(e,t){let i=0,n=e.length;if(0===n)return 0;for(;i<n;){const o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function es(e,t){return ts(e,t,0,e.length-1,[]),e}function ts(e,t,i,n,o){if(n<=i)return;const s=i+(n-i)/2|0;ts(e,t,i,s,o),ts(e,t,s+1,n,o),t(e[s],e[s+1])<=0||function(e,t,i,n,o,s){let r=i,a=n+1;for(let l=i;l<=o;l++)s[l]=e[l];for(let l=i;l<=o;l++)r>n?e[l]=s[a++]:a>o?e[l]=s[r++]:t(s[a],s[r])<0?e[l]=s[a++]:e[l]=s[r++]}(e,t,i,s,n,o)}function is(e,t){const i=[];let n;for(const o of es(e.slice(0),t))n&&0===t(n[0],o)?n.push(o):(n=[o],i.push(n));return i}function ns(e){return e.filter((e=>!!e))}function os(e){return!Array.isArray(e)||0===e.length}function ss(e){return Array.isArray(e)&&e.length>0}function rs(e,t){if(!t)return e.filter(((t,i)=>e.indexOf(t)===i));const i=Object.create(null);return e.filter((e=>{const n=t(e);return!i[n]&&(i[n]=!0,!0)}))}function as(e){const t=new Set;return e.filter((e=>!t.has(e)&&(t.add(e),!0)))}function ls(e,t){for(let i=0;i<e.length;i++){if(t(e[i]))return i}return-1}function ds(e,t,i){const n=ls(e,t);return n<0?i:e[n]}function cs(e,t){return e.length>0?e[0]:t}function hs(e){return[].concat(...e)}function us(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let o=i;o<t;o++)n.push(o);else for(let o=i;o>t;o--)n.push(o);return n}function gs(e,t,i){const n=e.slice(0,t),o=e.slice(t);return n.concat(i,o)}function ms(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.unshift(t))}function ps(e,t){const i=e.indexOf(t);i>-1&&(e.splice(i,1),e.push(t))}function fs(e){return Array.isArray(e)?e:[e]}var bs,_s;(_s=bs||(bs={})).inMemory="inmemory",_s.vscode="vscode",_s.internal="private",_s.walkThrough="walkThrough",_s.walkThroughSnippet="walkThroughSnippet",_s.http="http",_s.https="https",_s.file="file",_s.mailto="mailto",_s.untitled="untitled",_s.data="data",_s.command="command",_s.vscodeRemote="vscode-remote",_s.vscodeRemoteResource="vscode-remote-resource",_s.userData="vscode-userdata",_s.vscodeCustomEditor="vscode-custom-editor",_s.vscodeNotebook="vscode-notebook",_s.vscodeNotebookCell="vscode-notebook-cell",_s.vscodeSettings="vscode-settings",_s.webviewPanel="webview-panel",_s.vscodeWebview="vscode-webview",_s.vscodeWebviewResource="vscode-webview-resource",_s.extension="extension";const vs=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return"string"==typeof o&&(s+=`&tkn=${encodeURIComponent(o)}`),Di.from({scheme:De?this._preferredWebSchema:bs.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:s})}},ws={clipboard:{writeText:Ee||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:Ee||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:(()=>{if(bo){let e=navigator.userAgent.indexOf("Edge/"),t=parseInt(navigator.userAgent.substring(e+5,navigator.userAgent.indexOf(".",e)),10);if(!t||t>=12&&t<=16)return!1}return!0})()},keyboard:Ee||xo?0:navigator.keyboard||Co?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)};function Cs(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ys(e){e.parentNode&&e.parentNode.removeChild(e)}function Ss(e){for(;e;){if(e===document.body)return!0;e=e.parentNode||e.host}return!1}const ks=new class{hasClass(e,t){return Boolean(t)&&e.classList&&e.classList.contains(t)}addClasses(e,...t){t.forEach((t=>t.split(" ").forEach((t=>this.addClass(e,t)))))}addClass(e,t){t&&e.classList&&e.classList.add(t)}removeClass(e,t){t&&e.classList&&e.classList.remove(t)}removeClasses(e,...t){t.forEach((t=>t.split(" ").forEach((t=>this.removeClass(e,t)))))}toggleClass(e,t,i){e.classList&&e.classList.toggle(t,i)}},xs=ks.hasClass.bind(ks),Ls=ks.addClass.bind(ks),Es=ks.addClasses.bind(ks),Ds=ks.removeClass.bind(ks),Ns=ks.removeClasses.bind(ks),Ts=ks.toggleClass.bind(ks);class Is{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function Ms(e,t,i,n){return new Is(e,t,i,n)}function Rs(e){return function(t){return e(new Wo(t))}}let As=function(e,t,i,n){let o=i;return"click"===t||"mousedown"===t?o=Rs(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=function(e){return function(t){return e(new Mo(t))}}(i)),Ms(e,t,o,n)};function Os(e,t,i){return Ms(e,Ne&&ws.pointerEvents?pr.POINTER_DOWN:pr.MOUSE_DOWN,t,i)}function Ps(e,t,i){return Ms(e,Ne&&ws.pointerEvents?pr.POINTER_UP:pr.MOUSE_UP,t,i)}function Fs(e,t){return Ms(e,"mouseout",(i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)}))}let Ws,Bs,Vs=null;class Hs{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(le){ft(le)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,o=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;){t.sort(Hs.sort),t.shift().execute()}n=!1};Bs=(t,n=0)=>{let s=new Hs(t,n);return e.push(s),i||(i=!0,function(e){if(!Vs){const e=e=>setTimeout((()=>e((new Date).getTime())),0);Vs=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}Vs.call(self,e)}(o)),s},Ws=(e,i)=>{if(n){let n=new Hs(e,i);return t.push(n),n}return Bs(e,i)}}();const zs=function(e,t){return t};class Us extends It{constructor(e,t,i,n=zs,o=16){super();let s=null,r=0,a=this._register(new $o),l=()=>{r=(new Date).getTime(),i(s),s=null};this._register(Ms(e,t,(e=>{s=n(s,e);let t=(new Date).getTime()-r;t>=o?(a.cancel(),l()):a.setIfNotSet(l,o-t)})))}}function Ks(e,t,i,n,o){return new Us(e,t,i,n,o)}function qs(e){return document.defaultView.getComputedStyle(e,null)}function $s(e){if(e!==document.body)return new Gs(e.clientWidth,e.clientHeight);if(Ne&&window.visualViewport){const e=window.visualViewport.width,t=window.visualViewport.height-(xo?24:0);return new Gs(e,t)}if(window.innerWidth&&window.innerHeight)return new Gs(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Gs(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Gs(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class js{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=qs(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),js.convertToPixels(e,o)}static getBorderLeftWidth(e){return js.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return js.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return js.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return js.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return js.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return js.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return js.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return js.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return js.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return js.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return js.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return js.getDimension(e,"margin-bottom","marginBottom")}}class Gs{constructor(e,t){this.width=e,this.height=t}}function Zs(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const o=sr(e)?null:qs(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=js.getBorderLeftWidth(e),i+=js.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function Ys(e){let t=e.getBoundingClientRect();return{left:t.left+Js.scrollX,top:t.top+Js.scrollY,width:t.width,height:t.height}}const Js=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Qs(e){let t=js.getMarginLeft(e)+js.getMarginRight(e);return e.offsetWidth+t}function Xs(e){let t=js.getBorderLeftWidth(e)+js.getBorderRightWidth(e),i=js.getPaddingLeft(e)+js.getPaddingRight(e);return e.offsetWidth-t-i}function er(e){let t=js.getBorderTopWidth(e)+js.getBorderBottomWidth(e),i=js.getPaddingTop(e)+js.getPaddingBottom(e);return e.offsetHeight-t-i}function tr(e){let t=js.getMarginTop(e)+js.getMarginBottom(e);return e.offsetHeight+t}function ir(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function nr(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(xs(e,t))return e;if(i)if("string"==typeof i){if(xs(e,i))return null}else if(e===i)return null;e=e.parentNode}return null}function or(e,t,i){return!!nr(e,t,i)}function sr(e){return e&&!!e.host&&!!e.mode}function rr(e){return!!ar(e)}function ar(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return sr(e)?e:null}function lr(){let e=document.activeElement;for(;null==e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function dr(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let cr=null;function hr(){return cr||(cr=dr()),cr}function ur(e,t,i=hr()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function gr(e,t=hr()){if(!t)return;let i=function(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}(t),n=[];for(let o=0;o<i.length;o++){-1!==i[o].selectorText.indexOf(e)&&n.push(o)}for(let o=n.length-1;o>=0;o--)t.sheet.deleteRule(n[o])}function mr(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const pr={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:bo?"mousewheel":"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:vo?"webkitAnimationStart":"animationstart",ANIMATION_END:vo?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:vo?"webkitAnimationIteration":"animationiteration"},fr=function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};class br extends It{constructor(e){super(),this._onDidFocus=this._register(new Pt),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new Pt),this.onDidBlur=this._onDidBlur.event;let t=ir(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout((()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{ir(document.activeElement,e)!==t&&(t?o():n())},this._register(Lo(e,pr.FOCUS,!0)(n)),this._register(Lo(e,pr.BLUR,!0)(o))}}function _r(e){return new br(e)}function vr(e,...t){return t.forEach((t=>e.appendChild(t))),t[t.length-1]}const wr=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;function Cr(e,...t){e.innerText="",ns(t).forEach((t=>{t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(t))}))}var yr,Sr;function kr(e,t,i,...n){let o=wr.exec(t);if(!o)throw new Error("Bad use of emmet");i=Object.assign({},i||{});let s,r=o[1]||"div";return s=e!==yr.HTML?document.createElementNS(e,r):document.createElement(r),o[3]&&(s.id=o[3]),o[4]&&(s.className=o[4].replace(/\./g," ").trim()),Object.keys(i).forEach((e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?s[e]=t:"selected"===e?t&&s.setAttribute(e,"true"):s.setAttribute(e,t))})),ns(n).forEach((e=>{e instanceof Node?s.appendChild(e):s.appendChild(document.createTextNode(e))})),s}function xr(e,t,...i){return kr(yr.HTML,e,t,...i)}function Lr(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function Er(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function Dr(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){let t=function(e,t){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function Nr(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function Tr(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function Ir(e){if(Ee||ko)window.open(e);else{let t=window.open();t&&(t.opener=null,t.location.href=e)}}function Mr(e){return e&&bs.vscodeRemote===e.scheme?vs.rewrite(e):e}function Rr(e){return e?`url('${Mr(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Ar(e){return!e||"string"!=typeof e||0===e.trim().length}(Sr=yr||(yr={})).HTML="http://www.w3.org/1999/xhtml",Sr.SVG="http://www.w3.org/2000/svg",xr.SVG=function(e,t,...i){return kr(yr.SVG,e,t,...i)},vs.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");const Or=/{(\d+)}/g;function Pr(e,...t){return 0===t.length?e:e.replace(Or,(function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]}))}function Fr(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function Wr(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Br(e,t=" "){return Hr(Vr(e,t),t)}function Vr(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function Hr(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let o=n,s=-1;for(;s=e.lastIndexOf(t,o-1),-1!==s&&s+i===o;){if(0===s)return"";o=s}return e.substring(0,o)}function zr(e,t){if(e.length<t.length)return!1;if(e===t)return!0;for(let i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0}function Ur(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=Wr(e)),i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";return i.global&&(n+="g"),i.matchCase||(n+="i"),i.multiline&&(n+="m"),i.unicode&&(n+="u"),new RegExp(e,n)}function Kr(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function qr(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function $r(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)}function jr(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1}function Gr(e,t){return e<t?-1:e>t?1:0}function Zr(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){let n=e.charCodeAt(i),s=t.charCodeAt(o);if(n<s)return-1;if(n>s)return 1}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function Yr(e,t,i=0,n=e.length,o=0,s=t.length){for(;i<n&&o<s;i++,o++){let r=e.charCodeAt(i),a=t.charCodeAt(o);if(r===a)continue;const l=r-a;if((32!==l||!Qr(a))&&(-32!==l||!Qr(r)))return Jr(r)&&Jr(a)?l:Zr(e.toLowerCase(),t.toLowerCase(),i,n,o,s)}const r=n-i,a=s-o;return r<a?-1:r>a?1:0}function Jr(e){return e>=97&&e<=122}function Qr(e){return e>=65&&e<=90}function Xr(e){return Jr(e)||Qr(e)}function ea(e,t){return e.length===t.length&&ta(e,t)}function ta(e,t,i=e.length){for(let n=0;n<i;n++){const i=e.charCodeAt(n),o=t.charCodeAt(n);if(i!==o)if(Xr(i)&&Xr(o)){const e=Math.abs(i-o);if(0!==e&&32!==e)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}return!0}function ia(e,t){const i=t.length;return!(t.length>e.length)&&ta(e,t,i)}function na(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function oa(e,t){let i,n=Math.min(e.length,t.length);const o=e.length-1,s=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(s-i))return i;return n}function sa(e){return 55296<=e&&e<=56319}function ra(e){return 56320<=e&&e<=57343}function aa(e,t){return t-56320+(e-55296<<10)+65536}function la(e,t,i){const n=e.charCodeAt(i);if(sa(n)&&i+1<t){const t=e.charCodeAt(i+1);if(ra(t))return aa(n,t)}return n}function da(e,t){const i=e.charCodeAt(t-1);if(ra(i)&&t>1){const n=e.charCodeAt(t-2);if(sa(n))return aa(n,i)}return i}function ca(e,t){const i=xa.getInstance(),n=t,o=e.length,s=la(e,o,t);t+=s>=65536?2:1;let r=i.getGraphemeBreakType(s);for(;t<o;){const n=la(e,o,t),s=i.getGraphemeBreakType(n);if(ka(r,s))break;t+=n>=65536?2:1,r=s}return t-n}const ha=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ua(e){return ha.test(e)}const ga=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;const ma=/^[\t\n\r\x20-\x7E]*$/;function pa(e){return ma.test(e)}const fa=/[\u2028\u2029]/;function ba(e){return fa.test(e)}function _a(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function va(e){return e>=127462&&e<=127487||e>=9728&&e<=10175||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129651||e>=129656&&e<=129666||e>=129680&&e<=129685}const wa=String.fromCharCode(65279);function Ca(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function ya(e){return(e%=52)<26?String.fromCharCode(97+e):String.fromCharCode(65+e-26)}function Sa(e){return xa.getInstance().getGraphemeBreakType(e)}function ka(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}class xa{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return xa._INSTANCE||(xa._INSTANCE=new xa),xa._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}xa._INSTANCE=null;const La="undefined"!=typeof Buffer,Ea="undefined"!=typeof TextDecoder;let Da;function Na(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}function Ta(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t}function Ia(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]}function Ma(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t}function Ra(e,t){return e[t]}function Aa(e,t,i){e[i]=t}function Oa(e){let t=JSON.parse(e);return t=Pa(t),t}function Pa(e,t=0){if(!e||t>200)return e;if("object"==typeof e){switch(e.$mid){case 1:return Di.revive(e);case 2:return new RegExp(e.source,e.flags)}if(e instanceof class{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return La?this.buffer.toString():Ea?(Da||(Da=new TextDecoder),Da.decode(this.buffer)):function(e){const t=e.byteLength,i=[];let n=0;for(;n<t;){const o=e[n];let s;if(s=o>=240&&n+3<t?(7&e[n++])<<18>>>0|(63&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:o>=224&&n+2<t?(15&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:o>=192&&n+1<t?(31&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:e[n++],s>=0&&s<=55295||s>=57344&&s<=65535)i.push(String.fromCharCode(s));else if(s>=65536&&s<=1114111){const e=s-65536,t=55296+((1047552&e)>>>10),n=56320+((1023&e)>>>0);i.push(String.fromCharCode(t)),i.push(String.fromCharCode(n))}else i.push(String.fromCharCode(65533))}return i.join("")}(this.buffer)}}||e instanceof Uint8Array)return e;if(Array.isArray(e))for(let i=0;i<e.length;++i)e[i]=Pa(e[i],t+1);else for(const i in e)Object.hasOwnProperty.call(e,i)&&(e[i]=Pa(e[i],t+1))}return e}function Fa(e){return e.replace(/[\\/]/g,pi.sep)}function Wa(e){return Ai(e,!0)}const Ba=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Gr(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return Di.joinPath(e,...t)}basenameOrAuthority(e){return za(e)||e.authority}basename(e){return pi.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===bs.file?t=Di.file(vi(Wa(e))).path:(t=pi.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===bs.file?Di.file(fi(Wa(e))).path:pi.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!Ga(e.authority,t.authority))return;if(e.scheme===bs.file){const i=_i(Wa(e),Wa(t));return ke?Fa(i):i}let i=e.path||"/",n=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(i.length,n.length);e<t&&(i.charCodeAt(e)===n.charCodeAt(e)||i.charAt(e).toLowerCase()===n.charAt(e).toLowerCase());e++);i=n.substr(0,e)+i.substr(e)}return pi.relative(i,n)}resolvePath(e,t){if(e.scheme===bs.file){const i=Di.file(bi(Wa(e),t));return e.with({authority:i.authority,path:i.path})}return-1===t.indexOf("/")&&(t=Fa(t),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t)),e.with({path:pi.resolve(e.path,t)})}isEqualAuthority(e,t){return e===t||ea(e,t)}}((()=>!1)),Va=Ba.isEqual.bind(Ba),Ha=Ba.basenameOrAuthority.bind(Ba),za=Ba.basename.bind(Ba),Ua=Ba.dirname.bind(Ba),Ka=Ba.joinPath.bind(Ba),qa=Ba.normalizePath.bind(Ba),$a=Ba.relativePath.bind(Ba),ja=Ba.resolvePath.bind(Ba),Ga=Ba.isEqualAuthority.bind(Ba);var Za,Ya;function Ja(e){return Array.isArray(e)}function Qa(e){return"string"==typeof e}function Xa(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function el(e){return"number"==typeof e&&!isNaN(e)}function tl(e){return!0===e||!1===e}function il(e){return void 0===e}function nl(e){return il(e)||null===e}function ol(e,t){if(!e)throw new Error(t?`Unexpected type, expected '${t}'`:"Unexpected type")}function sl(e){if(nl(e))throw new Error("Assertion Failed: argument is undefined or null");return e}function rl(e){return"function"==typeof e}function al(e,t){if(Qa(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(rl(t)){try{if(e instanceof t)return}catch(i){}if(!nl(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function ll(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function dl(e,t){const i=e=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let n={};for(const o of e)n[o]=i(o);return n}function cl(e){return null===e?void 0:e}(Ya=Za||(Za={})).META_DATA_LABEL="label",Ya.META_DATA_DESCRIPTION="description",Ya.META_DATA_SIZE="size",Ya.META_DATA_MIME="mime",Ya.parseMetaData=function(e){const t=new Map;e.path.substring(e.path.indexOf(";")+1,e.path.lastIndexOf(";")).split(";").forEach((e=>{const[i,n]=e.split(":");i&&n&&t.set(i,n)}));const i=e.path.substring(0,e.path.indexOf(";"));return i&&t.set(Ya.META_DATA_MIME,i),t};const hl=co("commandService"),ul=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new Pt,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let n of e.description.args)t.push(n.constraint);const i=e.handler;e.handler=function(e,...n){return function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)al(e[n],t[n])}(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new Ot,this._commands.set(i,n));let o=n.unshift(e),s=Nt((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),s}registerCommandAlias(e,t){return ul.registerCommand(e,((e,...i)=>e.get(hl).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return yt.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};var gl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const ml=co("openerService"),pl=Object.freeze({_serviceBrand:void 0,registerOpener:()=>It.None,registerValidator:()=>It.None,registerExternalUriResolver:()=>It.None,setExternalOpener(){},open(){return gl(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return gl(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});function fl(e,t){return Di.isUri(e)?ea(e.scheme,t):ia(e,t+":")}var bl,_l;(_l=bl||(bl={}))[_l.API=0]="API",_l[_l.USER=1]="USER";var vl=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},wl=function(e,t){return function(i,n){t(i,n,e)}},Cl=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let yl=class{constructor(e){this._commandService=e}open(e){return Cl(this,void 0,void 0,(function*(){if(!fl(e,bs.command))return!1;"string"==typeof e&&(e=Di.parse(e));let t=[];try{t=Oa(decodeURIComponent(e.query))}catch(i){try{t=Oa(e.query)}catch(n){}}return Array.isArray(t)||(t=[t]),yield this._commandService.executeCommand(e.path,...t),!0}))}};yl=vl([wl(0,hl)],yl);let Sl=class{constructor(e){this._editorService=e}open(e,t){return Cl(this,void 0,void 0,(function*(){let i;"string"==typeof e&&(e=Di.parse(e));const n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===bs.file&&(e=qa(e)),yield this._editorService.openCodeEditor({resource:e,options:{selection:i,context:(null==t?void 0:t.fromUserGesture)?bl.USER:bl.API}},this._editorService.getFocusedCodeEditor(),null==t?void 0:t.openToSide),!0}))}};Sl=vl([wl(0,uo)],Sl);let kl=class{constructor(e,t){this._openers=new Ot,this._validators=new Ot,this._resolvers=new Ot,this._externalOpener={openExternal:e=>(fl(e,bs.http)||fl(e,bs.https)?Ir(e):window.location.href=e,Promise.resolve(!0))},this._openers.push({open:(e,t)=>Cl(this,void 0,void 0,(function*(){return!!((null==t?void 0:t.openExternal)||fl(e,bs.mailto)||fl(e,bs.http)||fl(e,bs.https))&&(yield this._doOpenExternal(e,t),!0)}))}),this._openers.push(new yl(t)),this._openers.push(new Sl(e))}open(e,t){return Cl(this,void 0,void 0,(function*(){for(const t of this._validators.toArray())if(!(yield t.shouldOpen(e)))return!1;for(const i of this._openers.toArray()){if(yield i.open(e,t))return!0}return!1}))}resolveExternalUri(e,t){return Cl(this,void 0,void 0,(function*(){for(const i of this._resolvers.toArray()){const n=yield i.resolveExternalUri(e,t);if(n)return n}return{resolved:e,dispose:()=>{}}}))}_doOpenExternal(e,t){return Cl(this,void 0,void 0,(function*(){const i="string"==typeof e?Di.parse(e):e,{resolved:n}=yield this.resolveExternalUri(i,t);return"string"==typeof e&&i.toString()===n.toString()?this._externalOpener.openExternal(e):this._externalOpener.openExternal(encodeURI(n.toString(!0)))}))}dispose(){this._validators.clear()}};function xl(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function Ll(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((i=>{e[i]&&"object"==typeof e[i]?t[i]=Ll(e[i]):t[i]=e[i]})),t}kl=vl([wl(0,uo),wl(1,hl)],kl);const El=Object.prototype.hasOwnProperty;function Dl(e,t){return Nl(e,t,new Set)}function Nl(e,t,i){if(nl(e))return e;const n=t(e);if(void 0!==n)return n;if(Ja(e)){const n=[];for(const o of e)n.push(Nl(o,t,i));return n}if(Xa(e)){if(i.has(e))throw new Error("Cannot clone recursive data-structure");i.add(e);const n={};for(let o in e)El.call(e,o)&&(n[o]=Nl(e[o],t,i));return i.delete(e),n}return e}function Tl(e,t,i=!0){return Xa(e)?(Xa(t)&&Object.keys(t).forEach((n=>{n in e?i&&(Xa(e[n])&&Xa(t[n])?Tl(e[n],t[n],i):e[n]=t[n]):e[n]=t[n]})),e):t}function Il(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!Il(e[i],t[i]))return!1}else{const o=[];for(n in e)o.push(n);o.sort();const s=[];for(n in t)s.push(n);if(s.sort(),!Il(o,s))return!1;for(i=0;i<o.length;i++)if(!Il(e[o[i]],t[o[i]]))return!1}return!0}function Ml(e,t,i){const n=t(e);return void 0===n?i:n}const Rl={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class Al extends It{constructor(e,t={}){super(),this._onDidUpdate=this._register(new Pt),this._editor=e,this._options=Tl(t,Rl,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose((()=>this.dispose()))),this._register(this._editor.onDidUpdateDiff((()=>this._onDiffUpdated()))),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition((e=>{this.ignoreSelectionChange||(this.nextIdx=-1)}))),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel((e=>{this.revealFirst=!0}))),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach((e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((e=>{this.ranges.push({rhs:!0,range:new Vi(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):this.ranges.push({rhs:!0,range:new Vi(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort(((e,t)=>e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0)),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,o=this.ranges.length;n<o&&!t;n++){let o=this.ranges[n].range;i.isBeforeOrEqual(o.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(xl(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealPositionInCenter(e,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const Ol=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Pt,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Pl=xe?1.5:1.35;class Fl{constructor(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const n=e.get(35),o=e.get(39),s=e.get(38),r=e.get(37),a=e.get(51),l=e.get(48);return Fl._create(n,o,s,r,a,l,t,i)}static _create(e,t,i,n,o,s,r,a){0===o?o=Math.round(Pl*i):o<8&&(o=8);const l=1+(a?0:.1*Ol.getZoomLevel());return new Fl({zoomLevel:r,fontFamily:e,fontWeight:t,fontSize:i*=l,fontFeatureSettings:n,lineHeight:o*=l,letterSpacing:s})}getId(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class Wl extends Fl{constructor(e,t){super(e),this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const Bl={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var Vl,Hl;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(Vl||(Vl={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(Hl||(Hl={}));class zl{constructor(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class Ul{constructor(e,t){this.range=e,this.matches=t}}class Kl{constructor(e,t,i,n,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class ql{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}class $l{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){return e.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class jl{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this}cmp(e){return this._caseSensitive?Zr(e,this._value,0,e.length,this._from,this._to):Yr(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Gl{constructor(){this._states=[],this._stateIdx=0}reset(e){if(this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path){const t=e.scheme===bs.file&&Le;this._pathIterator=new jl(!1,t),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)}return this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(1===this._states[this._stateIdx])return Gr(e,this._value.scheme);if(2===this._states[this._stateIdx])return Yr(e,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(e);if(4===this._states[this._stateIdx])return Gr(e,this._value.query);if(5===this._states[this._stateIdx])return Gr(e,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class Zl{}class Yl{constructor(e){this._iter=e}static forUris(){return new Yl(new Gl)}static forStrings(){return new Yl(new $l)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let n;for(this._root||(this._root=new Zl,this._root.segment=i.value()),n=this._root;;){const e=i.cmp(n.segment);if(e>0)n.left||(n.left=new Zl,n.left.segment=i.value()),n=n.left;else if(e<0)n.right||(n.right=new Zl,n.right.segment=i.value()),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new Zl,n.mid.segment=i.value()),n=n.mid}}const o=n.value;return n.value=t,n.key=e,o}get(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const e=t.cmp(i.segment);if(e>0)i=i.left;else if(e<0)i=i.right;else{if(!t.hasNext())break;t.next(),i=i.mid}}return i?i.value:void 0}findSubstr(e){const t=this._iter.reset(e);let i,n=this._root;for(;n;){const e=t.cmp(n.segment);if(e>0)n=n.left;else if(e<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i}forEach(e){this._forEach(this._root,e)}_forEach(e,t){e&&(this._forEach(e.left,t),e.value&&t(e.value,e.key),this._forEach(e.mid,t),this._forEach(e.right,t))}}class Jl{constructor(e,t){this[Symbol.toStringTag]="ResourceMap",e instanceof Jl?(this.map=new Map(e.map),this.toKey=null!=t?t:Jl.defaultToKey):(this.map=new Map,this.toKey=null!=e?e:Jl.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),t),this}get(e){return this.map.get(this.toKey(e))}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[i,n]of this.map)e(n,Di.parse(i),this)}values(){return this.map.values()}*keys(){for(let e of this.map.keys())yield Di.parse(e)}*entries(){for(let e of this.map.entries())yield[Di.parse(e[0]),e[1]]}*[Symbol.iterator](){for(let e of this.map)yield[Di.parse(e[0]),e[1]]}}Jl.defaultToKey=e=>e.toString();class Ql{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,i)=>{e.push([i,t])})),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class Xl extends Ql{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const ed=/\//g;function td(e){switch(e){case 0:return"";case 1:return"[^/\\\\]*?";default:return"(?:[/\\\\]|[^/\\\\]+[/\\\\]|[/\\\\][^/\\\\]+)*?"}}function id(e,t){if(!e)return[];const i=[];let n=!1,o=!1,s="";for(const r of e){switch(r){case t:if(!n&&!o){i.push(s),s="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":o=!0;break;case"]":o=!1}s+=r}return s&&i.push(s),i}function nd(e){if(!e)return"";let t="";const i=id(e,"/");if(i.every((e=>"**"===e)))t=".*";else{let e=!1;i.forEach(((n,o)=>{if("**"===n)return void(e||(t+=td(2),e=!0));let s=!1,r="",a=!1,l="";for(const e of n)if("}"!==e&&s)r+=e;else if(!a||"]"===e&&l)switch(e){case"{":s=!0;continue;case"[":a=!0;continue;case"}":const i=`(?:${id(r,",").map((e=>nd(e))).join("|")})`;t+=i,s=!1,r="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+="[^/\\\\]";continue;case"*":t+=td(1);continue;default:t+=Wr(e)}else{let t;t="-"===e?e:"^"!==e&&"!"!==e||l?"/"===e?"":Wr(e):"^",l+=t}o<i.length-1&&("**"!==i[o+1]||o+2<i.length)&&(t+="[/\\\\]"),e=!1}))}return t}const od=/^\*\*\/\*\.[\w\.-]+$/,sd=/^\*\*\/([\w\.-]+)\/?$/,rd=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,ad=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,ld=/^\*\*((\/[\w\.-]+)+)\/?$/,dd=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,cd=new Xl(1e4),hd=function(){return!1},ud=function(){return null};function gd(e,t){if(!e)return ud;let i;i="string"!=typeof e?e.pattern:e,i=i.trim();const n=`${i}_${!!t.trimForExclusions}`;let o,s=cd.get(n);if(s)return md(s,e);if(od.test(i)){const e=i.substr(4);s=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else s=(o=sd.exec(pd(i,t)))?function(e,t){const i=`/${e}`,n=`\\${e}`,o=function(o,s){return"string"!=typeof o?null:s?s===e?t:null:o===e||o.endsWith(i)||o.endsWith(n)?t:null},s=[e];return o.basenames=s,o.patterns=[t],o.allBasenames=s,o}(o[1],i):(t.trimForExclusions?ad:rd).test(i)?function(e,t){const i=_d(e.slice(1,-1).split(",").map((e=>gd(e,t))).filter((e=>e!==ud)),e),n=i.length;if(!n)return ud;if(1===n)return i[0];const o=function(t,n){for(let o=0,s=i.length;o<s;o++)if(i[o](t,n))return e;return null},s=ds(i,(e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(i,t):(o=ld.exec(pd(i,t)))?fd(o[1].substr(1),i,!0):(o=dd.exec(pd(i,t)))?fd(o[1],i,!1):function(e){try{const t=new RegExp(`^${nd(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(t){return ud}}(i);return cd.set(n,s),md(s,e)}function md(e,t){return"string"==typeof t?e:function(i,n){return function(e,t,i,n=yi){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!ia(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}(i,t.base)?e(_i(t.base,i),n):null}}function pd(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function fd(e,t,i){const n=yi!==pi.sep?e.replace(ed,yi):e,o=yi+n,s=i?function(e,i){return"string"!=typeof e||e!==n&&!e.endsWith(o)?null:t}:function(e,i){return"string"==typeof e&&e===n?t:null};return s.allPaths=[(i?"*/":"./")+e],s}function bd(e,t,i){return!(!e||"string"!=typeof t)&&function(e,t={}){if(!e)return hd;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const i=gd(e,t);if(i===ud)return hd;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=_d(Object.getOwnPropertyNames(e).map((i=>function(e,t,i){if(!1===t)return ud;const n=gd(e,i);if(n===ud)return ud;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,s,r)=>{if(!r||!n(t,o))return null;const a=r(i.replace("$(basename)",s));return(l=a)&&"function"==typeof l.then?a.then((t=>t?e:null)):a?e:null;var l};return t.requiresSiblings=!0,t}}return n}(i,e[i],t))).filter((e=>e!==ud))),n=i.length;if(!n)return ud;if(!i.some((e=>!!e.requiresSiblings))){if(1===n)return i[0];const e=function(e,t){for(let n=0,o=i.length;n<o;n++){const o=i[n](e,t);if(o)return o}return null},t=ds(i,(e=>!!e.allBasenames));t&&(e.allBasenames=t.allBasenames);const o=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return o.length&&(e.allPaths=o),e}const o=function(e,t,n){let o;for(let s=0,r=i.length;s<r;s++){const r=i[s];r.requiresSiblings&&n&&(t||(t=wi(e)),o||(o=t.substr(0,t.length-Ci(e).length)));const a=r(e,t,o,n);if(a)return a}return null},s=ds(i,(e=>!!e.allBasenames));s&&(o.allBasenames=s.allBasenames);const r=i.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);r.length&&(o.allPaths=r);return o}(e,t)}(e)(t,void 0,i)}function _d(e,t){const i=e.filter((e=>!!e.basenames));if(i.length<2)return e;const n=i.reduce(((e,t)=>{const i=t.basenames;return i?e.concat(i):e}),[]);let o;if(t){o=[];for(let e=0,i=n.length;e<i;e++)o.push(t)}else o=i.reduce(((e,t)=>{const i=t.patterns;return i?e.concat(i):e}),[]);const s=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?o[i]:null};s.basenames=n,s.patterns=o,s.allBasenames=n;const r=e.filter((e=>!e.basenames));return r.push(s),r}function vd(e,t,i,n){if(Array.isArray(e)){let o=0;for(const s of e){const e=vd(s,t,i,n);if(10===e)return e;e>o&&(o=e)}return o}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:o,pattern:s,scheme:r,hasAccessToAllModels:a}=e;if(!n&&!a)return 0;let l=0;if(r)if(r===t.scheme)l=10;else{if("*"!==r)return 0;l=5}if(o)if(o===i)l=10;else{if("*"!==o)return 0;l=Math.max(l,5)}if(s){let e;if(e="string"==typeof s?s:Object.assign(Object.assign({},s),{base:fi(s.base)}),e!==t.fsPath&&!bd(e,t.fsPath))return 0;l=10}return l}return 0}const wd=co("modelService");function Cd(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function yd(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(yd):!!e.exclusive)}class Sd{constructor(){this._clock=0,this._entries=[],this._onDidChange=new Pt}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Nt((()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,(e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))})),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=vd(t.selector,e.uri,e.getLanguageIdentifier().language,Cd(e)),yd(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(Sd._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}function kd(...e){return function(t,i){for(let n=0,o=e.length;n<o;n++){const o=e[n](t,i);if(o)return o}return null}}const xd=function(e,t,i){if(!i||i.length<t.length)return null;let n;n=e?ia(i,t):0===i.indexOf(t);if(!n)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function Ld(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}function Ed(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){let o=null;return(o=Ed(e,t,i+1,n+1))?Od({start:n,end:n+1},o):null}return Ed(e,t,i,n+1)}function Dd(e){return 97<=e&&e<=122}function Nd(e){return 65<=e&&e<=90}function Td(e){return 48<=e&&e<=57}function Id(e){return 32===e||9===e||10===e||13===e}const Md=new Set;function Rd(e){return Id(e)||Md.has(e)}function Ad(e){return Dd(e)||Nd(e)||Td(e)}function Od(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function Pd(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(Nd(t)||Td(t)||i>0&&!Ad(e.charCodeAt(i-1)))return i}return e.length}function Fd(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let o=null,s=n+1;for(o=Fd(e,t,i+1,n+1);!o&&(s=Pd(t,s))<t.length;)o=Fd(e,t,i+1,s),s++;return null===o?null:Od({start:n,end:n+1},o)}}function Wd(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,o=0;for(let s=0;s<e.length;s++)n=e.charCodeAt(s),Nd(n)&&t++,Dd(n)&&i++,Id(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,o=0,s=0;for(let r=0;r<e.length;r++)s=e.charCodeAt(r),Nd(s)&&t++,Dd(s)&&i++,Ad(s)&&n++,Td(s)&&o++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:o/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:o}=e;return i>.2&&t<.8&&n>.6&&o<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,o=0;for(e=e.toLowerCase();o<t.length&&null===(n=Fd(e,t,0,o));)o=Pd(t,o+1);return n}function Bd(e,t,i,n,o){if(i===e.length)return[];if(n===t.length)return null;if(s=e.charCodeAt(i),r=t.charCodeAt(n),s===r||Rd(s)&&Rd(r)){let s=null,r=n+1;if(s=Bd(e,t,i+1,n+1,o),!o)for(;!s&&(r=Vd(t,r))<t.length;)s=Bd(e,t,i+1,r,o),r++;return null===s?null:Od({start:n,end:n+1},s)}return null;var s,r}function Vd(e,t){for(let i=t;i<e.length;i++)if(Rd(e.charCodeAt(i))||i>0&&Rd(e.charCodeAt(i-1)))return i;return e.length}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((e=>Md.add(e.charCodeAt(0))));const Hd=kd(xd,Wd,Ld),zd=kd(xd,Wd,(function(e,t){return Ed(e.toLowerCase(),t.toLowerCase(),0,0)})),Ud=new Xl(1e4);function Kd(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=Ud.get(e);n||(n=new RegExp(e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*"),"i"),Ud.set(e,n));const o=n.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:i?zd(e,t):Hd(e,t)}function qd(e,t,i,n,o,s){const r=ic(e,t,0,n,o,0,!0);if(r)return r;let a=0,l=0,d=s;for(let c=0;c<t.length&&c<jd;++c){const e=o.indexOf(t.charAt(c),d);if(e>=0)l+=1,a+=Math.pow(2,e),d=e+1;else if(0!==a)break}return[l,a,s]}function $d(e){if(void 0===e)return[];const t=e[1].toString(2),i=[];for(let n=e[2];n<jd;n++)if("1"===t[t.length-(n+1)]){const e=i[i.length-1];e&&e.end===n?e.end=n+1:i.push({start:n,end:n+1})}return i}const jd=128;function Gd(){const e=[],t=[0];for(let i=1;i<=jd;i++)t.push(-i);for(let i=0;i<=jd;i++){const n=t.slice(0);n[0]=-i,e.push(n)}return e}const Zd=Gd(),Yd=Gd(),Jd=Gd();function Qd(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function Xd(e,t,i){return t[e]!==i[e]}var ec,tc;function ic(e,t,i,n,o,s,r){const a=e.length>jd?jd:e.length,l=n.length>jd?jd:n.length;if(i>=a||s>=l||a-i>l-s)return;if(!function(e,t,i,n,o,s){for(;t<i&&o<s;)e[t]===n[o]&&(t+=1),o+=1;return t===i}(t,i,a,o,s,l))return;let d=1,c=1,h=i,u=s,g=!1;for(d=1,h=i;h<a;d++,h++)for(c=1,u=s;u<l;c++,u++){const s=nc(e,t,h,i,n,o,u);h===i&&s>1&&(g=!0),Yd[d][c]=s;const r=Zd[d-1][c-1]+(s>1?1:s),a=Zd[d-1][c]+-1,l=Zd[d][c-1]+-1;l>=a?l>r?(Zd[d][c]=l,Jd[d][c]=4):l===r?(Zd[d][c]=l,Jd[d][c]=6):(Zd[d][c]=r,Jd[d][c]=2):a>r?(Zd[d][c]=a,Jd[d][c]=1):a===r?(Zd[d][c]=a,Jd[d][c]=3):(Zd[d][c]=r,Jd[d][c]=2)}return(g||r)&&(oc=0,rc=-100,ac=s,lc=r,dc(d-1,c-1,a===l?1:0,0,!1),0!==oc)?[rc,sc,s]:void 0}function nc(e,t,i,n,o,s,r){return t[i]!==s[r]?-1:r===i-n?e[i]===o[r]?7:5:!Xd(r,o,s)||0!==r&&Xd(r-1,o,s)?!Qd(s,r)||0!==r&&Qd(s,r-1)?Qd(s,r-1)||function(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}(s,r-1)?5:1:5:e[i]===o[r]?7:5}(tc=ec||(ec={})).Default=Object.freeze([-100,0,0]),tc.isDefault=function(e){return!e||-100===e[0]&&0===e[1]&&0===e[2]};let oc=0,sc=0,rc=0,ac=0,lc=!1;function dc(e,t,i,n,o){if(oc>=10||i<-25)return;let s=0;for(;e>0&&t>0;){const r=Yd[e][t],a=Jd[e][t];if(4===a)t-=1,o?i-=5:0!==n&&(i-=1),o=!1,s=0;else{if(!(2&a))return;if(4&a&&dc(e,t-1,0!==n?i-1:i,n,o),i+=r,e-=1,t-=1,o=!0,n+=Math.pow(2,t+ac),1===r){if(s+=1,0===e&&!lc)return}else i+=1+s*(r-1),s=0}}oc+=1,(i-=t>=3?9:3*t)>rc&&(rc=i,sc=n)}function cc(e,t,i,n,o,s,r){return function(e,t,i,n,o,s,r,a){let l=ic(e,t,i,n,o,s,a);if(l&&!r)return l;if(e.length>=3){const t=Math.min(7,e.length-1);for(let r=i+1;r<t;r++){const t=hc(e,r);if(t){const e=ic(t,t.toLowerCase(),i,n,o,s,a);e&&(e[0]-=3,(!l||e[0]>l[0])&&(l=e))}}}return l}(e,t,i,n,o,s,!0,r)}function hc(e,t){if(t+1>=e.length)return;const i=e[t],n=e[t+1];return i!==n?e.slice(0,t)+n+i+e.slice(t+2):void 0}function uc(e){const t=e.indexOf("$(");return-1===t?{text:e}:function(e,t){const i=[];let n="";function o(e){if(e){n+=e;for(const t of e)i.push(d)}}let s,r,a=-1,l="",d=0,c=t;const h=e.length;o(e.substr(0,t));for(;c<h;){if(s=e[c],r=e[c+1],s==="$("[0]&&r==="$("[1])a=c,o(l),l="$(",c++;else if(")"===s&&-1!==a){d+=c-a+1,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(s)?l+=s:(o(l),a=-1,l=""):o(s);c++}return o(l),{text:n,codiconOffsets:i}}(e,t)}function gc(e,t,i=!1){const{text:n,codiconOffsets:o}=t;if(!o||0===o.length)return Kd(e,n,i);const s=Vr(n," "),r=n.length-s.length,a=Kd(e,s,i);if(a)for(const l of a){const e=o[l.start+r]+r;l.start+=e,l.end+=e}return a}const mc=new class{constructor(){this._icons=new Map,this._onDidRegister=new Pt}add(e){this._icons.has(e.id)?console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},pc=mc;function fc(e,t,i){return new bc(e,t)}class bc{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,mc.add(this)}get classNames(){return"codicon codicon-"+this.id}get cssSelector(){return".codicon.codicon-"+this.id}}var _c;(_c=bc||(bc={})).add=new _c("add",{character:"\\ea60"}),_c.plus=new _c("plus",{character:"\\ea60"}),_c.gistNew=new _c("gist-new",{character:"\\ea60"}),_c.repoCreate=new _c("repo-create",{character:"\\ea60"}),_c.lightbulb=new _c("lightbulb",{character:"\\ea61"}),_c.lightBulb=new _c("light-bulb",{character:"\\ea61"}),_c.repo=new _c("repo",{character:"\\ea62"}),_c.repoDelete=new _c("repo-delete",{character:"\\ea62"}),_c.gistFork=new _c("gist-fork",{character:"\\ea63"}),_c.repoForked=new _c("repo-forked",{character:"\\ea63"}),_c.gitPullRequest=new _c("git-pull-request",{character:"\\ea64"}),_c.gitPullRequestAbandoned=new _c("git-pull-request-abandoned",{character:"\\ea64"}),_c.recordKeys=new _c("record-keys",{character:"\\ea65"}),_c.keyboard=new _c("keyboard",{character:"\\ea65"}),_c.tag=new _c("tag",{character:"\\ea66"}),_c.tagAdd=new _c("tag-add",{character:"\\ea66"}),_c.tagRemove=new _c("tag-remove",{character:"\\ea66"}),_c.person=new _c("person",{character:"\\ea67"}),_c.personAdd=new _c("person-add",{character:"\\ea67"}),_c.personFollow=new _c("person-follow",{character:"\\ea67"}),_c.personOutline=new _c("person-outline",{character:"\\ea67"}),_c.personFilled=new _c("person-filled",{character:"\\ea67"}),_c.gitBranch=new _c("git-branch",{character:"\\ea68"}),_c.gitBranchCreate=new _c("git-branch-create",{character:"\\ea68"}),_c.gitBranchDelete=new _c("git-branch-delete",{character:"\\ea68"}),_c.sourceControl=new _c("source-control",{character:"\\ea68"}),_c.mirror=new _c("mirror",{character:"\\ea69"}),_c.mirrorPublic=new _c("mirror-public",{character:"\\ea69"}),_c.star=new _c("star",{character:"\\ea6a"}),_c.starAdd=new _c("star-add",{character:"\\ea6a"}),_c.starDelete=new _c("star-delete",{character:"\\ea6a"}),_c.starEmpty=new _c("star-empty",{character:"\\ea6a"}),_c.comment=new _c("comment",{character:"\\ea6b"}),_c.commentAdd=new _c("comment-add",{character:"\\ea6b"}),_c.alert=new _c("alert",{character:"\\ea6c"}),_c.warning=new _c("warning",{character:"\\ea6c"}),_c.search=new _c("search",{character:"\\ea6d"}),_c.searchSave=new _c("search-save",{character:"\\ea6d"}),_c.logOut=new _c("log-out",{character:"\\ea6e"}),_c.signOut=new _c("sign-out",{character:"\\ea6e"}),_c.logIn=new _c("log-in",{character:"\\ea6f"}),_c.signIn=new _c("sign-in",{character:"\\ea6f"}),_c.eye=new _c("eye",{character:"\\ea70"}),_c.eyeUnwatch=new _c("eye-unwatch",{character:"\\ea70"}),_c.eyeWatch=new _c("eye-watch",{character:"\\ea70"}),_c.circleFilled=new _c("circle-filled",{character:"\\ea71"}),_c.primitiveDot=new _c("primitive-dot",{character:"\\ea71"}),_c.closeDirty=new _c("close-dirty",{character:"\\ea71"}),_c.debugBreakpoint=new _c("debug-breakpoint",{character:"\\ea71"}),_c.debugBreakpointDisabled=new _c("debug-breakpoint-disabled",{character:"\\ea71"}),_c.debugHint=new _c("debug-hint",{character:"\\ea71"}),_c.primitiveSquare=new _c("primitive-square",{character:"\\ea72"}),_c.edit=new _c("edit",{character:"\\ea73"}),_c.pencil=new _c("pencil",{character:"\\ea73"}),_c.info=new _c("info",{character:"\\ea74"}),_c.issueOpened=new _c("issue-opened",{character:"\\ea74"}),_c.gistPrivate=new _c("gist-private",{character:"\\ea75"}),_c.gitForkPrivate=new _c("git-fork-private",{character:"\\ea75"}),_c.lock=new _c("lock",{character:"\\ea75"}),_c.mirrorPrivate=new _c("mirror-private",{character:"\\ea75"}),_c.close=new _c("close",{character:"\\ea76"}),_c.removeClose=new _c("remove-close",{character:"\\ea76"}),_c.x=new _c("x",{character:"\\ea76"}),_c.repoSync=new _c("repo-sync",{character:"\\ea77"}),_c.sync=new _c("sync",{character:"\\ea77"}),_c.clone=new _c("clone",{character:"\\ea78"}),_c.desktopDownload=new _c("desktop-download",{character:"\\ea78"}),_c.beaker=new _c("beaker",{character:"\\ea79"}),_c.microscope=new _c("microscope",{character:"\\ea79"}),_c.vm=new _c("vm",{character:"\\ea7a"}),_c.deviceDesktop=new _c("device-desktop",{character:"\\ea7a"}),_c.file=new _c("file",{character:"\\ea7b"}),_c.fileText=new _c("file-text",{character:"\\ea7b"}),_c.more=new _c("more",{character:"\\ea7c"}),_c.ellipsis=new _c("ellipsis",{character:"\\ea7c"}),_c.kebabHorizontal=new _c("kebab-horizontal",{character:"\\ea7c"}),_c.mailReply=new _c("mail-reply",{character:"\\ea7d"}),_c.reply=new _c("reply",{character:"\\ea7d"}),_c.organization=new _c("organization",{character:"\\ea7e"}),_c.organizationFilled=new _c("organization-filled",{character:"\\ea7e"}),_c.organizationOutline=new _c("organization-outline",{character:"\\ea7e"}),_c.newFile=new _c("new-file",{character:"\\ea7f"}),_c.fileAdd=new _c("file-add",{character:"\\ea7f"}),_c.newFolder=new _c("new-folder",{character:"\\ea80"}),_c.fileDirectoryCreate=new _c("file-directory-create",{character:"\\ea80"}),_c.trash=new _c("trash",{character:"\\ea81"}),_c.trashcan=new _c("trashcan",{character:"\\ea81"}),_c.history=new _c("history",{character:"\\ea82"}),_c.clock=new _c("clock",{character:"\\ea82"}),_c.folder=new _c("folder",{character:"\\ea83"}),_c.fileDirectory=new _c("file-directory",{character:"\\ea83"}),_c.symbolFolder=new _c("symbol-folder",{character:"\\ea83"}),_c.logoGithub=new _c("logo-github",{character:"\\ea84"}),_c.markGithub=new _c("mark-github",{character:"\\ea84"}),_c.github=new _c("github",{character:"\\ea84"}),_c.terminal=new _c("terminal",{character:"\\ea85"}),_c.console=new _c("console",{character:"\\ea85"}),_c.repl=new _c("repl",{character:"\\ea85"}),_c.zap=new _c("zap",{character:"\\ea86"}),_c.symbolEvent=new _c("symbol-event",{character:"\\ea86"}),_c.error=new _c("error",{character:"\\ea87"}),_c.stop=new _c("stop",{character:"\\ea87"}),_c.variable=new _c("variable",{character:"\\ea88"}),_c.symbolVariable=new _c("symbol-variable",{character:"\\ea88"}),_c.array=new _c("array",{character:"\\ea8a"}),_c.symbolArray=new _c("symbol-array",{character:"\\ea8a"}),_c.symbolModule=new _c("symbol-module",{character:"\\ea8b"}),_c.symbolPackage=new _c("symbol-package",{character:"\\ea8b"}),_c.symbolNamespace=new _c("symbol-namespace",{character:"\\ea8b"}),_c.symbolObject=new _c("symbol-object",{character:"\\ea8b"}),_c.symbolMethod=new _c("symbol-method",{character:"\\ea8c"}),_c.symbolFunction=new _c("symbol-function",{character:"\\ea8c"}),_c.symbolConstructor=new _c("symbol-constructor",{character:"\\ea8c"}),_c.symbolBoolean=new _c("symbol-boolean",{character:"\\ea8f"}),_c.symbolNull=new _c("symbol-null",{character:"\\ea8f"}),_c.symbolNumeric=new _c("symbol-numeric",{character:"\\ea90"}),_c.symbolNumber=new _c("symbol-number",{character:"\\ea90"}),_c.symbolStructure=new _c("symbol-structure",{character:"\\ea91"}),_c.symbolStruct=new _c("symbol-struct",{character:"\\ea91"}),_c.symbolParameter=new _c("symbol-parameter",{character:"\\ea92"}),_c.symbolTypeParameter=new _c("symbol-type-parameter",{character:"\\ea92"}),_c.symbolKey=new _c("symbol-key",{character:"\\ea93"}),_c.symbolText=new _c("symbol-text",{character:"\\ea93"}),_c.symbolReference=new _c("symbol-reference",{character:"\\ea94"}),_c.goToFile=new _c("go-to-file",{character:"\\ea94"}),_c.symbolEnum=new _c("symbol-enum",{character:"\\ea95"}),_c.symbolValue=new _c("symbol-value",{character:"\\ea95"}),_c.symbolRuler=new _c("symbol-ruler",{character:"\\ea96"}),_c.symbolUnit=new _c("symbol-unit",{character:"\\ea96"}),_c.activateBreakpoints=new _c("activate-breakpoints",{character:"\\ea97"}),_c.archive=new _c("archive",{character:"\\ea98"}),_c.arrowBoth=new _c("arrow-both",{character:"\\ea99"}),_c.arrowDown=new _c("arrow-down",{character:"\\ea9a"}),_c.arrowLeft=new _c("arrow-left",{character:"\\ea9b"}),_c.arrowRight=new _c("arrow-right",{character:"\\ea9c"}),_c.arrowSmallDown=new _c("arrow-small-down",{character:"\\ea9d"}),_c.arrowSmallLeft=new _c("arrow-small-left",{character:"\\ea9e"}),_c.arrowSmallRight=new _c("arrow-small-right",{character:"\\ea9f"}),_c.arrowSmallUp=new _c("arrow-small-up",{character:"\\eaa0"}),_c.arrowUp=new _c("arrow-up",{character:"\\eaa1"}),_c.bell=new _c("bell",{character:"\\eaa2"}),_c.bold=new _c("bold",{character:"\\eaa3"}),_c.book=new _c("book",{character:"\\eaa4"}),_c.bookmark=new _c("bookmark",{character:"\\eaa5"}),_c.debugBreakpointConditionalUnverified=new _c("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),_c.debugBreakpointConditional=new _c("debug-breakpoint-conditional",{character:"\\eaa7"}),_c.debugBreakpointConditionalDisabled=new _c("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),_c.debugBreakpointDataUnverified=new _c("debug-breakpoint-data-unverified",{character:"\\eaa8"}),_c.debugBreakpointData=new _c("debug-breakpoint-data",{character:"\\eaa9"}),_c.debugBreakpointDataDisabled=new _c("debug-breakpoint-data-disabled",{character:"\\eaa9"}),_c.debugBreakpointLogUnverified=new _c("debug-breakpoint-log-unverified",{character:"\\eaaa"}),_c.debugBreakpointLog=new _c("debug-breakpoint-log",{character:"\\eaab"}),_c.debugBreakpointLogDisabled=new _c("debug-breakpoint-log-disabled",{character:"\\eaab"}),_c.briefcase=new _c("briefcase",{character:"\\eaac"}),_c.broadcast=new _c("broadcast",{character:"\\eaad"}),_c.browser=new _c("browser",{character:"\\eaae"}),_c.bug=new _c("bug",{character:"\\eaaf"}),_c.calendar=new _c("calendar",{character:"\\eab0"}),_c.caseSensitive=new _c("case-sensitive",{character:"\\eab1"}),_c.check=new _c("check",{character:"\\eab2"}),_c.checklist=new _c("checklist",{character:"\\eab3"}),_c.chevronDown=new _c("chevron-down",{character:"\\eab4"}),_c.chevronLeft=new _c("chevron-left",{character:"\\eab5"}),_c.chevronRight=new _c("chevron-right",{character:"\\eab6"}),_c.chevronUp=new _c("chevron-up",{character:"\\eab7"}),_c.chromeClose=new _c("chrome-close",{character:"\\eab8"}),_c.chromeMaximize=new _c("chrome-maximize",{character:"\\eab9"}),_c.chromeMinimize=new _c("chrome-minimize",{character:"\\eaba"}),_c.chromeRestore=new _c("chrome-restore",{character:"\\eabb"}),_c.circleOutline=new _c("circle-outline",{character:"\\eabc"}),_c.debugBreakpointUnverified=new _c("debug-breakpoint-unverified",{character:"\\eabc"}),_c.circleSlash=new _c("circle-slash",{character:"\\eabd"}),_c.circuitBoard=new _c("circuit-board",{character:"\\eabe"}),_c.clearAll=new _c("clear-all",{character:"\\eabf"}),_c.clippy=new _c("clippy",{character:"\\eac0"}),_c.closeAll=new _c("close-all",{character:"\\eac1"}),_c.cloudDownload=new _c("cloud-download",{character:"\\eac2"}),_c.cloudUpload=new _c("cloud-upload",{character:"\\eac3"}),_c.code=new _c("code",{character:"\\eac4"}),_c.collapseAll=new _c("collapse-all",{character:"\\eac5"}),_c.colorMode=new _c("color-mode",{character:"\\eac6"}),_c.commentDiscussion=new _c("comment-discussion",{character:"\\eac7"}),_c.compareChanges=new _c("compare-changes",{character:"\\eafd"}),_c.creditCard=new _c("credit-card",{character:"\\eac9"}),_c.dash=new _c("dash",{character:"\\eacc"}),_c.dashboard=new _c("dashboard",{character:"\\eacd"}),_c.database=new _c("database",{character:"\\eace"}),_c.debugContinue=new _c("debug-continue",{character:"\\eacf"}),_c.debugDisconnect=new _c("debug-disconnect",{character:"\\ead0"}),_c.debugPause=new _c("debug-pause",{character:"\\ead1"}),_c.debugRestart=new _c("debug-restart",{character:"\\ead2"}),_c.debugStart=new _c("debug-start",{character:"\\ead3"}),_c.debugStepInto=new _c("debug-step-into",{character:"\\ead4"}),_c.debugStepOut=new _c("debug-step-out",{character:"\\ead5"}),_c.debugStepOver=new _c("debug-step-over",{character:"\\ead6"}),_c.debugStop=new _c("debug-stop",{character:"\\ead7"}),_c.debug=new _c("debug",{character:"\\ead8"}),_c.deviceCameraVideo=new _c("device-camera-video",{character:"\\ead9"}),_c.deviceCamera=new _c("device-camera",{character:"\\eada"}),_c.deviceMobile=new _c("device-mobile",{character:"\\eadb"}),_c.diffAdded=new _c("diff-added",{character:"\\eadc"}),_c.diffIgnored=new _c("diff-ignored",{character:"\\eadd"}),_c.diffModified=new _c("diff-modified",{character:"\\eade"}),_c.diffRemoved=new _c("diff-removed",{character:"\\eadf"}),_c.diffRenamed=new _c("diff-renamed",{character:"\\eae0"}),_c.diff=new _c("diff",{character:"\\eae1"}),_c.discard=new _c("discard",{character:"\\eae2"}),_c.editorLayout=new _c("editor-layout",{character:"\\eae3"}),_c.emptyWindow=new _c("empty-window",{character:"\\eae4"}),_c.exclude=new _c("exclude",{character:"\\eae5"}),_c.extensions=new _c("extensions",{character:"\\eae6"}),_c.eyeClosed=new _c("eye-closed",{character:"\\eae7"}),_c.fileBinary=new _c("file-binary",{character:"\\eae8"}),_c.fileCode=new _c("file-code",{character:"\\eae9"}),_c.fileMedia=new _c("file-media",{character:"\\eaea"}),_c.filePdf=new _c("file-pdf",{character:"\\eaeb"}),_c.fileSubmodule=new _c("file-submodule",{character:"\\eaec"}),_c.fileSymlinkDirectory=new _c("file-symlink-directory",{character:"\\eaed"}),_c.fileSymlinkFile=new _c("file-symlink-file",{character:"\\eaee"}),_c.fileZip=new _c("file-zip",{character:"\\eaef"}),_c.files=new _c("files",{character:"\\eaf0"}),_c.filter=new _c("filter",{character:"\\eaf1"}),_c.flame=new _c("flame",{character:"\\eaf2"}),_c.foldDown=new _c("fold-down",{character:"\\eaf3"}),_c.foldUp=new _c("fold-up",{character:"\\eaf4"}),_c.fold=new _c("fold",{character:"\\eaf5"}),_c.folderActive=new _c("folder-active",{character:"\\eaf6"}),_c.folderOpened=new _c("folder-opened",{character:"\\eaf7"}),_c.gear=new _c("gear",{character:"\\eaf8"}),_c.gift=new _c("gift",{character:"\\eaf9"}),_c.gistSecret=new _c("gist-secret",{character:"\\eafa"}),_c.gist=new _c("gist",{character:"\\eafb"}),_c.gitCommit=new _c("git-commit",{character:"\\eafc"}),_c.gitCompare=new _c("git-compare",{character:"\\eafd"}),_c.gitMerge=new _c("git-merge",{character:"\\eafe"}),_c.githubAction=new _c("github-action",{character:"\\eaff"}),_c.githubAlt=new _c("github-alt",{character:"\\eb00"}),_c.globe=new _c("globe",{character:"\\eb01"}),_c.grabber=new _c("grabber",{character:"\\eb02"}),_c.graph=new _c("graph",{character:"\\eb03"}),_c.gripper=new _c("gripper",{character:"\\eb04"}),_c.heart=new _c("heart",{character:"\\eb05"}),_c.home=new _c("home",{character:"\\eb06"}),_c.horizontalRule=new _c("horizontal-rule",{character:"\\eb07"}),_c.hubot=new _c("hubot",{character:"\\eb08"}),_c.inbox=new _c("inbox",{character:"\\eb09"}),_c.issueClosed=new _c("issue-closed",{character:"\\eb0a"}),_c.issueReopened=new _c("issue-reopened",{character:"\\eb0b"}),_c.issues=new _c("issues",{character:"\\eb0c"}),_c.italic=new _c("italic",{character:"\\eb0d"}),_c.jersey=new _c("jersey",{character:"\\eb0e"}),_c.json=new _c("json",{character:"\\eb0f"}),_c.kebabVertical=new _c("kebab-vertical",{character:"\\eb10"}),_c.key=new _c("key",{character:"\\eb11"}),_c.law=new _c("law",{character:"\\eb12"}),_c.lightbulbAutofix=new _c("lightbulb-autofix",{character:"\\eb13"}),_c.linkExternal=new _c("link-external",{character:"\\eb14"}),_c.link=new _c("link",{character:"\\eb15"}),_c.listOrdered=new _c("list-ordered",{character:"\\eb16"}),_c.listUnordered=new _c("list-unordered",{character:"\\eb17"}),_c.liveShare=new _c("live-share",{character:"\\eb18"}),_c.loading=new _c("loading",{character:"\\eb19"}),_c.location=new _c("location",{character:"\\eb1a"}),_c.mailRead=new _c("mail-read",{character:"\\eb1b"}),_c.mail=new _c("mail",{character:"\\eb1c"}),_c.markdown=new _c("markdown",{character:"\\eb1d"}),_c.megaphone=new _c("megaphone",{character:"\\eb1e"}),_c.mention=new _c("mention",{character:"\\eb1f"}),_c.milestone=new _c("milestone",{character:"\\eb20"}),_c.mortarBoard=new _c("mortar-board",{character:"\\eb21"}),_c.move=new _c("move",{character:"\\eb22"}),_c.multipleWindows=new _c("multiple-windows",{character:"\\eb23"}),_c.mute=new _c("mute",{character:"\\eb24"}),_c.noNewline=new _c("no-newline",{character:"\\eb25"}),_c.note=new _c("note",{character:"\\eb26"}),_c.octoface=new _c("octoface",{character:"\\eb27"}),_c.openPreview=new _c("open-preview",{character:"\\eb28"}),_c.package_=new _c("package",{character:"\\eb29"}),_c.paintcan=new _c("paintcan",{character:"\\eb2a"}),_c.pin=new _c("pin",{character:"\\eb2b"}),_c.play=new _c("play",{character:"\\eb2c"}),_c.run=new _c("run",{character:"\\eb2c"}),_c.plug=new _c("plug",{character:"\\eb2d"}),_c.preserveCase=new _c("preserve-case",{character:"\\eb2e"}),_c.preview=new _c("preview",{character:"\\eb2f"}),_c.project=new _c("project",{character:"\\eb30"}),_c.pulse=new _c("pulse",{character:"\\eb31"}),_c.question=new _c("question",{character:"\\eb32"}),_c.quote=new _c("quote",{character:"\\eb33"}),_c.radioTower=new _c("radio-tower",{character:"\\eb34"}),_c.reactions=new _c("reactions",{character:"\\eb35"}),_c.references=new _c("references",{character:"\\eb36"}),_c.refresh=new _c("refresh",{character:"\\eb37"}),_c.regex=new _c("regex",{character:"\\eb38"}),_c.remoteExplorer=new _c("remote-explorer",{character:"\\eb39"}),_c.remote=new _c("remote",{character:"\\eb3a"}),_c.remove=new _c("remove",{character:"\\eb3b"}),_c.replaceAll=new _c("replace-all",{character:"\\eb3c"}),_c.replace=new _c("replace",{character:"\\eb3d"}),_c.repoClone=new _c("repo-clone",{character:"\\eb3e"}),_c.repoForcePush=new _c("repo-force-push",{character:"\\eb3f"}),_c.repoPull=new _c("repo-pull",{character:"\\eb40"}),_c.repoPush=new _c("repo-push",{character:"\\eb41"}),_c.report=new _c("report",{character:"\\eb42"}),_c.requestChanges=new _c("request-changes",{character:"\\eb43"}),_c.rocket=new _c("rocket",{character:"\\eb44"}),_c.rootFolderOpened=new _c("root-folder-opened",{character:"\\eb45"}),_c.rootFolder=new _c("root-folder",{character:"\\eb46"}),_c.rss=new _c("rss",{character:"\\eb47"}),_c.ruby=new _c("ruby",{character:"\\eb48"}),_c.saveAll=new _c("save-all",{character:"\\eb49"}),_c.saveAs=new _c("save-as",{character:"\\eb4a"}),_c.save=new _c("save",{character:"\\eb4b"}),_c.screenFull=new _c("screen-full",{character:"\\eb4c"}),_c.screenNormal=new _c("screen-normal",{character:"\\eb4d"}),_c.searchStop=new _c("search-stop",{character:"\\eb4e"}),_c.server=new _c("server",{character:"\\eb50"}),_c.settingsGear=new _c("settings-gear",{character:"\\eb51"}),_c.settings=new _c("settings",{character:"\\eb52"}),_c.shield=new _c("shield",{character:"\\eb53"}),_c.smiley=new _c("smiley",{character:"\\eb54"}),_c.sortPrecedence=new _c("sort-precedence",{character:"\\eb55"}),_c.splitHorizontal=new _c("split-horizontal",{character:"\\eb56"}),_c.splitVertical=new _c("split-vertical",{character:"\\eb57"}),_c.squirrel=new _c("squirrel",{character:"\\eb58"}),_c.starFull=new _c("star-full",{character:"\\eb59"}),_c.starHalf=new _c("star-half",{character:"\\eb5a"}),_c.symbolClass=new _c("symbol-class",{character:"\\eb5b"}),_c.symbolColor=new _c("symbol-color",{character:"\\eb5c"}),_c.symbolConstant=new _c("symbol-constant",{character:"\\eb5d"}),_c.symbolEnumMember=new _c("symbol-enum-member",{character:"\\eb5e"}),_c.symbolField=new _c("symbol-field",{character:"\\eb5f"}),_c.symbolFile=new _c("symbol-file",{character:"\\eb60"}),_c.symbolInterface=new _c("symbol-interface",{character:"\\eb61"}),_c.symbolKeyword=new _c("symbol-keyword",{character:"\\eb62"}),_c.symbolMisc=new _c("symbol-misc",{character:"\\eb63"}),_c.symbolOperator=new _c("symbol-operator",{character:"\\eb64"}),_c.symbolProperty=new _c("symbol-property",{character:"\\eb65"}),_c.wrench=new _c("wrench",{character:"\\eb65"}),_c.wrenchSubaction=new _c("wrench-subaction",{character:"\\eb65"}),_c.symbolSnippet=new _c("symbol-snippet",{character:"\\eb66"}),_c.tasklist=new _c("tasklist",{character:"\\eb67"}),_c.telescope=new _c("telescope",{character:"\\eb68"}),_c.textSize=new _c("text-size",{character:"\\eb69"}),_c.threeBars=new _c("three-bars",{character:"\\eb6a"}),_c.thumbsdown=new _c("thumbsdown",{character:"\\eb6b"}),_c.thumbsup=new _c("thumbsup",{character:"\\eb6c"}),_c.tools=new _c("tools",{character:"\\eb6d"}),_c.triangleDown=new _c("triangle-down",{character:"\\eb6e"}),_c.triangleLeft=new _c("triangle-left",{character:"\\eb6f"}),_c.triangleRight=new _c("triangle-right",{character:"\\eb70"}),_c.triangleUp=new _c("triangle-up",{character:"\\eb71"}),_c.twitter=new _c("twitter",{character:"\\eb72"}),_c.unfold=new _c("unfold",{character:"\\eb73"}),_c.unlock=new _c("unlock",{character:"\\eb74"}),_c.unmute=new _c("unmute",{character:"\\eb75"}),_c.unverified=new _c("unverified",{character:"\\eb76"}),_c.verified=new _c("verified",{character:"\\eb77"}),_c.versions=new _c("versions",{character:"\\eb78"}),_c.vmActive=new _c("vm-active",{character:"\\eb79"}),_c.vmOutline=new _c("vm-outline",{character:"\\eb7a"}),_c.vmRunning=new _c("vm-running",{character:"\\eb7b"}),_c.watch=new _c("watch",{character:"\\eb7c"}),_c.whitespace=new _c("whitespace",{character:"\\eb7d"}),_c.wholeWord=new _c("whole-word",{character:"\\eb7e"}),_c.window=new _c("window",{character:"\\eb7f"}),_c.wordWrap=new _c("word-wrap",{character:"\\eb80"}),_c.zoomIn=new _c("zoom-in",{character:"\\eb81"}),_c.zoomOut=new _c("zoom-out",{character:"\\eb82"}),_c.listFilter=new _c("list-filter",{character:"\\eb83"}),_c.listFlat=new _c("list-flat",{character:"\\eb84"}),_c.listSelection=new _c("list-selection",{character:"\\eb85"}),_c.selection=new _c("selection",{character:"\\eb85"}),_c.listTree=new _c("list-tree",{character:"\\eb86"}),_c.debugBreakpointFunctionUnverified=new _c("debug-breakpoint-function-unverified",{character:"\\eb87"}),_c.debugBreakpointFunction=new _c("debug-breakpoint-function",{character:"\\eb88"}),_c.debugBreakpointFunctionDisabled=new _c("debug-breakpoint-function-disabled",{character:"\\eb88"}),_c.debugStackframeActive=new _c("debug-stackframe-active",{character:"\\eb89"}),_c.debugStackframeDot=new _c("debug-stackframe-dot",{character:"\\eb8a"}),_c.debugStackframe=new _c("debug-stackframe",{character:"\\eb8b"}),_c.debugStackframeFocused=new _c("debug-stackframe-focused",{character:"\\eb8b"}),_c.debugBreakpointUnsupported=new _c("debug-breakpoint-unsupported",{character:"\\eb8c"}),_c.symbolString=new _c("symbol-string",{character:"\\eb8d"}),_c.debugReverseContinue=new _c("debug-reverse-continue",{character:"\\eb8e"}),_c.debugStepBack=new _c("debug-step-back",{character:"\\eb8f"}),_c.debugRestartFrame=new _c("debug-restart-frame",{character:"\\eb90"}),_c.callIncoming=new _c("call-incoming",{character:"\\eb92"}),_c.callOutgoing=new _c("call-outgoing",{character:"\\eb93"}),_c.menu=new _c("menu",{character:"\\eb94"}),_c.expandAll=new _c("expand-all",{character:"\\eb95"}),_c.feedback=new _c("feedback",{character:"\\eb96"}),_c.groupByRefType=new _c("group-by-ref-type",{character:"\\eb97"}),_c.ungroupByRefType=new _c("ungroup-by-ref-type",{character:"\\eb98"}),_c.account=new _c("account",{character:"\\eb99"}),_c.bellDot=new _c("bell-dot",{character:"\\eb9a"}),_c.debugConsole=new _c("debug-console",{character:"\\eb9b"}),_c.library=new _c("library",{character:"\\eb9c"}),_c.output=new _c("output",{character:"\\eb9d"}),_c.runAll=new _c("run-all",{character:"\\eb9e"}),_c.syncIgnored=new _c("sync-ignored",{character:"\\eb9f"}),_c.pinned=new _c("pinned",{character:"\\eba0"}),_c.githubInverted=new _c("github-inverted",{character:"\\eba1"}),_c.debugAlt=new _c("debug-alt",{character:"\\eb91"}),_c.serverProcess=new _c("server-process",{character:"\\eba2"}),_c.serverEnvironment=new _c("server-environment",{character:"\\eba3"}),_c.pass=new _c("pass",{character:"\\eba4"}),_c.stopCircle=new _c("stop-circle",{character:"\\eba5"}),_c.playCircle=new _c("play-circle",{character:"\\eba6"}),_c.record=new _c("record",{character:"\\eba7"}),_c.debugAltSmall=new _c("debug-alt-small",{character:"\\eba8"}),_c.vmConnect=new _c("vm-connect",{character:"\\eba9"}),_c.cloud=new _c("cloud",{character:"\\ebaa"}),_c.merge=new _c("merge",{character:"\\ebab"});const vc=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;const wc=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;const Cc=/(\\)?\$\((([a-z0-9\-]+?)(?:~([a-z0-9\-]*?))?)\)/gi;function yc(e){return e.replace(Cc,((e,t,i,n,o)=>t?`$(${i})`:`<span class="codicon codicon-${n}${o?` codicon-animation-${o}`:""}"></span>`))}const Sc=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;function kc(e){return-1===e.indexOf("$(")?e:e.replace(Sc,((e,t,i,n)=>i?e:t||n||""))}class xc{constructor(e,t){this.language=e,this.id=t}}class Lc{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let o=`color: ${t[i]};`;return 1&n&&(o+="font-style: italic;"),2&n&&(o+="font-weight: bold;"),4&n&&(o+="text-decoration: underline;"),o}}const Ec=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const i=e[t];let n=i&&pc.get(i);return n||(console.info("No codicon found for CompletionItemKind "+t),n=bc.symbolProperty),n.classNames}}();let Dc=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,i){let n=e[t];return void 0!==n||i||(n=9),n}}();var Nc,Tc,Ic;!function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(Nc||(Nc={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(Tc||(Tc={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){const n=i.get(e);let o=n&&pc.get("symbol-"+n);return o||(console.info("No codicon found for SymbolKind "+e),o=bc.symbolProperty),`${t?"inline":"block"} ${o.classNames}`}}(Ic||(Ic={}));class Mc{constructor(e){this.value=e}}Mc.Comment=new Mc("comment"),Mc.Imports=new Mc("imports"),Mc.Region=new Mc("region");const Rc=new Sd,Ac=new Sd,Oc=new Sd,Pc=new Sd,Fc=new Sd,Wc=new Sd,Bc=new Sd,Vc=new Sd,Hc=new Sd,zc=new Sd,Uc=new Sd,Kc=new Sd,qc=new Sd,$c=new Sd,jc=new Sd,Gc=new Sd,Zc=new Sd,Yc=new Sd,Jc=new Sd,Qc=new Sd,Xc=new Sd,eh=new Sd,th=new Sd,ih=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Nt((()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))}))}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then((t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))}))),Nt((()=>{n=!0,i&&i.dispose()}))}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then((t=>this.get(e))):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};const nh=new class{clone(){return this}equals(e){return this===e}},oh=new xc("vs.editor.nullMode",0);function sh(e,t,i,n){return new Ui([new zi(n,"",e)],i)}function rh(e,t,i,n){let o=new Uint32Array(2);return o[0]=n,o[1]=(16384|e<<0|2<<23)>>>0,new Ki(o,null===i?nh:i)}const ah=co("editorWorkerService"),lh=co("textModelService");let dh=!1;function ch(e){De&&(dh||(dh=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}class hh{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise(((n,o)=>{this._pendingReplies[i]={resolve:n,reject:o},this._send({vsWorker:this._workerId,req:i,method:e,args:t})}))}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){if(e.seq){let t=e;if(!this._pendingReplies[t.seq])return void console.warn("Got reply to unknown seq");let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let e=t.err;return t.err.$isError&&(e=new Error,e.name=t.err.name,e.message=t.err.message,e.stack=t.err.stack),void i.reject(e)}return void i.resolve(t.res)}let t=e,i=t.req;this._handler.handleMessage(t.method,t.args).then((e=>{this._send({vsWorker:this._workerId,seq:i,res:e,err:void 0})}),(e=>{e.detail instanceof Error&&(e.detail=_t(e.detail)),this._send({vsWorker:this._workerId,seq:i,res:void 0,err:_t(e)})}))}_send(e){let t=[];if(e.req){const i=e;for(let e=0;e<i.args.length;e++)i.args[e]instanceof ArrayBuffer&&t.push(i.args[e])}else{const i=e;i.res instanceof ArrayBuffer&&t.push(i.res)}this._handler.sendMessage(e,t)}}class uh extends It{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",(e=>{this._protocol.handleMessage(e)}),(e=>{n&&n(e)}))),this._protocol=new hh({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(le){return Promise.reject(le)}}}),this._protocol.setWorkerId(this._worker.getId());let o=null;void 0!==self.require&&"function"==typeof self.require.getConfig?o=self.require.getConfig():void 0!==self.requirejs&&(o=self.requirejs.s.contexts._.config);const s=ll(i);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);const r=(e,t)=>this._request(e,t);this._lazyProxy=new Promise(((e,i)=>{n=i,this._onModuleLoaded.then((t=>{e(dl(t,r))}),(e=>{i(e),this._onError("Worker failed to load "+t,e)}))}))}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise(((i,n)=>{this._onModuleLoaded.then((()=>{this._protocol.sendMessage(e,t).then(i,n)}),n)}))}_onError(e,t){console.error(e),console.info(t)}}class gh{constructor(e,t,i,n,o){this.id=t;const s=function(e,t){if(Te.MonacoEnvironment){if("function"==typeof Te.MonacoEnvironment.getWorker)return Te.MonacoEnvironment.getWorker(e,t);if("function"==typeof Te.MonacoEnvironment.getWorkerUrl)return new Worker(Te.MonacoEnvironment.getWorkerUrl(e,t))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i);"function"==typeof s.then?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then((e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)}))}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then((i=>i.postMessage(e,t)))}dispose(){this.worker&&this.worker.then((e=>e.terminate())),this.worker=null}}class mh{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++mh.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new gh(e,n,this._label||"anonymous"+n,t,(e=>{ch(e),this._webWorkerFailedBeforeError=e,i(e)}))}}var ph;mh.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(ph||(ph={}));class fh{constructor(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}function bh(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),o=e.getLanguageId(n),s=n;for(;s+1<i&&e.getLanguageId(s+1)===o;)s++;let r=n;for(;r>0&&e.getLanguageId(r-1)===o;)r--;return new _h(e,o,r,s+1,e.getStartOffset(r),e.getEndOffset(s))}class _h{constructor(e,t,i,n,o,s){this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function vh(e){return 0!=(7&e)}class wh{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new fh(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new fh({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new fh({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:wh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),o=t.getStandardTokenType(n);return e.isOK(o)}getSurroundingPairs(){return this._surroundingPairs}}let Ch;function yh(){return Ch||(Ch=new TextDecoder(function(){if(!Ae){Ae=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);Re=513===t[0]}return Re}()?"UTF-16LE":"UTF-16BE")),Ch}wh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";const Sh="undefined"!=typeof TextDecoder;let kh,xh;Sh?(kh=e=>new Lh(e),xh=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);return yh().decode(n)}):(kh=e=>new Eh,xh=function(e,t,i){let n=[],o=0;for(let s=0;s<i;s++){const i=Na(e,t);t+=2,n[o++]=String.fromCharCode(i)}return n.join("")});class Lh{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return yh().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||sa(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class Eh{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class Dh{constructor(e,t,i,n,o,s){this.languageIdentifier=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=o,this.reversedRegex=s,this._openSet=Dh._toSet(this.open),this._closeSet=Dh._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class Nh{constructor(e,t){const i=function(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const i=[];for(let r=0;r<t;r++)i[r]=r;const n=(e,t)=>{const[i,n]=e,[o,s]=t;return i===o||i===s||n===o||n===s},o=(e,n)=>{const o=Math.min(e,n),s=Math.max(e,n);for(let r=0;r<t;r++)i[r]===s&&(i[r]=o)};for(let r=0;r<t;r++){const s=e[r];for(let a=r+1;a<t;a++)n(s,e[a])&&o(i[r],i[a])}const s=[];for(let r=0;r<t;r++){let n=[],o=[];for(let s=0;s<t;s++)if(i[s]===r){const[t,i]=e[s];n.push(t),o.push(i)}n.length>0&&s.push({open:n,close:o})}return s}(t);this.brackets=i.map(((t,n)=>new Dh(e,n,t.open,t.close,function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)Th(o[s],i,n,o);return o=Mh(o),o.sort(Ih),o.reverse(),Ah(o)}(t.open,t.close,i,n),function(e,t,i,n){let o=[];o=o.concat(e),o=o.concat(t);for(let s=0,r=o.length;s<r;s++)Th(o[s],i,n,o);return o=Mh(o),o.sort(Ih),o.reverse(),Ah(o.map(Oh))}(t.open,t.close,i,n)))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=Mh(t),Ah(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return t=Mh(t),Ah(t.map(Oh))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const n of this.brackets){for(const e of n.open)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of n.close)this.textIsBracket[e]=n,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function Th(e,t,i,n){for(let o=0,s=t.length;o<s;o++){if(o===i)continue;const s=t[o];for(const t of s.open)t.indexOf(e)>=0&&n.push(t);for(const t of s.close)t.indexOf(e)>=0&&n.push(t)}}function Ih(e,t){return e.length-t.length}function Mh(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function Rh(e){const t=/^[\w ]+$/.test(e);return e=Wr(e),t?`\\b${e}\\b`:e}function Ah(e){return Ur(`(${e.map(Rh).join(")|(")})`,!0)}const Oh=function(){let e=null,t=null;return function(i){return e!==i&&(e=i,t=function(e){if(Sh){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return yh().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e)),t}}();class Ph{static _findPrevBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),r=o[0].length,a=n+s;return new Vi(t,a-r+1,t,a+1)}static findPrevBracketInRange(e,t,i,n,o){const s=Oh(i).substring(i.length-o,i.length-n);return this._findPrevBracketInText(e,t,s,n)}static findNextBracketInText(e,t,i,n){let o=i.match(e);if(!o)return null;let s=o.index||0,r=o[0].length;if(0===r)return null;let a=n+s;return new Vi(t,a+1,t,a+1+r)}static findNextBracketInRange(e,t,i,n,o){const s=i.substring(n,o);return this.findNextBracketInText(e,t,s,n)}}class Fh{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter(((e,t,i)=>i.indexOf(e)===t)),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(vh(t.getStandardTokenType(n)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,r=Ph.findPrevBracketInRange(o,1,s,0,s.length);if(!r)return null;const a=s.substring(r.startColumn-1,r.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(r.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}class Wh{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Bh{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=Bh._createOpenBracketRegExp(e[0]),i=Bh._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let e=this._regExpRules[o];if([{reg:e.beforeText,text:i},{reg:e.afterText,text:n},{reg:e.oneLineAboveText,text:t}].every((e=>!e.reg||e.reg.test(e.text))))return e.action}if(e>=2&&i.length>0&&n.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let e=this._brackets[o];if(e.openRegExp.test(i)&&e.closeRegExp.test(n))return{indentAction:ph.IndentOutdent}}if(e>=2&&i.length>0)for(let o=0,s=this._brackets.length;o<s;o++){if(this._brackets[o].openRegExp.test(i))return{indentAction:ph.Indent}}return null}static _createOpenBracketRegExp(e){let t=Wr(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Bh._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=Wr(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,Bh._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return ft(t),null}}}class Vh{constructor(e,t,i){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null;let n=null;t&&(n=t._conf),this._conf=Vh._mergeConf(n,i),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new Bh(this._conf):null,this.comments=Vh._handleComments(this._conf),this.characterPair=new wh(this._conf),this.wordDefinition=this._conf.wordPattern||Oe,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new Wh(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new Nh(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Fh(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _mergeConf(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,autoCloseBefore:e?t.autoCloseBefore||e.autoCloseBefore:t.autoCloseBefore,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}class Hh{constructor(e){this.languageIdentifier=e}}const zh=new class{constructor(){this._entries=new Map,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event}register(e,t){let i=this._getRichEditSupport(e.id),n=new Vh(e,i,t);return this._entries.set(e.id,n),this._onDidChange.fire(new Hh(e)),Nt((()=>{this._entries.get(e.id)===n&&(this._entries.set(e.id,i),this._onDidChange.fire(new Hh(e)))}))}_getRichEditSupport(e){return this._entries.get(e)}getIndentationRules(e){const t=this._entries.get(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=bh(t,i-1),o=this._getElectricCharacterSupport(n.languageId);return o?o.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():wh.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=bh(t,i-1);return wh.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return Pe(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==n)return s;let t=e.getLineContent(o);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return o;s=o}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!o)return null;if(i<=1)return{indentation:"",action:null};const s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const r=t.getLineContent(s);if(o.shouldIncrease(r)||o.shouldIndentNextLine(r))return{indentation:$r(r),action:ph.Indent,line:s};if(o.shouldDecrease(r))return{indentation:$r(r),action:null,line:s};{if(1===s)return{indentation:$r(t.getLineContent(s)),action:null,line:s};const e=s-1,i=o.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!o.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:$r(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:$r(t.getLineContent(s)),action:null,line:s};for(let n=s;n>0;n--){const e=t.getLineContent(n);if(o.shouldIncrease(e))return{indentation:$r(e),action:ph.Indent,line:n};if(o.shouldIndentNextLine(e)){let e=0;for(let i=n-1;i>0;i--)if(!o.shouldIndentNextLine(t.getLineContent(n))){e=i;break}return{indentation:$r(t.getLineContent(e+1)),action:null,line:e+1}}if(o.shouldDecrease(e))return{indentation:$r(e),action:null,line:n}}return{indentation:$r(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,o){if(e<4)return null;const s=this._getRichEditSupport(i);if(!s)return null;const r=this.getIndentRulesSupport(i);if(!r)return null;const a=this.getInheritIndentForLine(e,t,n),l=t.getLineContent(n);if(a){const i=a.line;if(void 0!==i){const n=s.onEnter(e,"",t.getLineContent(i),"");if(n){let e=$r(t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===ph.Indent||n.indentAction===ph.IndentOutdent?e=o.shiftIndent(e):n.indentAction===ph.Outdent&&(e=o.unshiftIndent(e)),r.shouldDecrease(l)&&(e=o.unshiftIndent(e)),n.appendText&&(e+=n.appendText),$r(e)}}return r.shouldDecrease(l)?a.action===ph.Indent?a.indentation:o.unshiftIndent(a.indentation):a.action===ph.Indent?o.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),s=bh(o,i.startColumn-1),r=s.getLineContent();let a,l,d=!1;if(s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(d=!0,a=r.substr(0,i.startColumn-1-s.firstCharOffset)):a=o.getLineContent().substring(0,i.startColumn-1),i.isEmpty())l=r.substr(i.startColumn-1-s.firstCharOffset);else{l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}const c=this.getIndentRulesSupport(s.languageId);if(!c)return null;const h=a,u=$r(a),g={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?h:t.getLineContent(e)},m=$r(o.getLineContent()),p=this.getInheritIndentForLine(e,g,i.startLineNumber+1);if(!p){const e=d?m:u;return{beforeEnter:e,afterEnter:e}}let f=d?m:p.indentation;return p.action===ph.Indent&&(f=n.shiftIndent(f)),c.shouldDecrease(l)&&(f=n.unshiftIndent(f)),{beforeEnter:d?m:u,afterEnter:f}}getIndentActionForType(e,t,i,n,o){if(e<4)return null;const s=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),r=this.getIndentRulesSupport(s.languageId);if(!r)return null;const a=s.getLineContent(),l=a.substr(0,i.startColumn-1-s.firstCharOffset);let d;if(i.isEmpty())d=a.substr(i.startColumn-1-s.firstCharOffset);else{d=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset)}if(!r.shouldDecrease(l+d)&&r.shouldDecrease(l+n+d)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let s=n.indentation;return n.action!==ph.Indent&&(s=o.unshiftIndent(s)),s}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this._getRichEditSupport(n.languageId);if(!o)return null;const s=n.getLineContent(),r=s.substr(0,i.startColumn-1-n.firstCharOffset);let a;if(i.isEmpty())a=s.substr(i.startColumn-1-n.firstCharOffset);else{a=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset)}let l="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(l=e.getLineContent())}const d=o.onEnter(e,l,r,a);if(!d)return null;const c=d.indentAction;let h=d.appendText;const u=d.removeText||0;h||(h=c===ph.Indent||c===ph.IndentOutdent?"\t":"");let g=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return u&&(g=g.substring(0,g.length-u)),{indentAction:c,appendText:h,removeText:u,indentation:g}}getIndentationAtPosition(e,t,i){let n=$r(e.getLineContent(t));return n.length>i-1&&(n=n.substring(0,i-1)),n}getScopedLineTokens(e,t,i){e.forceTokenization(t);return bh(e.getLineTokens(t),void 0===i?e.getLineMaxColumn(t)-1:i-1)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}};class Uh{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function Kh(e){return qh(e,0)}function qh(e,t){switch(typeof e){case"object":return null===e?$h(349,t):Array.isArray(e)?(i=e,n=$h(104579,n=t),i.reduce(((e,t)=>qh(t,e)),n)):function(e,t){return t=$h(181387,t),Object.keys(e).sort().reduce(((t,i)=>(t=jh(i,t),qh(e[i],t))),t)}(e,t);case"string":return jh(e,t);case"boolean":return function(e,t){return $h(e?433:863,t)}(e,t);case"number":return $h(e,t);case"undefined":return $h(937,t);default:return $h(617,t)}var i,n}function $h(e,t){return(t<<5)-t+e|0}function jh(e,t){t=$h(149417,t);for(let i=0,n=e.length;i<n;i++)t=$h(e.charCodeAt(i),t);return t}function Gh(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function Zh(e,t=0,i=e.byteLength,n=0){for(let o=0;o<i;o++)e[t+o]=n}function Yh(e,t=32){return function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class Jh{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let n,o,s=this._buffLen,r=this._leftoverHighSurrogate;for(0!==r?(n=r,o=-1,r=0):(n=e.charCodeAt(0),o=0);;){let a=n;if(sa(n)){if(!(o+1<t)){r=n;break}{const t=e.charCodeAt(o+1);ra(t)?(o++,a=aa(n,t)):a=65533}}else ra(n)&&(a=65533);if(s=this._push(i,s,a),o++,!(o<t))break;n=e.charCodeAt(o)}this._buffLen=s,this._leftoverHighSurrogate=r}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Yh(this._h0)+Yh(this._h1)+Yh(this._h2)+Yh(this._h3)+Yh(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,Zh(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Zh(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Jh._bigBlock32,t=this._buffDV;for(let c=0;c<64;c+=4)e.setUint32(c,t.getUint32(c,!1),!1);for(let c=64;c<320;c+=4)e.setUint32(c,Gh(e.getUint32(c-12,!1)^e.getUint32(c-32,!1)^e.getUint32(c-56,!1)^e.getUint32(c-64,!1),1),!1);let i,n,o,s=this._h0,r=this._h1,a=this._h2,l=this._h3,d=this._h4;for(let c=0;c<80;c++)c<20?(i=r&a|~r&l,n=1518500249):c<40?(i=r^a^l,n=1859775393):c<60?(i=r&a|r&l|a&l,n=2400959708):(i=r^a^l,n=3395469782),o=Gh(s,5)+i+d+n+e.getUint32(4*c,!1)&4294967295,d=l,l=a,a=Gh(r,30),r=s,s=o;this._h0=this._h0+s&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+d&4294967295}}Jh._bigBlock32=new DataView(new ArrayBuffer(320));class Qh{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}function Xh(e,t,i){return new nu(new Qh(e),new Qh(t)).ComputeDiff(i).changes}class eu{static Assert(e,t){if(!e)throw new Error(t)}}class tu{static Copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}static Copy2(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}}class iu{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Uh(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class nu{constructor(e,t,i=null){this.ContinueProcessingPredicate=i;const[n,o,s]=nu._getElements(e),[r,a,l]=nu._getElements(t);this._hasStrings=s&&l,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=r,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(nu._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=jh(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,o){const s=[!1];let r=this.ComputeDiffRecursive(e,t,i,n,s);return o&&(r=this.PrettifyChanges(r)),{quitEarly:s[0],changes:r}}ComputeDiffRecursive(e,t,i,n,o){for(o[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let o;return i<=n?(eu.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new Uh(e,0,i,n-i+1)]):e<=t?(eu.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[new Uh(e,t-e+1,i,0)]):(eu.Assert(e===t+1,"originalStart should only be one more than originalEnd"),eu.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}const s=[0],r=[0],a=this.ComputeRecursionPoint(e,t,i,n,s,r,o),l=s[0],d=r[0];if(null!==a)return a;if(!o[0]){const s=this.ComputeDiffRecursive(e,l,i,d,o);let r=[];return r=o[0]?[new Uh(l+1,t-(l+1)+1,d+1,n-(d+1)+1)]:this.ComputeDiffRecursive(l+1,t,d+1,n,o),this.ConcatenateChanges(s,r)}return[new Uh(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,b){let _=null,v=null,w=new iu,C=t,y=i,S=u[0]-p[0]-n,k=-1073741824,x=this.m_forwardHistory.length-1;do{const t=S+e;t===C||t<y&&l[t-1]<l[t+1]?(g=(c=l[t+1])-S-n,c<k&&w.MarkNextChange(),k=c,w.AddModifiedElement(c+1,g),S=t+1-e):(g=(c=l[t-1]+1)-S-n,c<k&&w.MarkNextChange(),k=c-1,w.AddOriginalElement(c,g+1),S=t-1-e),x>=0&&(e=(l=this.m_forwardHistory[x])[0],C=1,y=l.length-1)}while(--x>=-1);if(_=w.getReverseChanges(),b[0]){let e=u[0]+1,t=p[0]+1;if(null!==_&&_.length>0){const i=_[_.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}v=[new Uh(e,h-e+1,t,m-t+1)]}else{w=new iu,C=s,y=r,S=u[0]-p[0]-a,k=1073741824,x=f?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+o;e===C||e<y&&d[e-1]>=d[e+1]?(g=(c=d[e+1]-1)-S-a,c>k&&w.MarkNextChange(),k=c+1,w.AddOriginalElement(c+1,g+1),S=e+1-o):(g=(c=d[e-1])-S-a,c>k&&w.MarkNextChange(),k=c,w.AddModifiedElement(c+1,g+1),S=e-1-o),x>=0&&(o=(d=this.m_reverseHistory[x])[0],C=1,y=d.length-1)}while(--x>=-1);v=w.getChanges()}return this.ConcatenateChanges(_,v)}ComputeRecursionPoint(e,t,i,n,o,s,r){let a=0,l=0,d=0,c=0,h=0,u=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(n-i),m=g+1,p=new Int32Array(m),f=new Int32Array(m),b=n-i,_=t-e,v=e-i,w=t-n,C=(_-b)%2==0;p[b]=e,f[_]=t,r[0]=!1;for(let y=1;y<=g/2+1;y++){let g=0,S=0;d=this.ClipDiagonalBound(b-y,y,b,m),c=this.ClipDiagonalBound(b+y,y,b,m);for(let e=d;e<=c;e+=2){a=e===d||e<c&&p[e-1]<p[e+1]?p[e+1]:p[e-1]+1,l=a-(e-b)-v;const i=a;for(;a<t&&l<n&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(p[e]=a,a+l>g+S&&(g=a,S=l),!C&&Math.abs(e-_)<=y-1&&a>=f[e])return o[0]=a,s[0]=l,i<=f[e]&&y<=1448?this.WALKTRACE(b,d,c,v,_,h,u,w,p,f,a,t,o,l,n,s,C,r):null}const k=(g-e+(S-i)-y)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(g,k))return r[0]=!0,o[0]=g,s[0]=S,k>0&&y<=1448?this.WALKTRACE(b,d,c,v,_,h,u,w,p,f,a,t,o,l,n,s,C,r):(e++,i++,[new Uh(e,t-e+1,i,n-i+1)]);h=this.ClipDiagonalBound(_-y,y,_,m),u=this.ClipDiagonalBound(_+y,y,_,m);for(let m=h;m<=u;m+=2){a=m===h||m<u&&f[m-1]>=f[m+1]?f[m+1]-1:f[m-1],l=a-(m-_)-w;const g=a;for(;a>e&&l>i&&this.ElementsAreEqual(a,l);)a--,l--;if(f[m]=a,C&&Math.abs(m-b)<=y&&a<=p[m])return o[0]=a,s[0]=l,g>=p[m]&&y<=1448?this.WALKTRACE(b,d,c,v,_,h,u,w,p,f,a,t,o,l,n,s,C,r):null}if(y<=1447){let e=new Int32Array(c-d+2);e[0]=b-d+1,tu.Copy2(p,d,e,1,c-d+1),this.m_forwardHistory.push(e),e=new Int32Array(u-h+2),e[0]=_-h+1,tu.Copy2(f,h,e,1,u-h+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(b,d,c,v,_,h,u,w,p,f,a,t,o,l,n,s,C,r)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,r=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!r||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,o=0;if(t>0){const i=e[t-1];i.originalLength>0&&(n=i.originalStart+i.originalLength),i.modifiedLength>0&&(o=i.modifiedStart+i.modifiedLength)}const s=i.originalLength>0,r=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,d=i.modifiedStart-e;if(t<n||d<o)break;if(s&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(r&&!this.ModifiedElementsAreEqual(d,d+i.modifiedLength))break;const c=this._boundaryScore(t,i.originalLength,d,i.modifiedLength);c>l&&(l=c,a=e)}i.originalStart-=a,i.modifiedStart-=a}return e}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return tu.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],tu.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return tu.Copy(e,0,i,0,e.length),tu.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(eu.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),eu.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let o=e.originalLength;const s=e.modifiedStart;let r=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(r=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Uh(n,o,s,r),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const o=t%2==0;if(e<0){return o===(i%2==0)?0:1}return o===((n-i-1)%2==0)?n-1:n-2}}function ou(e,t,i,n){return new nu(e,t,i).ComputeDiff(n)}class su{constructor(e){const t=[],i=[];for(let n=0,o=e.length;n<o;n++)t[n]=cu(e[n],1),i[n]=hu(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],o=[],s=[];let r=0;for(let a=t;a<=i;a++){const t=this.lines[a],i=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=i;e<l;e++)n[r]=t.charCodeAt(e-1),o[r]=a+1,s[r]=e,r++}return new ru(n,o,s)}}class ru{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class au{constructor(e,t,i,n,o,s,r,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=r,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,o,s,r,a,l,d,c;return 0===e.originalLength?(n=0,o=0,s=0,r=0):(n=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),r=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,d=0,c=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),d=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new au(n,o,s,r,a,l,d,c)}}class lu{constructor(e,t,i,n,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=o}static createFromDiffResult(e,t,i,n,o,s,r){let a,l,d,c,h;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(d=n.getStartLineNumber(t.modifiedStart)-1,c=0):(d=n.getStartLineNumber(t.modifiedStart),c=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const s=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=ou(s,a,o,!0).changes;r&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,o=e.length;n<o;n++){const o=e[n],s=o.originalStart-(i.originalStart+i.originalLength),r=o.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(s,r)<3?(i.originalLength=o.originalStart+o.originalLength-i.originalStart,i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart):(t.push(o),i=o)}return t}(l)),h=[];for(let e=0,t=l.length;e<t;e++)h.push(au.createFromDiffChange(l[e],s,a))}return new lu(a,l,d,c,h)}}class du{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new su(e),this.modified=new su(t),this.continueLineDiff=uu(i.maxComputationTime),this.continueCharDiff=uu(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=ou(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(lu.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let o=0,s=0;for(let r=-1,a=t.length;r<a;r++){const e=r+1<a?t[r+1]:null,i=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;for(;o<i&&s<l;){const e=this.originalLines[o],t=this.modifiedLines[s];if(e!==t){{let i=cu(e,1),r=cu(t,1);for(;i>1&&r>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(r-2))break;i--,r--}(i>1||r>1)&&this._pushTrimWhitespaceCharChange(n,o+1,1,i,s+1,1,r)}{let i=hu(e,1),r=hu(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&r<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(r-1))break;i++,r++}(i<a||r<l)&&this._pushTrimWhitespaceCharChange(n,o+1,i,a,s+1,r,l)}}o++,s++}e&&(n.push(lu.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=e.originalLength,s+=e.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,o,s,r){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r))return;let a;this.shouldComputeCharChanges&&(a=[new au(t,i,t,n,o,s,o,r)]),e.push(new lu(t,t,o,o,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,o,s,r){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new au(t,i,t,n,o,s,o,r)),!0))}}function cu(e,t){const i=qr(e);return-1===i?t:i+1}function hu(e,t){const i=jr(e);return-1===i?t:i+2}function uu(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}function gu(e){return e<0?0:e>255?255:0|e}function mu(e){return e<0?0:e>4294967295?4294967295:0|e}class pu{constructor(e,t){this.index=e,this.remainder=t}}class fu{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=mu(e);const i=this.values,n=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=mu(e),t=mu(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=mu(e),t=mu(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(e){return e<0?0:(e=mu(e),this._getAccumulatedValue(e))}_getAccumulatedValue(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalValue();let t=0,i=this.values.length-1,n=0,o=0,s=0;for(;t<=i;)if(n=t+(i-t)/2|0,o=this.prefixSum[n],s=o-this.values[n],e<s)i=n-1;else{if(!(e>=o))break;t=n+1}return new pu(n,e-s)}}class bu{constructor(e){let t=gu(e);this._defaultValue=t,this._asciiMap=bu._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=gu(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class _u{constructor(){this._actual=new bu(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}class vu{constructor(e,t,i){const n=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)n[o]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class wu{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){let[n,s,r]=e[o];s>t&&(t=s),n>i&&(i=n),r>i&&(i=r)}t++,i++;let n=new vu(i,t,0);for(let o=0,s=e.length;o<s;o++){let[t,i,s]=e[o];n.set(t,i,s)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let Cu=null;let yu=null;class Su{static _createLink(e,t,i,n,o){let s=o-1;do{const i=t.charCodeAt(s);if(2!==e.get(i))break;s--}while(s>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(s);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&s--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:s+2},url:t.substring(n,s+1)}}static computeLinks(e,t=function(){return null===Cu&&(Cu=new wu([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Cu}()){const i=function(){if(null===yu){yu=new bu(0);const e=" \t<>'\"、。｡､，．：；‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…";for(let i=0;i<e.length;i++)yu.set(e.charCodeAt(i),1);const t=".,;";for(let i=0;i<t.length;i++)yu.set(t.charCodeAt(i),2)}return yu}();let n=[];for(let o=1,s=e.getLineCount();o<=s;o++){const s=e.getLineContent(o),r=s.length;let a=0,l=0,d=0,c=1,h=!1,u=!1,g=!1,m=!1;for(;a<r;){let e=!1;const r=s.charCodeAt(a);if(13===c){let t;switch(r){case 40:h=!0,t=0;break;case 41:t=h?0:1;break;case 91:g=!0,u=!0,t=0;break;case 93:g=!1,t=u?0:1;break;case 123:m=!0,t=0;break;case 125:t=m?0:1;break;case 39:t=34===d||96===d?0:1;break;case 34:t=39===d||96===d?0:1;break;case 96:t=39===d||34===d?0:1;break;case 42:t=42===d?1:0;break;case 124:t=124===d?1:0;break;case 32:t=g?0:1;break;default:t=i.get(r)}1===t&&(n.push(Su._createLink(i,s,o,l,a)),e=!0)}else if(12===c){let t;91===r?(u=!0,t=0):t=i.get(r),1===t?e=!0:c=13}else c=t.nextState(c,r),0===c&&(e=!0);e&&(c=1,h=!1,u=!1,m=!1,l=a+1,d=r),a++}13===c&&n.push(Su._createLink(i,s,o,l,r))}return n}}class ku{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,o){if(e&&t){let i=this.doNavigateValueSet(t,o);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,o);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let o=0,s=e.length;null===n&&o<s;o++)n=this.valueSetReplace(e[o],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null}}ku.INSTANCE=new ku;var xu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Lu extends class{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new Bi(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new fu(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let i=t.split(/\r\n|\r|\n/);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}{get uri(){return this._uri}get version(){return this._versionId}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=We(e.column,Pe(t),this._lines[e.lineNumber-1],0);return i?new Vi(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,o="",s=0,r=[];return{*[Symbol.iterator](){for(;;)if(s<r.length){const e=o.substring(r[s].start,r[s].end);s+=1,yield e}else{if(!(n<t.length))break;o=t[n],r=i(o,e),s=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),o=[];for(const s of n)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<n;s++)o.push(this._lines[s]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!Bi.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class Eu{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach((t=>e.push(this._models[t]))),e}acceptNewModel(e){this._models[e.url]=new Lu(Di.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return xu(this,void 0,void 0,(function*(){const o=this._getModel(e),s=this._getModel(t);if(!o||!s)return null;const r=o.getLinesContent(),a=s.getLinesContent(),l=new du(r,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),d=!(l.changes.length>0)&&this._modelsAreIdentical(o,s);return{quitEarly:l.quitEarly,identical:d,changes:l.changes}}))}_modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return xu(this,void 0,void 0,(function*(){const i=this._getModel(e);if(!i)return t;const n=[];let o;t=es(t,((e,t)=>{if(e.range&&t.range)return Vi.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)}));for(let{range:e,text:s,eol:r}of t){if("number"==typeof r&&(o=r),Vi.isEmpty(e)&&!s)continue;const t=i.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,i.eol),t===s)continue;if(Math.max(s.length,t.length)>Eu._diffLimit){n.push({range:e,text:s});continue}const a=Xh(t,s,!1),l=i.offsetAt(Vi.lift(e).getStartPosition());for(const e of a){const t=i.positionAt(l+e.originalStart),o=i.positionAt(l+e.originalStart+e.originalLength),r={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:o.lineNumber,endColumn:o.column}};i.getValueInRange(r.range)!==r.text&&n.push(r)}}return"number"==typeof o&&n.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n}))}computeLinks(e){return xu(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?Su.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,i,n){return xu(this,void 0,void 0,(function*(){const o=this._getModel(e);if(!o)return null;const s=[],r=new Set,a=new RegExp(i,n),l=o.getWordAtPosition(t,a);l&&r.add(o.getValueInRange(l));for(let e of o.words(a))if(!r.has(e)&&(r.add(e),isNaN(Number(e))&&(s.push(e),r.size>Eu._suggestionsLimit)))break;return s}))}computeWordRanges(e,t,i,n){return xu(this,void 0,void 0,(function*(){let o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,n),r=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=o.getLineWords(e,s);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=r[i.word];t||(t=[],r[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return r}))}navigateValueSet(e,t,i,n,o){return xu(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return null;let r=new RegExp(n,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},r);if(!l)return null;let d=s.getValueInRange(l);return ku.INSTANCE.navigateValueSet(t,a,l,d,i)}))}loadForeignModule(e,t,i){let n={host:dl(i,((e,t)=>this._host.fhr(e,t))),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(ll(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(le){return Promise.reject(le)}}}Eu._diffLimit=1e5,Eu._suggestionsLimit=1e4,"function"==typeof importScripts&&(Te.monaco=oo());const Du=co("textResourceConfigurationService"),Nu=co("textResourcePropertiesService"),Tu=co("logService");var Iu,Mu;(Mu=Iu||(Iu={}))[Mu.Trace=0]="Trace",Mu[Mu.Debug=1]="Debug",Mu[Mu.Info=2]="Info",Mu[Mu.Warning=3]="Warning",Mu[Mu.Error=4]="Error",Mu[Mu.Critical=5]="Critical",Mu[Mu.Off=6]="Off";const Ru=Iu.Info;class Au extends It{constructor(){super(...arguments),this.level=Ru,this._onDidChangeLogLevel=this._register(new Pt)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Ou extends Au{constructor(e=Ru){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=Iu.Trace&&console.log("%cTRACE","color: #888",e,...t)}info(e,...t){this.getLevel()<=Iu.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=Iu.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}const Pu=Te.performance&&"function"==typeof Te.performance.now;class Fu{constructor(e){this._highResolution=Pu&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Fu(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?Te.performance.now():(new Date).getTime()}}var Wu=function(e,t){return function(i,n){t(i,n,e)}},Bu=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Vu(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let Hu=class extends It{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new Uu(this._modelService)),this._logService=i,this._register(Yc.register("*",{provideLinks:(e,t)=>Vu(this._modelService,e.uri)?this._workerManager.withWorker().then((t=>t.computeLinks(e.uri))).then((e=>e&&{links:e})):Promise.resolve({links:[]})})),this._register(Oc.register("*",new zu(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return Vu(this._modelService,e)&&Vu(this._modelService,t)}computeDiff(e,t,i,n){return this._workerManager.withWorker().then((o=>o.computeDiff(e,t,i,n)))}computeMoreMinimalEdits(e,t){if(ss(t)){if(!Vu(this._modelService,e))return Promise.resolve(t);const i=Fu.create(!0),n=this._workerManager.withWorker().then((i=>i.computeMoreMinimalEdits(e,t)));return n.finally((()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed()))),n}return Promise.resolve(void 0)}canNavigateValueSet(e){return Vu(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then((n=>n.navigateValueSet(e,t,i)))}canComputeWordRanges(e){return Vu(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then((i=>i.computeWordRanges(e,t)))}};Hu=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Wu(0,wd),Wu(1,Du),Wu(2,Tu)],Hu);class zu{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return Bu(this,void 0,void 0,(function*(){const{wordBasedSuggestions:i}=this._configurationService.getValue(e.uri,t,"editor");if(!i)return;if(!Vu(this._modelService,e.uri))return;const n=e.getWordAtPosition(t),o=n?new Vi(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn):Vi.fromPositions(t),s=o.setEndPosition(t.lineNumber,t.column),r=yield this._workerManager.withWorker(),a=yield r.textualSuggest(e.uri,t);return a?{suggestions:a.map((e=>({kind:18,label:e,insertText:e,range:{insert:s,replace:o}})))}:void 0}))}}class Uu extends It{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new jo).cancelAndSet((()=>this._checkStopIdleWorker()),Math.round(15e4)),this._register(this._modelService.onModelRemoved((e=>this._checkStopEmptyWorker())))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ju(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class Ku extends It{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new jo;e.cancelAndSet((()=>this._checkStopModelSync()),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)Et(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>6e4&&t.push(i)}for(const i of t)this._stopModelSync(i)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const n=new Tt;n.add(t.onDidChangeContent((e=>{this._proxy.acceptModelChanged(i.toString(),e)}))),n.add(t.onWillDispose((()=>{this._stopModelSync(i)}))),n.add(Nt((()=>{this._proxy.acceptRemovedModel(i)}))),this._syncedModels[i]=n}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Et(t)}}class qu{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class $u{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class ju extends It{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new mh(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new uh(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new $u(this)))}catch(e){ch(e),this._worker=new qu(new Eu(new $u(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,(e=>(ch(e),this._worker=new qu(new Eu(new $u(this),null)),this._getOrCreateWorker().getProxyObject())))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Ku(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(wt()):this._getProxy().then((t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t)))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t]).then((o=>o.computeDiff(e.toString(),t.toString(),i,n)))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then((i=>i.computeMoreMinimalEdits(e.toString(),t)))}computeLinks(e){return this._withSyncedResources([e]).then((t=>t.computeLinks(e.toString())))}textualSuggest(e,t){return this._withSyncedResources([e]).then((i=>{let n=this._modelService.getModel(e);if(!n)return null;let o=zh.getWordDefinition(n.getLanguageIdentifier().id),s=o.source,r=Kr(o);return i.textualSuggest(e.toString(),t,s,r)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then((i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let o=zh.getWordDefinition(n.getLanguageIdentifier().id),s=o.source,r=Kr(o);return i.computeWordRanges(e.toString(),t,s,r)}))}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then((n=>{let o=this._modelService.getModel(e);if(!o)return null;let s=zh.getWordDefinition(o.getLanguageIdentifier().id),r=s.source,a=Kr(s);return n.navigateValueSet(e.toString(),t,i,r,a)}))}dispose(){super.dispose(),this._disposed=!0}}class Gu extends ju{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(le){return Promise.reject(le)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then((e=>{const t=this._foreignModuleHost?ll(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then((t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)};let o={};for(const e of t)o[e]=n(e,i);return o}))}))),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then((e=>this.getProxy()))}}class Zu{constructor(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}equals(e){return e instanceof Zu&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,o=n+(i<<1);for(let s=n;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)];return Lc.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return Lc.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return Lc.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return Lc.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return Lc.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Zu.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new Yu(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let n=0;n<i;n++)e[n<<1]=e[n+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const o=i+Math.floor((n-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(n=o)}return i}}class Yu{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s;o++){if(e.getStartOffset(o)>=i)break;this._tokensCount++}}equals(e){return e instanceof Yu&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Ju{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!Ju._equals(e[n],t[n]))return!1;return!0}static filter(e,t,i,n){if(0===e.length)return[];let o=[],s=0;for(let r=0,a=e.length;r<a;r++){const a=e[r],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const d=l.startLineNumber===t?l.startColumn:i,c=l.endLineNumber===t?l.endColumn:n;o[s++]=new Ju(d,c,a.inlineClassName,a.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn===t.startColumn){if(e.endColumn===t.endColumn){const i=Ju._typeCompare(e.type,t.type);return 0===i?e.className<t.className?-1:e.className>t.className?1:0:i}return e.endColumn-t.endColumn}return e.startColumn-t.startColumn}}class Qu{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class Xu{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new Qu(t,this.stopOffsets[e],this.classNames.join(" "),Xu._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new Qu(t,e-1,this.classNames.join(" "),Xu._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class eg{constructor(e,t,i){this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}}class tg{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class ig{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,b,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=r,this.lineTokens=a,this.lineDecorations=l,this.tabSize=d,this.startVisibleColumn=c,this.spaceWidth=h,this.stopRenderingLineAfter=m,this.renderWhitespace="all"===p?4:"boundary"===p?1:"selection"===p?2:"trailing"===p?3:0,this.renderControlCharacters=f,this.fontLigatures=b,this.selectionsOnLine=_&&_.sort(((e,t)=>e.startOffset<t.startOffset?-1:1));Math.abs(g-h)<Math.abs(u-h)?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=u,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Ju.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class ng{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setPartData(e,t,i,n){let o=(t<<16|i<<0)>>>0;this._data[e]=o,this._absoluteOffsets[e]=n+i}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,o=0,s=this.length-1;for(;o+1<s;){let e=o+s>>>1,t=this._data[e];if(t===n)return e;t>n?s=e:o=e}if(o===s)return o;let r=this._data[o],a=this._data[s];if(r===n)return o;if(a===n)return s;let l,d=ng.getPartIndex(r),c=ng.getCharIndex(r);return l=d!==ng.getPartIndex(a)?t:ng.getCharIndex(a),i-c<=l-i?o:s}}class og{constructor(e,t,i){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function sg(e,t){if(0===e.lineContent.length){let i=0,n="<span><span></span></span>";if(e.lineDecorations.length>0){const t=[],o=[];for(let n=0,s=e.lineDecorations.length;n<s;n++){const s=e.lineDecorations[n];1===s.type&&(t.push(e.lineDecorations[n].className),i|=1),2===s.type&&(o.push(e.lineDecorations[n].className),i|=2)}if(0!==i){n=`<span>${t.length>0?`<span class="${t.join(" ")}"></span>`:""}${o.length>0?`<span class="${o.join(" ")}"></span>`:""}</span>`}}return t.appendASCIIString(n),new og(new ng(0,0),!1,i)}return function(e,t){const i=e.fontIsMonospace,n=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,s=e.lineContent,r=e.len,a=e.isOverflowing,l=e.parts,d=e.fauxIndentLength,c=e.tabSize,h=e.startVisibleColumn,u=e.containsRTL,g=e.spaceWidth,m=e.renderSpaceCharCode,p=e.renderWhitespace,f=e.renderControlCharacters,b=new ng(r+1,l.length);let _=0,v=h,w=0,C=0,y=0,S=0;u?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let k=0,x=l.length;k<x;k++){S+=y;const e=l[k],r=e.endIndex,a=e.type,h=0!==p&&e.isWhitespace(),u=h&&!i&&("mtkw"===a||!o),x=_===r&&4===e.metadata;if(w=0,t.appendASCIIString('<span class="'),t.appendASCIIString(u?"mtkz":a),t.appendASCII(34),h){let e=0;{let t=_,i=v;for(;t<r;t++){const n=0|(9===s.charCodeAt(t)?c-i%c:1);e+=n,t>=d&&(i+=n)}}for(u&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(g*e)),t.appendASCIIString('px"')),t.appendASCII(62);_<r;_++){b.setPartData(_,k-C,w,S),C=0;let e;if(9===s.charCodeAt(_)){e=c-v%c|0,!n||e>1?t.write1(8594):t.write1(65515);for(let i=2;i<=e;i++)t.write1(160)}else e=1,t.write1(m);w+=e,_>=d&&(v+=e)}y=e}else{let e=0;for(t.appendASCII(62);_<r;_++){b.setPartData(_,k-C,w,S),C=0;const i=s.charCodeAt(_);let n=1,o=1;switch(i){case 9:n=c-v%c,o=n;for(let e=1;e<=n;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:_a(i)&&o++,f&&i<32?t.write1(9216+i):t.write1(i)}w+=n,e+=n,_>=d&&(v+=o)}y=e}x?C++:C=0,t.appendASCIIString("</span>")}b.setPartData(r,l.length-1,w,S),a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new og(b,u,o)}(function(e){const t=e.lineContent;let i,n;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=e.stopRenderingLineAfter):(i=!1,n=t.length);let o=function(e,t,i){let n=[],o=0;t>0&&(n[o++]=new eg(t,"",0));for(let s=0,r=e.getCount();s<r;s++){const r=e.getEndOffset(s);if(r<=t)continue;const a=e.getClassName(s);if(r>=i){n[o++]=new eg(i,a,0);break}n[o++]=new eg(r,a,0)}return n}(e.lineTokens,e.fauxIndentLength,n);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(o=function(e,t,i,n){const o=e.continuesWithWrappedLine,s=e.fauxIndentLength,r=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,d=e.selectionsOnLine,c=1===e.renderWhitespace,h=3===e.renderWhitespace,u=e.renderSpaceWidth!==e.spaceWidth;let g=[],m=0,p=0,f=n[p].type,b=n[p].endIndex;const _=n.length;let v,w=!1,C=qr(t);-1===C?(w=!0,C=i,v=i):v=jr(t);let y=!1,S=0,k=d&&d[S],x=a%r;for(let E=s;E<i;E++){const e=t.charCodeAt(E);let o;if(k&&E>=k.endOffset&&(S++,k=d&&d[S]),E<C||E>v)o=!0;else if(9===e)o=!0;else if(32===e)if(c)if(y)o=!0;else{const e=E+1<i?t.charCodeAt(E+1):0;o=32===e||9===e}else o=!0;else o=!1;if(o&&d&&(o=!!k&&k.startOffset<=E&&k.endOffset>E),o&&h&&(o=w||E>v),y){if(!o||!l&&x>=r){if(u){for(let e=(m>0?g[m-1].endIndex:s)+1;e<=E;e++)g[m++]=new eg(e,"mtkw",1)}else g[m++]=new eg(E,"mtkw",1);x%=r}}else(E===b||o&&E>s)&&(g[m++]=new eg(E,f,0),x%=r);for(9===e?x=r:_a(e)?x+=2:x++,y=o;E===b;)p++,p<_&&(f=n[p].type,b=n[p].endIndex)}let L=!1;if(y)if(o&&c){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0;32===e&&32!==n&&9!==n||(L=!0)}else L=!0;if(L)if(u){for(let e=(m>0?g[m-1].endIndex:s)+1;e<=i;e++)g[m++]=new eg(e,"mtkw",1)}else g[m++]=new eg(i,"mtkw",1);else g[m++]=new eg(i,f,0);return g}(e,t,n,o));let s=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type||1===i.type?s|=1:2===i.type&&(s|=2)}o=function(e,t,i,n){n.sort(Ju.compare);const o=class{static normalize(e,t){if(0===t.length)return[];let i=[];const n=new Xu;let o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];let a=r.startColumn,l=r.endColumn;const d=r.className,c=1===r.type?2:2===r.type?4:0;a>1&&sa(e.charCodeAt(a-2))&&a--,l>1&&sa(e.charCodeAt(l-2))&&l--;const h=a-1,u=l-2;o=n.consumeLowerThan(h,o,i),0===n.count&&(o=h),n.insert(u,d,c)}return n.consumeLowerThan(1073741824,o,i),i}}.normalize(e,n),s=o.length;let r=0,a=[],l=0,d=0;for(let h=0,u=i.length;h<u;h++){const e=i[h],t=e.endIndex,n=e.type,c=e.metadata;for(;r<s&&o[r].startOffset<t;){const e=o[r];if(e.startOffset>d&&(d=e.startOffset,a[l++]=new eg(d,n,c)),!(e.endOffset+1<=t)){d=t,a[l++]=new eg(d,n+" "+e.className,c|e.metadata);break}d=e.endOffset+1,a[l++]=new eg(d,n+" "+e.className,c|e.metadata),r++}t>d&&(d=t,a[l++]=new eg(d,n,c))}const c=i[i.length-1].endIndex;if(r<s&&o[r].startOffset===c){let e=[],t=0;for(;r<s&&o[r].startOffset===c;)e.push(o[r].className),t|=o[r].metadata,r++;a[l++]=new eg(d,e.join(" "),t)}return a}(t,0,o,e.lineDecorations)}e.containsRTL||(o=function(e,t,i){let n=0,o=[],s=0;if(i)for(let r=0,a=t.length;r<a;r++){const i=t[r],a=i.endIndex;if(n+50<a){const t=i.type,r=i.metadata;let l=-1,d=n;for(let i=n;i<a;i++)32===e.charCodeAt(i)&&(l=i),-1!==l&&i-d>=50&&(o[s++]=new eg(l+1,t,r),d=l+1,l=-1);d!==a&&(o[s++]=new eg(a,t,r))}else o[s++]=i;n=a}else for(let r=0,a=t.length;r<a;r++){const e=t[r],i=e.endIndex;let a=i-n;if(a>50){const t=e.type,r=e.metadata,l=Math.ceil(a/50);for(let e=1;e<l;e++){let i=n+50*e;o[s++]=new eg(i,t,r)}o[s++]=new eg(i,t,r)}else o[s++]=e;n=i}return o}(t,o,!e.isBasicASCII||e.fontLigatures));return new lg(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,n,i,o,s,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class rg{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function ag(e){let t=kh(1e4),i=sg(e,t);return new rg(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class lg{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=o,this.parts=s,this.containsForeignElements=r,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=d,this.containsRTL=c,this.spaceWidth=h,this.renderSpaceCharCode=u,this.renderWhitespace=g,this.renderControlCharacters=m}}class dg{constructor(e,t,i,n){this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class cg{constructor(e,t){this.tabSize=e,this.data=t}}class hg{constructor(e,t,i,n,o,s){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=o,this.tokens=s}}class ug{constructor(e,t,i,n,o,s,r,a,l,d){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=ug.isBasicASCII(i,s),this.containsRTL=ug.containsRTL(i,this.isBasicASCII,o),this.tokens=r,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=d}static isBasicASCII(e,t){return!t||pa(e)}static containsRTL(e,t,i){return!(t||!i)&&ua(e)}}class gg{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class mg{constructor(e,t){this.range=e,this.options=t}}function pg(e){return!function(e){return Array.isArray(e)}(e)}function fg(e){return"string"==typeof e}function bg(e){return!fg(e)}function _g(e){return!e}function vg(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function wg(e){return e.replace(/[&<>'"_]/g,"-")}function Cg(e,t){return new Error(`${e.languageId}: ${t}`)}function yg(e,t,i,n,o){let s=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,r,a,l,d,c,h,u,g){return _g(a)?_g(l)?!_g(d)&&d<n.length?vg(e,n[d]):!_g(h)&&e&&"string"==typeof e[h]?e[h]:(null===s&&(s=o.split("."),s.unshift(o)),!_g(c)&&c<s.length?vg(e,s[c]):""):vg(e,i):"$"}))}function Sg(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}class kg{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new xg(e,t);let i=xg.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new xg(e,t),this._entries[i]=n,n)}}kg._INSTANCE=new kg(5);class xg{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return xg._equals(this,e)}push(e){return kg.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return kg.create(this.parent,e)}}class Lg{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new Lg(this.modeId,this.state)}}class Eg{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new Dg(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Dg(e,t);let i=xg.getStackElementId(e),n=this._entries[i];return n||(n=new Dg(e,null),this._entries[i]=n,n)}}Eg._INSTANCE=new Eg(5);class Dg{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:Eg.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof Dg&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class Ng{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new zi(e,t,this._language)))}nestedModeTokenize(e,t,i){const n=t.modeId,o=t.state,s=ih.get(n);if(!s)return this.enterMode(i,n),this.emit(i,""),o;let r=s.tokenize(e,o,i);return this._tokens=this._tokens.concat(r.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,r.endState}finalize(e){return new Ui(this._tokens,e)}}class Tg{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=null!==e?e.length:0,o=t.length,s=null!==i?i.length:0;if(0===n&&0===o&&0===s)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===s)return e;let r=new Uint32Array(n+o+s);null!==e&&r.set(e);for(let a=0;a<o;a++)r[n+a]=t[a];return null!==i&&r.set(i,n+o),r}nestedModeTokenize(e,t,i){const n=t.modeId,o=t.state,s=ih.get(n);if(!s)return this.enterMode(i,n),this.emit(i,""),o;let r=s.tokenize2(e,o,i);return this._prependTokens=Tg._merge(this._prependTokens,this._tokens,r.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,r.endState}finalize(e){return new Ki(Tg._merge(this._prependTokens,this._tokens,null),e)}}class Ig{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._modeId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=ih.onDidChange((e=>{if(o)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){let n=e.changedLanguages[i];if(this._embeddedModes[n]){t=!0;break}}t&&(o=!0,ih.fire([this._modeId]),o=!1)}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=ih.get(t);if(i){if(i instanceof Ig){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const n=ih.getPromise(t);n&&e.push(n)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then((e=>{}))}}getInitialState(){let e=kg.create(null,this._lexer.start);return Eg.create(e,null)}tokenize(e,t,i){let n=new Ng,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenize2(e,t,i){let n=new Tg(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return t.embeddedModeData?this._nestedTokenize(e,t,i,n):this._myTokenize(e,t,i,n)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=Sg(this._lexer,t.stack.state),!i))throw Cg(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const s of i){if(!bg(s.action)||"@pop"!==s.action.nextEmbedded)continue;o=!0;let t=s.regex,i=s.regex.source;if("^(?:"===i.substr(0,4)&&")"===i.substr(i.length-1,1)){let e=(t.ignoreCase?"i":"")+(t.unicode?"u":"");t=new RegExp(i.substr(4,i.length-5),e)}let r=e.search(t);-1===r||0!==r&&s.matchOnlyAtLineStart||(-1===n||r<n)&&(n=r)}if(!o)throw Cg(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n){let o=this._findLeavingNestedModeOffset(e,t);if(-1===o){let o=n.nestedModeTokenize(e,t.embeddedModeData,i);return Eg.create(t.stack,new Lg(t.embeddedModeData.modeId,o))}let s=e.substring(0,o);s.length>0&&n.nestedModeTokenize(s,t.embeddedModeData,i);let r=e.substring(o);return this._myTokenize(r,t,i+o,n)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n){n.enterMode(i,this._modeId);const o=e.length;let s=t.embeddedModeData,r=t.stack,a=0,l=null,d=!0;for(;d||a<o;){const t=a,u=r.depth,g=l?l.groups.length:0,m=r.state;let p=null,f=null,b=null,_=null,v=null;if(l){p=l.matches;const e=l.groups.shift();f=e.matched,b=e.action,_=l.rule,0===l.groups.length&&(l=null)}else{if(!d&&a>=o)break;d=!1;let t=this._lexer.tokenizer[m];if(!t&&(t=Sg(this._lexer,m),!t))throw Cg(this._lexer,"tokenizer state is not defined: "+m);let i=e.substr(a);for(const e of t)if((0===a||!e.matchOnlyAtLineStart)&&(p=i.match(e.regex),p)){f=p[0],b=e.action;break}}if(p||(p=[""],f=""),b||(a<o&&(p=[e.charAt(a)],f=p[0]),b=this._lexer.defaultToken),null===f)break;for(a+=f.length;pg(b)&&bg(b)&&b.test;)b=b.test(f,p,m,a===o);let w=null;if("string"==typeof b||Array.isArray(b))w=b;else if(b.group)w=b.group;else if(null!==b.token&&void 0!==b.token){if(w=b.tokenSubst?yg(this._lexer,b.token,f,p,m):b.token,b.nextEmbedded)if("@pop"===b.nextEmbedded){if(!s)throw Cg(this._lexer,"cannot pop embedded mode if not inside one");s=null}else{if(s)throw Cg(this._lexer,"cannot enter embedded mode from within an embedded mode");v=yg(this._lexer,b.nextEmbedded,f,p,m)}if(b.goBack&&(a=Math.max(0,a-b.goBack)),b.switchTo&&"string"==typeof b.switchTo){let e=yg(this._lexer,b.switchTo,f,p,m);if("@"===e[0]&&(e=e.substr(1)),!Sg(this._lexer,e))throw Cg(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(_));r=r.switchTo(e)}else{if(b.transform&&"function"==typeof b.transform)throw Cg(this._lexer,"action.transform not supported");if(b.next)if("@push"===b.next){if(r.depth>=this._lexer.maxStack)throw Cg(this._lexer,"maximum tokenizer stack size reached: ["+r.state+","+r.parent.state+",...]");r=r.push(m)}else if("@pop"===b.next){if(r.depth<=1)throw Cg(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));r=r.pop()}else if("@popall"===b.next)r=r.popall();else{let e=yg(this._lexer,b.next,f,p,m);if("@"===e[0]&&(e=e.substr(1)),!Sg(this._lexer,e))throw Cg(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(_));r=r.push(e)}}b.log&&"string"==typeof b.log&&(c=this._lexer,h=this._lexer.languageId+": "+yg(this._lexer,b.log,f,p,m),console.log(`${c.languageId}: ${h}`))}if(null===w)throw Cg(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));const C=t=>{let s=this._modeService.getModeIdForLanguageName(t);s&&(t=s);const l=this._getNestedEmbeddedModeData(t);if(a<o){const t=e.substr(a);return this._nestedTokenize(t,Eg.create(r,l),i+a,n)}return Eg.create(r,l)};if(Array.isArray(w)){if(l&&l.groups.length>0)throw Cg(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if(p.length!==w.length+1)throw Cg(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));let e=0;for(let t=1;t<p.length;t++)e+=p[t].length;if(e!==f.length)throw Cg(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));l={rule:_,matches:p,groups:[]};for(let t=0;t<w.length;t++)l.groups[t]={action:w[t],matched:p[t+1]};a-=f.length}else{{if("@rematch"===w&&(a-=f.length,f="",p=null,w="",null!==v))return C(v);if(0===f.length){if(0===o||u!==r.depth||m!==r.state||(l?l.groups.length:0)!==g)continue;throw Cg(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_))}let e=null;if(fg(w)&&0===w.indexOf("@brackets")){let t=w.substr("@brackets".length),i=Mg(this._lexer,f);if(!i)throw Cg(this._lexer,"@brackets token returned but no bracket defined as: "+f);e=wg(i.token+t)}else{e=wg(""===w?"":w+this._lexer.tokenPostfix)}n.emit(t+i,e)}if(null!==v)return C(v)}}var c,h;return Eg.create(r,s)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=ih.get(t);if(e)return new Lg(t,e.getInitialState())}return new Lg(t||"vs.editor.nullMode",nh)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function Mg(e,t){if(!t)return null;t=vg(e,t);let i=e.brackets;for(const n of i){if(n.open===t)return{token:n.token,bracketType:1};if(n.close===t)return{token:n.token,bracketType:-1}}return null}class Rg{static colorizeElement(e,t,i,n){let o=(n=n||{}).theme||"vs",s=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let r=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;return this.colorize(t,r||"",s,n).then((e=>{i.innerHTML=e}),(e=>console.error(e)))}static colorize(e,t,i,n){let o=4;n&&"number"==typeof n.tabSize&&(o=n.tabSize),Ca(t)&&(t=t.substr(1));let s=t.split(/\r\n|\r|\n/),r=e.getModeId(i);if(!r)return Promise.resolve(Og(s,o));e.triggerMode(r);const a=ih.get(r);if(a)return Ag(s,o,a);const l=ih.getPromise(r);return new Promise(l?(e,t)=>{l.then((i=>{Ag(s,o,i).then(e,t)}),t)}:(e,t)=>{let i=null,n=null;const a=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);const a=ih.get(r);a?Ag(s,o,a).then(e,t):e(Og(s,o))};n=new $o,n.cancelAndSet(a,500),i=ih.onDidChange((e=>{e.changedLanguages.indexOf(r)>=0&&a()}))})}static colorizeLine(e,t,i,n,o=4){const s=ug.isBasicASCII(e,t),r=ug.containsRTL(e,s,i);return ag(new ig(!1,!0,e,!1,s,r,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let o=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}function Ag(e,t,i){return new Promise(((n,o)=>{const s=()=>{const r=function(e,t,i){let n=[],o=i.getInitialState();for(let s=0,r=e.length;s<r;s++){let r=e[s],a=i.tokenize2(r,o,0);Zu.convertToEndOffset(a.tokens,r.length);let l=new Zu(a.tokens,r);const d=ug.isBasicASCII(r,!0),c=ug.containsRTL(r,d,!0);let h=ag(new ig(!1,!0,r,!1,d,c,0,l.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(h.html),n.push("<br/>"),o=a.endState}return n.join("")}(e,t,i);if(i instanceof Ig){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(s,o)}n(r)};s()}))}function Og(e,t){let i=[];const n=new Uint32Array(2);n[0]=0,n[1]=16793600;for(let o=0,s=e.length;o<s;o++){let s=e[o];n[0]=s.length;const r=new Zu(n,s),a=ug.isBasicASCII(s,!0),l=ug.containsRTL(s,a,!0);let d=ag(new ig(!1,!0,s,!1,a,l,0,r,[],t,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(d.html),i.push("<br/>")}return i.join("")}var Pg,Fg;(Fg=Pg||(Pg={}))[Fg.Ignore=0]="Ignore",Fg[Fg.Info=1]="Info",Fg[Fg.Warning=2]="Warning",Fg[Fg.Error=3]="Error",function(e){e.fromValue=function(t){return t?ea("error",t)?e.Error:ea("warning",t)||ea("warn",t)?e.Warning:ea("info",t)?e.Info:e.Ignore:e.Ignore}}(Pg||(Pg={}));var Wg=Pg;function Bg(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===Bl.ICodeEditor}function Vg(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===Bl.IDiffEditor}function Hg(e){return Bg(e)?e:Vg(e)?e.getModifiedEditor():null}const zg=co("IWorkspaceEditService");class Ug{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(Xa(t=e)&&Di.isUri(t.resource)&&Xa(t.edit))return new Kg(e.resource,e.edit,e.modelVersionId,e.metadata);var t;if(function(e){return Xa(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new qg(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}class Kg extends Ug{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i,this.metadata=n}}class qg extends Ug{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i,this.metadata=n}}const $g=new class{constructor(){this.data=new Map}add(e,t){xl(Qa(e)),xl(Xa(t)),xl(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},jg="base.contributions.json";const Gg=new class{constructor(){this._onDidChangeSchema=new Pt,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};$g.add(jg,Gg);const Zg="base.contributions.configuration",Yg={properties:{},patternProperties:{}},Jg={properties:{},patternProperties:{}},Qg={properties:{},patternProperties:{}},Xg={properties:{},patternProperties:{}},em={properties:{},patternProperties:{}},tm={properties:{},patternProperties:{}},im=$g.as(jg);const nm=new RegExp("\\[.*\\]$");function om(e){return e.substring(1,e.length-1)}const sm=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Pt,this._onDidUpdateConfiguration=new Pt,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:ue("vs/platform/configuration/common/configurationRegistry","defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},im.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=[];e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),im.registerSchema("vscode://schemas/settings/resourceLanguage",this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,i=3){i=nl(e.scope)?i:e.scope;let n=[],o=e.properties;if(o)for(let r in o){if(t&&rm(r)){delete o[r];continue}const e=o[r];this.updatePropertyDefaultValue(r,e),nm.test(r)?e.scope=void 0:e.scope=nl(e.scope)?i:e.scope,!o[r].hasOwnProperty("included")||o[r].included?(this.configurationProperties[r]=o[r],!o[r].deprecationMessage&&o[r].markdownDeprecationMessage&&(o[r].deprecationMessage=o[r].markdownDeprecationMessage),n.push(r)):(this.excludedConfigurationProperties[r]=o[r],delete o[r])}let s=e.allOf;if(s)for(let r of s)n.push(...this.validateAndRegisterProperties(r,t,i));return n}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const t in i)this.updateSchema(t,i[t]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(Yg.properties[e]=t,t.scope){case 1:Jg.properties[e]=t;break;case 2:Qg.properties[e]=t;break;case 6:Xg.properties[e]=t;break;case 3:em.properties[e]=t;break;case 4:tm.properties[e]=t;break;case 5:tm.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:ue("vs/platform/configuration/common/configurationRegistry","overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:ue("vs/platform/configuration/common/configurationRegistry","overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:"vscode://schemas/settings/resourceLanguage"};this.updatePropertyDefaultValue(t,i),Yg.properties[t]=i,Jg.properties[t]=i,Qg.properties[t]=i,Xg.properties[t]=i,em.properties[t]=i,tm.properties[t]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];il(i)&&(i=t.default),il(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function rm(e){return nm.test(e)?ue("vs/platform/configuration/common/configurationRegistry","config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==sm.getConfigurationProperties()[e]?ue("vs/platform/configuration/common/configurationRegistry","config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null}$g.add(Zg,sm);const am=Object.prototype.hasOwnProperty;class lm{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}const dm=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new Pt,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},cm=Object.hasOwnProperty;class hm{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class um{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class gm{static readOptions(e){const t=e,i=new um;for(const n of ut){const e="_never_"===n.name?void 0:t[n.name];i._write(n.id,e)}return i}static validateOptions(e){const t=new He;for(const i of ut)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new hm;for(const n of ut)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&Jo(e,t);for(let i in e)if(!gm._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const o of ut){const s=!gm._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(n=!0)}return n?new Ve(i):null}}function mm(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const i=e.lineNumbers;!0===i?e.lineNumbers="on":!1===i&&(e.lineNumbers="off");!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const n=e.renderWhitespace;!0===n?e.renderWhitespace="boundary":!1===n&&(e.renderWhitespace="none");const o=e.renderLineHighlight;!0===o?e.renderLineHighlight="line":!1===o&&(e.renderLineHighlight="none");const s=e.acceptSuggestionOnEnter;!0===s?e.acceptSuggestionOnEnter="on":!1===s&&(e.acceptSuggestionOnEnter="off");const r=e.tabCompletion;!1===r?e.tabCompletion="off":!0===r&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let i in e)if(am.call(e,i)&&!1===t({key:i,value:e[i]},(function(){delete e[i]})))return})(e,(e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)}))}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const d=e.parameterHints;!0===d?e.parameterHints={enabled:!0}:!1===d&&(e.parameterHints={enabled:!1});const c=e.autoIndent;!0===c?e.autoIndent="full":!1===c&&(e.autoIndent="advanced");const h=e.matchBrackets;!0===h?e.matchBrackets="always":!1===h&&(e.matchBrackets="never")}function pm(e){const t=Ll(e);return mm(t),t}class fm extends It{constructor(e,t){super(),this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new Pt),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new ze,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=pm(t),this._readOptions=gm.readOptions(this._rawOptions),this._validatedOptions=gm.validateOptions(this._readOptions),this._register(Ol.onDidChangeZoomLevel((e=>this._recomputeOptions()))),this._register(dm.onDidChangeTabFocus((e=>this._recomputeOptions())))}observeReferenceElement(e){}dispose(){super.dispose()}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const i=gm.checkEquals(e,t);if(null===i)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=Fl.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:dm.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return gm.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(cm.call(t,i)){const n=t[i],o=e[i];if(o===n)continue;if(Array.isArray(o)&&Array.isArray(n)){if(!Jo(o,n))return!1;continue}if(o&&"object"==typeof o&&n&&"object"==typeof n){if(!this._subsetEquals(o,n))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=pm(e);fm._subsetEquals(this._rawOptions,t)||(this._rawOptions=Tl(this._rawOptions,t||{}),this._readOptions=gm.readOptions(this._rawOptions),this._validatedOptions=gm.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=fm._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const bm=Object.freeze({id:"editor",order:5,type:"object",title:ue("vs/editor/common/config/commonEditorConfig","editorConfigurationTitle","Editor"),scope:5}),_m=$g.as(Zg),vm=Object.assign(Object.assign({},bm),{properties:{"editor.tabSize":{type:"number",default:rt,minimum:1,markdownDescription:ue("vs/editor/common/config/commonEditorConfig","tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:lt,markdownDescription:ue("vs/editor/common/config/commonEditorConfig","insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:dt,markdownDescription:ue("vs/editor/common/config/commonEditorConfig","detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:ct,description:ue("vs/editor/common/config/commonEditorConfig","trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:ht,description:ue("vs/editor/common/config/commonEditorConfig","largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:ue("vs/editor/common/config/commonEditorConfig","wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[ue("vs/editor/common/config/commonEditorConfig","semanticHighlighting.true","Semantic highlighting enabled for all color themes."),ue("vs/editor/common/config/commonEditorConfig","semanticHighlighting.false","Semantic highlighting disabled for all color themes."),ue("vs/editor/common/config/commonEditorConfig","semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:ue("vs/editor/common/config/commonEditorConfig","semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:ue("vs/editor/common/config/commonEditorConfig","stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:ue("vs/editor/common/config/commonEditorConfig","maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:ue("vs/editor/common/config/commonEditorConfig","maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:ue("vs/editor/common/config/commonEditorConfig","sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:ue("vs/editor/common/config/commonEditorConfig","ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:ue("vs/editor/common/config/commonEditorConfig","renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:ue("vs/editor/common/config/commonEditorConfig","codeLens","Controls whether the editor shows CodeLens.")}}});for(const TZ of ut){const e=TZ.schema;if(void 0!==e)if(void 0!==(wm=e).type||void 0!==wm.anyOf)vm.properties[`editor.${TZ.name}`]=e;else for(let t in e)cm.call(e,t)&&(vm.properties[t]=e[t])}var wm;let Cm=null;function ym(){return null===Cm&&(Cm=Object.create(null),Object.keys(vm.properties).forEach((e=>{Cm[e]=!0}))),Cm}_m.registerConfiguration(vm);class Sm{static insert(e,t){return{range:new Vi(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}const km=co("configurationService");function xm(e,t){const i=Object.create(null);for(let n in e)Lm(i,n,e[n],t);return i}function Lm(e,t,i,n){const o=t.split("."),s=o.pop();let r=e;for(let a=0;a<o.length;a++){let e=o[a],i=r[e];switch(typeof i){case"undefined":i=r[e]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,a+1).join(".")} is ${JSON.stringify(i)}`)}r=i}if("object"==typeof r&&null!==r)try{r[s]=i}catch(le){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(r)}`)}function Em(e,t){Dm(e,t.split("."))}function Dm(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(Dm(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}class Nm{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,i){const n=function(e,t){let i=e;for(const n of t){if("object"!=typeof i||null===i)return;i=i[n]}return i}(e,t.split("."));return void 0===n?i:n}(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const n of rs([...Object.keys(this.contents),...Object.keys(t)])){let e=this.contents[n],o=t[n];o&&("object"==typeof e&&"object"==typeof o?(e=Ll(e),this.mergeContents(e,o)):e=o),i[n]=e}return new Nm(i,this.keys,this.overrides)}merge(...e){const t=Ll(this.contents),i=Ll(this.overrides),n=[...this.keys];for(const o of e){this.mergeContents(t,o.contents);for(const e of o.overrides){const[t]=i.filter((t=>Jo(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):i.push(Ll(e))}for(const e of o.keys)-1===n.indexOf(e)&&n.push(e)}return new Nm(t,n,i)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const i of Object.keys(t))i in e&&Xa(e[i])&&Xa(t[i])?this.mergeContents(e[i],t[i]):e[i]=Ll(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(El.call(e,i)){const n=e[i];"object"!=typeof n||Object.isFrozen(n)||t.push(n)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Lm(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&Em(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class Tm extends Nm{constructor(){const e=function(){const e=Object.create(null),t=$g.as(Zg).getConfigurationProperties();for(let i in t)Lm(e,i,t[i].default,(e=>console.error(`Conflict in default settings: ${e}`)));return e}(),t=function(){const e=$g.as(Zg).getConfigurationProperties();return Object.keys(e)}(),i=[];for(const n of Object.keys(e))nm.test(n)&&i.push({identifiers:[om(n).trim()],keys:Object.keys(e[n]),contents:xm(e[n],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,i)}}class Im{constructor(e,t,i=new Nm,n=new Nm,o=new Jl,s=new Nm,r=new Jl,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=r,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Jl,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new Nm,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),o=e.folders.reduce(((e,t)=>(e.set(Di.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new Jl);return new Im(t,i,new Nm,n,o,new Nm,new Jl,!1)}static parseConfigurationModel(e){return new Nm(e.contents,e.keys,e.overrides).freeze()}}class Mm{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach((e=>o.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>o.add(e))))),this.affectedKeys=[...o.values()];const s=new Nm;this.affectedKeys.forEach((e=>s.setValue(e,{}))),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Im.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!Il(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=xm({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}class Rm extends It{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new Pt),this._currentChord=null,this._currentChordChecker=new jo,this._currentChordStatusMessage=null,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:St.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybindings(e){return ns(this._getResolver().lookupKeybindings(e).map((e=>e.resolvedKeybinding)))}lookupKeybinding(e){const t=this._getResolver().lookupPrimaryKeybinding(e);if(t)return t.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(ue("vs/platform/keybinding/common/abstractKeybindingService","first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t)}_doDispatch(e,t){let i=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;const[n]=e.getDispatchParts();if(null===n)return this._log("\\ Keyboard event cannot be dispatched."),i;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null,r=e.getLabel(),a=this._getResolver().resolve(o,s,n);return this._logService.trace("KeybindingService#dispatch",r,null==a?void 0:a.commandId),a&&a.enterChord?(i=!0,this._enterChordMode(n,r),i):(this._currentChord&&(a&&a.commandId||(this._notificationService.status(ue("vs/platform/keybinding/common/abstractKeybindingService","missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,r),{hideAfter:1e4}),i=!0)),this._leaveChordMode(),a&&a.commandId&&(a.bubble||(i=!0),void 0===a.commandArgs?this._commandService.executeCommand(a.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(a.commandId,a.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),this._telemetryService.publicLog2("workbenchActionExecuted",{id:a.commandId,from:"keybinding"})),i)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class Am{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let n=0,o=e.length;n<o;n++){const t=e[n].command;t&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Am.combine(e,t);for(let n=0,o=this._keybindings.length;n<o;n++){let e=this._keybindings[n];0!==e.keypressParts.length&&(e.when&&0===e.when.type||this._addKeyPress(e.keypressParts[0],e))}}static _isTargetedForRemoval(e,t,i,n,o){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!o.equals(e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),o=n.keypressParts[0],s=n.keypressParts[1],r=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],o,s,t,r)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let n=i.length-1;n>=0;n--){let e=i[n];if(e.command===t.command)continue;const o=e.keypressParts.length>1,s=t.keypressParts.length>1;o&&s&&e.keypressParts[1]!==t.keypressParts[1]||Am.whenIsEntirelyIncluded(e.when,t.when)&&this._removeFromLookupMap(e)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||!!e&&this._implies(e,t)}static _implies(e,t){const i=e=>9===e.type?e.expr:[e];let n=i(e.negate()).concat(i(t));for(let o=0;o<n.length;o++){const e=n[o].negate();for(let t=o+1;t<n.length;t++){const i=n[t];if(e.equals(i))return!0}}return!1}getKeybindings(){return this._keybindings}lookupKeybindings(e){let t=this._lookupMap.get(e);if(void 0===t||0===t.length)return[];let i=[],n=0;for(let o=t.length-1;o>=0;o--)i[n++]=t[o];return i}lookupPrimaryKeybinding(e){let t=this._lookupMap.get(e);return void 0===t||0===t.length?null:t[t.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){let o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${Om(o.when)}, source: ${Pm(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${Om(o.when)}, source: ${Pm(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(Am.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function Om(e){return e?`${e.serialize()}`:"no when condition"}function Pm(e){return e.isDefault?e.extensionId?`built-in extension ${e.extensionId}`:"built-in":e.extensionId?`user extension ${e.extensionId}`:"user"}class Fm{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===Me){if(e&&e.win)return e.win}else if(2===Me){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=Fm.bindToCurrentPlatform(e);if(t&&t.primary){const i=Qt(t.primary,Me);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){const n=Qt(t.secondary[i],Me);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),ul.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&Fm._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,s){1===Me&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Bm)),this._cachedMergedKeybindings.slice(0)}}const Wm=new Fm;function Bm(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}$g.add("platform.keybindingsRegistry",Wm);class Vm{constructor(e,t,i,n,o,s){this.resolvedKeybinding=e,this.keypressParts=e?function(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}(e.getDispatchParts()):[],this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=o,this.extensionId=s}}class Hm{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=i(s);if(null===r)return null;n[o]=Km(s,r,this.modifierLabels[e])}return n.join(" ")}}const zm=new Hm({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:ue("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:ue("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:ue("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:ue("vs/base/common/keybindingLabels",{key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:ue("vs/base/common/keybindingLabels",{key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:ue("vs/base/common/keybindingLabels",{key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:ue("vs/base/common/keybindingLabels",{key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:ue("vs/base/common/keybindingLabels",{key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Um=new Hm({ctrlKey:ue("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ue("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ue("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:ue("vs/base/common/keybindingLabels",{key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:ue("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ue("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ue("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:ue("vs/base/common/keybindingLabels",{key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:ue("vs/base/common/keybindingLabels",{key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:ue("vs/base/common/keybindingLabels",{key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:ue("vs/base/common/keybindingLabels",{key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:ue("vs/base/common/keybindingLabels",{key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function Km(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}class qm extends class extends class{}{constructor(e,t){if(super(),0===t.length)throw Ct("parts");this._os=e,this._parts=t}getLabel(){return zm.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return Um.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new ii(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}}{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return Zt.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Zt.toString(e.keyCode)}_getDispatchPart(e){return qm.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Zt.toString(e.keyCode),t}}const $m=co("notificationService");const jm=co("contextService");var Gm,Zm,Ym,Jm,Qm,Xm,ep,tp,ip,np,op,sp,rp,ap,lp;(Gm||(Gm={})).isIWorkspace=function(e){return!(!e||"object"!=typeof e||"string"!=typeof e.id||!Array.isArray(e.folders))},(Zm||(Zm={})).isIWorkspaceFolder=function(e){return!(!e||"object"!=typeof e||!Di.isUri(e.uri)||"string"!=typeof e.name||"function"!=typeof e.toResource)};class dp{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toResource(e){return Ka(this.uri,e)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}(Jm=Ym||(Ym={})).noSelection=ue("vs/editor/common/standaloneStrings","noSelection","No selection"),Jm.singleSelectionRange=ue("vs/editor/common/standaloneStrings","singleSelectionRange","Line {0}, Column {1} ({2} selected)"),Jm.singleSelection=ue("vs/editor/common/standaloneStrings","singleSelection","Line {0}, Column {1}"),Jm.multiSelectionRange=ue("vs/editor/common/standaloneStrings","multiSelectionRange","{0} selections ({1} characters selected)"),Jm.multiSelection=ue("vs/editor/common/standaloneStrings","multiSelection","{0} selections"),Jm.emergencyConfOn=ue("vs/editor/common/standaloneStrings","emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),Jm.openingDocs=ue("vs/editor/common/standaloneStrings","openingDocs","Now opening the Editor Accessibility documentation page."),Jm.readonlyDiffEditor=ue("vs/editor/common/standaloneStrings","readonlyDiffEditor"," in a read-only pane of a diff editor."),Jm.editableDiffEditor=ue("vs/editor/common/standaloneStrings","editableDiffEditor"," in a pane of a diff editor."),Jm.readonlyEditor=ue("vs/editor/common/standaloneStrings","readonlyEditor"," in a read-only code editor"),Jm.editableEditor=ue("vs/editor/common/standaloneStrings","editableEditor"," in a code editor"),Jm.changeConfigToOnMac=ue("vs/editor/common/standaloneStrings","changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),Jm.changeConfigToOnWinLinux=ue("vs/editor/common/standaloneStrings","changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),Jm.auto_on=ue("vs/editor/common/standaloneStrings","auto_on","The editor is configured to be optimized for usage with a Screen Reader."),Jm.auto_off=ue("vs/editor/common/standaloneStrings","auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),Jm.tabFocusModeOnMsg=ue("vs/editor/common/standaloneStrings","tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),Jm.tabFocusModeOnMsgNoKb=ue("vs/editor/common/standaloneStrings","tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),Jm.tabFocusModeOffMsg=ue("vs/editor/common/standaloneStrings","tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),Jm.tabFocusModeOffMsgNoKb=ue("vs/editor/common/standaloneStrings","tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),Jm.openDocMac=ue("vs/editor/common/standaloneStrings","openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),Jm.openDocWinLinux=ue("vs/editor/common/standaloneStrings","openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),Jm.outroMsg=ue("vs/editor/common/standaloneStrings","outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),Jm.showAccessibilityHelpAction=ue("vs/editor/common/standaloneStrings","showAccessibilityHelpAction","Show Accessibility Help"),(Qm||(Qm={})).inspectTokensAction=ue("vs/editor/common/standaloneStrings","inspectTokens","Developer: Inspect Tokens"),(Xm||(Xm={})).gotoLineActionLabel=ue("vs/editor/common/standaloneStrings","gotoLineActionLabel","Go to Line/Column..."),(ep||(ep={})).helpQuickAccessActionLabel=ue("vs/editor/common/standaloneStrings","helpQuickAccess","Show all Quick Access Providers"),(ip=tp||(tp={})).quickCommandActionLabel=ue("vs/editor/common/standaloneStrings","quickCommandActionLabel","Command Palette"),ip.quickCommandHelp=ue("vs/editor/common/standaloneStrings","quickCommandActionHelp","Show And Run Commands"),(op=np||(np={})).quickOutlineActionLabel=ue("vs/editor/common/standaloneStrings","quickOutlineActionLabel","Go to Symbol..."),op.quickOutlineByCategoryActionLabel=ue("vs/editor/common/standaloneStrings","quickOutlineByCategoryActionLabel","Go to Symbol by Category..."),(rp=sp||(sp={})).editorViewAccessibleLabel=ue("vs/editor/common/standaloneStrings","editorViewAccessibleLabel","Editor content"),rp.accessibilityHelpMessage=ue("vs/editor/common/standaloneStrings","accessibilityHelpMessage","Press Alt+F1 for Accessibility Options."),(ap||(ap={})).toggleHighContrast=ue("vs/editor/common/standaloneStrings","toggleHighContrast","Toggle High Contrast Theme"),(lp||(lp={})).bulkEditServiceSummary=ue("vs/editor/common/standaloneStrings","bulkEditServiceSummary","Made {0} edits in {1} files");var cp=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},hp=function(e,t){return function(i,n){t(i,n,e)}},up=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class gp{constructor(e){this.disposed=!1,this.model=e,this._onDispose=new Pt}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onDispose.fire()}}let mp=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,o;return this.editor&&(i=this.editor,n=t=>this.findModel(t,e),o=t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e),t=Bg(i)?n(i):o(i)),t?Promise.resolve(new Rt(new gp(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};mp=cp([hp(0,wd)],mp);class pp{show(){return pp.NULL_PROGRESS_RUNNER}showWhile(e,t){return Promise.resolve(void 0)}}pp.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class fp{confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}class bp{info(e){return this.notify({severity:Wg.Info,message:e})}warn(e){return this.notify({severity:Wg.Warning,message:e})}error(e){return this.notify({severity:Wg.Error,message:e})}notify(e){switch(e.severity){case Wg.Error:console.error(e.message);break;case Wg.Warning:console.warn(e.message);break;default:console.log(e.message)}return bp.NO_OP}status(e,t){return It.None}}bp.NO_OP=new class{};class _p{constructor(e){this._onWillExecuteCommand=new Pt,this._onDidExecuteCommand=new Pt,this._instantiationService=e}executeCommand(e,...t){const i=ul.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(n){return Promise.reject(n)}}}class vp extends Rm{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(Ms(s,pr.KEY_DOWN,(e=>{let t=new Mo(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())})))}addDynamicKeybinding(e,t,i,n){const o=Qt(t,Me),s=new Tt;return o&&(this._dynamicKeybindings.push({keybinding:o,command:e,when:n,weight1:1e3,weight2:0,extensionId:null}),s.add(Nt((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}})))),s.add(ul.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Wm.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Am(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const o of e){const e=o.when||void 0,s=o.keybinding;if(s){const r=this.resolveKeybinding(s);for(const s of r)i[n++]=new Vm(s,o.command,o.commandArgs,e,t,null)}else i[n++]=new Vm(void 0,o.command,o.commandArgs,e,t,null)}return i}resolveKeybinding(e){return[new qm(e,Me)]}resolveKeyboardEvent(e){let t=new ei(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new qm(t,Me)}}function wp(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof Di)}class Cp{constructor(){this._onDidChangeConfiguration=new Pt,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Im(new Tm,new Nm)}getValue(e,t){const i="string"==typeof e?e:void 0,n=wp(e)?e:wp(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const n of e){const[e,t]=n;this.getValue(e)!==t&&(this._configuration.updateValue(e,t),i.push(e))}if(i.length>0){const e=new Mm({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}class yp{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new Pt,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=(Bi.isIPosition(t)?t:null)?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}}let Sp=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"auto"!==i?i:Le||xe?"\n":"\r\n"}};Sp=cp([hp(0,km)],Sp);class kp{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class xp{constructor(){const e=Di.from({scheme:xp.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new dp({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===xp.SCHEME?this.workspace.folders[0]:null}}function Lp(e,t,i){if(!t)return;if(!(e instanceof Cp))return;let n=[];Object.keys(t).forEach((e=>{(function(e){return ym()[`editor.${e}`]||!1})(e)&&n.push([`editor.${e}`,t[e]]),i&&function(e){return ym()[`diffEditor.${e}`]||!1}(e)&&n.push([`diffEditor.${e}`,t[e]])})),n.length>0&&e.updateValues(n)}xp.SCHEME="inmemory";class Ep{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return up(this,void 0,void 0,(function*(){const t=new Map;for(let o of e){if(!(o instanceof Kg))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(o.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof o.versionId&&e.getVersionId()!==o.versionId)throw new Error("bad state - model changed in the meantime");let i=t.get(e);i||(i=[],t.set(e,i)),i.push(Sm.replaceMove(Vi.lift(o.textEdit.range),o.textEdit.text))}let i=0,n=0;for(const[e,o]of t)e.pushStackElement(),e.pushEditOperations([],o,(()=>[])),e.pushStackElement(),n+=1,i+=o.length;return{ariaSummary:Pr(lp.bulkEditServiceSummary,i,n)}}))}}class Dp{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}class Np{constructor(e,t){this._codeEditorService=e,this._container=t,this.onLayout=St.None}get dimension(){return this._dimension||(this._dimension=$s(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}let Tp,Ip,Mp,Rp,Ap;function Op(e){Tp&&(Ip.textContent!==e?(Cs(Mp),Fp(Ip,e)):(Cs(Ip),Fp(Mp,e)))}function Pp(e){Tp&&(xe?Op(e):Rp.textContent!==e?(Cs(Ap),Fp(Rp,e)):(Cs(Rp),Fp(Ap,e)))}function Fp(e,t){Cs(e),t.length>2e4&&(t=t.substr(0,2e4)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}class Wp{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class Bp{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);const n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const s of this._requests){let e;0===s.type&&(e=t),2===s.type&&(e=i),1===s.type&&(e=n),e.appendChild(document.createElement("br"));const r=document.createElement("span");Bp._render(r,s),e.appendChild(r),o.push(r)}this._container=e,this._testElements=o}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}class Vp extends It{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver((e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()})),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval((()=>this.observe()),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}class Hp{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map((e=>this._values[e]))}}class zp extends It{constructor(){super(),this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._cache=new Hp,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new Hp,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()}),5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(let i=0,n=e.length;i<n;i++){const n=e[i];n.isTrusted||(t=!0,this._cache.remove(n))}t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=zp._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new Wl({zoomLevel:mo(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){const o=new Wp(e,t);return i.push(o),n&&n.push(o),o}static _actualReadConfiguration(e){const t=[],i=[],n=this.createRequest("n",0,t,i),o=this.createRequest("ｍ",0,t,null),s=this.createRequest(" ",0,t,i),r=this.createRequest("0",0,t,i),a=this.createRequest("1",0,t,i),l=this.createRequest("2",0,t,i),d=this.createRequest("3",0,t,i),c=this.createRequest("4",0,t,i),h=this.createRequest("5",0,t,i),u=this.createRequest("6",0,t,i),g=this.createRequest("7",0,t,i),m=this.createRequest("8",0,t,i),p=this.createRequest("9",0,t,i),f=this.createRequest("→",0,t,i),b=this.createRequest("￫",0,t,null),_=this.createRequest("·",0,t,i),v=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),function(e,t){new Bp(e,t).read()}(e,t);const w=Math.max(r.width,a.width,l.width,d.width,c.width,h.width,u.width,g.width,m.width,p.width);let C=e.fontFeatureSettings===et.OFF;const y=i[0].width;for(let x=1,L=i.length;C&&x<L;x++){const e=y-i[x].width;if(e<-.001||e>.001){C=!1;break}}let S=!0;C&&b.width!==y&&(S=!1),b.width>f.width&&(S=!1);const k=go.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new Wl({zoomLevel:mo(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:C,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:S,spaceWidth:s.width,middotWidth:_.width,wsmiddotWidth:v.width,maxDigitWidth:w},k)}}zp.INSTANCE=new zp;class Up extends fm{constructor(e,t,i=null,n){super(e,t),this.accessibilityService=n,this._elementSizeObserver=this._register(new Vp(i,t.dimension,(()=>this._onReferenceDomElementSizeChanged()))),this._register(zp.INSTANCE.onDidChange((()=>this._onCSSBasedConfigurationChanged()))),this._validatedOptions.get(9)&&this._elementSizeObserver.startObserving(),this._register(po((e=>this._recomputeOptions()))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized((()=>this._recomputeOptions()))),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}_onReferenceDomElementSizeChanged(){this._recomputeOptions()}_onCSSBasedConfigurationChanged(){this._recomputeOptions()}observeReferenceElement(e){this._elementSizeObserver.observe(e)}dispose(){super.dispose()}_getExtraEditorClassName(){let e="";return Co||yo||(e+="no-user-select "),xe&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:vo||_o,pixelRatio:go.INSTANCE.getPixelRatio(),zoomLevel:mo(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return zp.INSTANCE.readConfiguration(e)}}var Kp=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class qp extends It{constructor(e,t="",i="",n=!0,o){super(),this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return this._actionCallback?this._actionCallback(e):Promise.resolve(!0)}}class $p extends It{constructor(){super(...arguments),this._onDidBeforeRun=this._register(new Pt),this.onDidBeforeRun=this._onDidBeforeRun.event,this._onDidRun=this._register(new Pt),this.onDidRun=this._onDidRun.event}run(e,t){return Kp(this,void 0,void 0,(function*(){if(!e.enabled)return Promise.resolve(null);this._onDidBeforeRun.fire({action:e});try{const i=yield this.runAction(e,t);this._onDidRun.fire({action:e,result:i})}catch(i){this._onDidRun.fire({action:e,error:i})}}))}runAction(e,t){const i=t?e.run(t):e.run();return Promise.resolve(i)}}class jp extends qp{constructor(e){super(jp.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}jp.ID="vs.actions.separator";class Gp extends qp{constructor(e,t,i,n){super(e,t,n,!0),this._actions=i}get actions(){return Array.isArray(this._actions)?this._actions:this._actions()}}const Zp=new Map;Zp.set("false",!1),Zp.set("true",!0),Zp.set("isMac",xe),Zp.set("isLinux",Le),Zp.set("isWindows",ke),Zp.set("isWeb",De),Zp.set("isMacNative",xe&&!De);const Yp=Object.prototype.hasOwnProperty;class Jp{static has(e){return tf.create(e)}static equals(e,t){return nf.create(e,t)}static regex(e,t){return lf.create(e,t)}static not(e){return af.create(e)}static and(...e){return cf.create(e)}static or(...e){return hf.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return hf.create(i.map((e=>this._deserializeAndExpression(e,t))))}static _deserializeAndExpression(e,t){let i=e.split("&&");return cf.create(i.map((e=>this._deserializeOne(e,t))))}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return rf.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return nf.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return lf.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return of.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?af.create(e.substr(1).trim()):tf.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Ar(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,n),s="i"===e[n+1]?"i":"";try{return new RegExp(o,s)}catch(le){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${le}`);return console.warn(`bad regexp-value '${e}', parse error: ${le}`),null}}}function Qp(e,t){return e.cmp(t)}class Xp{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return ef.INSTANCE}}Xp.INSTANCE=new Xp;class ef{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return Xp.INSTANCE}}ef.INSTANCE=new ef;class tf{constructor(e){this.key=e,this.type=2}static create(e){const t=Zp.get(e);return"boolean"==typeof t?t?ef.INSTANCE:Xp.INSTANCE:new tf(e)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:0}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return af.create(this.key)}}class nf{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if("boolean"==typeof t)return t?tf.create(e):af.create(e);const i=Zp.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?ef.INSTANCE:Xp.INSTANCE}return new nf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return this.key+" == '"+this.value+"'"}keys(){return[this.key]}negate(){return rf.create(this.key,this.value)}}class of{constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new of(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.valueKey<e.valueKey?-1:this.valueKey>e.valueKey?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&Yp.call(t,i)}serialize(){return this.key+" in '"+this.valueKey+"'"}keys(){return[this.key,this.valueKey]}negate(){return sf.create(this)}}class sf{constructor(e){this._actual=e,this.type=11}static create(e){return new sf(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class rf{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if("boolean"==typeof t)return t?af.create(e):tf.create(e);const i=Zp.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?Xp.INSTANCE:ef.INSTANCE}return new rf(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return this.key+" != '"+this.value+"'"}keys(){return[this.key]}negate(){return nf.create(this.key,this.value)}}class af{constructor(e){this.key=e,this.type=3}static create(e){const t=Zp.get(e);return"boolean"==typeof t?t?Xp.INSTANCE:ef.INSTANCE:new af(e)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:0}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!e.getValue(this.key)}serialize(){return"!"+this.key}keys(){return[this.key]}negate(){return tf.create(this.key)}}class lf{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new lf(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return df.create(this)}}class df{constructor(e){this._actual=e,this.type=8}static create(e){return new df(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class cf{constructor(e){this.expr=e,this.type=6}static create(e){return cf._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Qp(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let i=!1;for(const n of e)if(n)if(1!==n.type){if(0===n.type)return Xp.INSTANCE;6!==n.type?t.push(n):t.push(...n.expr)}else i=!0;if(0===t.length&&i)return ef.INSTANCE;if(0!==t.length){if(1===t.length)return t[0];for(t.sort(Qp);t.length>1;){const e=t[t.length-1];if(9!==e.type)break;t.pop();const i=t.pop(),n=hf.create(e.expr.map((e=>cf.create([e,i]))));n&&(t.push(n),t.sort(Qp))}return new cf(t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return hf.create(e)}}class hf{constructor(e){this.expr=e,this.type=9}static create(e){const t=hf._normalizeArr(e);if(0!==t.length)return 1===t.length?t[0]:new hf(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Qp(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],i=!1;if(e){for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o)if(0!==o.type){if(1===o.type)return[ef.INSTANCE];9!==o.type?t.push(o):t=t.concat(o.expr)}else i=!0}if(0===t.length&&i)return[Xp.INSTANCE];t.sort(Qp)}return t}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let i of this.expr)e.push(i.negate());const t=e=>9===e.type?e.expr:[e];for(;e.length>1;){const i=e.shift(),n=e.shift(),o=[];for(const e of t(i))for(const i of t(n))o.push(Jp.and(e,i));e.unshift(Jp.or(...o))}return e[0]}}class uf extends tf{constructor(e,t){super(e),this._defaultValue=t}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return Jp.not(this.key)}}const gf=co("contextKeyService");var mf=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},pf=function(e,t){return function(i,n){t(i,n,e)}};function ff(e){return void 0!==e.command}class bf{constructor(e){this.id=bf._idPool++,this._debugName=e}}bf._idPool=0,bf.CommandPalette=new bf("CommandPalette"),bf.EditorContext=new bf("EditorContext"),bf.EditorContextPeek=new bf("EditorContextPeek"),bf.MenubarEditMenu=new bf("MenubarEditMenu"),bf.MenubarGoMenu=new bf("MenubarGoMenu"),bf.MenubarSelectionMenu=new bf("MenubarSelectionMenu");const _f=co("menuService"),vf=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Pt,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===bf.CommandPalette}}addCommand(e){return this.addCommands(yt.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Nt((()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){return this.appendMenuItems(yt.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new Ot;for(const{id:n,item:o}of e){let e=this._menuItems.get(n);e||(e=new Ot,this._menuItems.set(n,e)),i.push(e.push(o)),t.add(n)}return this._onDidChangeMenu.fire(t),Nt((()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===bf.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)ff(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};let wf=class extends qp{constructor(e,t,i){super(e,t),this._commandService=i}run(...e){return this._commandService.executeCommand(this.id,...e)}};wf=mf([pf(2,hl)],wf);class Cf extends Gp{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,(()=>{const o=[],s=t.createMenu(e.submenu,i),r=s.getActions(n);s.dispose();for(let e of r){const[,t]=e;t.length>0&&(o.push(...t),o.push(new jp))}return o.length&&o.pop(),o}),"submenu"),this.item=e}}let yf=class e extends wf{constructor(t,i,n,o,s){if("string"==typeof t.title?super(t.id,t.title,s):super(t.id,t.title.value,s),this._cssClass=void 0,this._enabled=!t.precondition||o.contextMatchesRules(t.precondition),this._tooltip=t.tooltip?"string"==typeof t.tooltip?t.tooltip:t.tooltip.value:void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this._checked=o.contextMatchesRules(e.condition),this._checked&&e.tooltip&&(this._tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value)}this._options=n||{},this.item=t,this.alt=i?new e(i,void 0,this._options,o,s):void 0}dispose(){this.alt&&this.alt.dispose(),super.dispose()}run(...e){let t=[];return this._options.arg&&(t=[...t,this._options.arg]),this._options.shouldForwardArgs&&(t=[...t,...e]),super.run(...t)}};yf=mf([pf(3,gf),pf(4,hl)],yf);const Sf=co("telemetryService");class kf{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=this._kbOpts.kbExpr;this.precondition&&(e=e?Jp.and(e,this.precondition):this.precondition),Wm.registerCommandAndKeybindingRule({id:this.id,handler:(e,t)=>this.runCommand(e,t),weight:this._kbOpts.weight,args:this._kbOpts.args,when:e,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else ul.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){vf.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon},when:e.when,order:e.order})}}class xf extends kf{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort(((e,t)=>t[0]-e[0])),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}runCommand(e,t){for(const i of this._implementations)if(i[1](e,t))return}}class Lf extends kf{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class Ef extends kf{static bindToContribution(e){return class extends Ef{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(uo),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext((e=>{if(e.get(gf).contextMatchesRules(cl(this.precondition)))return this.runEditorCommand(e,n,t)}))}}class Df extends Ef{constructor(e){super(Df.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=bf.EditorContext),t.title||(t.title=e.label),t.when=Jp.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(Sf).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class Nf extends Df{constructor(e){super(e),this._implementations=[]}runEditorCommand(e,t,i){this.reportTelemetry(e,t);for(const n of this._implementations)if(n[1](e,i))return;return this.run(e,t,i||{})}}function Tf(e,t){ul.registerCommand(e,((e,i)=>t(e,i||{})))}function If(e,t){Tf(e,(function(e,i){const{resource:n,position:o}=i;if(!(n instanceof Di))throw Ct("resource");if(!Bi.isIPosition(o))throw Ct("position");const s=e.get(wd).getModel(n);if(s){const e=Bi.lift(o);return t(s,e,i)}return e.get(lh).createModelReference(n).then((e=>new Promise(((n,s)=>{try{n(t(e.object.textEditorModel,Bi.lift(o),i))}catch(r){s(r)}})).finally((()=>{e.dispose()}))))}))}function Mf(e,t){ul.registerCommand(e,(function(e,...i){const[n,o]=i;ol(Di.isUri(n)),ol(Bi.isIPosition(o));const s=e.get(wd).getModel(n);if(s){const e=Bi.lift(o);return t(s,e,...i.slice(2))}return e.get(lh).createModelReference(n).then((e=>new Promise(((n,s)=>{try{n(t(e.object.textEditorModel,Bi.lift(o),i.slice(2)))}catch(r){s(r)}})).finally((()=>{e.dispose()}))))}))}function Rf(e){return Bf.INSTANCE.registerEditorCommand(e),e}function Af(e){const t=new e;return Bf.INSTANCE.registerEditorAction(t),t}function Of(e){return Bf.INSTANCE.registerEditorAction(e),e}function Pf(e,t){Bf.INSTANCE.registerEditorContribution(e,t)}var Ff,Wf;(Wf=Ff||(Ff={})).getEditorCommand=function(e){return Bf.INSTANCE.getEditorCommand(e)},Wf.getEditorActions=function(){return Bf.INSTANCE.getEditorActions()},Wf.getEditorContributions=function(){return Bf.INSTANCE.getEditorContributions()},Wf.getSomeEditorContributions=function(e){return Bf.INSTANCE.getEditorContributions().filter((t=>e.indexOf(t.id)>=0))},Wf.getDiffEditorContributions=function(){return Bf.INSTANCE.getDiffEditorContributions()};class Bf{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function Vf(e){return e.register(),e}Bf.INSTANCE=new Bf,$g.add("editor.contributions",Bf.INSTANCE);const Hf=Vf(new xf({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:bf.MenubarEditMenu,group:"1_do",title:ue({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:bf.CommandPalette,group:"",title:ue("undo","Undo"),order:1}]}));Vf(new Lf(Hf,{id:"default:undo",precondition:void 0}));const zf=Vf(new xf({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:bf.MenubarEditMenu,group:"1_do",title:ue({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:bf.CommandPalette,group:"",title:ue("redo","Redo"),order:1}]}));Vf(new Lf(zf,{id:"default:redo",precondition:void 0}));const Uf=Vf(new xf({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:bf.MenubarSelectionMenu,group:"1_basic",title:ue({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:bf.CommandPalette,group:"",title:ue("selectAll","Select All"),order:1}]}));class Kf{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){Ts(this.domNode,e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function qf(e){return new Kf(e)}let $f=0;function jf(e,t,i){return function(){const e="$memoize"+$f++;let t;const i=function(i,n,o){let s=null,r=null;if("function"==typeof o.value?(s="value",r=o.value,0!==r.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof o.get&&(s="get",r=o.get),!r)throw new Error("not supported");const a=`${e}:${n}`;o[s]=function(...e){return t=this,this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!0,enumerable:!1,writable:!0,value:r.apply(this,e)}),this[a]}};return i.clear=()=>{void 0!==t&&Object.getOwnPropertyNames(t).forEach((i=>{0===i.indexOf(e)&&delete t[i]}))},i}()(e,t,i)}var Gf,Zf;(Zf=Gf||(Gf={})).Tap="-monaco-gesturetap",Zf.Change="-monaco-gesturechange",Zf.Start="-monaco-gesturestart",Zf.End="-monaco-gesturesend",Zf.Contextmenu="-monaco-gesturecontextmenu";class Yf extends It{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(Ms(document,"touchstart",(e=>this.onTouchStart(e)),{passive:!1})),this._register(Ms(document,"touchend",(e=>this.onTouchEnd(e)))),this._register(Ms(document,"touchmove",(e=>this.onTouchMove(e)),{passive:!1}))}static addTarget(e){return Yf.isTouchDevice()?(Yf.INSTANCE||(Yf.INSTANCE=new Yf),Yf.INSTANCE.targets.push(e),{dispose:()=>{Yf.INSTANCE.targets=Yf.INSTANCE.targets.filter((t=>t!==e))}}):It.None}static ignoreTarget(e){return Yf.isTouchDevice()?(Yf.INSTANCE||(Yf.INSTANCE=new Yf),Yf.INSTANCE.ignoreTargets.push(e),{dispose:()=>{Yf.INSTANCE.ignoreTargets=Yf.INSTANCE.ignoreTargets.filter((t=>t!==e))}}):It.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let n=e.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:t,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[t],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let o=this.newGestureEvent(Gf.Start,n.target);o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,o=e.changedTouches.length;n<o;n++){let o=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],r=Date.now()-s.initialTimeStamp;if(r<Yf.HOLD_DELAY&&Math.abs(s.initialPageX-Yo(s.rollingPageX))<30&&Math.abs(s.initialPageY-Yo(s.rollingPageY))<30){let e=this.newGestureEvent(Gf.Tap,s.initialTarget);e.pageX=Yo(s.rollingPageX),e.pageY=Yo(s.rollingPageY),this.dispatchEvent(e)}else if(r>=Yf.HOLD_DELAY&&Math.abs(s.initialPageX-Yo(s.rollingPageX))<30&&Math.abs(s.initialPageY-Yo(s.rollingPageY))<30){let e=this.newGestureEvent(Gf.Contextmenu,s.initialTarget);e.pageX=Yo(s.rollingPageX),e.pageY=Yo(s.rollingPageY),this.dispatchEvent(e)}else if(1===i){let e=Yo(s.rollingPageX),i=Yo(s.rollingPageY),n=Yo(s.rollingTimestamps)-s.rollingTimestamps[0],o=e-s.rollingPageX[0],r=i-s.rollingPageY[0];const a=this.targets.filter((e=>s.initialTarget instanceof Node&&e.contains(s.initialTarget)));this.inertia(a,t,Math.abs(o)/n,o>0?1:-1,e,Math.abs(r)/n,r>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(Gf.End,s.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Gf.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>Yf.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==Gf.Change&&e.type!==Gf.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach((t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)}))}inertia(e,t,i,n,o,s,r,a){this.handle=Bs((()=>{let l=Date.now(),d=l-t,c=0,h=0,u=!0;i+=Yf.SCROLL_FRICTION*d,s+=Yf.SCROLL_FRICTION*d,i>0&&(u=!1,c=n*i*d),s>0&&(u=!1,h=r*s*d);let g=this.newGestureEvent(Gf.Change);g.translationX=c,g.translationY=h,e.forEach((e=>e.dispatchEvent(g))),u||this.inertia(e,l,i,n,o+c,s,r,a+h)}))}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let n=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let o=this.activeTouches[n.identifier],s=this.newGestureEvent(Gf.Change,o.initialTarget);s.translationX=n.pageX-Yo(o.rollingPageX),s.translationY=n.pageY-Yo(o.rollingPageY),s.pageX=n.pageX,s.pageY=n.pageY,this.dispatchEvent(s),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(n.pageX),o.rollingPageY.push(n.pageY),o.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function Jf(e,t){let i=new Wo(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}Yf.SCROLL_FRICTION=-.005,Yf.HOLD_DELAY=700,Yf.CLEAR_TAP_COUNT_TIME=400,function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([jf],Yf,"isTouchDevice",null);class Qf{constructor(){this._hooks=new Tt,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const t=this._onStopCallback;this._onStopCallback=null,e&&t&&t()}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;const s=Fo.getSameOriginWindowChain(),r=Ne&&ws.pointerEvents?"pointermove":"mousemove",a=Ne&&ws.pointerEvents?"pointerup":"mouseup",l=s.map((e=>e.window.document)),d=ar(e);d&&l.unshift(d);for(const c of l)this._hooks.add(Ks(c,r,(e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)}),((e,t)=>this._mouseMoveEventMerger(e,t)))),this._hooks.add(Ms(c,a,(e=>this.stopMonitoring(!0))));if(Fo.hasDifferentOriginAncestor()){let e=s[s.length-1];this._hooks.add(Ms(e.window.document,"mouseout",(e=>{"html"===new Wo(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(Ms(e.window.document,"mouseover",(e=>{"html"===new Wo(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)}))),this._hooks.add(Ms(e.window.document.body,"mouseleave",(e=>{this.stopMonitoring(!0)})))}}}class Xf{constructor(e,t){this.x=e,this.y=t}toClientCoordinates(){return new eb(this.x-Js.scrollX,this.y-Js.scrollY)}}class eb{constructor(e,t){this.clientX=e,this.clientY=t}toPageCoordinates(){return new Xf(this.clientX+Js.scrollX,this.clientY+Js.scrollY)}}class tb{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}}function ib(e){const t=Ys(e);return new tb(t.left,t.top,t.width,t.height)}class nb extends Wo{constructor(e,t){super(e),this.pos=new Xf(this.posx,this.posy),this.editorPos=ib(t)}}class ob{constructor(e){this._editorViewDomNode=e}_create(e){return new nb(e,this._editorViewDomNode)}onContextMenu(e,t){return Ms(e,"contextmenu",(e=>{t(this._create(e))}))}onMouseUp(e,t){return Ms(e,"mouseup",(e=>{t(this._create(e))}))}onMouseDown(e,t){return Ms(e,"mousedown",(e=>{t(this._create(e))}))}onMouseLeave(e,t){return Fs(e,(e=>{t(this._create(e))}))}onMouseMoveThrottled(e,t,i,n){return Ks(e,"mousemove",t,((e,t)=>i(e,this._create(t))),n)}}class sb{constructor(e){this._editorViewDomNode=e}_create(e){return new nb(e,this._editorViewDomNode)}onPointerUp(e,t){return Ms(e,"pointerup",(e=>{t(this._create(e))}))}onPointerDown(e,t){return Ms(e,"pointerdown",(e=>{t(this._create(e))}))}onPointerLeave(e,t){return n=e=>{t(this._create(e))},Ms(i=e,"pointerout",(e=>{let t=e.relatedTarget;for(;t&&t!==i;)t=t.parentNode;t!==i&&n(e)}));var i,n}onPointerMoveThrottled(e,t,i,n){return Ks(e,"pointermove",t,((e,t)=>i(e,this._create(t))),n)}}class rb extends It{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new Qf),this._keydownListener=null}startMonitoring(e,t,i,n,o){this._keydownListener=As(document,"keydown",(e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0)}),!0);this._globalMouseMoveMonitor.startMonitoring(e,t,((e,t)=>i(e,new nb(t,this._editorViewDomNode))),n,(()=>{this._keydownListener.dispose(),o()}))}}class ab extends It{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onConfigurationChanged(n)&&(t=!0);break;case 1:this.onCursorStateChanged(n)&&(t=!0);break;case 2:this.onDecorationsChanged(n)&&(t=!0);break;case 3:this.onFlushed(n)&&(t=!0);break;case 4:this.onFocusChanged(n)&&(t=!0);break;case 5:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 6:this.onLineMappingChanged(n)&&(t=!0);break;case 7:this.onLinesChanged(n)&&(t=!0);break;case 8:this.onLinesDeleted(n)&&(t=!0);break;case 9:this.onLinesInserted(n)&&(t=!0);break;case 10:this.onRevealRangeRequest(n)&&(t=!0);break;case 11:this.onScrollChanged(n)&&(t=!0);break;case 13:this.onTokensChanged(n)&&(t=!0);break;case 12:this.onThemeChanged(n)&&(t=!0);break;case 14:this.onTokensColorsChanged(n)&&(t=!0);break;case 15:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class lb extends ab{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class db{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(n);for(let s=0;s<n;s++)o[s]=i[n-s-1];return o}}class cb extends class{constructor(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}{constructor(e,t,i){super(e,t),this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class hb{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class ub{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class gb{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class mb{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class pb{constructor(e,t){this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class fb{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,n),s.getClientRects()}catch(le){return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(1===e.length)return[new ub(e[0].left,e[0].width)];e.sort(pb.compare);let t=[],i=0,n=e[0].left,o=e[0].width;for(let s=1,r=e.length;s<r;s++){const r=e[s],a=r.left,l=r.width;n+o+.9>=a?o=Math.max(o,a+l-n):(t[i++]=new ub(n,o),n=a,o=l)}return t[i++]=new ub(n,o),t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];i[n]=new pb(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,o,s,r){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===o&&0===i){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,s)}t!==n&&n>0&&0===o&&(n--,o=1073741824);let l=e.children[t].firstChild,d=e.children[n].firstChild;if(l&&d||(!l&&0===i&&t>0&&(l=e.children[t-1].firstChild,i=1073741824),!d&&0===o&&n>0&&(d=e.children[n-1].firstChild,o=1073741824)),!l||!d)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));const c=this._readClientRects(l,i,d,o,r);return this._createHorizontalRangesFromClientRects(c,s)}}const bb=co("themeService");function _b(e){return{id:e}}var vb;!function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id};const t=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;e.fromString=function(e){const i=t.exec(e);if(!i)return;let[,n,o]=i;return n||(n="codicon/"),{id:n+o}};const i=/^(codicon\/)?([a-z-]+)(~[a-z]+)?$/i;e.asClassName=function(e){const t=i.exec(e.id);if(!t)return;let[,,n,o]=t,s=`codicon codicon-${n}`;return o&&(s+=` ${o.substr(1)}`),s}}(vb||(vb={}));function wb(e){switch(e){case"dark":return"vs-dark";case"hc":return"hc-black";default:return"vs"}}const Cb="base.contributions.theming";let yb=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Pt}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Nt((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function Sb(e){return yb.onColorThemeChange(e)}$g.add(Cb,yb);class kb extends It{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}const xb=!!Ee||!(Le||_o||Co);let Lb=!0;const Eb=bo;class Db{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class Nb{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(36);this.renderWhitespace=i.get(80),this.renderControlCharacters=i.get(74),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(24),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(51),this.stopRenderingLineAfter=i.get(95),this.fontLigatures=i.get(37)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Tb{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=qf(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return!(!Eb&&"hc"!==this._options.themeType&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,r=Ju.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let a=null;if(Eb||"hc"===s.themeType||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:o.minColumn,n=i.endLineNumber===e?i.endColumn:o.maxColumn;t<n&&("hc"===s.themeType||"selection"!==this._options.renderWhitespace?r.push(new Ju(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new tg(t-1,n-1))))}}const l=new ig(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,r,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==et.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(Tb.CLASS_NAME),n.appendASCIIString('">');const d=sg(l,n);n.appendASCIIString("</div>");let c=null;return Lb&&xb&&o.isBasicASCII&&s.useMonospaceOptimizations&&0===d.containsForeignElements&&o.content.length<300&&l.lineTokens.getCount()<100&&(c=new Ib(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping)),c||(c=Ab(this._renderedViewLine?this._renderedViewLine.domNode:null,l,d.characterMapping,d.containsRTL,d.containsForeignElements)),this._renderedViewLine=c,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof Ib}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof Ib?this._renderedViewLine.monospaceAssumptionsAreValid():Lb}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof Ib&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));const n=0|this._renderedViewLine.input.stopRenderingLineAfter;let o=!1;-1!==n&&e>n+1&&t>n+1&&(o=!0),-1!==n&&e>n+1&&(e=n+1),-1!==n&&t>n+1&&(t=n+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return s&&s.length>0?new mb(o,s):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Tb.CLASS_NAME="view-line";class Ib{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Lb;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Lb=!1),Lb}toSlowRenderedLine(){return Ab(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i){const n=this._getCharPosition(e),o=this._getCharPosition(t);return[new ub(n,o-n)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,n,i)+1}}class Mb{constructor(e,t,i,n,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const n=this._readPixelOffset(this.domNode,e,i);if(-1===n)return null;const o=this._readPixelOffset(this.domNode,t,i);return-1===o?null:[new ub(n,o-n)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)}_readVisibleRangesForRange(e,t,i,n){if(t===i){const i=this._readPixelOffset(e,t,n);return-1===i?null:[new ub(i,0)]}return this._readRawVisibleRangesForRange(e,t,i,n)}_readPixelOffset(e,t,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const n=this._pixelOffsetCache[t];if(-1!==n)return n;const o=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=o,o}return this._actualReadPixelOffset(e,t,i)}_actualReadPixelOffset(e,t,i){if(0===this._characterMapping.length){const t=fb.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return t&&0!==t.length?t[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const n=this._characterMapping.charOffsetToPartData(t-1),o=ng.getPartIndex(n),s=ng.getCharIndex(n),r=fb.readHorizontalRanges(this._getReadingTarget(e),o,s,o,s,i.clientRectDeltaLeft,i.endNode);if(!r||0===r.length)return-1;const a=r[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffsets(),i=Math.round(this.input.spaceWidth*e[t-1]);if(Math.abs(i-a)<=1)return i}return a}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new ub(0,this.getWidth())];const o=this._characterMapping.charOffsetToPartData(t-1),s=ng.getPartIndex(o),r=ng.getCharIndex(o),a=this._characterMapping.charOffsetToPartData(i-1),l=ng.getPartIndex(a),d=ng.getCharIndex(a);return fb.readHorizontalRanges(this._getReadingTarget(e),s,r,l,d,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.partDataToCharOffset(o,n,i)+1}}class Rb extends Mb{_readVisibleRangesForRange(e,t,i,n){const o=super._readVisibleRangesForRange(e,t,i,n);if(!o||0===o.length||t===i||1===t&&i===this._characterMapping.length)return o;if(!this.input.containsRTL){const t=this._readPixelOffset(e,i,n);if(-1!==t){const e=o[o.length-1];e.left<t&&(e.width=t-e.left)}}return o}}const Ab=vo?Ob:Pb;function Ob(e,t,i,n,o){return new Rb(e,t,i,n,o)}function Pb(e,t,i,n,o){return new Mb(e,t,i,n,o)}class Fb{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${this.newText}")`:0===this.newText.length?`(delete@${this.oldPosition} "${this.oldText}")`:`(replace@${this.oldPosition} "${this.oldText}" with "${this.newText}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;Ma(e,n,i),i+=4;for(let o=0;o<n;o++)Ta(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=Ia(e,t);return xh(e,t+=4,i)}writeSize(){return 8+Fb._writeStringSize(this.oldText)+Fb._writeStringSize(this.newText)}write(e,t){return Ma(e,this.oldPosition,t),t+=4,Ma(e,this.newPosition,t),t+=4,t=Fb._writeString(e,this.oldText,t),t=Fb._writeString(e,this.newText,t)}static read(e,t,i){const n=Ia(e,t),o=Ia(e,t+=4);t+=4;const s=Fb._readString(e,t);t+=Fb._writeStringSize(s);const r=Fb._readString(e,t);return t+=Fb._writeStringSize(r),i.push(new Fb(n,s,o,r)),t}}class Wb{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=Wb._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=Wb._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let o,s;if(n.oldEnd===i.newEnd)o=i,s=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,r]=Wb._splitPrev(i,n.oldLength);o=e,s=n,i=r,n=this._getCurr(++t)}else{const[t,r]=Wb._splitCurr(n,i.newLength);o=i,s=t,i=this._getPrev(++e),n=r}this._result[this._resultLen++]=new Fb(o.oldPosition,o.oldText,s.newPosition,s.newText),this._prevDeltaOffset+=o.newLength-o.oldLength,this._currDeltaOffset+=s.newLength-s.oldLength}const o=Wb._merge(this._result);return Wb._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Wb._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Wb._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Fb(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Fb(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new Fb(e.oldPosition,e.oldText,e.newPosition,i),new Fb(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new Fb(e.oldPosition,i,e.newPosition,e.newText),new Fb(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let o=1;o<e.length;o++){const s=e[o];n.oldEnd===s.oldPosition?n=new Fb(n.oldPosition,n.oldText+s.oldText,n.newPosition,n.newText+s.newText):(t[i++]=n,n=s)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){const o=e[n];o.oldText!==o.newText&&(t[i++]=o)}return t}}function Bb(e){return e.toString()}class Vb{constructor(e,t,i,n,o,s,r){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=o,this.afterCursorState=s,this.changes=r}static create(e,t){const i=e.getAlternativeVersionId(),n=zb(e);return new Vb(i,i,n,n,t,t,[])}append(e,t,i,n,o){var s,r;t.length>0&&(this.changes=(s=this.changes,r=t,null===s||0===s.length?r:new Wb(s,r).compress())),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(Ma(e,t?t.length:0,i),i+=4,t)for(const n of t)Ma(e,n.selectionStartLineNumber,i),i+=4,Ma(e,n.selectionStartColumn,i),i+=4,Ma(e,n.positionLineNumber,i),i+=4,Ma(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=Ia(e,t);t+=4;for(let o=0;o<n;o++){const n=Ia(e,t),o=Ia(e,t+=4),s=Ia(e,t+=4),r=Ia(e,t+=4);t+=4,i.push(new Hi(n,o,s,r))}return t}serialize(){let e=10+Vb._writeSelectionsSize(this.beforeCursorState)+Vb._writeSelectionsSize(this.afterCursorState)+4;for(const n of this.changes)e+=n.writeSize();const t=new Uint8Array(e);let i=0;Ma(t,this.beforeVersionId,i),i+=4,Ma(t,this.afterVersionId,i),i+=4,Aa(t,this.beforeEOL,i),i+=1,Aa(t,this.afterEOL,i),i+=1,i=Vb._writeSelections(t,this.beforeCursorState,i),i=Vb._writeSelections(t,this.afterCursorState,i),Ma(t,this.changes.length,i),i+=4;for(const n of this.changes)i=n.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=Ia(t,i);i+=4;const o=Ia(t,i);i+=4;const s=Ra(t,i);i+=1;const r=Ra(t,i);i+=1;const a=[];i=Vb._readSelections(t,i,a);const l=[];i=Vb._readSelections(t,i,l);const d=Ia(t,i);i+=4;const c=[];for(let h=0;h<d;h++)i=Fb.read(t,i,c);return new Vb(n,o,s,r,a,l,c)}}class Hb{constructor(e,t){this.model=e,this._data=Vb.create(e,t)}get type(){return 0}get resource(){return Di.isUri(this.model)?this.model:this.model.uri}get label(){return ue("vs/editor/common/model/editStack","edit","Typing")}toString(){return(this._data instanceof Vb?this._data:Vb.deserialize(this._data)).changes.map((e=>e.toString())).join(", ")}matchesResource(e){return(Di.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Vb}append(e,t,i,n,o){this._data instanceof Vb&&this._data.append(e,t,i,n,o)}close(){this._data instanceof Vb&&(this._data=this._data.serialize())}undo(){if(Di.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Vb&&(this._data=this._data.serialize());const e=Vb.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Di.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Vb&&(this._data=this._data.serialize());const e=Vb.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}}function zb(e){return"\n"===e.getEOL()?0:1}function Ub(e){return!!e&&(e instanceof Hb||e instanceof class{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=Bb(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map((e=>e.resource))}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=Bb(e);return this._editStackElementsMap.has(t)}setModel(e){const t=Bb(Di.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=Bb(e.uri);return!!this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).canAppend(e)}append(e,t,i,n,o){const s=Bb(e.uri);this._editStackElementsMap.get(s).append(e,t,i,n,o)}close(){this._isOpen=!1}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}split(){return this._editStackElementsArr}})}class Kb{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Ub(e)&&e.close()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(Ub(t)&&t.canAppend(this._model))return t;const i=new Hb(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],zb(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=Kb._computeCursorState(i,o),r=o.map(((e,t)=>({index:t,textChange:e.textChange})));return r.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),n.append(this._model,r.map((e=>e.textChange)),zb(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(le){return ft(le),null}}}class qb{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function $b(e,t,i,n,o){let s;for(o.spacesDiff=0,o.looksLikeAlignment=!1,s=0;s<t&&s<n;s++){if(e.charCodeAt(s)!==i.charCodeAt(s))break}let r=0,a=0;for(let u=s;u<t;u++){32===e.charCodeAt(u)?r++:a++}let l=0,d=0;for(let u=s;u<n;u++){32===i.charCodeAt(u)?l++:d++}if(r>0&&a>0)return;if(l>0&&d>0)return;let c=Math.abs(a-d),h=Math.abs(r-l);if(0===c)return o.spacesDiff=h,void(h>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));h%c!=0||(o.spacesDiff=h/c)}function jb(e,t,i){const n=Math.min(e.getLineCount(),1e4);let o=0,s=0,r="",a=0;const l=[2,4,6,8,3,5,7];let d=[0,0,0,0,0,0,0,0,0],c=new qb;for(let g=1;g<=n;g++){let n=e.getLineLength(g),l=e.getLineContent(g);const h=n<=65536;let u=!1,m=0,p=0,f=0;for(let t=0,i=n;t<i;t++){let i=h?l.charCodeAt(t):e.getLineCharCode(g,t);if(9===i)f++;else{if(32!==i){u=!0,m=t;break}p++}}if(!u)continue;if(f>0?o++:p>1&&s++,$b(r,a,l,m,c),c.looksLikeAlignment&&(!i||t!==c.spacesDiff))continue;let b=c.spacesDiff;b<=8&&d[b]++,r=l,a=m}let h=i;o!==s&&(h=o<s);let u=t;if(h){let e=h?0:.1*n;l.forEach((t=>{let i=d[t];i>e&&(e=i,u=t)})),4===u&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(u=2)}return{insertSpaces:h,tabSize:u}}function Gb(e){return(1&e.metadata)>>>0}function Zb(e,t){e.metadata=254&e.metadata|t<<0}function Yb(e){return(2&e.metadata)>>>1==1}function Jb(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function Qb(e){return(4&e.metadata)>>>2==1}function Xb(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function e_(e){return(8&e.metadata)>>>3==1}function t_(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function i_(e,t){e.metadata=207&e.metadata|t<<4}function n_(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}class o_{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Zb(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Xb(this,!1),i_(this,1),t_(this,!1),n_(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Jb(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;Xb(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),i_(this,this.options.stickiness),t_(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),n_(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const s_=new o_(null,0,0);s_.parent=s_,s_.left=s_,s_.right=s_,Zb(s_,0);class r_{constructor(){this.root=s_,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,o){return this.root===s_?[]:function(e,t,i,n,o,s){let r=e.root,a=0,l=0,d=0,c=0,h=[],u=0;for(;r!==s_;)if(Yb(r))Jb(r.left,!1),Jb(r.right,!1),r===r.parent.right&&(a-=r.parent.delta),r=r.parent;else{if(!Yb(r.left)){if(l=a+r.maxEnd,l<t){Jb(r,!0);continue}if(r.left!==s_){r=r.left;continue}}if(d=a+r.start,d>i)Jb(r,!0);else{if(c=a+r.end,c>=t){r.setCachedOffsets(d,c,s);let e=!0;n&&r.ownerId&&r.ownerId!==n&&(e=!1),o&&Qb(r)&&(e=!1),e&&(h[u++]=r)}Jb(r,!0),r.right===s_||Yb(r.right)||(a+=r.delta,r=r.right)}}return Jb(e.root,!1),h}(this,e,t,i,n,o)}search(e,t,i){return this.root===s_?[]:function(e,t,i,n){let o=e.root,s=0,r=0,a=0,l=[],d=0;for(;o!==s_;){if(Yb(o)){Jb(o.left,!1),Jb(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),o=o.parent;continue}if(o.left!==s_&&!Yb(o.left)){o=o.left;continue}r=s+o.start,a=s+o.end,o.setCachedOffsets(r,a,n);let e=!0;t&&o.ownerId&&o.ownerId!==t&&(e=!1),i&&Qb(o)&&(e=!1),e&&(l[d++]=o),Jb(o,!0),o.right===s_||Yb(o.right)||(s+=o.delta,o=o.right)}return Jb(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],o=0;for(;i!==s_;)Yb(i)?(Jb(i.left,!1),Jb(i.right,!1),i=i.parent):i.left===s_||Yb(i.left)?(i.ownerId===t&&(n[o++]=i),Jb(i,!0),i.right===s_||Yb(i.right)||(i=i.right)):i=i.left;return Jb(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==s_;)Yb(t)?(Jb(t.left,!1),Jb(t.right,!1),t=t.parent):t.left===s_||Yb(t.left)?t.right===s_||Yb(t.right)?(i[n++]=t,Jb(t,!0)):t=t.right:t=t.left;return Jb(e.root,!1),i}(this)}insert(e){d_(this,e),this._normalizeDeltaIfNecessary()}delete(e){c_(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const o=i.start+n,s=i.end+n;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,n){const o=function(e,t,i){let n=e.root,o=0,s=0,r=0,a=0,l=[],d=0;for(;n!==s_;)if(Yb(n))Jb(n.left,!1),Jb(n.right,!1),n===n.parent.right&&(o-=n.parent.delta),n=n.parent;else{if(!Yb(n.left)){if(s=o+n.maxEnd,s<t){Jb(n,!0);continue}if(n.left!==s_){n=n.left;continue}}r=o+n.start,r>i?Jb(n,!0):(a=o+n.end,a>=t&&(n.setCachedOffsets(r,a,0),l[d++]=n),Jb(n,!0),n.right===s_||Yb(n.right)||(o+=n.delta,n=n.right))}return Jb(e.root,!1),l}(this,e,e+t);for(let s=0,r=o.length;s<r;s++){c_(this,o[s])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let o=e.root,s=0,r=0,a=0;const l=n-(i-t);for(;o!==s_;)if(Yb(o))Jb(o.left,!1),Jb(o.right,!1),o===o.parent.right&&(s-=o.parent.delta),p_(o),o=o.parent;else{if(!Yb(o.left)){if(r=s+o.maxEnd,r<t){Jb(o,!0);continue}if(o.left!==s_){o=o.left;continue}}a=s+o.start,a>i?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),Jb(o,!0)):(Jb(o,!0),o.right===s_||Yb(o.right)||(s+=o.delta,o=o.right))}Jb(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,r=o.length;s<r;s++){const r=o[s];r.start=r.cachedAbsoluteStart,r.end=r.cachedAbsoluteEnd,l_(r,e,e+t,i,n),r.maxEnd=r.end,d_(this,r)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==s_;)t.left===s_||Yb(t.left)?t.right===s_||Yb(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,p_(t),Jb(t,!0),Jb(t.left,!1),Jb(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;Jb(e.root,!1)}(this))}}function a_(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function l_(e,t,i,n,o){const s=function(e){return(48&e.metadata)>>>4}(e),r=0===s||2===s,a=1===s||2===s,l=i-t,d=n,c=Math.min(l,d),h=e.start;let u=!1;const g=e.end;let m=!1;t<=h&&g<=i&&function(e){return(64&e.metadata)>>>6==1}(e)&&(e.start=t,u=!0,e.end=t,m=!0);{const e=o?1:l>0?2:0;!u&&a_(h,r,t,e)&&(u=!0),!m&&a_(g,a,t,e)&&(m=!0)}if(c>0&&!o){const e=l>d?2:0;!u&&a_(h,r,t+c,e)&&(u=!0),!m&&a_(g,a,t+c,e)&&(m=!0)}{const n=o?1:0;!u&&a_(h,r,i,n)&&(e.start=t+d,u=!0),!m&&a_(g,a,i,n)&&(e.end=t+d,m=!0)}const p=d-l;u||(e.start=Math.max(0,h+p)),m||(e.end=Math.max(0,g+p)),e.start>e.end&&(e.end=e.start)}function d_(e,t){if(e.root===s_)return t.parent=s_,t.left=s_,t.right=s_,Zb(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const o=t.start,s=t.end;for(;;){if(b_(o,s,n.start+i,n.end+i)<0){if(n.left===s_){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===s_){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=s_,t.right=s_,Zb(t,1)}(e,t),f_(t.parent);let i=t;for(;i!==e.root&&1===Gb(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===Gb(t)?(Zb(i.parent,0),Zb(t,0),Zb(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&(i=i.parent,u_(e,i)),Zb(i.parent,0),Zb(i.parent.parent,1),g_(e,i.parent.parent))}else{const t=i.parent.parent.left;1===Gb(t)?(Zb(i.parent,0),Zb(t,0),Zb(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&(i=i.parent,g_(e,i)),Zb(i.parent,0),Zb(i.parent.parent,1),u_(e,i.parent.parent))}return Zb(e.root,0),t}function c_(e,t){let i,n;if(t.left===s_?(i=t.right,n=t,i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===s_?(i=t.left,n=t):(n=function(e){for(;e.left!==s_;)e=e.left;return e}(t.right),i=n.right,i.start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,Zb(i,0),t.detach(),h_(),p_(i),void(e.root.parent=s_);let o,s=1===Gb(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,Zb(n,Gb(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==s_&&(n.left.parent=n),n.right!==s_&&(n.right.parent=n)),t.detach(),s)return f_(i.parent),n!==t&&(f_(n),f_(n.parent)),void h_();for(f_(i),f_(i.parent),n!==t&&(f_(n),f_(n.parent));i!==e.root&&0===Gb(i);)i===i.parent.left?(o=i.parent.right,1===Gb(o)&&(Zb(o,0),Zb(i.parent,1),u_(e,i.parent),o=i.parent.right),0===Gb(o.left)&&0===Gb(o.right)?(Zb(o,1),i=i.parent):(0===Gb(o.right)&&(Zb(o.left,0),Zb(o,1),g_(e,o),o=i.parent.right),Zb(o,Gb(i.parent)),Zb(i.parent,0),Zb(o.right,0),u_(e,i.parent),i=e.root)):(o=i.parent.left,1===Gb(o)&&(Zb(o,0),Zb(i.parent,1),g_(e,i.parent),o=i.parent.left),0===Gb(o.left)&&0===Gb(o.right)?(Zb(o,1),i=i.parent):(0===Gb(o.left)&&(Zb(o.right,0),Zb(o,1),u_(e,o),o=i.parent.left),Zb(o,Gb(i.parent)),Zb(i.parent,0),Zb(o.left,0),g_(e,i.parent),i=e.root));Zb(i,0),h_()}function h_(){s_.parent=s_,s_.delta=0,s_.start=0,s_.end=0}function u_(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==s_&&(i.left.parent=t),i.parent=t.parent,t.parent===s_?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,p_(t),p_(i)}function g_(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==s_&&(i.right.parent=t),i.parent=t.parent,t.parent===s_?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,p_(t),p_(i)}function m_(e){let t=e.end;if(e.left!==s_){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==s_){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function p_(e){e.maxEnd=m_(e)}function f_(e){for(;e!==s_;){const t=m_(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function b_(e,t,i,n){return e===i?t-n:e-i}class __{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==v_)return w_(this.right);let e=this;for(;e.parent!==v_&&e.parent.left!==e;)e=e.parent;return e.parent===v_?v_:e.parent}prev(){if(this.left!==v_)return C_(this.left);let e=this;for(;e.parent!==v_&&e.parent.right!==e;)e=e.parent;return e.parent===v_?v_:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const v_=new __(null,0);function w_(e){for(;e.left!==v_;)e=e.left;return e}function C_(e){for(;e.right!==v_;)e=e.right;return e}function y_(e){return e===v_?0:e.size_left+e.piece.length+y_(e.right)}function S_(e){return e===v_?0:e.lf_left+e.piece.lineFeedCnt+S_(e.right)}function k_(){v_.parent=v_}function x_(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==v_&&(i.left.parent=t),i.parent=t.parent,t.parent===v_?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function L_(e,t){let i=t.left;t.left=i.right,i.right!==v_&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===v_?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function E_(e,t){let i,n;if(t.left===v_?(n=t,i=n.right):t.right===v_?(n=t,i=n.left):(n=w_(t.right),i=n.right),n===e.root)return e.root=i,i.color=0,t.detach(),k_(),void(e.root.parent=v_);let o,s=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,T_(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,T_(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==v_&&(n.left.parent=n),n.right!==v_&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,T_(e,n)),t.detach(),i.parent.left===i){let t=y_(i),n=S_(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){let o=t-i.parent.size_left,s=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,N_(e,i.parent,o,s)}}if(T_(e,i.parent),s)k_();else{for(;i!==e.root&&0===i.color;)i===i.parent.left?(o=i.parent.right,1===o.color&&(o.color=0,i.parent.color=1,x_(e,i.parent),o=i.parent.right),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.right.color&&(o.left.color=0,o.color=1,L_(e,o),o=i.parent.right),o.color=i.parent.color,i.parent.color=0,o.right.color=0,x_(e,i.parent),i=e.root)):(o=i.parent.left,1===o.color&&(o.color=0,i.parent.color=1,L_(e,i.parent),o=i.parent.left),0===o.left.color&&0===o.right.color?(o.color=1,i=i.parent):(0===o.left.color&&(o.right.color=0,o.color=1,x_(e,o),o=i.parent.left),o.color=i.parent.color,i.parent.color=0,o.left.color=0,L_(e,i.parent),i=e.root));i.color=0,k_()}}function D_(e,t){for(T_(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&x_(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,L_(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&L_(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,x_(e,t.parent.parent))}e.root.color=0}function N_(e,t,i,n){for(;t!==e.root&&t!==v_;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function T_(e,t){let i=0,n=0;if(t!==e.root){if(0===i){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;i=y_((t=t.parent).left)-t.size_left,n=S_(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n}for(;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}v_.parent=v_,v_.left=v_,v_.right=v_,v_.color=0;class I_ extends bu{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const M_=function(e){let t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}((e=>new I_(e)));class R_{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){if(92===e.charCodeAt(t)){if(t++,t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n||119===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=Ur(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(n){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new A_(t,this.wordSeparators?M_(this.wordSeparators):null,i?this.searchString:null)}}class A_{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function O_(e,t,i){if(!i)return new Ul(e,null);let n=[];for(let o=0,s=t.length;o<s;o++)n[o]=t[o];return new Ul(e,n)}class P_{constructor(e){let t=[],i=0;for(let n=0,o=e.length;n<o;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const o=i+((n-i)/2>>0);t[o]>=e?n=o-1:t[o+1]>=e?(i=o,n=o):i=o+1}return i+1}}class F_{static findMatches(e,t,i,n,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new B_(s.wordSeparators,s.regex),n,o):this._doFindMatchesLineByLine(e,i,s,n,o):[]}static _getMultilineMatchRange(e,t,i,n,o,s){let r,a,l=0;if(n?(l=n.findLineFeedCountBeforeOffset(o),r=t+o+l):r=t+o,n){let e=n.findLineFeedCountBeforeOffset(o+s.length)-l;a=r+s.length+e}else a=r+s.length;const d=e.getPositionAt(r),c=e.getPositionAt(a);return new Vi(d.lineNumber,d.column,c.lineNumber,c.column)}static _doFindMatchesMultiline(e,t,i,n,o){const s=e.getOffsetAt(t.getStartPosition()),r=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new P_(r):null,l=[];let d,c=0;for(i.reset(0);d=i.next(r);)if(l[c++]=O_(this._getMultilineMatchRange(e,s,r,a,d.index,d[0]),d,n),c>=o)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,o){const s=[];let r=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o),s}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);r=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,r,s,n,o);for(let l=t.startLineNumber+1;l<t.endLineNumber&&r<o;l++)r=this._findMatchesInLine(i,e.getLineContent(l),l,0,r,s,n,o);if(r<o){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);r=this._findMatchesInLine(i,a,t.endLineNumber,0,r,s,n,o)}return s}static _findMatchesInLine(e,t,i,n,o,s,r,a){const l=e.wordSeparators;if(!r&&e.simpleSearch){const r=e.simpleSearch,d=r.length,c=t.length;let h=-d;for(;-1!==(h=t.indexOf(r,h+d));)if((!l||W_(l,t,c,h,d))&&(s[o++]=new Ul(new Vi(i,h+1+n,i,h+1+d+n),null),o>=a))return o;return o}const d=new B_(e.wordSeparators,e.regex);let c;d.reset(0);do{if(c=d.next(t),c&&(s[o++]=O_(new Vi(i,c.index+1+n,i,c.index+1+c[0].length+n),c,r),o>=a))return o}while(c);return o}static findNextMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new B_(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,n):this._doFindNextMatchLineByLine(e,i,s,n)}static _doFindNextMatchMultiline(e,t,i,n){const o=new Bi(t.lineNumber,1),s=e.getOffsetAt(o),r=e.getLineCount(),a=e.getValueInRange(new Vi(o.lineNumber,o.column,r,e.getLineMaxColumn(r)),1),l="\r\n"===e.getEOL()?new P_(a):null;i.reset(t.column-1);let d=i.next(a);return d?O_(this._getMultilineMatchRange(e,s,a,l,d.index,d[0]),d,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new Bi(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s),a=this._findFirstMatchInLine(i,r,s,t.column,n);if(a)return a;for(let l=1;l<=o;l++){const t=(s+l-1)%o,r=e.getLineContent(t+1),a=this._findFirstMatchInLine(i,r,t+1,1,n);if(a)return a}return null}static _findFirstMatchInLine(e,t,i,n,o){e.reset(n-1);const s=e.next(t);return s?O_(new Vi(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,n){const o=t.parseSearchRequest();if(!o)return null;const s=new B_(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,n):this._doFindPreviousMatchLineByLine(e,i,s,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const o=this._doFindMatchesMultiline(e,new Vi(1,1,t.lineNumber,t.column),i,n,9990);if(o.length>0)return o[o.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new Bi(s,e.getLineMaxColumn(s)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const o=e.getLineCount(),s=t.lineNumber,r=e.getLineContent(s).substring(0,t.column-1),a=this._findLastMatchInLine(i,r,s,n);if(a)return a;for(let l=1;l<=o;l++){const t=(o+s-l-1)%o,r=e.getLineContent(t+1),a=this._findLastMatchInLine(i,r,t+1,n);if(a)return a}return null}static _findLastMatchInLine(e,t,i,n){let o,s=null;for(e.reset(0);o=e.next(t);)s=O_(new Vi(i,o.index+1,i,o.index+1+o[0].length),o,n);return s}}function W_(e,t,i,n,o){return function(e,t,i,n,o){if(0===n)return!0;const s=t.charCodeAt(n-1);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,o)&&function(e,t,i,n,o){if(n+o===i)return!0;const s=t.charCodeAt(n+o);if(0!==e.get(s))return!0;if(13===s||10===s)return!0;if(o>0){const i=t.charCodeAt(n+o-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,o)}class B_{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(i=this._searchRegex.exec(e),!i)return null;const n=i.index,o=i[0].length;if(n===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){la(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=o,!this._wordSeparators||W_(this._wordSeparators,e,t,n,o))return i}while(i);return null}}function V_(e){let t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}class H_{constructor(e,t,i,n,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=o}}function z_(e,t=!0){let i=[0],n=1;for(let o=0,s=e.length;o<s;o++){const t=e.charCodeAt(o);13===t?o+1<s&&10===e.charCodeAt(o+1)?(i[n++]=o+2,o++):i[n++]=o+1:10===t&&(i[n++]=o+1)}return t?V_(i):i}class U_{constructor(e,t,i,n,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=o}}class K_{constructor(e,t){this.buffer=e,this.lineStarts=t}}class q_{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==v_&&e.iterate(e.root,(e=>(e!==v_&&this._pieces.push(e.piece),!0)))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class $_{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let o=i[n];(null===o.node.parent||o.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class j_{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new K_("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=v_,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=z_(e[o].buffer));let t=new U_(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),n=this.rbInsertRight(n,t)}this._searchCache=new $_(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=65535-Math.floor(21845),i=2*t,n="",o=0,s=[];if(this.iterate(this.root,(r=>{let a=this.getNodeContent(r),l=a.length;if(o<=t||o+l<i)return n+=a,o+=l,!0;let d=n.replace(/\r\n|\r|\n/g,e);return s.push(new K_(d,z_(d))),n=a,o=l,!0})),o>0){let t=n.replace(/\r\n|\r|\n/g,e);s.push(new K_(t,z_(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new q_(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==v_;)if(n.left!==v_&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){return i+=n.size_left,i+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==v_;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,0===o.index){let e=this.getOffsetAt(i+1,1);return new Bi(i+1,n-e+1)}return new Bi(i+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===v_){let t=this.getOffsetAt(i+1,1);return new Bi(i+1,n-e-t+1)}t=t.right}return new Bi(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(o+e.remainder,o+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=n.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==v_;){let e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=e.substring(n,n+t.remainder);break}s+=e.substr(n,i.piece.length),i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,(o=>{if(o===v_)return!0;const s=o.piece;let r=s.length;if(0===r)return!0;const a=this._buffers[s.bufferIndex].buffer,l=this._buffers[s.bufferIndex].lineStarts,d=s.start.line,c=s.end.line;let h=l[d]+s.start.column;if(n&&(10===a.charCodeAt(h)&&(h++,r--),e[t++]=i,i="",n=!1,0===r))return!0;if(d===c)return this._EOLNormalized||13!==a.charCodeAt(h+r-1)?i+=a.substr(h,r):(n=!0,i+=a.substr(h,r-1)),!0;i+=this._EOLNormalized?a.substring(h,Math.max(h,l[d+1]-this._EOLLength)):a.substring(h,l[d+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=d+1;n<c;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[c]+s.end.column-1)?i=a.substr(l[c],s.end.column):(n=!0,0===s.end.column?t--:i=a.substr(l[c],s.end.column-1)),!0})),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,o,s,r,a,l,d,c){let h,u,g,m=this._buffers[e.piece.bufferIndex],p=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),f=this.offsetInBuffer(e.piece.bufferIndex,o),b=this.offsetInBuffer(e.piece.bufferIndex,s),_={line:0,column:0};t._wordSeparators?(u=m.buffer.substring(f,b),g=e=>e+f,t.reset(0)):(u=m.buffer,g=e=>e,t.reset(f));do{if(h=t.next(u),h){if(g(h.index)>=b)return d;this.positionInBuffer(e,g(h.index)-p,_);let t=this.getLineFeedCnt(e.piece.bufferIndex,o,_),s=_.line===o.line?_.column-o.column+n:_.column+1,r=s+h[0].length;if(c[d++]=O_(new Vi(i+t,s,i+t,r),h,a),g(h.index)+h[0].length>=b)return d;if(d>=l)return d}}while(h);return d}findMatchesLineByLine(e,t,i,n){const o=[];let s=0;const r=new B_(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let d=this.positionInBuffer(a.node,a.remainder),c=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,r,e.startLineNumber,e.startColumn,d,c,t,i,n,s,o),o;let h=e.startLineNumber,u=a.node;for(;u!==l.node;){let l=this.getLineFeedCnt(u.piece.bufferIndex,d,u.piece.end);if(l>=1){let a=this._buffers[u.piece.bufferIndex].lineStarts,c=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),g=a[d.line+l],m=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(u,r,h,m,d,this.positionInBuffer(u,g-c),t,i,n,s,o),s>=n)return o;h+=l}let c=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const a=this.getLineContent(h).substring(c,e.endColumn-1);return s=this._findMatchesInLine(t,r,a,e.endLineNumber,c,s,o,i,n),o}if(s=this._findMatchesInLine(t,r,this.getLineContent(h).substr(c),h,c,s,o,i,n),s>=n)return o;h++,a=this.nodeAt2(h,1),u=a.node,d=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){let a=h===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(h).substring(a,e.endColumn-1);return s=this._findMatchesInLine(t,r,l,e.endLineNumber,a,s,o,i,n),o}let g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(l.node,r,h,g,d,c,t,i,n,s,o),o}_findMatchesInLine(e,t,i,n,o,s,r,a,l){const d=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,c=i.length;let h=-a;for(;-1!==(h=i.indexOf(t,h+a));)if((!d||W_(d,i,c,h,a))&&(r[s++]=new Ul(new Vi(n,h+1+o,n,h+1+a+o),null),s>=l))return s;return s}let c;t.reset(0);do{if(c=t.next(i),c&&(r[s++]=O_(new Vi(n,c.index+1+o,n,c.index+1+c[0].length+o),c,a),s>=l))return s}while(c);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==v_){let{node:i,remainder:n,nodeStartOffset:o}=this.nodeAt(e),s=i.piece,r=s.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&s.end.line===this._lastChangeBufferPos.line&&s.end.column===this._lastChangeBufferPos.column&&o+s.length===e&&t.length<65535)return this.appendToNode(i,t),void this.computeBufferMetadata();if(o===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(o+i.piece.length>e){let e=[],o=new U_(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),this.offsetInBuffer(r,s.end)-this.offsetInBuffer(r,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){let e={line:o.start.line+1,column:0};o=new U_(o.bufferIndex,e,o.end,this.getLineFeedCnt(o.bufferIndex,e,o.end),o.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){let o=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,o),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);let l=this.createNewPieces(t);o.length>0&&this.rbInsertRight(i,o);let d=i;for(let t=0;t<l.length;t++)d=this.rbInsertRight(d,l[t]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{let e=this.createNewPieces(t),i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===v_)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),o=i.node,s=n.node;if(o===s){let s=this.positionInBuffer(o,i.remainder),r=this.positionInBuffer(o,n.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let e=o.next();return E_(this,o),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(o,r),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return i.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,s,r),void this.computeBufferMetadata())}let r=[],a=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,a),this._searchCache.validate(e),0===o.piece.length&&r.push(o);let l=this.positionInBuffer(s,n.remainder);this.deleteNodeHead(s,l),0===s.piece.length&&r.push(s);for(let c=o.next();c!==v_&&c!==s;c=c.next())r.push(c);let d=0===o.piece.length?o.prev():o;this.deleteNodes(r),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let n=t.piece,o={line:n.start.line+1,column:0},s=new U_(n.bufferIndex,o,n.end,this.getLineFeedCnt(n.bufferIndex,o,n.end),n.length-1);t.piece=s,e+="\n",N_(this,t,-1,-1),0===t.piece.length&&i.push(t)}let n=this.createNewPieces(e),o=this.rbInsertLeft(t,n[n.length-1]);for(let s=n.length-2;s>=0;s--)o=this.rbInsertLeft(o,n[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),o=n;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,r=s[n.start.line]+n.start.column+t,a=n.start.line,l=n.end.line,d=0,c=0,h=0;for(;a<=l&&(d=a+(l-a)/2|0,h=s[d],d!==l);)if(c=s[d+1],r<h)l=d-1;else{if(!(r>=c))break;a=d+1}return i?(i.line=d,i.column=r-h,null):{line:d,column:r-h}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let o=n[i.line+1],s=n[i.line]+i.column;if(o>s+1)return i.line-t.line;let r=s-1;return 13===this._buffers[e].buffer.charCodeAt(r)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)E_(this,e[t])}createNewPieces(e){if(e.length>65535){let t=[];for(;e.length>65535;){const i=e.charCodeAt(65534);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,65534),e=e.substring(65534)):(n=e.substring(0,65535),e=e.substring(65535));let o=z_(n);t.push(new U_(this._buffers.length,{line:0,column:0},{line:o.length-1,column:n.length-o[o.length-1]},o.length-1,n.length)),this._buffers.push(new K_(n,o))}let i=z_(e);return t.push(new U_(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new K_(e,i)),t}let t=this._buffers[0].buffer.length;const i=z_(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let s=this._buffers[0].lineStarts.length-1,r={line:s,column:o-this._buffers[0].lineStarts[s]},a=new U_(0,n,r,this.getLineFeedCnt(0,n,r),o-t);return this._lastChangeBufferPos=r,[a]}getLineRawContent(e,t=0){let i=this.root,n="",o=this._searchCache.get2(e);if(o){i=o.node;let s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),r=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt!==e){let n=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return r.substring(a+s,a+n-t)}n=r.substring(a+s,a+i.piece.length)}else{let o=0;const s=e;for(;i!==v_;)if(i.left!==v_&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let n=this.getAccumulatedValue(i,e-i.lf_left-2),r=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:o,nodeStartLineNumber:s-(e-1-i.lf_left)}),a.substring(l+n,l+r-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(i,e-i.lf_left-2),o=this._buffers[i.piece.bufferIndex].buffer,s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=o.substring(s+t,s+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,o+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==v_;){let e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),s=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(s,s+o-t),n}{let t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==v_;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),o=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==o)return{index:t,remainder:0}}return{index:o,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[o]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,r=this.offsetInBuffer(i.bufferIndex,s),a=this.getLineFeedCnt(i.bufferIndex,i.start,s),l=a-n,d=r-o,c=i.length+d;e.piece=new U_(i.bufferIndex,i.start,s,a,c),N_(this,e,d,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,r=this.getLineFeedCnt(i.bufferIndex,s,i.end),a=r-n,l=o-this.offsetInBuffer(i.bufferIndex,s),d=i.length+l;e.piece=new U_(i.bufferIndex,s,i.end,r,d),N_(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,o=n.start,s=n.end,r=n.length,a=n.lineFeedCnt,l=t,d=this.getLineFeedCnt(n.bufferIndex,n.start,l),c=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,o);e.piece=new U_(n.bufferIndex,n.start,l,d,c),N_(this,e,c-r,d-a);let h=new U_(n.bufferIndex,i,s,this.getLineFeedCnt(n.bufferIndex,i,s),this.offsetInBuffer(n.bufferIndex,s)-this.offsetInBuffer(n.bufferIndex,i)),u=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(u)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=z_(t,!1);for(let h=0;h<o.length;h++)o[h]+=n;if(i){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,r={line:s,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[s]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,r),c=d-l;e.piece=new U_(e.piece.bufferIndex,e.piece.start,r,d,a),this._lastChangeBufferPos=r,N_(this,e,t.length,c)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==v_;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;let i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==v_;)if(i.left!==v_&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:n};t-=i.piece.length-o;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==v_;){if(i.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===v_||0===e.piece.lineFeedCnt)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,o=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==v_&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i,n=[],o=this._buffers[e.piece.bufferIndex].lineStarts;i=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,r=e.piece.lineFeedCnt-1;e.piece=new U_(e.piece.bufferIndex,e.piece.start,i,r,s),N_(this,e,-1,-1),0===e.piece.length&&n.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,d=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new U_(t.piece.bufferIndex,a,t.piece.end,d,l),N_(this,t,-1,-1),0===t.piece.length&&n.push(t);let c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(let h=0;h<n.length;h++)E_(this,n[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)E_(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,o=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new U_(e.bufferIndex,t,e.end,o,n),N_(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===v_)return t(v_);let i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===v_)return"";let t,i=this._buffers[e.piece.bufferIndex],n=e.piece,o=this.offsetInBuffer(n.bufferIndex,n.start),s=this.offsetInBuffer(n.bufferIndex,n.end);return t=i.buffer.substring(o,s),t}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new __(t,1);if(i.left=v_,i.right=v_,i.parent=v_,i.size_left=0,i.lf_left=0,this.root===v_)this.root=i,i.color=0;else if(e.right===v_)e.right=i,i.parent=e;else{let t=w_(e.right);t.left=i,i.parent=t}return D_(this,i),i}rbInsertLeft(e,t){let i=new __(t,1);if(i.left=v_,i.right=v_,i.parent=v_,i.size_left=0,i.lf_left=0,this.root===v_)this.root=i,i.color=0;else if(e.left===v_)e.left=i,i.parent=e;else{let t=C_(e.left);t.right=i,i.parent=t}return D_(this,i),i}}function G_(e){let t=0,i=0,n=0,o=0;for(let s=0,r=e.length;s<r;s++){const a=e.charCodeAt(s);13===a?(0===t&&(i=s),t++,s+1<r&&10===e.charCodeAt(s+1)?(o|=2,s++):o|=3,n=s+1):10===a&&(o|=1,0===t&&(i=s),t++,n=s+1)}return 0===t&&(i=e.length),[t,i,e.length-n,o]}function Z_(e){return(16384|e<<0|2<<23)>>>0}const Y_=new Uint32Array(0).buffer;class J_{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new tv(e,[t]))}}class Q_{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new Vi(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),o=this._getDeltaLine(n);if(o<e)t=n+1;else{if(!(o>e)){let o=n;for(;o>t&&this._getDeltaLine(o-1)===e;)o--;let s=n;for(;s<i&&this._getDeltaLine(s+1)===e;)s++;return new X_(this._tokens.subarray(4*o,4*s+4))}i=n-1}}return this._getDeltaLine(t)===e?new X_(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const o=this._tokens,s=this._tokenCount;let r=0,a=!1,l=0;for(let d=0;d<s;d++){const s=4*d,c=o[s],h=o[s+1],u=o[s+2],g=o[s+3];if((c>e||c===e&&u>=t)&&(c<i||c===i&&h<=n))a=!0;else{if(0===r&&(l=c),a){const e=4*r;o[e]=c-l,o[e+1]=h,o[e+2]=u,o[e+3]=g}r++}}return this._tokenCount=r,l}split(e,t,i,n){const o=this._tokens,s=this._tokenCount;let r=[],a=[],l=r,d=0,c=0;for(let h=0;h<s;h++){const s=4*h,r=o[s],u=o[s+1],g=o[s+2],m=o[s+3];if(r>e||r===e&&g>=t){if(r<i||r===i&&u<=n)continue;l!==a&&(l=a,d=0,c=r)}l[d++]=r-c,l[d++]=u,l[d++]=g,l[d++]=m}return[new Q_(new Uint32Array(r)),new Q_(new Uint32Array(a)),c]}acceptDeleteRange(e,t,i,n,o){const s=this._tokens,r=this._tokenCount,a=n-t;let l=0,d=!1;for(let c=0;c<r;c++){const h=4*c;let u=s[h],g=s[h+1],m=s[h+2];const p=s[h+3];if(u<t||u===t&&m<=i){l++;continue}if(u===t&&g<i)u===n&&m>o?m-=o-i:m=i;else if(u===t&&g===i){if(!(u===n&&m>o)){d=!0;continue}m-=o-i}else if(u<n||u===n&&g<o){if(!(u===n&&m>o)){d=!0;continue}u===t?(g=i,m=g+(m-o)):(g=0,m=g+(m-o))}else if(u>n){if(0===a&&!d){l=r;break}u-=a}else{if(!(u===n&&g>=o))throw new Error("Not possible!");e&&0===u&&(g+=e,m+=e),u-=a,g-=o-i,m-=o-i}const f=4*l;s[f]=u,s[f+1]=g,s[f+2]=m,s[f+3]=p,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,o,s){const r=0===i&&1===n&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),a=this._tokens,l=this._tokenCount;for(let d=0;d<l;d++){const s=4*d;let l=a[s],c=a[s+1],h=a[s+2];if(!(l<e||l===e&&h<t)){if(l===e&&h===t){if(!r)continue;h+=1}else if(l===e&&c<t&&t<h)0===i?h+=n:h=t;else{if(l===e&&c===t&&r)continue;if(l===e)if(l+=i,0===i)c+=n,h+=n;else{const e=h-c;c=o+(c-t),h=c+e}else l+=i}a[s]=l,a[s+1]=c,a[s+2]=h}}}}class X_{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class ev{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new Vi(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,o,s]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new ev(this.startLineNumber,n),new ev(this.startLineNumber+s,o)]}applyEdit(e,t){const[i,n,o]=G_(t);this.acceptEdit(e,i,n,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,o){this._acceptDeleteRange(e),this._acceptInsertText(new Bi(e.startLineNumber,e.startColumn),t,i,n,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const e=i-t;return void(this.startLineNumber-=e)}const n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const n=-t;this.startLineNumber-=n,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,o){if(0===t&&0===i)return;const s=e.lineNumber-this.startLineNumber;if(s<0)return void(this.startLineNumber+=t);s>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(s,e.column-1,t,i,n,o)}}class tv{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function iv(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class nv{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),o=t[t.length-1].getRange();if(!n||!o)return e;i=e.plusRange(n).plusRange(o)}let n=null;for(let o=0,s=this._pieces.length;o<s;o++){const e=this._pieces[o];if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};break}if(e.removeTokens(i),e.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(e.endLineNumber<i.startLineNumber)continue;if(e.startLineNumber>i.endLineNumber){n=n||{index:o};continue}const[t,r]=e.split(i);t.isEmpty()?n=n||{index:o}:r.isEmpty()||(this._pieces.splice(o,1,t,r),o++,s++,n=n||{index:o})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=gs(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[nv._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const o=t.getCount(),s=n.getCount();let r=0,a=[],l=0,d=0;const c=(e,t)=>{e!==d&&(d=e,a[l++]=e,a[l++]=t)};for(let h=0;h<s;h++){const e=n.getStartCharacter(h),i=n.getEndCharacter(h),s=n.getMetadata(h),a=((1&s?2048:0)|(2&s?4096:0)|(4&s?8192:0)|(8&s?8372224:0)|(16&s?4286578688:0))>>>0,l=~a>>>0;for(;r<o&&t.getEndOffset(r)<=e;)c(t.getEndOffset(r),t.getMetadata(r)),r++;for(r<o&&t.getStartOffset(r)<e&&c(e,t.getMetadata(r));r<o&&t.getEndOffset(r)<i;)c(t.getEndOffset(r),t.getMetadata(r)&l|s&a),r++;if(r<o)c(i,t.getMetadata(r)&l|s&a),t.getEndOffset(r)===i&&r++;else{const e=Math.min(Math.max(0,r-1),o-1);c(i,t.getMetadata(e)&l|s&a)}}for(;r<o;)c(t.getEndOffset(r),t.getMetadata(r)),r++;return new Zu(new Uint32Array(a),t.getLineContent())}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let o=i+Math.floor((n-i)/2);if(e[o].endLineNumber<t)i=o+1;else{if(!(e[o].startLineNumber>t)){for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}n=o-1}}return i}acceptEdit(e,t,i,n,o){for(const s of this._pieces)s.acceptEdit(e,t,i,n,o)}}class ov{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==Y_)return new Zu(iv(n),i);let o=new Uint32Array(2);return o[0]=i.length,o[1]=Z_(e),new Zu(o,i)}static _massageTokens(e,t,i){const n=i?iv(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=Lc.getLanguageId(n[1])!==e),!t)return Y_}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=Z_(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[];for(let n=0;n<t;n++)i[n]=null;this._lineTokens=gs(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,o){const s=ov._massageTokens(e,i,n);this._ensureLine(t);const r=this._lineTokens[t];return this._lineTokens[t]=s,!!o&&!ov._equals(r,s)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=iv(e),n=iv(t);if(i.length!==n.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==n[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new Bi(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=ov._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=ov._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=ov._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ov._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=ov._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=ov._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=ov._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===Y_?e:ov._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===Y_)return e;const i=iv(e),n=i[i.length-2];return ov._delete(e,t,n)}static _delete(e,t,i){if(null===e||e===Y_||t===i)return e;const n=iv(e),o=n.length>>>1;if(0===t&&n[n.length-2]===i)return Y_;const s=Zu.findIndexInTokensArray(n,t),r=s>0?n[s-1<<1]:0;if(i<n[s<<1]){const r=i-t;for(let e=s;e<o;e++)n[e<<1]-=r;return e}let a,l;r!==t?(n[s<<1]=t,a=s+1<<1,l=t):(a=s<<1,l=r);const d=i-t;for(let h=s+1;h<o;h++){const e=n[h<<1]-d;e>l&&(n[a++]=e,n[a++]=n[1+(h<<1)],l=e)}if(a===n.length)return e;let c=new Uint32Array(a);return c.set(n.subarray(0,a),0),c.buffer}static _append(e,t){if(t===Y_)return e;if(e===Y_)return t;if(null===e)return e;if(null===t)return null;const i=iv(e),n=iv(t),o=n.length>>>1;let s=new Uint32Array(i.length+n.length);s.set(i,0);let r=i.length;const a=i[i.length-2];for(let l=0;l<o;l++)s[r++]=n[l<<1]+a,s[r++]=n[1+(l<<1)];return s.buffer}static _insert(e,t,i){if(null===e||e===Y_)return e;const n=iv(e),o=n.length>>>1;let s=Zu.findIndexInTokensArray(n,t);if(s>0){n[s-1<<1]===t&&s--}for(let r=s;r<o;r++)n[r<<1]+=i;return e}}class sv{constructor(e,t,i,n,o,s,r){this._onDidChangeContent=new Pt,this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._pieceTree=new j_(e,i,r)}dispose(){this._onDidChangeContent.dispose()}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const n=this.getPositionAt(e),o=this.getPositionAt(i);return new Vi(n.lineNumber,n.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,o=e.endLineNumber;for(let t=n;t<=o;t++){const s=this.getLineContent(t),r=t===n?e.startColumn-1:0,a=t===o?e.endColumn-1:s.length;for(let e=r;e<a;e++)sa(s.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(o-n),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=qr(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=jr(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,r=!0,a=[];for(let m=0;m<e.length;m++){let t=e[m];r&&t._isTracked&&(r=!1);let i=t.range;if(t.text){let e=!0;s||(e=!pa(t.text),s=e),!n&&e&&(n=ua(t.text)),!o&&e&&(o=ba(t.text))}let l="",d=0,c=0,h=0;if(t.text){let e;[d,c,h,e]=G_(t.text);const i=this.getEOL(),n="\r\n"===i?2:1;l=0===e||e===n?t.text:t.text.replace(/\r\n|\r|\n/g,i)}a[m]={sortIndex:m,identifier:t.identifier||null,range:i,rangeOffset:this.getOffsetAt(i.startLineNumber,i.startColumn),rangeLength:this.getValueLengthInRange(i),text:l,eolCount:d,firstLineLength:c,lastLineLength:h,forceMoveMarkers:Boolean(t.forceMoveMarkers),isAutoWhitespaceEdit:t.isAutoWhitespaceEdit||!1}}a.sort(sv._sortOpsAscending);let l=!1;for(let m=0,p=a.length-1;m<p;m++){let e=a[m].range.getEndPosition(),t=a[m+1].range.getStartPosition();if(t.isBeforeOrEqual(e)){if(t.isBefore(e))throw new Error("Overlapping ranges are not allowed!");l=!0}}r&&(a=this._reduceOperations(a));let d=i||t?sv._getInverseEditRanges(a):[],c=[];if(t)for(let m=0;m<a.length;m++){let e=a[m],t=d[m];if(e.isAutoWhitespaceEdit&&e.range.isEmpty())for(let i=t.startLineNumber;i<=t.endLineNumber;i++){let n="";i===t.startLineNumber&&(n=this.getLineContent(e.range.startLineNumber),-1!==qr(n))||c.push({lineNumber:i,oldContent:n})}}let h=null;if(i){let e=0;h=[];for(let t=0;t<a.length;t++){const i=a[t],n=d[t],o=this.getValueInRange(i.range),s=i.rangeOffset+e;e+=i.text.length-o.length,h[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:o,textChange:new Fb(i.rangeOffset,o,s,i.text)}}l||h.sort(((e,t)=>e.sortIndex-t.sortIndex))}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const u=this._doApplyEdits(a);let g=null;if(t&&c.length>0){c.sort(((e,t)=>t.lineNumber-e.lineNumber)),g=[];for(let e=0,t=c.length;e<t;e++){let t=c[e].lineNumber;if(e>0&&c[e-1].lineNumber===t)continue;let i=c[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===qr(n)&&g.push(t)}}return this._onDidChangeContent.fire(),new ql(h,u,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,o=new Vi(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let s=i.startLineNumber,r=i.startColumn;const a=[];for(let u=0,g=e.length;u<g;u++){const i=e[u],n=i.range;t=t||i.forceMoveMarkers,a.push(this.getValueInRange(new Vi(s,r,n.startLineNumber,n.startColumn))),i.text.length>0&&a.push(i.text),s=n.endLineNumber,r=n.endColumn}const l=a.join(""),[d,c,h]=G_(l);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:l,eolCount:d,firstLineLength:c,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(sv._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i];const o=n.range.startLineNumber,s=n.range.startColumn,r=n.range.endLineNumber,a=n.range.endColumn;if(o===r&&s===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new Vi(o,s,r,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,o=null;for(let s=0,r=e.length;s<r;s++){let r,a,l,d=e[s];if(o?o.range.endLineNumber===d.range.startLineNumber?(r=i,a=n+(d.range.startColumn-o.range.endColumn)):(r=i+(d.range.startLineNumber-o.range.endLineNumber),a=d.range.startColumn):(r=d.range.startLineNumber,a=d.range.startColumn),d.text.length>0){const e=d.eolCount+1;l=1===e?new Vi(r,a,r,a+d.firstLineLength):new Vi(r,a,r+e-1,d.lastLineLength+1)}else l=new Vi(r,a,r,a);i=l.endLineNumber,n=l.endColumn,t.push(l),o=d}return t}static _sortOpsAscending(e,t){let i=Vi.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=Vi.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class rv{constructor(e,t,i,n,o,s,r,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=r,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let n=0,o=i.length;n<o;n++){let e=i[n].buffer.replace(/\r\n|\r|\n/g,t),o=z_(e);i[n]=new K_(e,o)}return new sv(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL)}}class av{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&Ca(e)&&(this.BOM=wa,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,o=0,s=0,r=!0;for(let l=0,d=t.length;l<d;l++){const a=t.charCodeAt(l);13===a?l+1<d&&10===t.charCodeAt(l+1)?(s++,e[i++]=l+2,l++):(n++,e[i++]=l+1):10===a?(o++,e[i++]=l+1):r&&9!==a&&(a<32||a>126)&&(r=!1)}const a=new H_(V_(e),n,o,s,r);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new K_(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=ua(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=ba(e))}finish(e=!0){return this._finish(),new rv(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=z_(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class lv{constructor(){this.changeType=1}}class dv{constructor(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}}class cv{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class hv{constructor(e,t,i){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class uv{constructor(){this.changeType=5}}class gv{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new gv(i,n,o,s)}}class mv{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=gv.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=mv._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new mv(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class pv{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[],n=[];for(let o=0;o<t;o++)i[o]=null,n[o]=!1;this._beginState=gs(this._beginState,e,i),this._valid=gs(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,n=t;for(let o=Math.min(i,n);o>=0;o--)this._invalidateLine(e.startLineNumber+o-1);this._acceptDeleteRange(e),this._acceptInsertText(new Bi(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class fv extends It{constructor(e){super(),this._isDisposed=!1,this._textModel=e,this._tokenizationStateStore=new pv,this._tokenizationSupport=null,this._register(ih.onDidChange((e=>{const t=this._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(t.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())}))),this._register(this._textModel.onDidChangeRawContentFast((e=>{e.containsEvent(1)&&this._resetTokenizationState()}))),this._register(this._textModel.onDidChangeContentFast((e=>{for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=G_(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeAttached((()=>{this._beginBackgroundTokenization()}))),this._register(this._textModel.onDidChangeLanguage((()=>{this._resetTokenizationState(),this._textModel.clearTokens()}))),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageIdentifier();let i=e.isTooLargeForTokenization()?null:ih.get(t.language),n=null;if(i)try{n=i.getInitialState()}catch(le){ft(le),i=null}return[i,n]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&Ie((()=>{this._isDisposed||this._revalidateTokensNow()}))}_revalidateTokensNow(e=this._textModel.getLineCount()){const t=new J_,i=Fu.create(!1);for(;this._hasLinesToTokenize()&&!(i.elapsed()>1);){if(this._tokenizeOneInvalidLine(t)>=e)break}this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(e,t){const i=new J_;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new J_;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageIdentifier(),n=this._textModel.getLineCount(),o=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=o;s++){const t=this._textModel.getLineContent(s+1),o=this._tokenizationStateStore.getBeginState(s),r=bv(i,this._tokenizationSupport,t,o);e.add(s+1,r.tokens),this._tokenizationStateStore.setEndState(n,s,r.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],s=null;for(let l=t-1;n>0&&l>=1;l--){let e=this._textModel.getLineFirstNonWhitespaceColumn(l);if(0!==e&&e<n){if(s=this._tokenizationStateStore.getBeginState(l-1),s)break;o.push(this._textModel.getLineContent(l)),n=e}}s||(s=this._tokenizationSupport.getInitialState());const r=this._textModel.getLanguageIdentifier();let a=s;for(let l=o.length-1;l>=0;l--){a=bv(r,this._tokenizationSupport,o[l],a).endState}for(let l=t;l<=i;l++){let t=this._textModel.getLineContent(l),i=bv(r,this._tokenizationSupport,t,a);e.add(l,i.tokens),this._tokenizationStateStore.setFakeTokens(l-1),a=i.endState}}}function bv(e,t,i,n){let o=null;if(t)try{o=t.tokenize2(i,n.clone(),0)}catch(le){ft(le)}return o||(o=rh(e.id,0,n,0)),Zu.convertToEndOffset(o.tokens,i.length),o}function _v(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class vv{constructor(e,t,i,n=1){this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=_v(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class wv{constructor(e,t,i,n){this.h=0|Math.max(Math.min(360,e),0),this.s=_v(Math.max(Math.min(1,t),0),3),this.l=_v(Math.max(Math.min(1,i),0),3),this.a=_v(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=e.a,s=Math.max(t,i,n),r=Math.min(t,i,n);let a=0,l=0;const d=(r+s)/2,c=s-r;if(c>0){switch(l=Math.min(d<=.5?c/(2*d):c/(2-2*d),1),s){case t:a=(i-n)/c+(i<n?6:0);break;case i:a=(n-t)/c+2;break;case n:a=(t-i)/c+4}a*=60,a=Math.round(a)}return new wv(a,l,d,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:o}=e;let s,r,a;if(0===i)s=r=a=n;else{const e=n<.5?n*(1+i):n+i-n*i,o=2*n-e;s=wv._hue2rgb(o,e,t+1/3),r=wv._hue2rgb(o,e,t),a=wv._hue2rgb(o,e,t-1/3)}return new vv(Math.round(255*s),Math.round(255*r),Math.round(255*a),o)}}class Cv{constructor(e,t,i,n){this.h=0|Math.max(Math.min(360,e),0),this.s=_v(Math.max(Math.min(1,t),0),3),this.v=_v(Math.max(Math.min(1,i),0),3),this.a=_v(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,o=Math.max(t,i,n),s=o-Math.min(t,i,n),r=0===o?0:s/o;let a;return a=0===s?0:o===t?((i-n)/s%6+6)%6:o===i?(n-t)/s+2:(t-i)/s+4,new Cv(Math.round(60*a),r,o,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:o}=e,s=n*i,r=s*(1-Math.abs(t/60%2-1)),a=n-s;let[l,d,c]=[0,0,0];return t<60?(l=s,d=r):t<120?(l=r,d=s):t<180?(d=s,c=r):t<240?(d=r,c=s):t<300?(l=r,c=s):t<360&&(l=s,c=r),l=Math.round(255*(l+a)),d=Math.round(255*(d+a)),c=Math.round(255*(c+a)),new vv(l,d,c,o)}}class yv{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof vv)this.rgba=e;else if(e instanceof wv)this._hsla=e,this.rgba=wv.toRGBA(e);else{if(!(e instanceof Cv))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=Cv.toRGBA(e)}}static fromHex(e){return yv.Format.CSS.parseHex(e)||yv.red}get hsla(){return this._hsla?this._hsla:wv.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Cv.fromRGBA(this.rgba)}equals(e){return!!e&&vv.equals(this.rgba,e.rgba)&&wv.equals(this.hsla,e.hsla)&&Cv.equals(this.hsva,e.hsva)}getRelativeLuminance(){return _v(.2126*yv._relativeLuminanceForComponent(this.rgba.r)+.7152*yv._relativeLuminanceForComponent(this.rgba.g)+.0722*yv._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new yv(new wv(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new yv(new wv(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:o}=this.rgba;return new yv(new vv(t,i,n,o*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new yv(new vv(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+yv.Format.CSS.format(this)}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-n)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}var Sv,kv;function xv(e){const t=new av;return t.acceptChunk(e),t.finish()}function Lv(e,t){return("string"==typeof e?xv(e):e).create(t)}yv.white=new yv(new vv(255,255,255,1)),yv.black=new yv(new vv(0,0,0,1)),yv.red=new yv(new vv(255,0,0,1)),yv.blue=new yv(new vv(0,0,255,1)),yv.cyan=new yv(new vv(0,255,255,1)),yv.lightgrey=new yv(new vv(211,211,211,1)),yv.transparent=new yv(new vv(0,0,0,0)),Sv=yv||(yv={}),function(e){function t(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function i(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}e.formatRGB=function(e){return 1===e.rgba.a?`rgb(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b})`:Sv.Format.CSS.formatRGBA(e)},e.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},e.formatHSL=function(e){return 1===e.hsla.a?`hsl(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%)`:Sv.Format.CSS.formatHSLA(e)},e.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},e.formatHex=function(e){return`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}`},e.formatHexA=function(e,i=!1){return i&&1===e.rgba.a?Sv.Format.CSS.formatHex(e):`#${t(e.rgba.r)}${t(e.rgba.g)}${t(e.rgba.b)}${t(Math.round(255*e.rgba.a))}`},e.format=function(e){return e.isOpaque()?Sv.Format.CSS.formatHex(e):Sv.Format.CSS.formatRGBA(e)},e.parseHex=function(e){const t=e.length;if(0===t)return null;if(35!==e.charCodeAt(0))return null;if(7===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6));return new Sv(new vv(t,n,o,1))}if(9===t){const t=16*i(e.charCodeAt(1))+i(e.charCodeAt(2)),n=16*i(e.charCodeAt(3))+i(e.charCodeAt(4)),o=16*i(e.charCodeAt(5))+i(e.charCodeAt(6)),s=16*i(e.charCodeAt(7))+i(e.charCodeAt(8));return new Sv(new vv(t,n,o,s/255))}if(4===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3));return new Sv(new vv(16*t+t,16*n+n,16*o+o))}if(5===t){const t=i(e.charCodeAt(1)),n=i(e.charCodeAt(2)),o=i(e.charCodeAt(3)),s=i(e.charCodeAt(4));return new Sv(new vv(16*t+t,16*n+n,16*o+o,(16*s+s)/255))}return null}}((kv=Sv.Format||(Sv.Format={})).CSS||(kv.CSS={}));let Ev=0;class Dv{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){let n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const Nv=()=>{throw new Error("Invalid change accessor")};class Tv{constructor(){this._searchCanceledBrand=void 0}}function Iv(e){return e instanceof Tv?null:e}Tv.INSTANCE=new Tv;class Mv extends It{constructor(e,t,i,n=null,o){super(),this._onWillDispose=this._register(new Pt),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Hv),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new Pt),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new Pt),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new Pt),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new Pt),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new Pt),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new zv),Ev++,this.id="$model"+Ev,this.isForSimpleWidget=t.isForSimpleWidget,this._associatedResource=null==n?Di.parse("inmemory://model/"+Ev):n,this._undoRedoService=o,this._attachedEditorCount=0,this._buffer=Lv(e,t.defaultEOL),this._options=Mv.resolveOptions(this._buffer,t);const s=this._buffer.getLineCount(),r=this._buffer.getValueLengthInRange(new Vi(1,1,s,this._buffer.getLineLength(s)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=r>Mv.LARGE_FILE_SIZE_THRESHOLD||s>Mv.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=r>Mv.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=i||oh,this._languageRegistryListener=zh.onDidChange((e=>{e.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})})),this._instanceId=ya(Ev),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Rv,this._commandManager=new Kb(this,o),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new ov,this._tokens2=new nv,this._tokenization=new fv(this)}static resolveOptions(e,t){if(t.detectIndentation){const i=jb(e,t.tabSize,t.insertSpaces);return new zl({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new zl({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}onDidChangeRawContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.rawContentChangedEvent)))}onDidChangeContentFast(e){return this._eventEmitter.fastEvent((t=>e(t.contentChangedEvent)))}onDidChangeContent(e){return this._eventEmitter.slowEvent((t=>e(t.contentChangedEvent)))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._isDisposing=!1}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||this._eventEmitter.fire(new mv(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const t=Lv(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)}_createContentChanged2(e,t,i,n,o,s,r){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:r}}setValueFromTextBuffer(e){if(this._assertNotDisposed(),null===e)return;const t=this.getFullModelRange(),i=this.getValueLengthInRange(t),n=this.getLineCount(),o=this.getLineMaxColumn(n);this._buffer=e,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new Rv,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new gv([new lv],this._versionId,!1,!1),this._createContentChanged2(new Vi(1,1,n,o),0,i,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new gv([new uv],this._versionId,!1,!1),this._createContentChanged2(new Vi(1,1,o,s),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.cachedAbsoluteStart-n.start,s=this._buffer.getOffsetAt(n.range.startLineNumber,n.range.startColumn),r=this._buffer.getOffsetAt(n.range.endLineNumber,n.range.endColumn);n.cachedAbsoluteStart=s,n.cachedAbsoluteEnd=r,n.cachedVersionId=e,n.start=s-o,n.end=r-o,p_(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=1e4?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=new zl({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o});if(this._options.equals(s))return;let r=this._options.createChangeEvent(s);this._options=s,this._onDidChangeOptions.fire(r)}detectIndentation(e,t){this._assertNotDisposed();let i=jb(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let s=0;s<e.length;s++)"\t"===e.charAt(s)?n+=t:n++;let o="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)o+="\t"}for(let s=0;s<n;s++)o+=" ";return o}static normalizeIndentation(e,t,i){let n=qr(e);return-1===n&&(n=e.length),Mv._normalizeIndentationFromWhitespace(e.substring(0,n),t,i)+e.substring(n)}normalizeIndentation(e){return this._assertNotDisposed(),Mv.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(fa.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map((e=>({range:e.range,text:null}))),(()=>null))}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new Dv(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let o,s;if(i<1)o=1,s=1;else if(i>t)o=t,s=this.getLineMaxColumn(o);else if(o=0|i,n<=1)s=1;else{const e=this.getLineMaxColumn(o);s=n>=e?e:0|n}const r=e.endLineNumber,a=e.endColumn;let l,d;if(r<1)l=1,d=1;else if(r>t)l=t,d=this.getLineMaxColumn(l);else if(l=0|r,a<=1)d=1;else{const e=this.getLineMaxColumn(l);d=a>=e?e:0|a}return i===o&&n===s&&r===l&&a===d&&e instanceof Vi&&!(e instanceof Hi)?e:new Vi(o,s,l,d)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){if(sa(this._buffer.getLineCharCode(e,t-2)))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),o=Math.floor("number"!=typeof t||isNaN(t)?1:t),s=this._buffer.getLineCount();if(n<1)return new Bi(1,1);if(n>s)return new Bi(s,this.getLineMaxColumn(s));if(o<=1)return new Bi(n,1);const r=this.getLineMaxColumn(n);if(o>=r)return new Bi(n,r);if(1===i){if(sa(this._buffer.getLineCharCode(n,o-2)))return new Bi(n,o-1)}return new Bi(n,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof Bi&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(o,s,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,r=sa(e),a=sa(t);return!r&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof Vi&&!(e instanceof Hi)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,o=t.column,s=i.lineNumber,r=i.column;{const e=o>1?this._buffer.getLineCharCode(n,o-2):0,t=r>1&&r<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,r-2):0,i=sa(e),a=sa(t);return i||a?n===s&&o===r?new Vi(n,o-1,s,r-1):i&&a?new Vi(n,o-1,s,r+1):i?new Vi(n,o-1,s,r):new Vi(n,o,s,r+1):new Vi(n,o,s,r)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new Vi(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,o,s,r=999){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every((e=>Vi.isIRange(e)))&&(a=t.map((e=>this.validateRange(e))))),null===a&&(a=[this.getFullModelRange()]),a=a.sort(((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn));const l=[];let d;if(l.push(a.reduce(((e,t)=>Vi.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t)))),!i&&e.indexOf("\n")<0){const t=new R_(e,i,n,o).parseSearchRequest();if(!t)return[];d=e=>this.findMatchesLineByLine(e,t,s,r)}else d=t=>F_.findMatches(this,new R_(e,i,n,o),t,s,r);return l.map(d).reduce(((e,t)=>e.concat(t)),[])}findNextMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new R_(e,i,n,o).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new Vi(r.lineNumber,r.column,a,this.getLineMaxColumn(a)),d=this.findMatchesLineByLine(l,t,s,1);return F_.findNextMatch(this,new R_(e,i,n,o),r,s),d.length>0?d[0]:(l=new Vi(1,1,r.lineNumber,this.getLineMaxColumn(r.lineNumber)),d=this.findMatchesLineByLine(l,t,s,1),d.length>0?d[0]:null)}return F_.findNextMatch(this,new R_(e,i,n,o),r,s)}findPreviousMatch(e,t,i,n,o,s){this._assertNotDisposed();const r=this.validatePosition(t);return F_.findPreviousMatch(this,new R_(e,i,n,o),r,s)}pushStackElement(){this._commandManager.pushStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Kl?e:new Kl(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let i=t.map((e=>({range:this.validateRange(e.range),text:e.text}))),n=!0;if(e)for(let t=0,o=e.length;t<o;t++){let o=e[t],s=!1;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,n=t.startLineNumber>o.endLineNumber,r=o.startLineNumber>t.endLineNumber;if(!n&&!r){s=!0;break}}if(!s){n=!1;break}}if(n)for(let e=0,o=this._trimAutoWhitespaceLines.length;e<o;e++){let n=this._trimAutoWhitespaceLines[e],o=this.getLineMaxColumn(n),s=!0;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,r=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&!(n===t.startLineNumber&&t.startColumn===o&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&r&&r.length>0&&"\n"===r.charAt(r.length-1))){s=!1;break}}if(s){const e=new Vi(n,1,n,o);t.push(new Kl(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new Vi(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}}));this._applyUndoRedoEdits(o,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const o=e.map((e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new Vi(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}}));this._applyUndoRedoEdits(o,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==s.length){let e=[],t=i;for(let i=0,n=s.length;i<n;i++){const n=s[i],[r,a,l]=G_(n.text);this._tokens.acceptEdit(n.range,r,a),this._tokens2.acceptEdit(n.range,r,a,l,n.text.length>0?n.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(n.rangeOffset,n.rangeLength,n.text.length,n.forceMoveMarkers);const d=n.range.startLineNumber,c=n.range.endLineNumber,h=c-d,u=r,g=Math.min(h,u),m=u-h;for(let i=g;i>=0;i--){const n=d+i,s=o-t-m+n;e.push(new dv(n,this.getLineContent(s)))}if(g<h){const t=d+g;e.push(new cv(t+1,c))}if(g<u){const i=d+g,n=u-g,s=o-t-n+i+1;let r=[];for(let e=0;e<n;e++){let t=s+e;r[t-s]=this.getLineContent(t)}e.push(new hv(i+1,d+u,r))}t+=m}this._increaseVersionId(),this._emitContentChangedEvent(new gv(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Vv(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},n=null;try{n=t(i)}catch(le){ft(le)}return i.addDecoration=Nv,i.changeDecoration=Nv,i.changeDecorationOptions=Nv,i.removeDecoration=Nv,i.deltaDecorations=Nv,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Bv[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),r=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),s,r,o),n.setOptions(Bv[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._decorationsTree.delete(e),delete this._decorations[e.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];if(!t)return null;const i=this.getVersionId();return t.cachedVersionId!==i&&this._decorationsTree.resolveNode(t,i),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let o=this.getLineCount(),s=Math.min(o,Math.max(1,e)),r=Math.min(o,Math.max(1,t)),a=this.getLineMaxColumn(r);return this._getDecorationsInRange(new Vi(s,1,r,a),i,n)}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e);return this._getDecorationsInRange(n,t,i)}getOverviewRulerDecorations(e=0,t=!1){const i=this.getVersionId(),n=this._decorationsTree.search(e,t,!0,i);return this._ensureNodesHaveRanges(n)}getAllDecorations(e=0,t=!1){const i=this.getVersionId(),n=this._decorationsTree.search(e,t,!1,i);return this._ensureNodesHaveRanges(n)}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),s=this.getVersionId(),r=this._decorationsTree.intervalSearch(n,o,t,i,s);return this._ensureNodesHaveRanges(r)}_ensureNodesHaveRanges(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];null===i.range&&(i.range=this._getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd))}return e}_getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;const n=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),s=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),o=t.length;let s=0;const r=i.length;let a=0,l=new Array(r);for(;s<o||a<r;){let d=null;if(s<o){do{d=this._decorations[t[s++]]}while(!d&&s<o);d&&(this._decorationsTree.delete(d),this._onDidChangeDecorations.checkAffectedAndFire(d.options))}if(a<r){if(!d){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;d=new o_(t,0,0),this._decorations[t]=d}const t=i[a],o=this._validateRangeRelaxedNoAllocations(t.range),s=Vv(t.options),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),c=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);d.ownerId=e,d.reset(n,r,c,o),d.setOptions(s),this._onDidChangeDecorations.checkAffectedAndFire(s),this._decorationsTree.insert(d),l[a]=d.id,a++}else d&&delete this._decorations[d.id]}return l}setTokens(e){if(0===e.length)return;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let o=0,s=0,r=!1;for(let e=0,t=n.tokens.length;e<t;e++){const t=n.startLineNumber+e;if(r)this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!1),s=t;else{this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!0)&&(r=!0,o=t,s=t)}}r&&t.push({fromLineNumber:o,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasSemanticTokens(){return this._tokens2.isComplete()}setPartialSemanticTokens(e,t){if(this.hasSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(e){if(this._languageIdentifier.id===e.id)return;let t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new Bi(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),o=n.findTokenIndexAtOffset(t.column-1),[s,r]=Mv._findLanguageBoundaries(n,o),a=We(t.column,zh.getWordDefinition(n.getLanguageId(o)),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(o>0&&s===t.column-1){const[s,r]=Mv._findLanguageBoundaries(n,o-1),a=We(t.column,zh.getWordDefinition(n.getLanguageId(o-1)),i.substring(s,r),s);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)n=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,r=e.getCount();s<r&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[n,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.validatePosition(t),o=this._getLineTokens(n.lineNumber),s=o.getLanguageId(o.findTokenIndexAtOffset(n.column-1)),r=zh.getBracketsSupport(s);if(!r)return null;let a=r.textIsBracket[i];return a?Iv(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),n=i.getCount(),o=this._buffer.getLineContent(t),s=i.findTokenIndexAtOffset(e.column-1);if(s<0)return null;const r=zh.getBracketsSupport(i.getLanguageId(s));if(r&&!vh(i.getStandardTokenType(s))){let n=Math.max(0,e.column-1-r.maxBracketLength);for(let e=s-1;e>=0;e--){const t=i.getEndOffset(e);if(t<=n)break;vh(i.getStandardTokenType(e))&&(n=t)}const a=Math.min(o.length,e.column-1+r.maxBracketLength);let l=null;for(;;){const i=Ph.findNextBracketInRange(r.forwardRegex,t,o,n,a);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=o.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),t=this._matchFoundBracket(i,r.textIsBracket[e],r.textIsOpenBracket[e],null);if(t){if(t instanceof Tv)return null;l=t}}n=i.endColumn-1}if(l)return l}if(s>0&&i.getStartOffset(s)===e.column-1){const r=s-1,a=zh.getBracketsSupport(i.getLanguageId(r));if(a&&!vh(i.getStandardTokenType(r))){const s=Math.max(0,e.column-1-a.maxBracketLength);let l=Math.min(o.length,e.column-1+a.maxBracketLength);for(let e=r+1;e<n;e++){const t=i.getStartOffset(e);if(t>=l)break;vh(i.getStandardTokenType(e))&&(l=t)}const d=Ph.findPrevBracketInRange(a.reversedRegex,t,o,s,l);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){const e=o.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),t=this._matchFoundBracket(d,a.textIsBracket[e],a.textIsOpenBracket[e],null);if(t)return t instanceof Tv?null:t}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return o?o instanceof Tv?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const n=e.languageIdentifier.id,o=e.reversedRegex;let s=-1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return Tv.INSTANCE;const d=Ph.findPrevBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;l=d.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this._getLineTokens(l),i=e.getCount(),o=this._buffer.getLineContent(l);let s=i-1,r=o.length,d=o.length;l===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,d=t.column-1);let c=!0;for(;s>=0;s--){const t=e.getLanguageId(s)===n&&!vh(e.getStandardTokenType(s));if(t)c?r=e.getStartOffset(s):(r=e.getStartOffset(s),d=e.getEndOffset(s));else if(c&&r!==d){const e=a(l,o,r,d);if(e)return e}c=t}if(c&&r!==d){const e=a(l,o,r,d);if(e)return e}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageIdentifier.id,o=e.forwardRegex;let s=1,r=0;const a=(t,n,a,l)=>{for(;;){if(i&&++r%100==0&&!i())return Tv.INSTANCE;const d=Ph.findNextBracketInRange(o,t,n,a,l);if(!d)break;const c=n.substring(d.startColumn-1,d.endColumn-1).toLowerCase();if(e.isOpen(c)?s++:e.isClose(c)&&s--,0===s)return d;a=d.endColumn-1}return null},l=this.getLineCount();for(let d=t.lineNumber;d<=l;d++){const e=this._getLineTokens(d),i=e.getCount(),o=this._buffer.getLineContent(d);let s=0,r=0,l=0;d===t.lineNumber&&(s=e.findTokenIndexAtOffset(t.column-1),r=t.column-1,l=t.column-1);let c=!0;for(;s<i;s++){const t=e.getLanguageId(s)===n&&!vh(e.getStandardTokenType(s));if(t)c||(r=e.getStartOffset(s)),l=e.getEndOffset(s);else if(c&&r!==l){const e=a(d,o,r,l);if(e)return e}c=t}if(c&&r!==l){const e=a(d,o,r,l);if(e)return e}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=-1,n=null;for(let o=t.lineNumber;o>=1;o--){const e=this._getLineTokens(o),s=e.getCount(),r=this._buffer.getLineContent(o);let a=s-1,l=r.length,d=r.length;if(o===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1;const o=e.getLanguageId(a);i!==o&&(i=o,n=zh.getBracketsSupport(i))}let c=!0;for(;a>=0;a--){const t=e.getLanguageId(a);if(i!==t){if(n&&c&&l!==d){const e=Ph.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e);c=!1}i=t,n=zh.getBracketsSupport(i)}const s=!!n&&!vh(e.getStandardTokenType(a));if(s)c?l=e.getStartOffset(a):(l=e.getStartOffset(a),d=e.getEndOffset(a));else if(n&&c&&l!==d){const e=Ph.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e)}c=s}if(n&&c&&l!==d){const e=Ph.findPrevBracketInRange(n.reversedRegex,o,r,l,d);if(e)return this._toFoundBracket(n,e)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let n=-1,o=null;for(let s=t.lineNumber;s<=i;s++){const e=this._getLineTokens(s),i=e.getCount(),r=this._buffer.getLineContent(s);let a=0,l=0,d=0;if(s===t.lineNumber){a=e.findTokenIndexAtOffset(t.column-1),l=t.column-1,d=t.column-1;const i=e.getLanguageId(a);n!==i&&(n=i,o=zh.getBracketsSupport(n))}let c=!0;for(;a<i;a++){const t=e.getLanguageId(a);if(n!==t){if(o&&c&&l!==d){const e=Ph.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e);c=!1}n=t,o=zh.getBracketsSupport(n)}const i=!!o&&!vh(e.getStandardTokenType(a));if(i)c||(l=e.getStartOffset(a)),d=e.getEndOffset(a);else if(o&&c&&l!==d){const e=Ph.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e)}c=i}if(o&&c&&l!==d){const e=Ph.findNextBracketInRange(o.forwardRegex,s,r,l,d);if(e)return this._toFoundBracket(o,e)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=()=>Date.now()-e<=t}const n=this.validatePosition(e),o=this.getLineCount(),s=new Map;let r=[];const a=(e,t)=>{if(!s.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;s.set(e,i)}r=s.get(e)};let l=0;const d=(e,t,n,o,s)=>{for(;;){if(i&&++l%100==0&&!i())return Tv.INSTANCE;const a=Ph.findNextBracketInRange(e.forwardRegex,t,n,o,s);if(!a)break;const d=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),c=e.textIsBracket[d];if(c&&(c.isOpen(d)?r[c.index]++:c.isClose(d)&&r[c.index]--,-1===r[c.index]))return this._matchFoundBracket(a,c,!1,i);o=a.endColumn-1}return null};let c=-1,h=null;for(let u=n.lineNumber;u<=o;u++){const e=this._getLineTokens(u),t=e.getCount(),i=this._buffer.getLineContent(u);let o=0,s=0,r=0;if(u===n.lineNumber){o=e.findTokenIndexAtOffset(n.column-1),s=n.column-1,r=n.column-1;const t=e.getLanguageId(o);c!==t&&(c=t,h=zh.getBracketsSupport(c),a(c,h))}let l=!0;for(;o<t;o++){const t=e.getLanguageId(o);if(c!==t){if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return Iv(e);l=!1}c=t,h=zh.getBracketsSupport(c),a(c,h)}const n=!!h&&!vh(e.getStandardTokenType(o));if(n)l||(s=e.getStartOffset(o)),r=e.getEndOffset(o);else if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return Iv(e)}l=n}if(h&&l&&s!==r){const e=d(h,u,i,s,r);if(e)return Iv(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0,o=e.length;for(;n<o;){let o=e.charCodeAt(n);if(32===o)i++;else{if(9!==o)break;i=i-i%t+t}n++}return n===o?-1:i}_computeIndentLevel(e){return Mv.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const o=zh.getFoldingRules(this._languageIdentifier.id),s=Boolean(o&&o.offSide);let r=-2,a=-1,l=-2,d=-1;const c=e=>{if(-1!==r&&(-2===r||r>e-1)){r=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){r=t,a=e;break}}}if(-2===l){l=-1,d=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,d=e;break}}}};let h=-2,u=-1,g=-2,m=-1;const p=e=>{if(-2===h){h=-1,u=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){h=t,u=e;break}}}if(-1!==g&&(-2===g||g<e-1)){g=-1,m=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){g=t,m=e;break}}}};let f=0,b=!0,_=0,v=!0,w=0,C=0;for(let y=0;b||v;y++){const o=e-y,r=e+y;y>1&&(o<1||o<t)&&(b=!1),y>1&&(r>n||r>i)&&(v=!1),y>5e4&&(b=!1,v=!1);let g=-1;if(b){const e=this._computeIndentLevel(o-1);e>=0?(l=o-1,d=e,g=Math.ceil(e/this._options.indentSize)):(c(o),g=this._getIndentLevelForWhitespaceLine(s,a,d))}let S=-1;if(v){const e=this._computeIndentLevel(r-1);e>=0?(h=r-1,u=e,S=Math.ceil(e/this._options.indentSize)):(p(r),S=this._getIndentLevelForWhitespaceLine(s,u,m))}if(0!==y){if(1===y){if(r<=n&&S>=0&&C+1===S){b=!1,f=r,_=r,w=S;continue}if(o>=1&&g>=0&&g-1===C){v=!1,f=o,_=o,w=g;continue}if(f=e,_=e,w=C,0===w)return{startLineNumber:f,endLineNumber:_,indent:w}}b&&(g>=w?f=o:b=!1),v&&(S>=w?_=r:v=!1)}else C=g}return{startLineNumber:f,endLineNumber:_,indent:w}}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=zh.getFoldingRules(this._languageIdentifier.id),o=Boolean(n&&n.offSide);let s=new Array(t-e+1),r=-2,a=-1,l=-2,d=-1;for(let c=e;c<=t;c++){let t=c-e;const n=this._computeIndentLevel(c-1);if(n>=0)r=c-1,a=n,s[t]=Math.ceil(n/this._options.indentSize);else{if(-2===r){r=-1,a=-1;for(let e=c-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){r=e,a=t;break}}}if(-1!==l&&(-2===l||l<c-1)){l=-1,d=-1;for(let e=c;e<i;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,d=t;break}}}s[t]=this._getIndentLevelForWhitespaceLine(o,a,d)}}return s}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i||e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}}Mv.MODEL_SYNC_LIMIT=52428800,Mv.LARGE_FILE_SIZE_THRESHOLD=20971520,Mv.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,Mv.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:rt,indentSize:at,insertSpaces:lt,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:ct,largeFileOptimizations:ht};class Rv{constructor(){this._decorationsTree0=new r_,this._decorationsTree1=new r_}intervalSearch(e,t,i,n,o){const s=this._decorationsTree0.intervalSearch(e,t,i,n,o),r=this._decorationsTree1.intervalSearch(e,t,i,n,o);return s.concat(r)}search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),o=this._decorationsTree1.search(e,t,n);return i.concat(o)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(i)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)}insert(e){e_(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){e_(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}resolveNode(e,t){e_(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n)}}function Av(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Ov{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Pv extends Ov{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:Vl.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class Fv extends Ov{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?yv.fromHex(e):t.getColor(e.id)}}class Wv{constructor(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Av(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Pv(e.overviewRuler):null,this.minimap=e.minimap?new Fv(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Av(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Av(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Av(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Av(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Av(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Av(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Av(e.afterContentClassName):null}static register(e){return new Wv(e)}static createDynamic(e){return new Wv(e)}}Wv.EMPTY=Wv.register({});const Bv=[Wv.register({stickiness:0}),Wv.register({stickiness:1}),Wv.register({stickiness:2}),Wv.register({stickiness:3})];function Vv(e){return e instanceof Wv?e:Wv.createDynamic(e)}class Hv extends It{constructor(){super(),this._actual=this._register(new Pt),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,0===this._deferredCnt&&this._shouldFire){const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class zv extends It{constructor(){super(),this._fastEmitter=this._register(new Pt),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new Pt),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const Uv=()=>!0,Kv=()=>!1,qv=e=>" "===e||"\t"===e;function $v(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}class jv{constructor(e,t,i){this._languageIdentifier=e;const n=i.options,o=n.get(117);this.readOnly=n.get(72),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.lineHeight=n.get(51),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=n.get(104),this.wordSeparators=n.get(105),this.emptySelectionClipboard=n.get(26),this.copyWithSyntaxHighlighting=n.get(16),this.multiCursorMergeOverlapping=n.get(60),this.multiCursorPaste=n.get(62),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(7),this.autoClosingOvertype=n.get(6),this.autoSurround=n.get(10),this.autoIndent=n.get(8),this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:jv._getShouldAutoClose(e,this.autoClosingQuotes),bracket:jv._getShouldAutoClose(e,this.autoClosingBrackets)};let s=jv._getAutoClosingPairs(e);if(s)for(const a of s)$v(this.autoClosingPairsOpen2,a.open.charAt(a.open.length-1),a),1===a.close.length&&$v(this.autoClosingPairsClose2,a.close,a);let r=jv._getSurroundingPairs(e);if(r)for(const a of r)this.surroundingPairs[a.open]=a.close}static shouldRecreate(e){return e.hasChanged(117)||e.hasChanged(105)||e.hasChanged(26)||e.hasChanged(60)||e.hasChanged(62)||e.hasChanged(5)||e.hasChanged(7)||e.hasChanged(6)||e.hasChanged(10)||e.hasChanged(104)||e.hasChanged(51)||e.hasChanged(72)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=jv._getElectricCharacters(this._languageIdentifier);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return Mv.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return zh.getElectricCharacters(e.id)}catch(le){return ft(le),null}}static _getAutoClosingPairs(e){try{return zh.getAutoClosingPairs(e.id)}catch(le){return ft(le),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return qv;case"languageDefined":return jv._getLanguageDefinedShouldAutoClose(e);case"always":return Uv;case"never":return Kv}}static _getLanguageDefinedShouldAutoClose(e){try{const t=zh.getAutoCloseBeforeSet(e.id);return e=>-1!==t.indexOf(e)}catch(le){return ft(le),Kv}}static _getSurroundingPairs(e){try{return zh.getSurroundingPairs(e.id)}catch(le){return ft(le),null}}}class Gv{constructor(e,t,i,n){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=Gv._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new Gv(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new Bi(t,i),n):new Gv(new Vi(t,i,t,i),n,new Bi(t,i),n)}static _computeSelection(e,t){let i,n,o,s;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,o=t.lineNumber,s=t.column):(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,s=t.column),new Hi(i,n,o,s)}}class Zv{constructor(e,t,i){this.model=e,this.coordinatesConverter=t,this.cursorConfig=i}}class Yv{constructor(e){this.modelState=e,this.viewState=null}}class Jv{constructor(e){this.modelState=null,this.viewState=e}}class Qv{constructor(e,t){this.modelState=e,this.viewState=t}static fromModelState(e){return new Yv(e)}static fromViewState(e){return new Jv(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,o=e.positionColumn,s=new Gv(new Vi(t,i,t,i),0,new Bi(n,o),0);return Qv.fromModelState(s)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class Xv{constructor(e,t,i){this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}class ew{static visibleColumnFromColumn(e,t,i){const n=e.length,o=t-1<n?t-1:n;let s=0,r=0;for(;r<o;){const t=la(e,o,r);if(r+=t>=65536?2:1,9===t)s=ew.nextRenderTabStop(s,i);else{let i=Sa(t);for(;r<o;){const t=la(e,o,r),n=Sa(t);if(ka(i,n))break;r+=t>=65536?2:1,i=n}_a(t)||va(t)?s+=2:s+=1}}return s}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length;let o=0,s=1,r=0;for(;r<n;){const a=la(e,n,r);let l;if(r+=a>=65536?2:1,9===a)l=ew.nextRenderTabStop(o,i);else{let t=Sa(a);for(;r<n;){const i=la(e,n,r),o=Sa(i);if(ka(t,o))break;r+=i>=65536?2:1,t=o}l=_a(a)||va(a)?o+2:o+1}const d=r+1;if(l>=t){return l-t<t-o?d:s}o=l,s=d}return n+1}static columnFromVisibleColumn2(e,t,i,n){let o=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),s=t.getLineMinColumn(i);if(o<s)return s;let r=t.getLineMaxColumn(i);return o>r?r:o}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return e-1-(e-1)%t}static prevIndentTabStop(e,t){return e-1-(e-1)%t}}function tw(e){return"'"===e||'"'===e||"`"===e}class iw{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class nw{constructor(e,t,i=0,n=null,o=null,s=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!o&&n&&(o=new Vi(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=o,this.detail=s}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return nw.toString(this)}}class ow{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class sw{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(117),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(51),this.typicalHalfwidthCharacterWidth=n.get(36).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return sw.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let n,o=i.verticalOffset+i.height/2,s=e.model.getLineCount(),r=null,a=null;return i.afterLineNumber!==s&&(a=new Bi(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(r=new Bi(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),n=null===a?r:null===r?a:t<o?r:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:r,positionAfter:a,position:n}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new Vi(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new Vi(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return sw._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class rw extends class{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,dw._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=db.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=ew.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new nw(this.target,e,o,t,i,n)}withTarget(e){return new rw(this._ctx,this.editorPos,this.pos,e)}}const aw={isAfterLines:!0};function lw(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class dw{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=db.collect(t,this._viewHelper.viewDomNode);return!(!ow.isChildOfContentWidgets(i)&&!ow.isChildOfOverflowingContentWidgets(i))||!!ow.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n){const o=new sw(this._context,this._viewHelper,e),s=new rw(o,t,i,n);try{return dw._createMouseTarget(o,s,!1)}catch(r){return s.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);const n=dw._doHitTest(e,t);return n.position?dw.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let o=null;return o=o||dw._hitTestContentWidget(e,n),o=o||dw._hitTestOverlayWidget(e,n),o=o||dw._hitTestMinimap(e,n),o=o||dw._hitTestScrollbarSlider(e,n),o=o||dw._hitTestViewZone(e,n),o=o||dw._hitTestMargin(e,n),o=o||dw._hitTestViewCursor(e,n),o=o||dw._hitTestTextArea(e,n),o=o||dw._hitTestViewLines(e,n,i),o=o||dw._hitTestScrollbar(e,n),o||t.fulfill(0)}static _hitTestContentWidget(e,t){if(ow.isChildOfContentWidgets(t.targetPath)||ow.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(ow.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfill(6,e.position)}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(n<s.contentLeft)continue;if(n>s.contentLeft+s.width)continue;const i=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(i<=o&&o<=i+s.height)return t.fulfill(6,s.position)}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfill(e,i.position,null,i)}return null}static _hitTestTextArea(e,t){return ow.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let o=Math.abs(t.pos.x-t.editorPos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!ow.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return t.fulfill(7,new Bi(i,n),void 0,aw)}if(i){if(ow.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(i)){const n=e.getLineWidth(i),o=lw(t.mouseContentHorizontalOffset-n);return t.fulfill(7,new Bi(i,1),void 0,o)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const o=lw(t.mouseContentHorizontalOffset-n),s=new Bi(i,e.model.getLineMaxColumn(i));return t.fulfill(7,s,void 0,o)}}return t.fulfill(0)}const n=dw._doHitTest(e,t);return n.position?dw.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(ow.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Bi(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(ow.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Bi(i,n))}}return null}static _hitTestScrollbar(e,t){if(ow.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new Bi(i,n))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,n=i.get(117),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return dw._getMouseColumn(o,i.get(36).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n){const o=new Bi(i,n),s=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>s){if(bo&&1===o.column){const n=lw(t.mouseContentHorizontalOffset-s);return t.fulfill(7,new Bi(i,e.model.getLineMaxColumn(i)),void 0,n)}const n=lw(t.mouseContentHorizontalOffset-s);return t.fulfill(7,o,void 0,n)}const r=e.visibleRangeForPosition(i,n);if(!r)return t.fulfill(0,o);const a=r.left;if(t.mouseContentHorizontalOffset===a)return t.fulfill(6,o);const l=[];if(l.push({offset:r.left,column:n}),n>1){const t=e.visibleRangeForPosition(i,n-1);t&&l.push({offset:t.left,column:n-1})}if(n<e.model.getLineMaxColumn(i)){const t=e.visibleRangeForPosition(i,n+1);t&&l.push({offset:t.left,column:n+1})}l.sort(((e,t)=>e.offset-t.offset));for(let d=1;d<l.length;d++){const e=l[d-1],n=l[d];if(e.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=n.offset){const s=new Vi(i,e.column,i,n.column);return t.fulfill(6,o,s)}}return t.fulfill(6,o)}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let o=t.pos.y+(n-t.mouseVerticalOffset);o<=t.editorPos.y&&(o=t.editorPos.y+1),o>=t.editorPos.y+e.layoutInfo.height&&(o=t.editorPos.y+e.layoutInfo.height-1);const s=new Xf(t.pos.x,o),r=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());return r.position?r:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=ar(e.viewDomNode);let n;if(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let o=e.elementFromPoint(t,i);if(null!==o){for(;o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE;)o=o.lastChild;const e=o.getBoundingClientRect(),i=window.getComputedStyle(o,null).getPropertyValue("font"),s=o.innerText;let r,a=e.left,l=0;if(t>e.left+e.width)l=s.length;else{const e=cw.getInstance();for(let n=0;n<s.length+1;n++){if(r=e.getCharWidth(s.charAt(n),i)/2,a+=r,t<a){l=n;break}a+=r}}n.setStart(o.firstChild,l),n.setEnd(o.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return{position:null,hitTarget:null};const o=n.startContainer;let s=null;if(o.nodeType===o.TEXT_NODE){const t=o.parentNode,i=t?t.parentNode:null,r=i?i.parentNode:null;if((r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===Tb.CLASS_NAME){return{position:e.getPositionFromDOMInfo(t,n.startOffset),hitTarget:null}}s=o.parentNode}else if(o.nodeType===o.ELEMENT_NODE){const t=o.parentNode,i=t?t.parentNode:null;if((i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===Tb.CLASS_NAME){return{position:e.getPositionFromDOMInfo(o,o.textContent.length),hitTarget:null}}s=o}return{position:null,hitTarget:s}}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,o=n?n.parentNode:null;if((o&&o.nodeType===o.ELEMENT_NODE?o.className:null)===Tb.CLASS_NAME){return{position:e.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset),hitTarget:null}}return{position:null,hitTarget:i.offsetNode.parentNode}}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode;if((t&&t.nodeType===t.ELEMENT_NODE?t.className:null)===Tb.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t){return{position:e.getPositionFromDOMInfo(t,0),hitTarget:null}}}}return{position:null,hitTarget:i.offsetNode}}static _doHitTestWithMoveToPoint(e,t){let i=null,n=null;const o=document.body.createTextRange();try{o.moveToPoint(t.clientX,t.clientY)}catch(l){return{position:null,hitTarget:null}}o.collapse(!0);const s=o?o.parentElement():null,r=s?s.parentNode:null,a=r?r.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===Tb.CLASS_NAME){const t=o.duplicate();t.moveToElementText(s),t.setEndPoint("EndToStart",o),i=e.getPositionFromDOMInfo(s,t.text.length),t.moveToElementText(e.viewDomNode)}else n=s;return o.moveToElementText(e.viewDomNode),{position:i,hitTarget:n}}static _doHitTest(e,t){return"function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}}}class cw{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return cw._INSTANCE||(cw._INSTANCE=new cw),cw._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const o=n.measureText(e).width;return this._cache[i]=o,o}}function hw(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}cw._INSTANCE=null;class uw extends ab{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new dw(this._context,i),this._mouseDownOperation=this._register(new gw(this._context,this.viewController,this.viewHelper,((e,t)=>this._createMouseTarget(e,t)),(e=>this._getMouseColumn(e)))),this.lastMouseLeaveTime=-1;const n=new ob(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,(e=>this._onContextMenu(e,!0)))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),hw(this.mouseTargetFactory),uw.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))));this._register(Ms(this.viewHelper.viewDomNode,pr.MOUSE_WHEEL,(e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(59))return;const t=new Bo(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){const e=Ol.getZoomLevel(),i=t.deltaY>0?1:-1;Ol.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}}),{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new eb(e,t).toPageCoordinates(),n=ib(this.viewHelper.viewDomNode);return i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,null)}_createMouseTarget(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,s=this._context.configuration.options.get(90),r=8===t.type||5===t.type,a=9===t.type;let l=e.leftButton||e.middleButton;xe&&e.leftButton&&e.ctrlKey&&(l=!1);const d=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(l&&(i||o&&s))d(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(r){const i=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(d(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else a&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(d(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}uw.MOUSE_MOVE_MINIMUM_TIME=100;class gw extends It{constructor(e,t,i,n,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new rb(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new $o),this._mouseState=new mw,this._currentSelection=new Hi(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(72)&&n.get(25)&&!n.get(13)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,hw(null),(e=>this._onMouseDownThenMove(e)),(()=>{const e=this._findMousePosition(this._lastMouseEvent,!0);this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:e?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,hw(null),(e=>this._onMouseDownThenMove(e)),(()=>this._stop())))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet((()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))}),10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),s=sw.getZoneAtCoord(this._context,i);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new nw(null,13,o,e)}const r=n.getLineNumberAtVerticalOffset(i);return new nw(null,13,o,new Bi(r,1))}if(e.posy>t.y+t.height){const s=n.getCurrentScrollTop()+(e.posy-t.y),r=sw.getZoneAtCoord(this._context,s);if(r){const e=this._helpPositionJumpOverViewZone(r);if(e)return new nw(null,13,o,e)}const a=n.getLineNumberAtVerticalOffset(s);return new nw(null,13,o,new Bi(a,i.getLineMaxColumn(a)))}const s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new nw(null,13,o,new Bi(s,1)):e.posx>t.x+t.width?new nw(null,13,o,new Bi(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return new nw(n.element,n.type,n.mouseColumn,e,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new Bi(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class mw{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>mw.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}function pw(e,t){const i={translationY:t.translationY,translationX:t.translationX};return e&&(i.translationY+=e.translationY,i.translationX+=e.translationX),i}mw.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class fw extends uw{constructor(e,t,i){super(e,t,i),this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout((()=>{if(this._installGestureHandlerTimeout=-1,window.MSGesture){const e=new MSGesture,t=new MSGesture;e.target=this.viewHelper.linesContentDomNode,t.target=this.viewHelper.linesContentDomNode,this.viewHelper.linesContentDomNode.addEventListener("pointerdown",(i=>{const n=i.pointerType;"mouse"!==n?"touch"===n?(this._lastPointerType="touch",e.addPointer(i.pointerId)):(this._lastPointerType="pen",t.addPointer(i.pointerId)):this._lastPointerType="mouse"})),this._register(Ks(this.viewHelper.linesContentDomNode,"MSGestureChange",(e=>this._onGestureChange(e)),pw)),this._register(Ms(this.viewHelper.linesContentDomNode,"MSGestureTap",(e=>this._onCaptureGestureTap(e)),!0))}}),100),this._lastPointerType="mouse"}_onMouseDown(e){"mouse"===this._lastPointerType&&super._onMouseDown(e)}_onCaptureGestureTap(e){const t=new nb(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(t,!1);i.position&&this.viewController.moveTo(i.position),t.browserEvent.fromElement?(t.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((()=>{this.viewHelper.focusTextArea()}))}_onGestureChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}dispose(){window.clearTimeout(this._installGestureHandlerTimeout),super.dispose()}}class bw extends uw{constructor(e,t,i){super(e,t,i),this._register(Yf.addTarget(this.viewHelper.linesContentDomNode)),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Tap,(e=>this.onTap(e)))),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Change,(e=>this.onChange(e)))),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Contextmenu,(e=>this._onContextMenu(new nb(e,this.viewHelper.viewDomNode),!1)))),this._lastPointerType="mouse",this._register(Ms(this.viewHelper.linesContentDomNode,"pointerdown",(e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));const n=new sb(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,(e=>this._onMouseMove(e)),hw(this.mouseTargetFactory),uw.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,(e=>this._onMouseUp(e)))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,(e=>this._onMouseLeave(e)))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,(e=>this._onMouseDown(e))))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new nb(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.target&&this.viewHelper.linesContentDomNode.contains(e.target)&&"touch"===this._lastPointerType||super._onMouseDown(e)}}class _w extends uw{constructor(e,t,i){super(e,t,i),this._register(Yf.addTarget(this.viewHelper.linesContentDomNode)),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Tap,(e=>this.onTap(e)))),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Change,(e=>this.onChange(e)))),this._register(Ms(this.viewHelper.linesContentDomNode,Gf.Contextmenu,(e=>this._onContextMenu(new nb(e,this.viewHelper.viewDomNode),!1))))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new nb(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class vw extends It{constructor(e,t,i){super(),Ne&&ws.pointerEvents?this.handler=this._register(new bw(e,t,i)):window.TouchEvent?this.handler=this._register(new _w(e,t,i)):window.navigator.pointerEnabled||window.PointerEvent?this.handler=this._register(new fw(e,t,i)):this.handler=this._register(new uw(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class ww{constructor(e,t,i,n,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new ww(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new ww(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,o=-1;for(;-1!==(o=t.indexOf("\n",o+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new ww(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replaceCharCnt:0};let n=e.value,o=e.selectionStart,s=e.selectionEnd,r=t.value,a=t.selectionStart,l=t.selectionEnd;const d=oa(n.substring(s),r.substring(l));r=r.substring(0,r.length-d),n=n.substring(0,n.length-d);const c=n.substring(0,o),h=na(c,r.substring(0,a));if(r=r.substring(h),n=n.substring(h),a-=h,o-=h,l-=h,s-=h,i&&a===l&&n.length>0){let e=null;if(a===r.length?zr(r,n)&&(e=r.substring(n.length)):function(e,t){const i=e.length-t.length;return i>0?e.indexOf(t,i)===i:0===i&&e===t}(r,n)&&(e=r.substring(0,r.length-n.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||(u=e,ga.test(u))))return{text:e,replaceCharCnt:0}}var u;if(a===l){if(n===r&&0===o&&s===n.length&&a===r.length&&-1===r.indexOf("\n")&&function(e){for(let t=0,i=e.length;t<i;t++)if(_a(e.charCodeAt(t)))return!0;return!1}(r))return{text:"",replaceCharCnt:0};return{text:r,replaceCharCnt:c.length-h}}return{text:r,replaceCharCnt:s-o}}}ww.EMPTY=new ww("",0,0,null,null);class Cw{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t;return new Vi(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,n,o){const s=Cw._getPageOfLine(i.startLineNumber,n),r=Cw._getRangeForPage(s,n),a=Cw._getPageOfLine(i.endLineNumber,n),l=Cw._getRangeForPage(a,n),d=r.intersectRanges(new Vi(1,1,i.startLineNumber,i.startColumn));let c=t.getValueInRange(d,1);const h=t.getLineCount(),u=t.getLineMaxColumn(h),g=l.intersectRanges(new Vi(i.endLineNumber,i.endColumn,h,u));let m,p=t.getValueInRange(g,1);if(s===a||s+1===a)m=t.getValueInRange(i,1);else{const e=r.intersectRanges(i),n=l.intersectRanges(i);m=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(o){const e=500;c.length>e&&(c=c.substring(c.length-e,c.length)),p.length>e&&(p=p.substring(0,e)),m.length>2*e&&(m=m.substring(0,e)+String.fromCharCode(8230)+m.substring(m.length-e,m.length))}return new ww(c+m+p,c.length,c.length+m.length,new Bi(i.startLineNumber,i.startColumn),new Bi(i.endLineNumber,i.endColumn))}}const yw={forceCopyWithSyntaxHighlighting:!1};class Sw{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}Sw.INSTANCE=new Sw;class kw extends It{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new Pt),this.onFocus=this._onFocus.event,this._onBlur=this._register(new Pt),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new Pt),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new Pt),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new Pt),this.onCut=this._onCut.event,this._onPaste=this._register(new Pt),this.onPaste=this._onPaste.event,this._onType=this._register(new Pt),this.onType=this._onType.event,this._onCompositionStart=this._register(new Pt),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new Pt),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new Pt),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new Pt),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new Lw(t)),this._asyncTriggerCut=this._register(new Go((()=>this._onCut.fire()),0)),this._textAreaState=ww.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(As(t.domNode,"keydown",(e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)}))),this._register(As(t.domNode,"keyup",(e=>{this._onKeyUp.fire(e)}))),this._register(Ms(t.domNode,"compositionstart",(e=>{if(this._isDoingComposition)return;this._isDoingComposition=!0;let t=!1;xe&&i&&i.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"!==i.code&&"ArrowLeft"!==i.code||(t=!0)),t?this._textAreaState=new ww(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new Bi(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition):bo||this._setAndWriteTextAreaState("compositionstart",ww.EMPTY),this._onCompositionStart.fire({moveOneCharacterLeft:t})})));const n=e=>{const t=this._textAreaState,i=ww.readFromTextArea(this._textArea);return[i,ww.deduceInput(t,i,e)]},o=e=>{const t=this._textAreaState,i=ww.selectedText(e);return[i,{text:i.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},s=e=>!(!bo||"ja"!==e);this._register(Ms(t.domNode,"compositionupdate",(e=>{if(s(e.locale)){const[t,i]=n(!1);return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=o(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)}))),this._register(Ms(t.domNode,"compositionend",(e=>{if(this._isDoingComposition){if(s(e.locale)){const[e,t]=n(!1);this._textAreaState=e,this._onType.fire(t)}else{const[t,i]=o(e.data||"");this._textAreaState=t,this._onType.fire(i)}(bo||wo)&&(this._textAreaState=ww.readFromTextArea(this._textArea)),this._isDoingComposition&&(this._isDoingComposition=!1,this._onCompositionEnd.fire())}}))),this._register(Ms(t.domNode,"input",(()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=n(xe);0===t.replaceCharCnt&&1===t.text.length&&sa(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""!==t.text&&this._onType.fire(t):(""===t.text&&0===t.replaceCharCnt||this._firePaste(t.text,null),this._nextCommand=0))}))),this._register(Ms(t.domNode,"cut",(e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()}))),this._register(Ms(t.domNode,"copy",(e=>{this._ensureClipboardGetsEditorSelection(e)}))),this._register(Ms(t.domNode,"paste",(e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),xw.canUseTextData(e)){const[t,i]=xw.getTextData(e);""!==t&&this._firePaste(t,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",ww.EMPTY),this._nextCommand=1}))),this._register(Ms(t.domNode,"focus",(()=>{this._setHasFocus(!0)}))),this._register(Ms(t.domNode,"blur",(()=>{this._setHasFocus(!1)})))}_installSelectionChangeListener(){let e=0;return Ms(document,"selectionchange",(t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!wo)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const r=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===r&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(r),d=this._host.deduceModelPosition(l[0],l[1],l[2]),c=this._textAreaState.deduceEditorPosition(a),h=this._host.deduceModelPosition(c[0],c[1],c[2]),u=new Hi(d.lineNumber,d.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(u)}))}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=ar(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):Ss(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(bo?this._setAndWriteTextAreaState("focusgain",ww.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(xw.canUseTextData(e)&&ws.clipboard.richText),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Sw.INSTANCE.set(_o?t.text.replace(/\r\n/g,"\n"):t.text,i),xw.canUseTextData(e)?xw.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",ww.selectedText(t.text))}_firePaste(e,t){t||(t=Sw.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class xw{static canUseTextData(e){return!!e.clipboardData||!!window.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const i=e.clipboardData.getData("text/plain");let n=null;const o=e.clipboardData.getData("vscode-editor-data");if("string"==typeof o)try{n=JSON.parse(o),1!==n.version&&(n=null)}catch(t){}return[i,n]}if(window.clipboardData){e.preventDefault();return[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class Lw extends It{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let o=null;const s=ar(n);o=s?s.activeElement:document.activeElement;const r=o===n,a=n.selectionStart,l=n.selectionEnd;if(r&&a===t&&l===i)_o&&window.parent!==window&&n.focus();else{if(r)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(_o&&window.parent!==window&&n.focus());try{const e=function(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),function(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}(n,e)}catch(le){}}}}class Ew extends ab{}const Dw="base.contributions.colors";const Nw=new class{constructor(){this._onDidChangeSchema=new Pt,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){let s={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=s;let r={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(r.deprecationMessage=o),this.colorSchema.properties[e]=r,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){return Zy(i.defaults[t.type],t)}}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{let i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function Tw(e,t,i,n,o){return Nw.registerColor(e,t,i,n,o)}$g.add(Dw,Nw);const Iw=Tw("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},ue("vs/platform/theme/common/colorRegistry","foreground","Overall foreground color. This color is only used if not overridden by a component.")),Mw=Tw("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},ue("vs/platform/theme/common/colorRegistry","errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),Rw=Tw("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},ue("vs/platform/theme/common/colorRegistry","iconForeground","The default color for icons in the workbench.")),Aw=Tw("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},ue("vs/platform/theme/common/colorRegistry","focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ow=Tw("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},ue("vs/platform/theme/common/colorRegistry","contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Pw=Tw("contrastActiveBorder",{light:null,dark:null,hc:Aw},ue("vs/platform/theme/common/colorRegistry","activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),Fw=Tw("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},ue("vs/platform/theme/common/colorRegistry","textLinkForeground","Foreground color for links in text.")),Ww=Tw("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","textCodeBlockBackground","Background color for code blocks in text.")),Bw=Tw("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},ue("vs/platform/theme/common/colorRegistry","widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Vw=Tw("input.background",{dark:"#3C3C3C",light:yv.white,hc:yv.black},ue("vs/platform/theme/common/colorRegistry","inputBoxBackground","Input box background.")),Hw=Tw("input.foreground",{dark:Iw,light:Iw,hc:Iw},ue("vs/platform/theme/common/colorRegistry","inputBoxForeground","Input box foreground.")),zw=Tw("input.border",{dark:null,light:null,hc:Ow},ue("vs/platform/theme/common/colorRegistry","inputBoxBorder","Input box border.")),Uw=Tw("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Ow},ue("vs/platform/theme/common/colorRegistry","inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Kw=Tw("inputOption.activeBackground",{dark:$y(Aw,.4),light:$y(Aw,.2),hc:yv.transparent},ue("vs/platform/theme/common/colorRegistry","inputOption.activeBackground","Background color of activated options in input fields.")),qw=Tw("inputOption.activeForeground",{dark:yv.white,light:yv.black,hc:null},ue("vs/platform/theme/common/colorRegistry","inputOption.activeForeground","Foreground color of activated options in input fields.")),$w=Tw("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","inputValidationInfoBackground","Input validation background color for information severity.")),jw=Tw("inputValidation.infoForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","inputValidationInfoForeground","Input validation foreground color for information severity.")),Gw=Tw("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Ow},ue("vs/platform/theme/common/colorRegistry","inputValidationInfoBorder","Input validation border color for information severity.")),Zw=Tw("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","inputValidationWarningBackground","Input validation background color for warning severity.")),Yw=Tw("inputValidation.warningForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","inputValidationWarningForeground","Input validation foreground color for warning severity.")),Jw=Tw("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Ow},ue("vs/platform/theme/common/colorRegistry","inputValidationWarningBorder","Input validation border color for warning severity.")),Qw=Tw("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","inputValidationErrorBackground","Input validation background color for error severity.")),Xw=Tw("inputValidation.errorForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","inputValidationErrorForeground","Input validation foreground color for error severity.")),eC=Tw("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Ow},ue("vs/platform/theme/common/colorRegistry","inputValidationErrorBorder","Input validation border color for error severity.")),tC=Tw("dropdown.background",{dark:"#3C3C3C",light:yv.white,hc:yv.black},ue("vs/platform/theme/common/colorRegistry","dropdownBackground","Dropdown background.")),iC=Tw("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:yv.white},ue("vs/platform/theme/common/colorRegistry","dropdownForeground","Dropdown foreground.")),nC=Tw("button.foreground",{dark:yv.white,light:yv.white,hc:yv.white},ue("vs/platform/theme/common/colorRegistry","buttonForeground","Button foreground color.")),oC=Tw("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},ue("vs/platform/theme/common/colorRegistry","buttonBackground","Button background color.")),sC=Tw("button.hoverBackground",{dark:qy(oC,.2),light:Ky(oC,.2),hc:null},ue("vs/platform/theme/common/colorRegistry","buttonHoverBackground","Button background color when hovering.")),rC=Tw("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),aC=Tw("badge.foreground",{dark:yv.white,light:"#333",hc:yv.white},ue("vs/platform/theme/common/colorRegistry","badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),lC=Tw("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},ue("vs/platform/theme/common/colorRegistry","scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),dC=Tw("scrollbarSlider.background",{dark:yv.fromHex("#797979").transparent(.4),light:yv.fromHex("#646464").transparent(.4),hc:$y(Ow,.6)},ue("vs/platform/theme/common/colorRegistry","scrollbarSliderBackground","Scrollbar slider background color.")),cC=Tw("scrollbarSlider.hoverBackground",{dark:yv.fromHex("#646464").transparent(.7),light:yv.fromHex("#646464").transparent(.7),hc:$y(Ow,.8)},ue("vs/platform/theme/common/colorRegistry","scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),hC=Tw("scrollbarSlider.activeBackground",{dark:yv.fromHex("#BFBFBF").transparent(.4),light:yv.fromHex("#000000").transparent(.6),hc:Ow},ue("vs/platform/theme/common/colorRegistry","scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),uC=Tw("progressBar.background",{dark:yv.fromHex("#0E70C0"),light:yv.fromHex("#0E70C0"),hc:Ow},ue("vs/platform/theme/common/colorRegistry","progressBarBackground","Background color of the progress bar that can show for long running operations.")),gC=Tw("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},ue("vs/platform/theme/common/colorRegistry","editorError.foreground","Foreground color of error squigglies in the editor.")),mC=Tw("editorError.border",{dark:null,light:null,hc:yv.fromHex("#E47777").transparent(.8)},ue("vs/platform/theme/common/colorRegistry","errorBorder","Border color of error boxes in the editor.")),pC=Tw("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},ue("vs/platform/theme/common/colorRegistry","editorWarning.foreground","Foreground color of warning squigglies in the editor.")),fC=Tw("editorWarning.border",{dark:null,light:null,hc:yv.fromHex("#FFCC00").transparent(.8)},ue("vs/platform/theme/common/colorRegistry","warningBorder","Border color of warning boxes in the editor.")),bC=Tw("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},ue("vs/platform/theme/common/colorRegistry","editorInfo.foreground","Foreground color of info squigglies in the editor.")),_C=Tw("editorInfo.border",{dark:null,light:null,hc:yv.fromHex("#75BEFF").transparent(.8)},ue("vs/platform/theme/common/colorRegistry","infoBorder","Border color of info boxes in the editor.")),vC=Tw("editorHint.foreground",{dark:yv.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},ue("vs/platform/theme/common/colorRegistry","editorHint.foreground","Foreground color of hint squigglies in the editor.")),wC=Tw("editorHint.border",{dark:null,light:null,hc:yv.fromHex("#eeeeee").transparent(.8)},ue("vs/platform/theme/common/colorRegistry","hintBorder","Border color of hint boxes in the editor.")),CC=Tw("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","editorBackground","Editor background color.")),yC=Tw("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:yv.white},ue("vs/platform/theme/common/colorRegistry","editorForeground","Editor default foreground color.")),SC=Tw("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},ue("vs/platform/theme/common/colorRegistry","editorWidgetBackground","Background color of editor widgets, such as find/replace.")),kC=Tw("editorWidget.foreground",{dark:Iw,light:Iw,hc:Iw},ue("vs/platform/theme/common/colorRegistry","editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),xC=Tw("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Ow},ue("vs/platform/theme/common/colorRegistry","editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),LC=Tw("editorWidget.resizeBorder",{light:null,dark:null,hc:null},ue("vs/platform/theme/common/colorRegistry","editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),EC=Tw("quickInput.background",{dark:SC,light:SC,hc:SC},ue("vs/platform/theme/common/colorRegistry","pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),DC=Tw("quickInput.foreground",{dark:kC,light:kC,hc:kC},ue("vs/platform/theme/common/colorRegistry","pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),NC=Tw("quickInputTitle.background",{dark:new yv(new vv(255,255,255,.105)),light:new yv(new vv(0,0,0,.06)),hc:"#000000"},ue("vs/platform/theme/common/colorRegistry","pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),TC=Tw("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:yv.white},ue("vs/platform/theme/common/colorRegistry","pickerGroupForeground","Quick picker color for grouping labels.")),IC=Tw("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:yv.white},ue("vs/platform/theme/common/colorRegistry","pickerGroupBorder","Quick picker color for grouping borders.")),MC=Tw("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},ue("vs/platform/theme/common/colorRegistry","editorSelectionBackground","Color of the editor selection.")),RC=Tw("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},ue("vs/platform/theme/common/colorRegistry","editorSelectionForeground","Color of the selected text for high contrast.")),AC=Tw("editor.inactiveSelectionBackground",{light:$y(MC,.5),dark:$y(MC,.5),hc:$y(MC,.5)},ue("vs/platform/theme/common/colorRegistry","editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),OC=Tw("editor.selectionHighlightBackground",{light:Gy(MC,CC,.3,.6),dark:Gy(MC,CC,.3,.6),hc:null},ue("vs/platform/theme/common/colorRegistry","editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),PC=Tw("editor.selectionHighlightBorder",{light:null,dark:null,hc:Pw},ue("vs/platform/theme/common/colorRegistry","editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),FC=Tw("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},ue("vs/platform/theme/common/colorRegistry","editorFindMatch","Color of the current search match.")),WC=Tw("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},ue("vs/platform/theme/common/colorRegistry","findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),BC=Tw("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},ue("vs/platform/theme/common/colorRegistry","findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),VC=Tw("editor.findMatchBorder",{light:null,dark:null,hc:Pw},ue("vs/platform/theme/common/colorRegistry","editorFindMatchBorder","Border color of the current search match.")),HC=Tw("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Pw},ue("vs/platform/theme/common/colorRegistry","findMatchHighlightBorder","Border color of the other search matches.")),zC=Tw("editor.findRangeHighlightBorder",{dark:null,light:null,hc:$y(Pw,.4)},ue("vs/platform/theme/common/colorRegistry","findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),UC=Tw("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},ue("vs/platform/theme/common/colorRegistry","hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),KC=Tw("editorHoverWidget.background",{light:SC,dark:SC,hc:SC},ue("vs/platform/theme/common/colorRegistry","hoverBackground","Background color of the editor hover.")),qC=Tw("editorHoverWidget.foreground",{light:kC,dark:kC,hc:kC},ue("vs/platform/theme/common/colorRegistry","hoverForeground","Foreground color of the editor hover.")),$C=Tw("editorHoverWidget.border",{light:xC,dark:xC,hc:xC},ue("vs/platform/theme/common/colorRegistry","hoverBorder","Border color of the editor hover.")),jC=Tw("editorHoverWidget.statusBarBackground",{dark:qy(KC,.2),light:Ky(KC,.05),hc:SC},ue("vs/platform/theme/common/colorRegistry","statusBarBackground","Background color of the editor hover status bar.")),GC=Tw("editorLink.activeForeground",{dark:"#4E94CE",light:yv.blue,hc:yv.cyan},ue("vs/platform/theme/common/colorRegistry","activeLinkForeground","Color of active links.")),ZC=Tw("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},ue("vs/platform/theme/common/colorRegistry","editorLightBulbForeground","The color used for the lightbulb actions icon.")),YC=Tw("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},ue("vs/platform/theme/common/colorRegistry","editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),JC=new yv(new vv(155,185,85,.2)),QC=new yv(new vv(255,0,0,.2)),XC=Tw("diffEditor.insertedTextBackground",{dark:JC,light:JC,hc:null},ue("vs/platform/theme/common/colorRegistry","diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),ey=Tw("diffEditor.removedTextBackground",{dark:QC,light:QC,hc:null},ue("vs/platform/theme/common/colorRegistry","diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ty=Tw("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},ue("vs/platform/theme/common/colorRegistry","diffEditorInsertedOutline","Outline color for the text that got inserted.")),iy=Tw("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},ue("vs/platform/theme/common/colorRegistry","diffEditorRemovedOutline","Outline color for text that got removed.")),ny=Tw("diffEditor.border",{dark:null,light:null,hc:Ow},ue("vs/platform/theme/common/colorRegistry","diffEditorBorder","Border color between the two text editors.")),oy=Tw("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},ue("vs/platform/theme/common/colorRegistry","diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),sy=Tw("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},ue("vs/platform/theme/common/colorRegistry","listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ry=Tw("list.focusForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ay=Tw("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},ue("vs/platform/theme/common/colorRegistry","listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ly=Tw("list.activeSelectionForeground",{dark:yv.white,light:yv.white,hc:null},ue("vs/platform/theme/common/colorRegistry","listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),dy=Tw("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},ue("vs/platform/theme/common/colorRegistry","listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),cy=Tw("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),hy=Tw("list.inactiveFocusBackground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),uy=Tw("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},ue("vs/platform/theme/common/colorRegistry","listHoverBackground","List/Tree background when hovering over items using the mouse.")),gy=Tw("list.hoverForeground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),my=Tw("list.dropBackground",{dark:sy,light:sy,hc:null},ue("vs/platform/theme/common/colorRegistry","listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),py=Tw("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:Aw},ue("vs/platform/theme/common/colorRegistry","highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),fy=Tw("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:yv.black},ue("vs/platform/theme/common/colorRegistry","listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),by=Tw("listFilterWidget.outline",{dark:yv.transparent,light:yv.transparent,hc:"#f38518"},ue("vs/platform/theme/common/colorRegistry","listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),_y=Tw("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Ow},ue("vs/platform/theme/common/colorRegistry","listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),vy=Tw("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},ue("vs/platform/theme/common/colorRegistry","treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),wy=Tw("menu.border",{dark:null,light:null,hc:Ow},ue("vs/platform/theme/common/colorRegistry","menuBorder","Border color of menus.")),Cy=Tw("menu.foreground",{dark:iC,light:Iw,hc:iC},ue("vs/platform/theme/common/colorRegistry","menuForeground","Foreground color of menu items.")),yy=Tw("menu.background",{dark:tC,light:tC,hc:tC},ue("vs/platform/theme/common/colorRegistry","menuBackground","Background color of menu items.")),Sy=Tw("menu.selectionForeground",{dark:ly,light:ly,hc:ly},ue("vs/platform/theme/common/colorRegistry","menuSelectionForeground","Foreground color of the selected menu item in menus.")),ky=Tw("menu.selectionBackground",{dark:ay,light:ay,hc:ay},ue("vs/platform/theme/common/colorRegistry","menuSelectionBackground","Background color of the selected menu item in menus.")),xy=Tw("menu.selectionBorder",{dark:null,light:null,hc:Pw},ue("vs/platform/theme/common/colorRegistry","menuSelectionBorder","Border color of the selected menu item in menus.")),Ly=Tw("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Ow},ue("vs/platform/theme/common/colorRegistry","menuSeparatorBackground","Color of a separator menu item in menus.")),Ey=Tw("editor.snippetTabstopHighlightBackground",{dark:new yv(new vv(124,124,124,.3)),light:new yv(new vv(10,50,100,.2)),hc:new yv(new vv(124,124,124,.3))},ue("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Dy=Tw("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Ny=Tw("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Ty=Tw("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new yv(new vv(10,50,100,.5)),hc:"#525252"},ue("vs/platform/theme/common/colorRegistry","snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Iy=Tw("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},ue("vs/platform/theme/common/colorRegistry","overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),My=Tw("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},ue("vs/platform/theme/common/colorRegistry","overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ry=Tw("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},ue("vs/platform/theme/common/colorRegistry","minimapFindMatchHighlight","Minimap marker color for find matches."),!0),Ay=Tw("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},ue("vs/platform/theme/common/colorRegistry","minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Oy=Tw("minimap.errorHighlight",{dark:new yv(new vv(255,18,18,.7)),light:new yv(new vv(255,18,18,.7)),hc:new yv(new vv(255,50,50,1))},ue("vs/platform/theme/common/colorRegistry","minimapError","Minimap marker color for errors.")),Py=Tw("minimap.warningHighlight",{dark:pC,light:pC,hc:fC},ue("vs/platform/theme/common/colorRegistry","overviewRuleWarning","Minimap marker color for warnings.")),Fy=Tw("minimap.background",{dark:null,light:null,hc:null},ue("vs/platform/theme/common/colorRegistry","minimapBackground","Minimap background color.")),Wy=Tw("minimapSlider.background",{light:$y(dC,.5),dark:$y(dC,.5),hc:$y(dC,.5)},ue("vs/platform/theme/common/colorRegistry","minimapSliderBackground","Minimap slider background color.")),By=Tw("minimapSlider.hoverBackground",{light:$y(cC,.5),dark:$y(cC,.5),hc:$y(cC,.5)},ue("vs/platform/theme/common/colorRegistry","minimapSliderHoverBackground","Minimap slider background color when hovering.")),Vy=Tw("minimapSlider.activeBackground",{light:$y(hC,.5),dark:$y(hC,.5),hc:$y(hC,.5)},ue("vs/platform/theme/common/colorRegistry","minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Hy=Tw("problemsErrorIcon.foreground",{dark:gC,light:gC,hc:gC},ue("vs/platform/theme/common/colorRegistry","problemsErrorIconForeground","The color used for the problems error icon.")),zy=Tw("problemsWarningIcon.foreground",{dark:pC,light:pC,hc:pC},ue("vs/platform/theme/common/colorRegistry","problemsWarningIconForeground","The color used for the problems warning icon.")),Uy=Tw("problemsInfoIcon.foreground",{dark:bC,light:bC,hc:bC},ue("vs/platform/theme/common/colorRegistry","problemsInfoIconForeground","The color used for the problems info icon."));function Ky(e,t){return i=>{let n=Zy(e,i);if(n)return n.darken(t)}}function qy(e,t){return i=>{let n=Zy(e,i);if(n)return n.lighten(t)}}function $y(e,t){return i=>{let n=Zy(e,i);if(n)return n.transparent(t)}}function jy(...e){return t=>{for(let i of e){let e=Zy(i,t);if(e)return e}}}function Gy(e,t,i,n){return o=>{let s=Zy(e,o);if(s){let e=Zy(t,o);return e?s.isDarkerThan(e)?yv.getLighterColor(s,e,i).transparent(n):yv.getDarkerColor(s,e,i).transparent(n):s.transparent(i*n)}}}function Zy(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?yv.fromHex(e):t.getColor(e):e instanceof yv?e:"function"==typeof e?e(t):void 0}let Yy=$g.as(jg);Yy.registerSchema("vscode://schemas/workbench-colors",Nw.getColorSchema());const Jy=new Go((()=>Yy.notifySchemaChanged("vscode://schemas/workbench-colors")),200);Nw.onDidChangeSchema((()=>{Jy.isScheduled()||Jy.schedule()}));const Qy=Tw("editor.lineHighlightBackground",{dark:null,light:null,hc:null},ue("vs/editor/common/view/editorColorRegistry","lineHighlight","Background color for the highlight of line at the cursor position.")),Xy=Tw("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},ue("vs/editor/common/view/editorColorRegistry","lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),eS=Tw("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},ue("vs/editor/common/view/editorColorRegistry","rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),tS=Tw("editor.rangeHighlightBorder",{dark:null,light:null,hc:Pw},ue("vs/editor/common/view/editorColorRegistry","rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),iS=Tw("editor.symbolHighlightBackground",{dark:WC,light:WC,hc:null},ue("vs/editor/common/view/editorColorRegistry","symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),nS=Tw("editor.symbolHighlightBorder",{dark:null,light:null,hc:Pw},ue("vs/editor/common/view/editorColorRegistry","symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),oS=Tw("editorCursor.foreground",{dark:"#AEAFAD",light:yv.black,hc:yv.white},ue("vs/editor/common/view/editorColorRegistry","caret","Color of the editor cursor.")),sS=Tw("editorCursor.background",null,ue("vs/editor/common/view/editorColorRegistry","editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),rS=Tw("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},ue("vs/editor/common/view/editorColorRegistry","editorWhitespaces","Color of whitespace characters in the editor.")),aS=Tw("editorIndentGuide.background",{dark:rS,light:rS,hc:rS},ue("vs/editor/common/view/editorColorRegistry","editorIndentGuides","Color of the editor indentation guides.")),lS=Tw("editorIndentGuide.activeBackground",{dark:rS,light:rS,hc:rS},ue("vs/editor/common/view/editorColorRegistry","editorActiveIndentGuide","Color of the active editor indentation guides.")),dS=Tw("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:yv.white},ue("vs/editor/common/view/editorColorRegistry","editorLineNumbers","Color of editor line numbers.")),cS=Tw("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Pw},ue("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number"),!1,ue("vs/editor/common/view/editorColorRegistry","deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),hS=Tw("editorLineNumber.activeForeground",{dark:cS,light:cS,hc:cS},ue("vs/editor/common/view/editorColorRegistry","editorActiveLineNumber","Color of editor active line number")),uS=Tw("editorRuler.foreground",{dark:"#5A5A5A",light:yv.lightgrey,hc:yv.white},ue("vs/editor/common/view/editorColorRegistry","editorRuler","Color of the editor rulers.")),gS=Tw("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},ue("vs/editor/common/view/editorColorRegistry","editorCodeLensForeground","Foreground color of editor CodeLens")),mS=Tw("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},ue("vs/editor/common/view/editorColorRegistry","editorBracketMatchBackground","Background color behind matching brackets")),pS=Tw("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Ow},ue("vs/editor/common/view/editorColorRegistry","editorBracketMatchBorder","Color for matching brackets boxes")),fS=Tw("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},ue("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBorder","Color of the overview ruler border.")),bS=Tw("editorOverviewRuler.background",null,ue("vs/editor/common/view/editorColorRegistry","editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),_S=Tw("editorGutter.background",{dark:CC,light:CC,hc:CC},ue("vs/editor/common/view/editorColorRegistry","editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),vS=Tw("editorUnnecessaryCode.border",{dark:null,light:null,hc:yv.fromHex("#fff").transparent(.8)},ue("vs/editor/common/view/editorColorRegistry","unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),wS=Tw("editorUnnecessaryCode.opacity",{dark:yv.fromHex("#000a"),light:yv.fromHex("#0007"),hc:null},ue("vs/editor/common/view/editorColorRegistry","unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),CS=new yv(new vv(0,122,204,.6)),yS=Tw("editorOverviewRuler.rangeHighlightForeground",{dark:CS,light:CS,hc:CS},ue("vs/editor/common/view/editorColorRegistry","overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),SS=Tw("editorOverviewRuler.errorForeground",{dark:new yv(new vv(255,18,18,.7)),light:new yv(new vv(255,18,18,.7)),hc:new yv(new vv(255,50,50,1))},ue("vs/editor/common/view/editorColorRegistry","overviewRuleError","Overview ruler marker color for errors.")),kS=Tw("editorOverviewRuler.warningForeground",{dark:pC,light:pC,hc:fC},ue("vs/editor/common/view/editorColorRegistry","overviewRuleWarning","Overview ruler marker color for warnings.")),xS=Tw("editorOverviewRuler.infoForeground",{dark:bC,light:bC,hc:_C},ue("vs/editor/common/view/editorColorRegistry","overviewRuleInfo","Overview ruler marker color for infos."));Sb(((e,t)=>{const i=e.getColor(CC);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(yC);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const o=e.getColor(_S);o&&t.addRule(`.monaco-editor .margin { background-color: ${o}; }`);const s=e.getColor(eS);s&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${s}; }`);const r=e.getColor(tS);r&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${r}; }`);const a=e.getColor(iS);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(nS);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const d=e.getColor(rS);d&&(t.addRule(`.monaco-editor .mtkw { color: ${d} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${d} !important; }`))}));class LS extends Ew{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new Bi(1,1),this._renderResult=null,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(51);const t=e.get(52);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(76);const i=e.get(117);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Bi(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=Le?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+LS.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',s=this._context.model.getLineCount(),r=[];for(let a=i;a<=n;a++){const e=a-i;if(!this._renderFinalNewline&&a===s&&0===this._context.model.getLineLength(a)){r[e]="";continue}const t=this._getLineRenderLineNumber(a);r[e]=t?o+t+"</div>":""}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}LS.CLASS_NAME="line-numbers",Sb(((e,t)=>{const i=e.getColor(dS);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(hS);n&&t.addRule(`.monaco-editor .current-line ~ .line-numbers { color: ${n}; }`)}));class ES extends lb{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._canUseLayerHinting=!t.get(23),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=qf(document.createElement("div")),this._domNode.setClassName(ES.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=qf(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(ES.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._canUseLayerHinting=!t.get(23),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}ES.CLASS_NAME="glyph-margin",ES.OUTER_CLASS_NAME="margin";class DS{constructor(e,t,i){this.top=e,this.left=t,this.width=i}setWidth(e){return new DS(this.top,this.left,e)}}const NS=bo||_o;class TS extends lb{constructor(e,t,i){super(e),this._primaryCursorPosition=new Bi(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const n=this._context.configuration.options,o=n.get(117);this._setAccessibilityOptions(n),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=n.get(36),this._lineHeight=n.get(51),this._emptySelectionClipboard=n.get(26),this._copyWithSyntaxHighlighting=n.get(16),this._visibleTextArea=null,this._selections=[new Hi(1,1,1,1)],this._modelSelections=[new Hi(1,1,1,1)],this._lastRenderPosition=null,this.textArea=qf(document.createElement("textarea")),db.write(this.textArea,6),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(n)),this.textArea.setAttribute("tabindex",String(n.get(102))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",ue("vs/editor/browser/controller/textAreaHandler","editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),De&&n.get(72)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=qf(document.createElement("div")),this.textAreaCover.setPosition("absolute");const s={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},r={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,ke),i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null,s=Array.isArray(t)?t.join(i):t;let r,a=null;if(e&&(yw.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&s.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(r=e.html,a=e.mode)}return{isFromEmptySelection:n,multicursorText:o,text:s,html:r,mode:a}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(xe){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new ww(i,i.length,i.length,t,t)}}return ww.EMPTY}return Cw.fromEditorSelection(e,s,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)};this._textAreaInput=this._register(new kw(r,this.textArea)),this._register(this._textAreaInput.onKeyDown((e=>{this._viewController.emitKeyDown(e)}))),this._register(this._textAreaInput.onKeyUp((e=>{this._viewController.emitKeyUp(e)}))),this._register(this._textAreaInput.onPaste((e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)}))),this._register(this._textAreaInput.onCut((()=>{this._viewController.cut()}))),this._register(this._textAreaInput.onType((e=>{e.replaceCharCnt?this._viewController.replacePreviousChar(e.text,e.replaceCharCnt):this._viewController.type(e.text)}))),this._register(this._textAreaInput.onSelectionChangeRequest((e=>{this._viewController.setSelection(e)}))),this._register(this._textAreaInput.onCompositionStart((e=>{const t=this._selections[0].startLineNumber,i=this._selections[0].startColumn-(e.moveOneCharacterLeft?1:0);this._context.model.revealRange("keyboard",!0,new Vi(t,i,t,i),0,1);const n=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,i);n&&(this._visibleTextArea=new DS(this._context.viewLayout.getVerticalOffsetForLineNumber(t),n.left,NS?0:1),this._render()),this.textArea.setClassName("inputarea monaco-mouse-cursor-text ime-input"),this._viewController.compositionStart()}))),this._register(this._textAreaInput.onCompositionUpdate((e=>{this._visibleTextArea=bo?this._visibleTextArea.setWidth(0):this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");i.font=(n=t,o="normal",s=n.fontWeight,r=n.fontSize,a=n.lineHeight,l=n.fontFamily,`${o} normal ${s} ${r}px / ${a}px ${l}`);var n,o,s,r,a,l;const d=i.measureText(e);return _o?d.width+2:d.width}(e.data,this._fontInfo)),this._render()}))),this._register(this._textAreaInput.onCompositionEnd((()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName("inputarea monaco-mouse-cursor-text"),this._viewController.compositionEnd()}))),this._register(this._textAreaInput.onFocus((()=>{this._context.model.setHasFocus(!0)}))),this._register(this._textAreaInput.onBlur((()=>{this._context.model.setHasFocus(!1)})))}dispose(){super.dispose()}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=M_(this._context.configuration.options.get(105));let n=e.column,o=0;for(;n>1;){const s=t.charCodeAt(n-2);if(0!==i.get(s)||o>50)return t.substring(n-1,e.column-1);o++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!sa(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?ue("vs/editor/browser/controller/textAreaHandler","accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",Le?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===mt.accessibilityPageSize.defaultValue?this._accessibilityPageSize=100:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(36),this._lineHeight=t.get(51),this._emptySelectionClipboard=t.get(26),this._copyWithSyntaxHighlighting=t.get(16),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(102))),De&&e.hasChanged(72)&&(t.get(72)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new Bi(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():xe?this._renderInsideEditor(this._primaryCursorPosition,t,e,NS?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,NS?0:1,NS?0:1)}_renderInsideEditor(e,t,i,n,o){this._lastRenderPosition=e;const s=this.textArea,r=this.textAreaCover;Up.applyFontInfo(s,this._fontInfo),s.setTop(t),s.setLeft(i),s.setWidth(n),s.setHeight(o),r.setTop(0),r.setLeft(0),r.setWidth(0),r.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(Up.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),NS)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(42)?t.setClassName("monaco-editor-background textAreaCover "+ES.OUTER_CLASS_NAME):0!==i.get(52).renderType?t.setClassName("monaco-editor-background textAreaCover "+LS.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class IS{static columnSelect(e,t,i,n,o,s){let r=Math.abs(o-i)+1,a=i>o,l=n>s,d=n<s,c=[];for(let h=0;h<r;h++){let o=i+(a?-h:h),r=ew.columnFromVisibleColumn2(e,t,o,n),u=ew.columnFromVisibleColumn2(e,t,o,s),g=ew.visibleColumnFromColumn2(e,t,new Bi(o,r)),m=ew.visibleColumnFromColumn2(e,t,new Bi(o,u));if(d){if(g>s)continue;if(m<n)continue}if(l){if(m>n)continue;if(g<s)continue}c.push(new Gv(new Vi(o,r,o,r),0,new Bi(o,u),0))}if(0===c.length)for(let h=0;h<r;h++){const e=i+(a?-h:h),n=t.getLineMaxColumn(e);c.push(new Gv(new Vi(e,n,e,n),0,new Bi(e,n),0))}return{viewStates:c,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>1&&n--,IS.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let a=o;a<=s;a++){const i=t.getLineMaxColumn(a),o=ew.visibleColumnFromColumn2(e,t,new Bi(a,i));n=Math.max(n,o)}let r=i.toViewVisualColumn;return r<n&&r++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectUp(e,t,i,n){const o=n?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const o=n?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class MS{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new Hi(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)}}class RS{constructor(e,t){this._range=e,this._text=t}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return new Hi(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}}class AS{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new Hi(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)}}class OS{constructor(e,t,i,n,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new Hi(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)}}class PS{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class FS{constructor(e,t,i){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class WS{static leftPosition(e,t,i){return i>e.getLineMinColumn(t)?i-=function(e,t){const i=xa.getInstance(),n=t,o=da(e,t);t-=o>=65536?2:1;let s=i.getGraphemeBreakType(o);for(;t>0;){const n=da(e,t),o=i.getGraphemeBreakType(n);if(ka(o,s))break;t-=n>=65536?2:1,s=o}return n-t}(e.getLineContent(t),i-1):t>1&&(t-=1,i=e.getLineMaxColumn(t)),new Bi(t,i)}static left(e,t,i,n){const o=WS.leftPosition(t,i,n);return new FS(o.lineNumber,o.column,0)}static moveLeft(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.startLineNumber,r=i.selection.startColumn;else{let n=WS.left(e,t,i.position.lineNumber,i.position.column-(o-1));s=n.lineNumber,r=n.column}return i.move(n,s,r,0)}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=ca(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new Bi(t,i)}static right(e,t,i,n){const o=WS.rightPosition(t,i,n);return new FS(o.lineNumber,o.column,0)}static moveRight(e,t,i,n,o){let s,r;if(i.hasSelection()&&!n)s=i.selection.endLineNumber,r=i.selection.endColumn;else{let n=WS.right(e,t,i.position.lineNumber,i.position.column+(o-1));s=n.lineNumber,r=n.column}return i.move(n,s,r,0)}static down(e,t,i,n,o,s,r){const a=ew.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,l=t.getLineCount(),d=i===l&&n===t.getLineMaxColumn(i);return(i+=s)>l?(i=l,n=r?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=ew.columnFromVisibleColumn2(e,t,i,a),o=d?0:a-ew.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new FS(i,n,o)}static moveDown(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.endLineNumber,r=i.selection.endColumn):(s=i.position.lineNumber,r=i.position.column);let a=WS.down(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,o=WS.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=WS.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Gv(new Vi(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Bi(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,n,o,s,r){const a=ew.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+o,l=1===i&&1===n;return(i-=s)<1?(i=1,n=r?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=ew.columnFromVisibleColumn2(e,t,i,a),o=l?0:a-ew.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new FS(i,n,o)}static moveUp(e,t,i,n,o){let s,r;i.hasSelection()&&!n?(s=i.selection.startLineNumber,r=i.selection.startColumn):(s=i.position.lineNumber,r=i.position.column);let a=WS.up(e,t,s,r,i.leftoverVisibleColumns,o,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,o=WS.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=WS.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Gv(new Vi(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new Bi(s.lineNumber,s.column),s.leftoverVisibleColumns)}static moveToBeginningOfLine(e,t,i,n){let o,s=i.position.lineNumber,r=t.getLineMinColumn(s),a=t.getLineFirstNonWhitespaceColumn(s)||r;return o=i.position.column===a?r:a,i.move(n,s,o,0)}static moveToEndOfLine(e,t,i,n,o){let s=i.position.lineNumber,r=t.getLineMaxColumn(s);return i.move(n,s,r,o?1073741824-r:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(n,o,s,0)}}class BS{static deleteRight(e,t,i,n){let o=[],s=3!==e;for(let r=0,a=n.length;r<a;r++){const e=n[r];let a=e;if(a.isEmpty()){let n=e.getPosition(),o=WS.right(t,i,n.lineNumber,n.column);a=new Vi(o.lineNumber,o.column,n.lineNumber,n.column)}a.isEmpty()?o[r]=null:(a.startLineNumber!==a.endLineNumber&&(s=!0),o[r]=new MS(a,""))}return[s,o]}static _isAutoClosingPairDelete(e,t,i){if("never"===e.autoClosingBrackets&&"never"===e.autoClosingQuotes)return!1;for(let n=0,o=i.length;n<o;n++){const o=i[n],s=o.getPosition();if(!o.isEmpty())return!1;const r=t.getLineContent(s.lineNumber),a=r[s.column-2],l=e.autoClosingPairsOpen2.get(a);if(!l)return!1;if(tw(a)){if("never"===e.autoClosingQuotes)return!1}else if("never"===e.autoClosingBrackets)return!1;const d=r[s.column-1];let c=!1;for(const e of l)e.open===a&&e.close===d&&(c=!0);if(!c)return!1}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){const e=i[o].getPosition(),t=new Vi(e.lineNumber,e.column-1,e.lineNumber,e.column+1);n[o]=new MS(t,"")}return[!0,n]}static deleteLeft(e,t,i,n){if(this._isAutoClosingPairDelete(t,i,n))return this._runAutoClosingPairDelete(t,i,n);let o=[],s=2!==e;for(let r=0,a=n.length;r<a;r++){const e=n[r];let a=e;if(a.isEmpty()){let n=e.getPosition();if(t.useTabStops&&n.column>1){let e=i.getLineContent(n.lineNumber),o=qr(e),s=-1===o?e.length+1:o+1;if(n.column<=s){let e=ew.visibleColumnFromColumn2(t,i,n),o=ew.prevIndentTabStop(e,t.indentSize),s=ew.columnFromVisibleColumn2(t,i,n.lineNumber,o);a=new Vi(n.lineNumber,s,n.lineNumber,n.column)}else a=new Vi(n.lineNumber,n.column-1,n.lineNumber,n.column)}else{let e=WS.left(t,i,n.lineNumber,n.column);a=new Vi(e.lineNumber,e.column,n.lineNumber,n.column)}}a.isEmpty()?o[r]=null:(a.startLineNumber!==a.endLineNumber&&(s=!0),o[r]=new MS(a,""))}return[s,o]}static cut(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o];if(s.isEmpty())if(e.emptySelectionClipboard){let e,i,r,a,l=s.getPosition();l.lineNumber<t.getLineCount()?(e=l.lineNumber,i=1,r=l.lineNumber+1,a=1):l.lineNumber>1?(e=l.lineNumber-1,i=t.getLineMaxColumn(l.lineNumber-1),r=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber)):(e=l.lineNumber,i=1,r=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber));let d=new Vi(e,i,r,a);d.isEmpty()?n[o]=null:n[o]=new MS(d,"")}else n[o]=null;else n[o]=new MS(s,"")}return new Xv(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class VS{static _createWord(e,t,i,n,o){return{start:n,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let o=i.column-2;o>=0;o--){let i=e.charCodeAt(o),s=t.get(i);if(0===s){if(2===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=1}else if(2===s){if(1===n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1));n=2}else if(1===s&&0!==n)return this._createWord(e,n,s,o+1,this._findEndOfWord(e,t,n,o+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let o=e.length;for(let s=n;s<o;s++){let n=e.charCodeAt(s),o=t.get(n);if(1===o)return s;if(1===i&&2===o)return s;if(2===i&&0===o)return s}return o}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,o=e.length;for(let s=i.column-1;s<o;s++){let i=e.charCodeAt(s),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s);n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,this._findStartOfWord(e,t,n,s-1),s)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,o-1),o):null}static _findStartOfWord(e,t,i,n){for(let o=n;o>=0;o--){let n=e.charCodeAt(o),s=t.get(n);if(1===s)return o+1;if(1===i&&2===s)return o+1;if(2===i&&0===s)return o+1}return 0}static moveWordLeft(e,t,i,n){let o=i.lineNumber,s=i.column;1===s&&o>1&&(o-=1,s=t.getLineMaxColumn(o));let r=VS._findPreviousWordOnLine(e,t,new Bi(o,s));if(0===n)return new Bi(o,r?r.start+1:1);if(1===n)return r&&2===r.wordType&&r.end-r.start==1&&0===r.nextCharClass&&(r=VS._findPreviousWordOnLine(e,t,new Bi(o,r.start+1))),new Bi(o,r?r.start+1:1);if(3===n){for(;r&&2===r.wordType;)r=VS._findPreviousWordOnLine(e,t,new Bi(o,r.start+1));return new Bi(o,r?r.start+1:1)}return r&&s<=r.end+1&&(r=VS._findPreviousWordOnLine(e,t,new Bi(o,r.start+1))),new Bi(o,r?r.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new Bi(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95===e&&95!==t)return new Bi(i,s);if(Jr(e)&&Qr(t))return new Bi(i,s);if(Qr(e)&&Qr(t)&&s+1<n){if(Jr(o.charCodeAt(s)))return new Bi(i,s)}}return new Bi(i,1)}static moveWordRight(e,t,i,n){let o=i.lineNumber,s=i.column,r=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(r=!0,o+=1,s=1);let a=VS._findNextWordOnLine(e,t,new Bi(o,s));if(2===n)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=VS._findNextWordOnLine(e,t,new Bi(o,a.end+1))),s=a?a.end+1:t.getLineMaxColumn(o);else if(3===n){for(r&&(s=0);a&&(2===a.wordType||a.start+1<=s);)a=VS._findNextWordOnLine(e,t,new Bi(o,a.end+1));s=a?a.start+1:t.getLineMaxColumn(o)}else a&&!r&&s>=a.start+1&&(a=VS._findNextWordOnLine(e,t,new Bi(o,a.end+1))),s=a?a.start+1:t.getLineMaxColumn(o);return new Bi(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new Bi(i+1,1):t;const o=e.getLineContent(i);for(let s=t.column+1;s<n;s++){const e=o.charCodeAt(s-2),t=o.charCodeAt(s-1);if(95!==e&&95===t)return new Bi(i,s);if(Jr(e)&&Qr(t))return new Bi(i,s);if(Qr(e)&&Qr(t)&&s+1<n){if(Jr(o.charCodeAt(s)))return new Bi(i,s)}}return new Bi(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,o=jr(i,n);return o+1<n?new Vi(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t,i,n,o){if(!i.isEmpty())return i;const s=new Bi(i.positionLineNumber,i.positionColumn);let r=s.lineNumber,a=s.column;if(1===r&&1===a)return null;if(n){let e=this._deleteWordLeftWhitespace(t,s);if(e)return e}let l=VS._findPreviousWordOnLine(e,t,s);return 0===o?l?a=l.start+1:a>1?a=1:(r--,a=t.getLineMaxColumn(r)):(l&&a<=l.end+1&&(l=VS._findPreviousWordOnLine(e,t,new Bi(r,l.start+1))),l?a=l.end+1:a>1?a=1:(r--,a=t.getLineMaxColumn(r))),new Vi(r,a,s.lineNumber,s.column)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=VS._moveWordPartLeft(e,i);return new Vi(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,o=this._findFirstNonWhitespaceChar(i,n);return n+1<o?new Vi(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t,i,n,o){if(!i.isEmpty())return i;const s=new Bi(i.positionLineNumber,i.positionColumn);let r=s.lineNumber,a=s.column;const l=t.getLineCount(),d=t.getLineMaxColumn(r);if(r===l&&a===d)return null;if(n){let e=this._deleteWordRightWhitespace(t,s);if(e)return e}let c=VS._findNextWordOnLine(e,t,s);return 2===o?c?a=c.end+1:a<d||r===l?a=d:(r++,c=VS._findNextWordOnLine(e,t,new Bi(r,1)),a=c?c.start+1:t.getLineMaxColumn(r)):(c&&a>=c.start+1&&(c=VS._findNextWordOnLine(e,t,new Bi(r,c.end+1))),c?a=c.start+1:a<d||r===l?a=d:(r++,c=VS._findNextWordOnLine(e,t,new Bi(r,1)),a=c?c.start+1:t.getLineMaxColumn(r))),new Vi(r,a,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=VS._moveWordPartRight(e,i);return new Vi(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new Vi(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=M_(t),o=VS._findPreviousWordOnLine(n,e,i);if(o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end)return VS._createWordAtPosition(e,i.lineNumber,o);const s=VS._findNextWordOnLine(n,e,i);return s&&1===s.wordType&&s.start<=i.column-1&&i.column-1<=s.end?VS._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,n,o){const s=M_(e.wordSeparators);let r,a,l=VS._findPreviousWordOnLine(s,t,o),d=VS._findNextWordOnLine(s,t,o);if(!n){let e,i;return l&&1===l.wordType&&l.start<=o.column-1&&o.column-1<=l.end?(e=l.start+1,i=l.end+1):d&&1===d.wordType&&d.start<=o.column-1&&o.column-1<=d.end?(e=d.start+1,i=d.end+1):(e=l?l.end+1:1,i=d?d.start+1:t.getLineMaxColumn(o.lineNumber)),new Gv(new Vi(o.lineNumber,e,o.lineNumber,i),0,new Bi(o.lineNumber,i),0)}l&&1===l.wordType&&l.start<o.column-1&&o.column-1<l.end?(r=l.start+1,a=l.end+1):d&&1===d.wordType&&d.start<o.column-1&&o.column-1<d.end?(r=d.start+1,a=d.end+1):(r=o.column,a=o.column);let c,h=o.lineNumber;if(i.selectionStart.containsPosition(o))c=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){c=r;let e=new Bi(h,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.endColumn)}else{c=a;let e=new Bi(h,c);i.selectionStart.containsPosition(e)&&(c=i.selectionStart.startColumn)}return i.move(!0,h,c,0)}}class HS extends VS{static deleteWordPartLeft(e,t,i,n){const o=zS([VS.deleteWordLeft(e,t,i,n,0),VS.deleteWordLeft(e,t,i,n,2),VS._deleteWordPartLeft(t,i)]);return o.sort(Vi.compareRangesUsingEnds),o[2]}static deleteWordPartRight(e,t,i,n){const o=zS([VS.deleteWordRight(e,t,i,n,0),VS.deleteWordRight(e,t,i,n,2),VS._deleteWordPartRight(t,i)]);return o.sort(Vi.compareRangesUsingStarts),o[0]}static moveWordPartLeft(e,t,i){const n=zS([VS.moveWordLeft(e,t,i,0),VS.moveWordLeft(e,t,i,2),VS._moveWordPartLeft(t,i)]);return n.sort(Bi.compare),n[2]}static moveWordPartRight(e,t,i){const n=zS([VS.moveWordRight(e,t,i,0),VS.moveWordRight(e,t,i,2),VS._moveWordPartRight(t,i)]);return n.sort(Bi.compare),n[0]}}function zS(e){return e.filter((e=>Boolean(e)))}class US{static addCursorDown(e,t,i){let n=[],o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new Qv(r.modelState,r.viewState),n[o++]=i?Qv.fromModelState(WS.translateDown(e.cursorConfig,e.model,r.modelState)):Qv.fromViewState(WS.translateDown(e.cursorConfig,e,r.viewState))}return n}static addCursorUp(e,t,i){let n=[],o=0;for(let s=0,r=t.length;s<r;s++){const r=t[s];n[o++]=new Qv(r.modelState,r.viewState),n[o++]=i?Qv.fromModelState(WS.translateUp(e.cursorConfig,e.model,r.modelState)):Qv.fromViewState(WS.translateUp(e.cursorConfig,e,r.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=this._moveToLineStart(e,s,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,o=n===t.modelState.position.column,s=t.viewState.position.lineNumber,r=e.getLineFirstNonWhitespaceColumn(s);return o||n===r?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return Qv.fromViewState(WS.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Qv.fromModelState(WS.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=this._moveToLineEnd(e,r,i,n)}return o}static _moveToLineEnd(e,t,i,n){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),r=o.column===s,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),d=s-o.column==l-a.column;return r||d?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Qv.fromViewState(WS.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Qv.fromModelState(WS.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.selection.startLineNumber,r=e.model.getLineCount();let a,l=o.modelState.selection.endLineNumber;l===r?a=e.model.getLineMaxColumn(r):(l++,a=1),i[n]=Qv.fromModelState(new Gv(new Vi(s,1,s,1),0,new Bi(l,a),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=Qv.fromModelState(WS.moveToBeginningOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];n[o]=Qv.fromModelState(WS.moveToEndOfBuffer(e.cursorConfig,e.model,s.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Qv.fromModelState(new Gv(new Vi(1,1,1,1),0,new Bi(i,n),0))}static line(e,t,i,n,o){const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Bi(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=s.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),Qv.fromModelState(new Gv(new Vi(s.lineNumber,1,i,n),0,new Bi(i,n),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<a)return Qv.fromViewState(t.viewState.move(t.modelState.hasSelection(),r.lineNumber,1,0));if(s.lineNumber>a){const i=e.getLineCount();let n=r.lineNumber+1,o=1;return n>i&&(n=i,o=e.getLineMaxColumn(n)),Qv.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,o,0))}{const e=t.modelState.selectionStart.getEndPosition();return Qv.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const o=e.model.validatePosition(n);return Qv.fromModelState(VS.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Qv(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Qv.fromViewState(new Gv(new Vi(i,n,i,n),0,new Bi(i,n),0))}static moveTo(e,t,i,n,o){const s=e.model.validatePosition(n),r=o?e.coordinatesConverter.validateViewPosition(new Bi(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return Qv.fromViewState(t.viewState.move(i,r.lineNumber,r.column,0))}static simpleMove(e,t,i,n,o,s){switch(i){case 0:return 4===s?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,o);case 1:return 4===s?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,o);case 2:return 2===s?this._moveUpByViewLines(e,t,n,o):this._moveUpByModelLines(e,t,n,o);case 3:return 2===s?this._moveDownByViewLines(e,t,n,o):this._moveDownByModelLines(e,t,n,o);case 4:return this._moveToViewMinColumn(e,t,n);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 6:return this._moveToViewCenterColumn(e,t,n);case 7:return this._moveToViewMaxColumn(e,t,n);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,o){const s=e.getCompletelyVisibleViewRange(),r=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 9:{const i=this._firstLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 11:{const i=this._lastLineNumberInRange(e.model,r,o),s=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,s)]}case 10:{const i=Math.round((r.startLineNumber+r.endLineNumber)/2),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 12:{let i=[];for(let o=0,r=t.length;o<r;o++){const r=t[o];i[o]=this.findPositionInViewportIfOutside(e,r,s,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new Qv(t.modelState,t.viewState);{o>i.endLineNumber-1&&(o=i.endLineNumber-1),o<i.startLineNumber&&(o=i.startLineNumber);const s=e.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,n,o,s)}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){const o=t.length>1;let s=[];for(let r=0,a=t.length;r<a;r++){const a=t[r],l=o||!a.viewState.hasSelection();let d=WS.moveLeft(e.cursorConfig,e,a.viewState,i,n);if(l&&1===n&&d.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(d.position).lineNumber===a.modelState.position.lineNumber&&(d=WS.moveLeft(e.cursorConfig,e,d,i,1))}s[r]=Qv.fromViewState(d)}return s}static _moveHalfLineLeft(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineContent(r).length/2);n[o]=Qv.fromViewState(WS.moveLeft(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveRight(e,t,i,n){const o=t.length>1;let s=[];for(let r=0,a=t.length;r<a;r++){const a=t[r],l=o||!a.viewState.hasSelection();let d=WS.moveRight(e.cursorConfig,e,a.viewState,i,n);if(l&&1===n&&d.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(d.position).lineNumber===a.modelState.position.lineNumber&&(d=WS.moveRight(e.cursorConfig,e,d,i,1))}s[r]=Qv.fromViewState(d)}return s}static _moveHalfLineRight(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round(e.getLineContent(r).length/2);n[o]=Qv.fromViewState(WS.moveRight(e.cursorConfig,e,s.viewState,i,a))}return n}static _moveDownByViewLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Qv.fromViewState(WS.moveDown(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveDownByModelLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Qv.fromModelState(WS.moveDown(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveUpByViewLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Qv.fromViewState(WS.moveUp(e.cursorConfig,e,r.viewState,i,n))}return o}static _moveUpByModelLines(e,t,i,n){let o=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];o[s]=Qv.fromModelState(WS.moveUp(e.cursorConfig,e.model,r.modelState,i,n))}return o}static _moveToViewPosition(e,t,i,n,o){return Qv.fromViewState(t.viewState.move(i,n,o,0))}static _moveToModelPosition(e,t,i,n,o){return Qv.fromModelState(t.modelState.move(i,n,o,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMinColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(r)+e.getLineMinColumn(r))/2);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineMaxColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let o=0,s=t.length;o<s;o++){const s=t[o],r=s.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(r);n[o]=this._moveToViewPosition(e,s,i,r,a)}return n}}var KS,qS;(qS=KS||(KS={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!Xa(e))return!1;let t=e;return!(!Qa(t.to)||!il(t.select)&&!tl(t.select)||!il(t.by)&&!Qa(t.by)||!il(t.value)&&!el(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},qS.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},qS.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},qS.parse=function(e){if(!e.to)return null;let t;switch(e.to){case qS.RawDirection.Left:t=0;break;case qS.RawDirection.Right:t=1;break;case qS.RawDirection.Up:t=2;break;case qS.RawDirection.Down:t=3;break;case qS.RawDirection.WrappedLineStart:t=4;break;case qS.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=5;break;case qS.RawDirection.WrappedLineColumnCenter:t=6;break;case qS.RawDirection.WrappedLineEnd:t=7;break;case qS.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=8;break;case qS.RawDirection.ViewPortTop:t=9;break;case qS.RawDirection.ViewPortBottom:t=11;break;case qS.RawDirection.ViewPortCenter:t=10;break;case qS.RawDirection.ViewPortIfOutside:t=12;break;default:return null}let i=0;switch(e.by){case qS.RawUnit.Line:i=1;break;case qS.RawUnit.WrappedLine:i=2;break;case qS.RawUnit.Character:i=3;break;case qS.RawUnit.HalfLine:i=4}return{direction:t,unit:i,select:!!e.select,value:e.value||1}};const $S=Object.create(null);function jS(e,t){$S[e]||($S[e]=["",e]);const i=$S[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class GS{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,o){const s=ew.visibleColumnFromColumn(e,t,i);if(o){const e=jS(" ",n);return jS(e,ew.prevIndentTabStop(s,n)/n)}return jS("\t",ew.prevRenderTabStop(s,i)/i)}static shiftIndent(e,t,i,n,o){const s=ew.visibleColumnFromColumn(e,t,i);if(o){const e=jS(" ",n);return jS(e,ew.nextIndentTabStop(s,n)/n)}return jS("\t",ew.nextRenderTabStop(s,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:o,indentSize:s,insertSpaces:r}=this._opts,a=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,d=0;for(let c=i;c<=n;c++,l=d){d=0;let n,h=e.getLineContent(c),u=qr(h);if((!this._opts.isUnshift||0!==h.length&&0!==u)&&(a||this._opts.isUnshift||0!==h.length)){if(-1===u&&(u=h.length),c>1){if(ew.visibleColumnFromColumn(h,u+1,o)%s!=0&&e.isCheapToTokenize(c-1)){let t=zh.getEnterAction(this._opts.autoIndent,e,new Vi(c-1,e.getLineMaxColumn(c-1),c-1,e.getLineMaxColumn(c-1)));if(t){if(d=l,t.appendText)for(let e=0,i=t.appendText.length;e<i&&d<s&&32===t.appendText.charCodeAt(e);e++)d++;t.removeText&&(d=Math.max(0,d-t.removeText));for(let e=0;e<d&&(0!==u&&32===h.charCodeAt(u-1));e++)u--}}}this._opts.isUnshift&&0===u||(n=this._opts.isUnshift?GS.unshiftIndent(h,u+1,o,s,r):GS.shiftIndent(h,u+1,o,s,r),this._addEditOperation(t,new Vi(c,1,c,u+1),n),c!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=u+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const o=r?jS(" ",s):"\t";for(let r=i;r<=n;r++){const n=e.getLineContent(r);let l=qr(n);if((!this._opts.isUnshift||0!==n.length&&0!==l)&&((a||this._opts.isUnshift||0!==n.length)&&(-1===l&&(l=n.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,s);for(let e=0;e<l;e++){if(9===n.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new Vi(r,1,r,l+1),"")}else this._addEditOperation(t,new Vi(r,1,r,1),o),r!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new Hi(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new Hi(i.startLineNumber,e,i.endLineNumber,i.endColumn):new Hi(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}}class ZS{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new Vi(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new Vi(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,o=i[1].range;return new Hi(n.endLineNumber,n.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class YS{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new GS(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new GS(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,GS.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,GS.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let o=[];for(let s=0,r=i.length;s<r;s++)o[s]=new MS(i[s],n[s]);return new Xv(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,o){let s=[];for(let r=0,a=i.length;r<a;r++){const e=i[r];let t=e.getPosition();if(o&&!e.isEmpty()&&(o=!1),o&&n.indexOf("\n")!==n.length-1&&(o=!1),o){let i=new Vi(t.lineNumber,1,t.lineNumber,1);s[r]=new PS(i,n,e,!0)}else s[r]=new MS(e,n)}return new Xv(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,o){if(n)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));let e=i.split(/\r\n|\r|\n/);if(e.length===t.length)return e}return null}static paste(e,t,i,n,o,s){const r=this._distributePasteToCursors(e,i,n,o,s);return r?(i=i.sort(Vi.compareRangesUsingStarts),this._distributedPaste(e,t,i,r)):this._simplePaste(e,t,i,n,o)}static _goodIndentForLine(e,t,i){let n=null,o="";const s=zh.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)n=s.action,o=s.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){if(jr(t.getLineContent(n))>=0)break}if(n<1)return null;const s=t.getLineMaxColumn(n),r=zh.getEnterAction(e.autoIndent,t,new Vi(n,s,n,s));r&&(o=r.indentation+r.appendText)}return n&&(n===ph.Indent&&(o=YS.shiftIndent(e,o)),n===ph.Outdent&&(o=YS.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,n){let o="",s=i.getStartPosition();if(e.insertSpaces){let i=ew.visibleColumnFromColumn2(e,t,s),n=e.indentSize,r=n-i%n;for(let e=0;e<r;e++)o+=" "}else o="\t";return new MS(i,o,n)}static tab(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o];if(s.isEmpty()){let i=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(s.startLineNumber)){let r=this._goodIndentForLine(e,t,s.startLineNumber);r=r||"\t";let a=e.normalizeIndentation(r);if(!zr(i,a)){n[o]=new MS(new Vi(s.startLineNumber,1,s.startLineNumber,i.length+1),a,!0);continue}}n[o]=this._replaceJumpToNextIndent(e,t,s,!0)}else{if(s.startLineNumber===s.endLineNumber){let i=t.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==i){n[o]=this._replaceJumpToNextIndent(e,t,s,!1);continue}}n[o]=new GS(s,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static replacePreviousChar(e,t,i,n,o,s){let r=[];for(let a=0,l=n.length;a<l;a++){const e=n[a];if(!e.isEmpty()){r[a]=null;continue}const t=e.getPosition(),l=Math.max(1,t.column-s),d=new Vi(t.lineNumber,l,t.lineNumber,t.column);i.getValueInRange(d)!==o?r[a]=new MS(d,o):r[a]=null}return new Xv(1,r,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _typeCommand(e,t,i){return i?new AS(e,t,!0):new MS(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return YS._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){let o=$r(t.getLineContent(n.startLineNumber)).substring(0,n.startColumn-1);return YS._typeCommand(n,"\n"+e.normalizeIndentation(o),i)}const o=zh.getEnterAction(e.autoIndent,t,n);if(o){if(o.indentAction===ph.None)return YS._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===ph.Indent)return YS._typeCommand(n,"\n"+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===ph.IndentOutdent){const t=e.normalizeIndentation(o.indentation),s=e.normalizeIndentation(o.indentation+o.appendText),r="\n"+s+"\n"+t;return i?new AS(n,r,!0):new OS(n,r,-1,s.length-t.length,!0)}if(o.indentAction===ph.Outdent){const t=YS.unshiftIndent(e,o.indentation);return YS._typeCommand(n,"\n"+e.normalizeIndentation(t+o.appendText),i)}}const s=t.getLineContent(n.startLineNumber),r=$r(s).substring(0,n.startColumn-1);if(e.autoIndent>=4){const o=zh.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>YS.unshiftIndent(e,t),shiftIndent:t=>YS.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(o){let a=ew.visibleColumnFromColumn2(e,t,n.getEndPosition());const l=n.endColumn;let d="\n";r!==e.normalizeIndentation(o.beforeEnter)&&(d=e.normalizeIndentation(o.beforeEnter)+s.substring(r.length,n.startColumn-1)+"\n",n=new Vi(n.startLineNumber,1,n.endLineNumber,n.endColumn));const c=qr(t.getLineContent(n.endLineNumber));if(n=c>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,c+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new AS(n,d+e.normalizeIndentation(o.afterEnter),!0);{let t=0;return l<=c+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(o.afterEnter).length-1,0)),new OS(n,d+e.normalizeIndentation(o.afterEnter),0,t,!0)}}}return YS._typeCommand(n,"\n"+e.normalizeIndentation(r),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let n=0,o=i.length;n<o;n++)if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const o=zh.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),s=zh.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>YS.shiftIndent(e,t),unshiftIndent:t=>YS.unshiftIndent(e,t)});if(null===s)return null;if(s!==e.normalizeIndentation(o)){const o=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===o?YS._typeCommand(new Vi(i.startLineNumber,0,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+n,!1):YS._typeCommand(new Vi(i.startLineNumber,0,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(o-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairsClose2.has(o))return!1;for(let s=0,r=i.length;s<r;s++){const r=i[s];if(!r.isEmpty())return!1;const a=r.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==o)return!1;const d=tw(o);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&d)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,o){let s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r].getPosition(),t=new Vi(e.lineNumber,e.column,e.lineNumber,e.column+1);s[r]=new MS(t,o)}return new Xv(1,s,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _autoClosingPairIsSymmetric(e){const{open:t,close:i}=e;return t.indexOf(i)>=0||i.indexOf(t)>=0}static _isBeforeClosingBrace(e,t,i){const n=e.autoClosingPairsClose2.get(i);if(!n)return!1;const o=YS._autoClosingPairIsSymmetric(t);for(const s of n){const e=YS._autoClosingPairIsSymmetric(s);if(o||!e)return!0}return!1}static _findAutoClosingPairOpen(e,t,i,n){const o=e.autoClosingPairsOpen2.get(n);if(!o)return null;let s=null;for(const r of o)if(null===s||r.open.length>s.open.length){let e=!0;for(const o of i){if(t.getValueInRange(new Vi(o.lineNumber,o.column-r.open.length+1,o.lineNumber,o.column))+n!==r.open){e=!1;break}}e&&(s=r)}return s}static _isAutoClosingOpenCharType(e,t,i,n,o){const s=tw(n),r=s?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===r)return null;const a=this._findAutoClosingPairOpen(e,t,i.map((e=>e.getPosition())),n);if(!a)return null;const l=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let d=0,c=i.length;d<c;d++){const n=i[d];if(!n.isEmpty())return null;const c=n.getPosition(),h=t.getLineContent(c.lineNumber);if(h.length>c.column-1){const t=h.charAt(c.column-1);if(!YS._isBeforeClosingBrace(e,a,t)&&!l(t))return null}if(!t.isCheapToTokenize(c.lineNumber))return null;if(1===a.open.length&&s&&"always"!==r){const t=M_(e.wordSeparators);if(o&&c.column>1&&0===t.get(h.charCodeAt(c.column-2)))return null;if(!o&&c.column>2&&0===t.get(h.charCodeAt(c.column-3)))return null}t.forceTokenization(c.lineNumber);const u=t.getLineTokens(c.lineNumber);let g=!1;try{g=zh.shouldAutoClosePair(a,u,o?c.column:c.column-1)}catch(le){ft(le)}if(!g)return null}return a}static _runAutoClosingOpenCharType(e,t,i,n,o,s,r){let a=[];for(let l=0,d=n.length;l<d;l++){const e=n[l];a[l]=new JS(e,o,s,r.close)}return new Xv(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return tw(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!YS._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const o=tw(n);for(let s=0,r=i.length;s<r;s++){const e=i[s];if(e.isEmpty())return!1;let n=!0;for(let i=e.startLineNumber;i<=e.endLineNumber;i++){const o=t.getLineContent(i),s=i===e.startLineNumber?e.startColumn-1:0,r=i===e.endLineNumber?e.endColumn-1:o.length,a=o.substring(s,r);if(/[^ \t]/.test(a)){n=!1;break}}if(n)return!1;if(o&&e.startLineNumber===e.endLineNumber&&e.startColumn+1===e.endColumn){if(tw(t.getValueInRange(e)))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,o){let s=[];for(let r=0,a=n.length;r<a;r++){const e=n[r],i=t.surroundingPairs[o];s[r]=new ZS(e,o,i)}return new Xv(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,o){if(!t.electricChars.hasOwnProperty(o)||!n.isEmpty())return null;let s=n.getPosition();i.forceTokenization(s.lineNumber);let r,a=i.getLineTokens(s.lineNumber);try{r=zh.onElectricCharacter(o,a,s.column)}catch(le){return ft(le),null}if(!r)return null;if(r.matchOpenBracket){let e=(a.getLineContent()+o).lastIndexOf(r.matchOpenBracket)+1,n=i.findMatchingBracketUp(r.matchOpenBracket,{lineNumber:s.lineNumber,column:e});if(n){if(n.startLineNumber===s.lineNumber)return null;let e=$r(i.getLineContent(n.startLineNumber)),r=t.normalizeIndentation(e),a=i.getLineContent(s.lineNumber),l=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,d=r+a.substring(l-1,s.column-1)+o,c=new Vi(s.lineNumber,1,s.lineNumber,s.column);const h=new MS(c,d);return new Xv(1,[h],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,o,s){if(!n||Hi.selectionsArrEqual(n,o))return null;let r=null;for(const l of o){if(!l.isEmpty())return null;const e=l.getPosition(),t=i.getValueInRange(new Vi(e.lineNumber,e.column-1,e.lineNumber,e.column));if(null===r)r=t;else if(r!==t)return null}if(!r)return null;if(this._isAutoClosingOvertype(t,i,o,s,r)){const e=o.map((e=>new MS(new Vi(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new Xv(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._isAutoClosingOpenCharType(t,i,o,r,!1);return a?this._runAutoClosingOpenCharType(e,t,i,o,r,!1,a):null}static typeWithInterceptors(e,t,i,n,o,s,r){if(!e&&"\n"===r){let e=[];for(let t=0,s=o.length;t<s;t++)e[t]=YS._enter(i,n,!1,o[t]);return new Xv(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,o)){let e=[],t=!1;for(let s=0,a=o.length;s<a;s++)if(e[s]=this._runAutoIndentType(i,n,o[s],r),!e[s]){t=!0;break}if(!t)return new Xv(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,o,s,r))return this._runAutoClosingOvertype(t,i,n,o,r);if(!e){const e=this._isAutoClosingOpenCharType(i,n,o,r,!0);if(e)return this._runAutoClosingOpenCharType(t,i,n,o,r,!0,e)}if(this._isSurroundSelectionType(i,n,o,r))return this._runSurroundSelectionType(t,i,n,o,r);if(!e&&this._isTypeInterceptorElectricChar(i,n,o)){const e=this._typeInterceptorElectricChar(t,i,n,o[0],r);if(e)return e}let a=[];for(let d=0,c=o.length;d<c;d++)a[d]=new MS(o[d],r);let l=1!==t;return" "===r&&(l=!0),new Xv(1,a,{shouldPushStackElementBefore:l,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,o){let s=[];for(let r=0,a=n.length;r<a;r++)s[r]=new MS(n[r],o);return new Xv(1,s,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++){let s=i[o].positionLineNumber;if(1===s)n[o]=new AS(new Vi(1,1,1,1),"\n");else{s--;let i=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new Vi(s,i,s,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let o=0,s=i.length;o<s;o++){const s=i[o].positionLineNumber;let r=t.getLineMaxColumn(s);n[o]=this._enter(e,t,!1,new Vi(s,r,s,r))}return n}static lineBreakInsert(e,t,i){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=this._enter(e,t,!0,i[o]);return n}}class JS extends OS{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new Vi(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new Vi(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}var QS,XS;(XS=QS||(QS={})).editorSimpleInput=new uf("editorSimpleInput",!1),XS.editorTextFocus=new uf("editorTextFocus",!1),XS.focus=new uf("editorFocus",!1),XS.textInputFocus=new uf("textInputFocus",!1),XS.readOnly=new uf("editorReadonly",!1),XS.columnSelection=new uf("editorColumnSelection",!1),XS.writable=XS.readOnly.toNegated(),XS.hasNonEmptySelection=new uf("editorHasSelection",!1),XS.hasOnlyEmptySelection=XS.hasNonEmptySelection.toNegated(),XS.hasMultipleSelections=new uf("editorHasMultipleSelections",!1),XS.hasSingleSelection=XS.hasMultipleSelections.toNegated(),XS.tabMovesFocus=new uf("editorTabMovesFocus",!1),XS.tabDoesNotMoveFocus=XS.tabMovesFocus.toNegated(),XS.isInWalkThroughSnippet=new uf("isInEmbeddedEditor",!1),XS.canUndo=new uf("canUndo",!1),XS.canRedo=new uf("canRedo",!1),XS.hoverVisible=new uf("editorHoverVisible",!1),XS.inCompositeEditor=new uf("inCompositeEditor",void 0),XS.notInCompositeEditor=XS.inCompositeEditor.toNegated(),XS.languageId=new uf("editorLangId",""),XS.hasCompletionItemProvider=new uf("editorHasCompletionItemProvider",!1),XS.hasCodeActionsProvider=new uf("editorHasCodeActionsProvider",!1),XS.hasCodeLensProvider=new uf("editorHasCodeLensProvider",!1),XS.hasDefinitionProvider=new uf("editorHasDefinitionProvider",!1),XS.hasDeclarationProvider=new uf("editorHasDeclarationProvider",!1),XS.hasImplementationProvider=new uf("editorHasImplementationProvider",!1),XS.hasTypeDefinitionProvider=new uf("editorHasTypeDefinitionProvider",!1),XS.hasHoverProvider=new uf("editorHasHoverProvider",!1),XS.hasDocumentHighlightProvider=new uf("editorHasDocumentHighlightProvider",!1),XS.hasDocumentSymbolProvider=new uf("editorHasDocumentSymbolProvider",!1),XS.hasReferenceProvider=new uf("editorHasReferenceProvider",!1),XS.hasRenameProvider=new uf("editorHasRenameProvider",!1),XS.hasSignatureHelpProvider=new uf("editorHasSignatureHelpProvider",!1),XS.hasDocumentFormattingProvider=new uf("editorHasDocumentFormattingProvider",!1),XS.hasDocumentSelectionFormattingProvider=new uf("editorHasDocumentSelectionFormattingProvider",!1),XS.hasMultipleDocumentFormattingProvider=new uf("editorHasMultipleDocumentFormattingProvider",!1),XS.hasMultipleDocumentSelectionFormattingProvider=new uf("editorHasMultipleDocumentSelectionFormattingProvider",!1);class ek extends Ef{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var tk,ik,nk,ok,sk;(ik=tk||(tk={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!Xa(e))return!1;const t=e;return!(!Qa(t.to)||!il(t.by)&&!Qa(t.by)||!il(t.value)&&!el(t.value)||!il(t.revealCursor)&&!tl(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},ik.RawDirection={Up:"up",Down:"down"},ik.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},ik.parse=function(e){let t,i;switch(e.to){case ik.RawDirection.Up:t=1;break;case ik.RawDirection.Down:t=2;break;default:return null}switch(e.by){case ik.RawUnit.Line:i=1;break;case ik.RawUnit.WrappedLine:i=2;break;case ik.RawUnit.Page:i=3;break;case ik.RawUnit.HalfPage:i=4;break;default:i=2}return{direction:t,unit:i,value:Math.floor(e.value||1),revealCursor:!!e.revealCursor,select:!!e.select}},(ok=nk||(nk={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!Xa(e))return!1;const t=e;return!(!el(t.lineNumber)||!il(t.at)&&!Qa(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},ok.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class rk{constructor(e){e.addImplementation(1e4,((e,t)=>{const i=e.get(uo).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&(this.runEditorCommand(e,i,t),!0)})),e.addImplementation(1e3,((e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)})),e.addImplementation(0,((e,t)=>{const i=e.get(uo).getActiveCodeEditor();return!!i&&(i.focus(),this.runEditorCommand(e,i,t),!0)}))}}!function(e){class t extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[US.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=Rf(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=Rf(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends ek{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map((e=>Qv.fromViewState(e)))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=Rf(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const o=e.model.validatePosition(n.position),s=e.coordinatesConverter.validateViewPosition(new Bi(n.viewPosition.lineNumber,n.viewPosition.column),o);let r=n.doColumnSelect?i.fromViewLineNumber:s.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return IS.columnSelect(e.cursorConfig,e,r,a,s.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=Rf(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return IS.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=Rf(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return IS.columnSelectRight(e.cursorConfig,e,i)}});class n extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return IS.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=Rf(new n({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=Rf(new n({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return IS.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=Rf(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=Rf(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends ek{constructor(){super({id:"cursorMove",precondition:void 0,description:KS.description})}runCoreEditorCommand(e,t){const i=KS.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,s._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,o=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return US.simpleMove(e,t,i.direction,n,o,i.unit);case 9:case 11:case 10:case 12:return US.viewportMove(e,t,i.direction,n,o);default:return null}}}e.CursorMoveImpl=s,e.CursorMove=Rf(new s);class r extends ek{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,US.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=Rf(new r({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=Rf(new r({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1039}})),e.CursorRight=Rf(new r({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=Rf(new r({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1041}})),e.CursorUp=Rf(new r({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=Rf(new r({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=Rf(new r({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:11}})),e.CursorPageUpSelect=Rf(new r({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1035}})),e.CursorDown=Rf(new r({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=Rf(new r({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=Rf(new r({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:12}})),e.CursorPageDownSelect=Rf(new r({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1036}})),e.CreateCursor=Rf(new class extends ek{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?US.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):US.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const o=i.modelState?i.modelState.position:null,s=i.viewState?i.viewState.position:null;for(let i=0,r=n.length;i<r;i++){const r=n[i];if((!o||r.modelState.selection.containsPosition(o))&&(!s||r.viewState.selection.containsPosition(s)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=Rf(new class extends ek{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=US.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class a extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,US.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=Rf(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=Rf(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],o=n.modelState.position.lineNumber;t[i]=Qv.fromModelState(n.modelState.move(this._inSelectionMode,o,1,0))}return t}}e.CursorLineStart=Rf(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=Rf(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:0,mac:{primary:1311}}}));class d extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,US.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=Rf(new d({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:QS.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:ue("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=Rf(new d({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:QS.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:ue("vs/editor/browser/controller/coreCommands","stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class c extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,o=t.length;n<o;n++){const o=t[n],s=o.modelState.position.lineNumber,r=e.model.getLineMaxColumn(s);i[n]=Qv.fromModelState(o.modelState.move(this._inSelectionMode,s,r,0))}return i}}e.CursorLineEnd=Rf(new c({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=Rf(new c({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:0,mac:{primary:1315}}}));class h extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,US.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=Rf(new h({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=Rf(new h({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3086,mac:{primary:3088}}}));class u extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,US.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=Rf(new u({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=Rf(new u({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:3085,mac:{primary:3090}}}));class g extends ek{constructor(){super({id:"editorScroll",precondition:void 0,description:tk.description})}runCoreEditorCommand(e,t){const i=tk.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const o=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[US.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),o,i.select)])}e.setScrollTop(n,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let o;o=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const s=e.coordinatesConverter.convertModelPositionToViewPosition(new Bi(o,1));return e.getVerticalOffsetForLineNumber(s.lineNumber)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.getScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=g,e.EditorScroll=Rf(new g),e.ScrollLineUp=Rf(new class extends ek{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=Rf(new class extends ek{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=Rf(new class extends ek{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=Rf(new class extends ek{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class m extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[US.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=Rf(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=Rf(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=Rf(new class extends ek{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0),s=n[i];o[i]=US.word(e,s,s.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}});class p extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[US.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=Rf(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=Rf(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class f extends ek{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),o=n.slice(0);o[i]=US.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,o)}}e.LastCursorLineSelect=Rf(new f({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=Rf(new f({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=Rf(new class extends ek{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,US.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=Rf(new class extends ek{constructor(){super({id:"cancelSelection",precondition:QS.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[US.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=Rf(new class extends ek{constructor(){super({id:"removeSecondaryCursors",precondition:QS.hasMultipleSelections,kbOpts:{weight:1,kbExpr:QS.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0)}}),e.RevealLine=Rf(new class extends ek{constructor(){super({id:"revealLine",precondition:void 0,description:nk.description})}runCoreEditorCommand(e,t){const i=t;let n=(i.lineNumber||0)+1;n<1&&(n=1);const o=e.model.getLineCount();n>o&&(n=o);const s=new Vi(n,1,n,e.model.getLineMaxColumn(n));let r=0;if(i.at)switch(i.at){case nk.RawAtArgument.Top:r=3;break;case nk.RawAtArgument.Center:r=1;break;case nk.RawAtArgument.Bottom:r=4}const a=e.coordinatesConverter.convertModelRangeToViewRange(s);e.revealRange(t.source,!1,a,r,0)}}),e.SelectAll=new class extends rk{constructor(){super(Uf)}runDOMCommand(){document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[US.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=Rf(new class extends ek{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Qv.fromModelSelection(t.selection)])}})}(sk||(sk={}));const ak=Jp.and(QS.textInputFocus,QS.columnSelection);function lk(e,t){Wm.registerKeybindingRule({id:e,primary:t,when:ak,weight:1})}function dk(e){return e.register(),e}var ck;lk(sk.CursorColumnSelectLeft.id,1039),lk(sk.CursorColumnSelectRight.id,1041),lk(sk.CursorColumnSelectUp.id,1040),lk(sk.CursorColumnSelectPageUp.id,1035),lk(sk.CursorColumnSelectDown.id,1042),lk(sk.CursorColumnSelectPageDown.id,1036),function(e){class t extends Ef{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=Rf(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:QS.writable,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,YS.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection))))}}),e.Outdent=Rf(new class extends t{constructor(){super({id:"outdent",precondition:QS.writable,kbOpts:{weight:0,kbExpr:Jp.and(QS.editorTextFocus,QS.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,YS.outdent(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.Tab=Rf(new class extends t{constructor(){super({id:"tab",precondition:QS.writable,kbOpts:{weight:0,kbExpr:Jp.and(QS.editorTextFocus,QS.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,YS.tab(t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)))),e.pushUndoStop()}}),e.DeleteLeft=Rf(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,o]=BS.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(2)}}),e.DeleteRight=Rf(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:QS.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,o]=BS.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map((e=>e.modelState.selection)));n&&e.pushUndoStop(),e.executeCommands(this.id,o),t.setPrevEditOperationType(3)}}),e.Undo=new class extends rk{constructor(){super(Hf)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){t.hasModel()&&!0!==t.getOption(72)&&t.getModel().undo()}},e.Redo=new class extends rk{constructor(){super(zf)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){t.hasModel()&&!0!==t.getOption(72)&&t.getModel().redo()}}}(ck||(ck={}));class hk extends kf{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(uo).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function uk(e,t){dk(new hk("default:"+e,e)),dk(new hk(e,e,t))}uk("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),uk("replacePreviousChar"),uk("compositionStart"),uk("compositionEnd"),uk("paste"),uk("cut");class gk{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}replacePreviousChar(e,t){this.commandDelegate.replacePreviousChar(e,t)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){sk.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new Bi(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(61)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(61)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Le&&t.get(88),n=t.get(13);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey||n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){sk.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){sk.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),sk.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),sk.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){sk.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){sk.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){sk.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){sk.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){sk.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){sk.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){sk.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){sk.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){sk.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class mk{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return mk.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new pk(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class pk{constructor(e,t,i,n,o,s){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=o,this.detail=s}toString(){return nw.toString(this)}}class fk{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let o=0,s=0;for(let r=i;r<=n;r++){const i=r-this._rendLineNumberStart;e<=r&&r<=t&&(0===s?(o=i,s=1):s++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(o,s)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let o=!1;for(let s=e;s<=t;s++)s>=i&&s<=n&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o){return this._lines.splice(e-this._rendLineNumberStart,o-e+1)}const s=[];for(let c=0;c<i;c++)s[c]=this._createLine();const r=e-this._rendLineNumberStart,a=this._lines.slice(0,r),l=this._lines.slice(r,this._lines.length-i),d=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(s).concat(l),d}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let o=0,s=e.length;o<s;o++){const s=e[o];if(s.toLineNumber<t||s.fromLineNumber>i)continue;const r=Math.max(t,s.fromLineNumber),a=Math.min(i,s.toLineNumber);for(let e=r;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class bk{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new fk((()=>this._host.createVisibleLine()))}_createDomNode(){const e=qf(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(117)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,n=t.length;i<n;i++){const e=t[i].getDomNode();e&&this.domNode.domNode.removeChild(e)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new _k(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class _k{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let e=t;e<=i;e++)o.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,n),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t),o.rendLineNumberStart>t){const e=t,s=Math.min(i,o.rendLineNumberStart-1);e<=s&&(this._insertLinesBefore(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart<t){const e=Math.min(o.linesLength,t-o.rendLineNumberStart);e>0&&(this._removeLinesBefore(o,e),o.linesLength-=e)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const e=o.rendLineNumberStart+o.linesLength,s=i;e<=s&&(this._insertLinesAfter(o,e,s,n,t),o.linesLength+=s-e+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const e=Math.max(0,i-o.rendLineNumberStart+1),t=o.linesLength-1-e+1;t>0&&(this._removeLinesAfter(o,t),o.linesLength-=t)}return this._finishRendering(o,!1,n),o}_renderUntouchedLines(e,t,i,n,o){const s=e.rendLineNumberStart,r=e.lines;for(let a=t;a<=i;a++){const e=s+a;r[a].layoutLine(e,n[e-o])}}_insertLinesBefore(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,o){const s=[];let r=0;for(let a=t;a<=i;a++)s[r++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let r=e.linesLength-1;r>=0;r--){const t=e.lines[r];n[r]&&(t.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");n.innerHTML=t;for(let o=0;o<e.linesLength;o++){const t=e.lines[o];if(i[o]){const e=n.firstChild,i=t.getDomNode();i.parentNode.replaceChild(e,i),t.setDomNode(e)}}}_finishRendering(e,t,i){const n=_k._sb,o=e.linesLength,s=e.lines,r=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<o;e++){const t=s[e];a[e]=!1;if(t.getDomNode())continue;t.renderLine(e+r,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<o;e++){const o=s[e];if(l[e]=!1,a[e])continue;o.renderLine(e+r,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}_k._sb=kh(1e5);class vk extends lb{constructor(e){super(e),this._visibleLines=new bk(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new wk(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter((e=>e.shouldRender()));for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class wk{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(51),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=qf(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(51)}renderLine(e,t,i,n){let o="";for(let s=0,r=this._dynamicOverlays.length;s<r;s++){o+=this._dynamicOverlays[s].render(i.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(o),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class Ck extends vk{constructor(e){super(e);const t=this._context.configuration.options.get(117);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class yk extends vk{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Up.applyFontInfo(this.domNode,t.get(36))}onConfigurationChanged(e){const t=this._context.configuration.options;Up.applyFontInfo(this.domNode,t.get(36));const i=t.get(117);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class Sk{constructor(e,t){this.top=e,this.left=t}}class kk extends lb{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=qf(document.createElement("div")),db.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=qf(document.createElement("div")),db.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new xk(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class xk{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=qf(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,o=n.get(117);this._fixedOverflowWidgets=n.get(30),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=n.get(51),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(51),e.hasChanged(117)){const e=t.get(117);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,o){const s=e.top,r=s,a=t.top+this._lineHeight,l=s-n,d=r>=n,c=a,h=o.viewportHeight-a>=n;let u=e.left,g=t.left;return u+i>o.scrollLeft+o.viewportWidth&&(u=o.scrollLeft+o.viewportWidth-i),g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),u<o.scrollLeft&&(u=o.scrollLeft),g<o.scrollLeft&&(g=o.scrollLeft),{fitsAbove:d,aboveTop:l,aboveLeft:u,fitsBelow:h,belowTop:c,belowLeft:g}}_layoutHorizontalSegmentInPage(e,t,i,n){const o=Math.max(0,t.left-n),s=Math.min(t.left+t.width+n,e.width);let r=t.left+i-Js.scrollX;if(r+n>s){const e=r-(s-n);r-=e,i-=e}if(r<o){const e=r-o;r-=e,i-=e}return[i,r]}_layoutBoxInPage(e,t,i,n,o){const s=e.top-n,r=t.top+this._lineHeight,a=Ys(this._viewDomNode.domNode),l=a.top+s-Js.scrollY,d=a.top+r-Js.scrollY,c=$s(document.body),[h,u]=this._layoutHorizontalSegmentInPage(c,a,e.left-o.scrollLeft+this._contentLeft,i),[g,m]=this._layoutHorizontalSegmentInPage(c,a,t.left-o.scrollLeft+this._contentLeft,i),p=l>=22,f=d+n<=c.height-22;return this._fixedOverflowWidgets?{fitsAbove:p,aboveTop:Math.max(l,22),aboveLeft:u,fitsBelow:f,belowTop:d,belowLeft:m}:{fitsAbove:p,aboveTop:s,aboveLeft:h,fitsBelow:f,belowTop:r,belowLeft:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new Sk(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const d of t)d.lineNumber<i.lineNumber&&(i=d),d.lineNumber>n.lineNumber&&(n=d);let o=1073741824;for(const d of i.ranges)d.left<o&&(o=d.left);let s=1073741824;for(const d of n.ranges)d.left<s&&(s=d.left);const r=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new Sk(r,o),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new Sk(l,s)]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}let n;if(n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let o=1;o<=2;o++)for(const e of this._preference)if(1===e){if(!n)return null;if(2===o||n.fitsAbove)return new Sk(n.aboveTop,n.aboveLeft)}else{if(2!==e)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(t):t;if(!n)return null;if(2===o||n.fitsBelow)return new Sk(n.belowTop,n.belowLeft)}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))}}let Lk=!0;class Ek extends Ew{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._renderLineHighlight=t.get(77),this._renderLineHightlightOnlyWhenFocus=t.get(78),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[],this._selections=[],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=Lk?this._selections.slice(0,1):this._selections,i=t.map((e=>e.positionLineNumber));i.sort(((e,t)=>e-t)),Jo(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const n=t.every((e=>e.isEmpty()));return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._renderLineHighlight=t.get(77),this._renderLineHightlightOnlyWhenFocus=t.get(78),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHightlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const r=[];for(let a=i;a<=n;a++){const e=a-i;for(;s<o&&this._cursorLineNumbers[s]<a;)s++;s<o&&this._cursorLineNumbers[s]===a?r[e]=t:r[e]=""}this._renderData=r}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class Dk extends Ek{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}class Nk extends Ek{_renderOne(e){return`<div class="${"current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}Sb(((e,t)=>{Lk=!1;const i=e.getColor(Qy);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(Xy)){const i=e.getColor(Xy);i&&(Lk=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));class Tk extends Ew{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let a=0,l=t.length;a<l;a++){const e=t[a];e.options.className&&(i[n++]=e)}i=i.sort(((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:Vi.compareRangesUsingStarts(e.range,t.range)}));const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,r=[];for(let a=o;a<=s;a++){r[a-o]=""}this._renderWholeLineDecorations(e,i,r),this._renderNormalDecorations(e,i,r),this._renderResult=r}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let r=0,a=t.length;r<a;r++){const e=t[r];if(!e.options.isWholeLine)continue;const a='<div class="cdr '+e.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(e.range.startLineNumber,o),d=Math.min(e.range.endLineNumber,s);for(let t=l;t<=d;t++){i[t-o]+=a}}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),o=e.visibleRange.startLineNumber;let s=null,r=!1,a=null;for(let l=0,d=t.length;l<d;l++){const d=t[l];if(d.options.isWholeLine)continue;const c=d.options.className,h=Boolean(d.options.showIfCollapsed);let u=d.range;h&&1===u.endColumn&&u.endLineNumber!==u.startLineNumber&&(u=new Vi(u.startLineNumber,u.startColumn,u.endLineNumber-1,this._context.model.getLineMaxColumn(u.endLineNumber-1))),s===c&&r===h&&Vi.areIntersectingOrTouching(a,u)?a=Vi.plusRange(a,u):(null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i),s=c,r=h,a=u)}null!==s&&this._renderNormalDecoration(e,a,s,r,n,o,i)}_renderNormalDecoration(e,t,i,n,o,s,r){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let l=0,d=a.length;l<d;l++){const e=a[l];if(e.outsideRenderedLine)continue;const t=e.lineNumber-s;if(n&&1===e.ranges.length){const t=e.ranges[0];0===t.width&&(e.ranges[0]=new ub(t.left,this._typicalHalfwidthCharacterWidth))}for(let n=0,s=e.ranges.length;n<s;n++){const s=e.ranges[n],a='<div class="cdr '+i+'" style="left:'+String(s.left)+"px;width:"+String(s.width)+"px;height:"+o+'px;"></div>';r[t]+=a}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class Ik extends It{onclick(e,t){this._register(Ms(e,pr.CLICK,(e=>t(new Wo(e)))))}onmousedown(e,t){this._register(Ms(e,pr.MOUSE_DOWN,(e=>t(new Wo(e)))))}onmouseover(e,t){this._register(Ms(e,pr.MOUSE_OVER,(e=>t(new Wo(e)))))}onnonbubblingmouseout(e,t){this._register(Fs(e,(e=>t(new Wo(e)))))}onkeydown(e,t){this._register(Ms(e,pr.KEY_DOWN,(e=>t(new Mo(e)))))}onkeyup(e,t){this._register(Ms(e,pr.KEY_UP,(e=>t(new Mo(e)))))}oninput(e,t){this._register(Ms(e,pr.INPUT,t))}onblur(e,t){this._register(Ms(e,pr.BLUR,t))}onfocus(e,t){this._register(Ms(e,pr.FOCUS,t))}ignoreGesture(e){Yf.ignoreTarget(e)}}class Mk extends Ik{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,Es(this.domNode,e.icon.classNames),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new Qf),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new jo),this._mousedownScheduleRepeatTimer=this._register(new $o)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Jf,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}class Rk extends It{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new $o)}applyVisibilitySetting(e){return 2!==this._visibility&&(3===this._visibility||e)}setShouldBeVisible(e){let t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}class Ak extends Ik{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new Rk(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new Qf),this._shouldRender=!0,this.domNode=qf(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,(e=>this._domNodeMouseDown(e)))}_createArrow(e){let t=this._register(new Mk(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=qf(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))})),this.onclick(this.slider.domNode,(e=>{e.leftButton&&e.stopPropagation()}))}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{}))):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const n=Ys(this.domNode.domNode);t=e.posx-n.left,i=e.posy-n.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,i))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(()=>{})))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Jf,(e=>{const t=this._sliderOrthogonalMousePosition(e),s=Math.abs(t-n);if(ke&&s>140)return void this._setDesiredScrollPositionNow(o.getScrollPosition());const r=this._sliderMousePosition(e)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(r))}),(()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()})),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}}class Ok{constructor(e,t,i,n,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new Ok(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=e}static _computeValues(e,t,i,n,o){const s=Math.max(0,i-e),r=Math.max(0,s-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(20,Math.floor(i*r/n))),d=(r-l)/(n-i),c=o*d;return{computedAvailableSize:Math.round(s),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:d,computedSliderPosition:Math.round(c)}}_refreshComputedValues(){const e=Ok._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const Pk=fc("scrollbar-button-left",bc.triangleLeft),Fk=fc("scrollbar-button-right",bc.triangleRight);class Wk extends Ak{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Ok(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e}),t.horizontalHasArrows){let e=(t.arrowSize-11)/2,i=(t.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:Pk,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Bo(null,1,0))}),this._createArrow({className:"scra",icon:Fk,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Bo(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}}const Bk=fc("scrollbar-button-up",bc.triangleUp),Vk=fc("scrollbar-button-down",bc.triangleDown);class Hk extends Ak{constructor(e,t,i){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new Ok(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e}),t.verticalHasArrows){let e=(t.arrowSize-11)/2,i=(t.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:Bk,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Bo(null,0,1))}),this._createArrow({className:"scra",icon:Vk,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Bo(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}}class zk{constructor(e,t,i,n,o,s){e|=0,t|=0,i|=0,n|=0,o|=0,s|=0,this.rawScrollLeft=i,this.rawScrollTop=s,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),s+n>o&&(s=o-n),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=o,this.scrollTop=s}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new zk(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new zk(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e){const t=this.width!==e.width,i=this.scrollWidth!==e.scrollWidth,n=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,s=this.scrollHeight!==e.scrollHeight,r=this.scrollTop!==e.scrollTop;return{oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:i,scrollLeftChanged:n,heightChanged:o,scrollHeightChanged:s,scrollTopChanged:r}}}class Uk extends It{constructor(e,t){super(),this._onScroll=this._register(new Pt),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new zk(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t)}setScrollPositionSmooth(e){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const t=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===t.scrollLeft&&this._smoothScrolling.to.scrollTop===t.scrollTop)return;const i=this._smoothScrolling.combine(this._state,t,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=$k.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())}))):void 0}_setState(e){const t=this._state;t.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(t)))}}class Kk{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function qk(e,t){const i=t-e;return function(t){return e+i*function(e){return 1-function(e){return Math.pow(e,3)}(1-e)}(t)}}class $k{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this._startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let r,a;return e<t?(r=e+.75*i,a=t-.75*i):(r=e-.75*i,a=t+.75*i),n=qk(e,r),o=qk(a,t),s=.33,function(e){return e<s?n(e/s):o((e-s)/(1-s))}}var n,o,s;return qk(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this._startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new Kk(e,i,!1)}return new Kk(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return $k.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new $k(e,t,n,i)}}class jk{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class Gk{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const o=n===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new jk(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return(-1!==this._front||-1!==this._rear)&&this._memory[this._rear],this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}Gk.INSTANCE=new Gk;class Zk extends Ik{constructor(e,t,i){super(),this._onScroll=this._register(new Pt),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new Pt),e.style.overflow="hidden",this._options=function(e){let t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,xe&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));let n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new Hk(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new Wk(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=qf(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=qf(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=qf(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new $o),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Et(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,xe&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontalScrollbarSize&&this._horizontalScrollbar.updateScrollbarSize(e.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Et(this._mouseWheelToDispose),e)){let e=e=>{this._onMouseWheel(new Bo(e))};this._mouseWheelToDispose.push(Ms(this._listenOnDomNode,pr.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=Gk.INSTANCE;{const i=window.devicePixelRatio/go.INSTANCE.getZoomFactor();ke||Le?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}if(e.deltaY||e.deltaX){let i=e.deltaY*this._options.mouseWheelScrollSensitivity,n=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(i)>=Math.abs(n)?n=0:i=0),this._options.flipAxes&&([i,n]=[n,i]);const o=!xe&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!o||n||(n=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(n*=this._options.fastScrollSensitivity,i*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let r={};if(i){const e=s.scrollTop-50*i;this._verticalScrollbar.writeScrollPosition(r,e)}if(n){const e=s.scrollLeft-50*n;this._horizontalScrollbar.writeScrollPosition(r,e)}if(r=this._scrollable.validateScrollPosition(r),s.scrollLeft!==r.scrollLeft||s.scrollTop!==r.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(r):this._scrollable.setScrollPositionNow(r),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition();let t=e.scrollTop>0,i=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(i?" left":"")),this._topShadowDomNode.setClassName("shadow"+(t?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(i?" left":""))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class Yk extends Zk{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new Uk(0,(e=>Bs(e)));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class Jk extends Zk{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Qk extends Yk{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class Xk extends lb{constructor(e,t,i,n){super(e);const o=this._context.configuration.options,s=o.get(84),r=o.get(58),a=o.get(28),l=o.get(87),d={listenOnDomNode:i.domNode,className:"editor-scrollable "+wb(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:a,scrollPredominantAxis:l};this.scrollbar=this._register(new Jk(t.domNode,d,this._context.viewLayout.getScrollable())),db.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=qf(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const c=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(n,1)};this._register(Ms(i.domNode,"scroll",(e=>c(i.domNode,!0,!0)))),this._register(Ms(t.domNode,"scroll",(e=>c(t.domNode,!0,!1)))),this._register(Ms(n.domNode,"scroll",(e=>c(n.domNode,!0,!1)))),this._register(Ms(this.scrollbarDomNode.domNode,"scroll",(e=>c(this.scrollbarDomNode.domNode,!0,!1))))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(117);this.scrollbarDomNode.setLeft(t.contentLeft);"right"===e.get(56).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(84)||e.hasChanged(58)||e.hasChanged(28)){const e=this._context.configuration.options,t=e.get(84),i=e.get(58),n=e.get(28),o=e.get(87),s={handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:o};this.scrollbar.updateOptions(s)}return e.hasChanged(117)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+wb(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class ex{constructor(e,t,i){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class tx extends Ew{_render(e,t,i){const n=[];for(let r=e;r<=t;r++){n[r-e]=[]}if(0===i.length)return n;i.sort(((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1));let o=null,s=0;for(let r=0,a=i.length;r<a;r++){const a=i[r],l=a.className;let d=Math.max(a.startLineNumber,e)-e;const c=Math.min(a.endLineNumber,t)-e;o===l?(d=Math.max(s+1,d),s=Math.max(s,c)):(o=l,s=c);for(let e=d;e<=s;e++)n[e].push(o)}return n}}class ix extends tx{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._glyphMargin=t.get(42),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._glyphMargin=t.get(42),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.glyphMarginClassName;s&&(i[n++]=new ex(e.range.startLineNumber,e.range.endLineNumber,s))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+o+'px;"></div>',r=[];for(let a=t;a<=i;a++){const e=a-t,i=n[e];0===i.length?r[e]="":r[e]='<div class="cgmr codicon '+i.join(" ")+s}this._renderResult=r}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class nx extends Ew{constructor(e){super(),this._context=e,this._primaryLineNumber=0;const t=this._context.configuration.options,i=t.get(118),n=t.get(36);this._lineHeight=t.get(51),this._spaceWidth=n.spaceWidth,this._enabled=t.get(75),this._activeIndentEnabled=t.get(45),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(118),n=t.get(36);return this._lineHeight=t.get(51),this._spaceWidth=n.spaceWidth,this._enabled=t.get(75),this._activeIndentEnabled=t.get(45),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._enabled)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,{indentSize:n}=this._context.model.getTextModelOptions(),o=n*this._spaceWidth,s=e.scrollWidth,r=this._lineHeight,a=this._context.model.getLinesIndentGuides(t,i);let l=0,d=0,c=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const e=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);l=e.startLineNumber,d=e.endLineNumber,c=e.indent}const h=[];for(let u=t;u<=i;u++){const i=l<=u&&u<=d,n=u-t,g=a[n];let m="";if(g>=1){const t=e.visibleRangeForPosition(new Bi(u,1));let n=t?t.left:0;for(let e=1;e<=g;e++){if(m+=`<div class="${i&&e===c?"cigra":"cigr"}" style="left:${n}px;height:${r}px;width:${o}px"></div>`,n+=o,n>s||this._maxIndentLeft>0&&n>this._maxIndentLeft)break}}h[n]=m}this._renderResult=h}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Sb(((e,t)=>{const i=e.getColor(aS);i&&t.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(lS)||i;n&&t.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${n} inset; }`)}));class ox{constructor(){this._currentVisibleRange=new Vi(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class sx{constructor(e,t,i,n,o,s){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=o,this.scrollType=s,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class rx{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let o=e[0].startLineNumber,s=e[0].endLineNumber;for(let r=1,a=e.length;r<a;r++){const t=e[r];o=Math.min(o,t.startLineNumber),s=Math.max(s,t.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=s}}class ax extends lb{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new bk(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,o=n.get(36),s=n.get(118);this._lineHeight=n.get(51),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=n.get(81),this._cursorSurroundingLines=n.get(20),this._cursorSurroundingLinesStyle=n.get(21),this._canUseLayerHinting=!n.get(23),this._viewLineOptions=new Nb(i,this._context.theme.type),db.write(this.domNode,7),this.domNode.setClassName("view-lines monaco-mouse-cursor-text"),Up.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Go((()=>{this._updateLineWidthsSlow()}),200),this._asyncCheckMonospaceFontAssumptions=new Go((()=>{this._checkMonospaceFontAssumptions()}),2e3),this._lastRenderedData=new ox,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Tb(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(118)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(36),n=t.get(118);return this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(81),this._cursorSurroundingLines=t.get(20),this._cursorSurroundingLinesStyle=t.get(21),this._canUseLayerHinting=!t.get(23),Up.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(117)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new Nb(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let o=t;o<=i;o++)n=this._visibleLines.getVisibleLine(o).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new sx(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new rx(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new Bi(n,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(n<o||n>s)return null;let r=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.model.getLineMinColumn(n);return r<a&&(r=a),new Bi(n,r)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===Tb.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=Vi.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let o=[],s=0;const r=new Db(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Bi(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),d=this._visibleLines.getEndLineNumber();for(let c=n.startLineNumber;c<=n.endLineNumber;c++){if(c<l||c>d)continue;const e=c===n.startLineNumber?n.startColumn:1,h=c===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(c),u=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(e,h,r);if(u){if(t&&c<i){const e=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new Bi(c+1,1)).lineNumber,e!==a&&(u.ranges[u.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new hb(u.outsideRenderedLine,c,u.ranges)}}return 0===s?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new Db(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new gb(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,o=!0;for(let s=t;s<=i;s++){const t=this._visibleLines.getVisibleLine(s);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):o=!1}return o&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let o=i;o<=n;o++){const i=this._visibleLines.getVisibleLine(o);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=o)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=n;o++){this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),Le&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,o){const s=e.top,r=e.height,a=s+r;let l,d,c;if(n&&n.length>0){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,o=n.length;i<o;i++){const o=n[i];e=Math.min(e,o.startLineNumber),t=Math.max(t,o.endLineNumber)}l=!1,d=this._context.viewLayout.getVerticalOffsetForLineNumber(e),c=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;l=!0,d=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(r/this._lineHeight/2,this._cursorSurroundingLines);d-=e*this._lineHeight,c+=Math.max(0,e-1)*this._lineHeight}let h;if(0!==o&&4!==o||(c+=this._lineHeight),c-d>r){if(!l)return-1;h=d}else if(5===o||6===o)if(6===o&&s<=d&&c<=a)h=s;else{const e=d-Math.max(5*this._lineHeight,.2*r),t=c-r;h=Math.max(t,e)}else if(1===o||2===o)if(2===o&&s<=d&&c<=a)h=s;else{const e=(d+c)/2;h=Math.max(0,e-r/2)}else h=this._computeMinimumScrolling(s,a,d,c,3===o,4===o);return h}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let o=1073741824,s=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)o=Math.min(o,e.left),s=Math.max(s,e.left+e.width)}else for(const r of e.selections){if(r.startLineNumber!==r.endLineNumber)return null;const e=this._visibleRangesForLineRange(r.startLineNumber,r.startColumn,r.endColumn);if(!e)return null;for(const t of e.ranges)o=Math.min(o,t.left),s=Math.max(s,t.left+t.width)}if(o=Math.max(0,o-ax.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding,"selections"===e.type&&s-o>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,n,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,n,o,s){o=!!o,s=!!s;const r=(t|=0)-(e|=0);return(n|=0)-(i|=0)<r?o?i:s?Math.max(0,n-r):i<e?i:n>t?Math.max(0,n-r):e:i}}ax.HORIZONTAL_EXTRA_PX=30;class lx extends tx{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(117);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.linesDecorationsClassName;s&&(i[n++]=new ex(e.range.startLineNumber,e.range.endLineNumber,s));const r=e.options.firstLineDecorationClassName;r&&(i[n++]=new ex(e.range.startLineNumber,e.range.startLineNumber,r))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',s=[];for(let r=t;r<=i;r++){const e=r-t,i=n[e];let a="";for(let t=0,n=i.length;t<n;t++)a+='<div class="cldr '+i[t]+o;s[e]=a}this._renderResult=s}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class dx extends tx{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let o=0,s=t.length;o<s;o++){const e=t[o],s=e.options.marginClassName;s&&(i[n++]=new ex(e.range.startLineNumber,e.range.endLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){const e=s-t,i=n[e];let r="";for(let t=0,n=i.length;t<n;t++)r+='<div class="cmdr '+i[t]+'" style=""></div>';o[e]=r}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class cx{constructor(e,t,i,n){this.r=cx._clamp(e),this.g=cx._clamp(t),this.b=cx._clamp(i),this.a=cx._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}cx.Empty=new cx(0,0,0,0);class hx{constructor(){this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._updateColorMap(),ih.onDidChange((e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new hx),this._INSTANCE}_updateColorMap(){const e=ih.getColorMap();if(!e)return this._colors=[cx.Empty],void(this._backgroundIsLight=!0);this._colors=[cx.Empty];for(let i=1;i<e.length;i++){const t=e[i].rgba;this._colors[i]=new cx(t.r,t.g,t.b,Math.round(255*t.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}hx._INSTANCE=null;const ux=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})();class gx{constructor(e,t){this.scale=t,this.charDataNormal=gx.soften(e,.8),this.charDataLight=gx.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=gu(e[n]*t);return i}renderChar(e,t,i,n,o,s,r,a,l){const d=1*this.scale,c=2*this.scale,h=l?1:c;if(t+d>e.width||i+h>e.height)return void console.warn("bad render request outside image data");const u=a?this.charDataLight:this.charDataNormal,g=((e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e)(n,r),m=4*e.width,p=s.r,f=s.g,b=s.b,_=o.r-p,v=o.g-f,w=o.b-b,C=e.data;let y=g*d*c,S=i*m+4*t;for(let k=0;k<h;k++){let e=S;for(let t=0;t<d;t++){const t=u[y++]/255;C[e++]=p+_*t,C[e++]=f+v*t,C[e++]=b+w*t,e++}S+=m}}blockRenderChar(e,t,i,n,o,s,r){const a=1*this.scale,l=2*this.scale,d=r?1:l;if(t+a>e.width||i+d>e.height)return void console.warn("bad render request outside image data");const c=4*e.width,h=o.r,u=o.g,g=o.b,m=h+.5*(n.r-h),p=u+.5*(n.g-u),f=g+.5*(n.b-g),b=e.data;let _=i*c+4*t;for(let v=0;v<d;v++){let e=_;for(let t=0;t<a;t++)b[e++]=m,b[e++]=p,b[e++]=f,e++;_+=c}}}function mx(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}const px={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},fx=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=px[e[i]]<<4|15&px[e[i+1]];return t},bx={1:mx((()=>fx("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792"))),2:mx((()=>fx("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")))};class _x{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=bx[e]?new gx(bx[e](),e):_x.createFromSampleData(_x.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const o of ux)i.fillText(String.fromCharCode(o),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let i=_x._downsample(e,t);return new gx(i,t)}static _downsampleChar(e,t,i,n,o){const s=1*o,r=2*o;let a=n,l=0;for(let d=0;d<r;d++){const n=d/r*16,o=(d+1)/r*16;for(let r=0;r<s;r++){const d=r/s*10,c=(r+1)/s*10;let h=0,u=0;for(let i=n;i<o;i++){const n=t+3840*Math.floor(i),o=1-(i-Math.floor(i));for(let t=d;t<c;t++){const i=1-(t-Math.floor(t)),s=n+4*Math.floor(t),r=i*o;u+=r,h+=e[s]*e[s+3]/255*r}}const g=h/u;l=Math.max(l,g),i[a++]=gu(g)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,o=new Uint8ClampedArray(n);let s=0,r=0,a=0;for(let l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,r,o,s,t)),s+=i,r+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)o[t]*=e}return o}}class vx{constructor(e,t,i){const n=e.options,o=n.get(115),s=n.get(117),r=s.minimap,a=n.get(36),l=n.get(56);this.renderMinimap=r.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=r.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(86),this.showSlider=l.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(51),this.minimapLeft=r.minimapLeft,this.minimapWidth=r.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=r.minimapCanvasInnerWidth,this.canvasInnerHeight=r.minimapCanvasInnerHeight,this.canvasOuterWidth=r.minimapCanvasOuterWidth,this.canvasOuterHeight=r.minimapCanvasOuterHeight,this.isSampling=r.minimapIsSampling,this.editorHeight=s.height,this.fontScale=r.minimapScale,this.minimapLineHeight=r.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=mx((()=>_x.create(this.fontScale,a.fontFamily))),this.backgroundColor=vx._getMinimapBackground(t,i)}static _getMinimapBackground(e,t){const i=e.getColor(Fy);return i?new cx(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a):t.getColor(2)}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)}}class wx{constructor(e,t,i,n,o,s,r,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=r,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){const t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,o,s,r,a,l,d){const c=e.pixelRatio,h=e.minimapLineHeight,u=Math.floor(e.canvasInnerHeight/h),g=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=r*e.lineHeight+(e.scrollBeyondLastLine?n-e.lineHeight:0),i=Math.max(1,Math.floor(n*n/t)),o=Math.max(0,e.minimapHeight-i),d=o/(l-n),c=a*d,h=o>0,u=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new wx(a,l,h,d,c,i,1,Math.min(s,u))}let m,p;if(o&&i!==s){const e=i-t+1;m=Math.floor(e*h/c)}else{const e=n/g;m=Math.floor(e*h/c)}p=e.scrollBeyondLastLine?(s-1)*h/c:Math.max(0,s*h/c-m),p=Math.min(e.minimapHeight-m,p);const f=p/(l-n),b=a*f;let _=0;if(e.scrollBeyondLastLine){_=n/g-1}if(u>=s+_){return new wx(a,l,p>0,f,b,m,1,s)}{let e=Math.max(1,Math.floor(t-b*c/h));d&&d.scrollHeight===l&&(d.scrollTop>a&&(e=Math.min(e,d.startLineNumber)),d.scrollTop<a&&(e=Math.max(e,d.startLineNumber)));const i=Math.min(s,e+u-1);return new wx(a,l,!0,f,b,m,e,i)}}}class Cx{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Cx.INVALID=new Cx(-1);class yx{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new fk((()=>Cx.INVALID)),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let i=0,n=t.length;i<n;i++)if(-1===t[i].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Sx{constructor(e,t,i,n){this._backgroundFillData=Sx._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,o=i.g,s=i.b,r=new Uint8ClampedArray(e*t*4);let a=0;for(let l=0;l<t;l++)for(let t=0;t<e;t++)r[a]=n,r[a+1]=o,r[a+2]=s,r[a+3]=255,a+=4;return r}}class kx{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:r}=it.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:n}),a=t/r,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if(e[0]=1,r>1){for(let t=0,i=r-1;t<i;t++)e[t]=Math.round(t*a+l);e[r-1]=t}return[new kx(a,e),[]]}const d=i.minimapLines,c=d.length;let h=[],u=0,g=0,m=1;let p=[],f=null;for(let b=0;b<r;b++){const e=Math.max(m,Math.round(b*a)),i=Math.max(e,Math.round((b+1)*a));for(;u<c&&d[u]<e;){if(p.length<10){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},p.push(f)),g--}u++}let n;if(u<c&&d[u]<=i)n=d[u],u++;else if(n=0===b?1:b+1===r?t:Math.round(b*a+l),p.length<10){const e=u+1+g;f&&"inserted"===f.type&&f._i===b-1?f.insertToLineNumber++:(f={type:"inserted",_i:b,insertFromLineNumber:e,insertToLineNumber:e},p.push(f)),g++}h[b]=n,m=n}if(p.length<10)for(;u<c;){const e=u+1+g;f&&"deleted"===f.type&&f._oldIndex===u-1?f.deleteToLineNumber++:(f={type:"deleted",_oldIndex:u,deleteFromLineNumber:e,deleteToLineNumber:e},p.push(f)),g--,u++}else p=[{type:"flush"}];return[new kx(a,h),p]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),n=Math.max(n,o)):this.minimapLines[o]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class xx extends lb{constructor(e){super(e),this.tokensColorTracker=hx.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new vx(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=kx.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Lx(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new vx(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=kx.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const n of i)switch(n.type){case"deleted":this._actual.onLinesDeleted(n.deleteFromLineNumber,n.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(n.insertFromLineNumber,n.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?n[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):n[o]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Hi(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],o=this._samplingState.minimapLines[t-1];i=new Vi(n,1,o,this._context.model.getLineMaxColumn(o))}else i=new Vi(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),o=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new mg(new Vi(n,i.startColumn,o,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new Vi(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class Lx extends It{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Ay),this._domNode=qf(document.createElement("div")),db.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=qf(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=qf(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=qf(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=qf(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=qf(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=As(this._domNode.domNode,"mousedown",(e=>{e.preventDefault();if(0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=Ys(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)})),this._sliderMouseMoveMonitor=new Qf,this._sliderMouseDownListener=As(this._slider.domNode,"mousedown",(e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)})),this._gestureDisposable=Yf.addTarget(this._domNode.domNode),this._sliderTouchStartListener=Ms(this._domNode.domNode,Gf.Start,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))}),{passive:!1}),this._sliderTouchMoveListener=Ms(this._domNode.domNode,Gf.Change,(e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)}),{passive:!1}),this._sliderTouchEndListener=As(this._domNode.domNode,Gf.End,(e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)}))}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const s=(e,n)=>{const s=Math.abs(n-t);if(ke&&s>140)return void this._model.setScrollTop(o.scrollTop);const r=e-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(r))};n!==i&&s(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,Jf,(e=>s(e.posy,e.posx)),(()=>{this._slider.toggleClassName("active",!1)}))}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Sx(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Ay),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=wx.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);const i=e.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,n=Math.min(this._model.options.minimapWidth,Math.round(i*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(n),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-n),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections(),i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber),{canvasInnerWidth:n,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,r=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,o);const d=new Map;for(let c=0;c<t.length;c++){const i=t[c];for(let t=i.startLineNumber;t<=i.endLineNumber;t++)this.renderDecorationOnLine(l,d,i,this._selectionColor,e,t,s,s,a,r)}for(let c=0;c<i.length;c++){const t=i[c];if(!t.options.minimap)continue;const n=t.options.minimap.getColor(this._theme);for(let i=t.range.startLineNumber;i<=t.range.endLineNumber;i++)switch(t.options.minimap.position){case Hl.Inline:this.renderDecorationOnLine(l,d,t.range,n,e,i,s,s,a,r);continue;case Hl.Gutter:const o=(i-e.startLineNumber)*s,c=2;this.renderDecoration(l,n,c,o,2,s);continue}}}}renderDecorationOnLine(e,t,i,n,o,s,r,a,l,d){const c=(s-o.startLineNumber)*a;if(c+r<0||c>this._model.options.canvasInnerHeight)return;let h=t.get(s);const u=!h;if(!h){const e=this._model.getLineContent(s);h=[8];for(let t=1;t<e.length+1;t++){const i=e.charCodeAt(t-1),n=9===i?l*d:_a(i)?2*d:d;h[t]=h[t-1]+n}t.set(s,h)}const{startColumn:g,endColumn:m,startLineNumber:p,endLineNumber:f}=i,b=p===s?h[g-1]:8,_=f>s?h.length-1:m-1;if(_>0){const t=h[_]-b||2;this.renderDecoration(e,n,b,c,t,r)}u&&this.renderLineHighlight(e,n,c,r)}renderLineHighlight(e,t,i,n){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(8,i,e.canvas.width,n)}renderDecoration(e,t,i,n,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new yx(e,t.imageData,t.lines)}const o=this._getBuffer();if(!o)return null;let[s,r,a]=Lx._renderUntouchedLines(o,t,i,n,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,i,a),d=this._model.getOptions().tabSize,c=this._model.options.backgroundColor,h=this._model.tokensColorTracker,u=h.backgroundIsLight(),g=this._model.options.renderMinimap,m=this._model.options.charRenderer(),p=this._model.options.fontScale,f=this._model.options.minimapCharWidth,b=(1===g?2:3)*p,_=n>b?Math.floor((n-b)/2):0;let v=0;const w=[];for(let S=0,k=i-t+1;S<k;S++)a[S]&&Lx._renderLine(o,c,u,g,f,h,m,v,_,d,l[S],p,n),w[S]=new Cx(v),v+=n;const C=-1===s?0:s,y=(-1===r?o.height:r)-C;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,C,o.width,y),new yx(e,o,w)}static _renderUntouchedLines(e,t,i,n,o){const s=[];if(!o){for(let e=0,n=i-t+1;e<n;e++)s[e]=!0;return[-1,-1,s]}const r=o._get(),a=r.imageData.data,l=r.rendLineNumberStart,d=r.lines,c=d.length,h=e.width,u=e.data,g=(i-t+1)*n*h*4;let m=-1,p=-1,f=-1,b=-1,_=-1,v=-1,w=0;for(let C=t;C<=i;C++){const e=C-t,i=C-l,o=i>=0&&i<c?d[i].dy:-1;if(-1===o){s[e]=!0,w+=n;continue}const r=o*h*4,y=(o+n)*h*4,S=w*h*4,k=(w+n)*h*4;b===r&&v===S?(b=y,v=k):(-1!==f&&(u.set(a.subarray(f,b),_),-1===m&&0===f&&f===_&&(m=b),-1===p&&b===g&&f===_&&(p=f)),f=r,b=y,_=S,v=k),s[e]=!1,w+=n}-1!==f&&(u.set(a.subarray(f,b),_),-1===m&&0===f&&f===_&&(m=b),-1===p&&b===g&&f===_&&(p=f));return[-1===m?-1:m/(4*h),-1===p?-1:p/(4*h),s]}static _renderLine(e,t,i,n,o,s,r,a,l,d,c,h,u){const g=c.content,m=c.tokens,p=e.width-o,f=1===u;let b=8,_=0,v=0;for(let w=0,C=m.getCount();w<C;w++){const c=m.getEndOffset(w),u=m.getForeground(w),C=s.getColor(u);for(;_<c;_++){if(b>p)return;const s=g.charCodeAt(_);if(9===s){const e=d-(_+v)%d;v+=e-1,b+=e*o}else if(32===s)b+=o;else{const d=_a(s)?2:1;for(let c=0;c<d;c++)if(2===n?r.blockRenderChar(e,b,a+l,C,t,i,f):r.renderChar(e,b,a+l,s,C,t,h,i,f),b+=o,b>p)return}}}}}Sb(((e,t)=>{const i=e.getColor(Fy);i&&t.addRule(`.monaco-editor .minimap > canvas { opacity: ${i.rgba.a}; will-change: opacity; }`);const n=e.getColor(Wy);n&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const o=e.getColor(By);o&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${o}; }`);const s=e.getColor(Vy);s&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${s}; }`);const r=e.getColor(lC);r&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${r} -6px 0 6px -6px inset; }`)}));class Ex extends lb{constructor(e){super(e);const t=this._context.configuration.options.get(117);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=qf(document.createElement("div")),db.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=qf(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,n=t.length;i<n;i++){const e=t[i];this._renderWidget(this._widgets[e])}}}class Dx{constructor(e,t){const i=e.options;this.lineHeight=i.get(51),this.pixelRatio=i.get(115),this.overviewRulerLanes=i.get(65),this.renderBorder=i.get(64);const n=t.getColor(fS);this.borderColor=n?n.toString():null,this.hideCursor=i.get(44);const o=t.getColor(oS);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(56),r=s.enabled,a=s.side,l=r?t.getColor(bS)||ih.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:yv.Format.CSS.formatHex(l);const d=i.get(117).overviewRuler;this.top=d.top,this.right=d.right,this.domWidth=d.width,this.domHeight=d.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[c,h]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=c,this.w=h}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),o=n-t-i,s=e+t;return[[0,e,s,e,e+t+o,e,s,e],[0,t,o,t+o,i,t+o+i,o+i,t+o+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class Nx extends lb{constructor(e){super(e),this._domNode=qf(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=ih.onDidChange((e=>{e.changedColorMap&&this._updateSettings(!0)})),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new Dx(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(Bi.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,o=t/this._context.viewLayout.getScrollHeight(),s=this._context.model.getAllOverviewRulerDecorations(this._context.theme),r=6*this._settings.pixelRatio|0,a=r/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const d=this._settings.x,c=this._settings.w,h=Object.keys(s);h.sort();for(let u=0,g=h.length;u<g;u++){const e=h[u],g=s[e];l.fillStyle=e;let m=0,p=0,f=0;for(let s=0,h=g.length;s<h;s++){const e=g[3*s],h=g[3*s+1],u=g[3*s+2];let b=n.getVerticalOffsetForLineNumber(h)*o|0,_=(n.getVerticalOffsetForLineNumber(u)+i)*o|0;if(_-b<r){let e=(b+_)/2|0;e<a?e=a:e+a>t&&(e=t-a),b=e-a,_=e+a}b>f+1||e!==m?(0!==s&&l.fillRect(d[m],p,c[m],f-p),m=e,p=b,f=_):_>f&&(f=_)}l.fillRect(d[m],p,c[m],f-p)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,s=this._settings.x[7],r=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,d=-100;for(let c=0,h=this._cursorPositions.length;c<h;c++){const h=this._cursorPositions[c];let u=n.getVerticalOffsetForLineNumber(h.lineNumber)*o|0;u<i?u=i:u+i>t&&(u=t-i);const g=u-i,m=g+e;g>d+1?(0!==c&&l.fillRect(s,a,r,d-a),a=g,d=m):m>d&&(d=m)}l.fillRect(s,a,r,d-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class Tx{constructor(e,t,i){this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Ix{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class Mx{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Ix.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),o=Math.floor(4*this._pixelRatio/2);let s=[];for(let r=0,a=this._zones.length;r<a;r++){const a=this._zones[r];if(!e){const e=a.getColorZones();if(e){s.push(e);continue}}const l=Math.floor(n*this._getVerticalOffsetForLine(a.startLineNumber)),d=Math.floor(n*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let c=Math.floor((l+d)/2),h=d-c;h<o&&(h=o),c-h<0&&(c=h),c+h>i&&(c=i-h);const u=a.color;let g=this._color2Id[u];g||(g=++this._lastAssignedId,this._color2Id[u]=g,this._id2Color[g]=u);const m=new Tx(c-h,c+h,g);a.setColorZone(m),s.push(m)}return this._colorZonesInvalid=!1,s.sort(Tx.compare),s}}class Rx extends ab{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=qf(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new Mx((e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e))),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(51)),this._zoneManager.setPixelRatio(i.get(115)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(51)&&(this._zoneManager.setLineHeight(t.get(51)),this._render()),e.hasChanged(115)&&(this._zoneManager.setPixelRatio(t.get(115)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,n,e),!0}_renderOneLane(e,t,i,n){let o=0,s=0,r=0;for(const a of t){const t=a.colorId,l=a.from,d=a.to;t!==o?(e.fillRect(0,s,n,r-s),o=t,e.fillStyle=i[o],s=l,r=d):r>=l?r=Math.max(r,d):(e.fillRect(0,s,n,r-s),s=l,r=d)}e.fillRect(0,s,n,r-s)}}class Ax extends lb{constructor(e){super(e),this.domNode=qf(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(83),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(83),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let o=t-e;for(;o>0;){const e=qf(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),o--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}Sb(((e,t)=>{const i=e.getColor(uS);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)}));class Ox extends lb{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(84);this._useShadows=t.useShadows,this._domNode=qf(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(117);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(84);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}Sb(((e,t)=>{const i=e.getColor(lC);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)}));class Px{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Fx{constructor(e,t){this.lineNumber=e,this.ranges=t}}function Wx(e){return new Px(e)}function Bx(e){return new Fx(e.lineNumber,e.ranges.map(Wx))}const Vx=bo;class Hx extends Ew{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(51),this._roundedSelection=t.get(82),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(51),this._roundedSelection=t.get(82),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!o&&e<i.length;e++)i[e].lineNumber===n&&(o=i[e].ranges[0]);const r=t[t.length-1].lineNumber;if(r===e.endLineNumber)for(let e=i.length-1;!s&&e>=0;e--)i[e].lineNumber===r&&(s=i[e].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let r=0,a=t.length;r<a;r++){const e=t[r].ranges[0],i=e.left,l=e.left+e.width,d={top:0,bottom:0},c={top:0,bottom:0};if(r>0){const e=t[r-1].ranges[0].left,o=t[r-1].ranges[0].left+t[r-1].ranges[0].width;zx(i-e)<n?d.top=2:i>e&&(d.top=1),zx(l-o)<n?c.top=2:e<l&&l<o&&(c.top=1)}else o&&(d.top=o.startStyle.top,c.top=o.endStyle.top);if(r+1<a){const e=t[r+1].ranges[0].left,o=t[r+1].ranges[0].left+t[r+1].ranges[0].width;zx(i-e)<n?d.bottom=2:e<i&&i<o&&(d.bottom=1),zx(l-o)<n?c.bottom=2:l<o&&(c.bottom=1)}else s&&(d.bottom=s.startStyle.bottom,c.bottom=s.endStyle.bottom);e.startStyle=d,e.endStyle=c}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(Bx),o=this._visibleRangesHaveGaps(n);return Vx||o||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const o=!!n[0].ranges[0].startStyle,s=this._lineHeight.toString(),r=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let d=0,c=n.length;d<c;d++){const c=n[d],h=c.lineNumber,u=h-t,g=i&&(h===l||h===a)?r:s,m=i&&h===a?1:0;let p="",f="";for(let e=0,t=c.ranges.length;e<t;e++){const t=c.ranges[e];if(o){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){p+=this._createSelectionPiece(m,g,Hx.SELECTION_CLASS_NAME,t.left-Hx.ROUNDED_PIECE_WIDTH,Hx.ROUNDED_PIECE_WIDTH);let i=Hx.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+Hx.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+Hx.SELECTION_BOTTOM_RIGHT),p+=this._createSelectionPiece(m,g,i,t.left-Hx.ROUNDED_PIECE_WIDTH,Hx.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){p+=this._createSelectionPiece(m,g,Hx.SELECTION_CLASS_NAME,t.left+t.width,Hx.ROUNDED_PIECE_WIDTH);let e=Hx.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+Hx.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+Hx.SELECTION_BOTTOM_LEFT),p+=this._createSelectionPiece(m,g,e,t.left+t.width,Hx.ROUNDED_PIECE_WIDTH)}}let i=Hx.SELECTION_CLASS_NAME;if(o){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+Hx.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+Hx.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+Hx.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+Hx.SELECTION_BOTTOM_RIGHT)}f+=this._createSelectionPiece(m,g,i,t.left,t.width)}e[u][0]+=p,e[u][1]+=f}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let s=i;s<=n;s++){t[s-i]=["",""]}const o=[];for(let s=0,r=this._selections.length;s<r;s++){const n=this._selections[s];if(n.isEmpty()){o[s]=null;continue}const r=this._getVisibleRangesWithStyle(n,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=r,this._actualRenderOneSelection(t,i,this._selections.length>1,r)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map((([e,t])=>e+t))}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function zx(e){return e<0?-e:e}Hx.SELECTION_CLASS_NAME="selected-text",Hx.SELECTION_TOP_LEFT="top-left-radius",Hx.SELECTION_BOTTOM_LEFT="bottom-left-radius",Hx.SELECTION_TOP_RIGHT="top-right-radius",Hx.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Hx.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Hx.ROUNDED_PIECE_WIDTH=10,Sb(((e,t)=>{const i=e.getColor(MC);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(AC);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const o=e.getColor(RC);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)}));class Ux{constructor(e,t,i,n,o,s){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=o,this.textContentClassName=s}}class Kx{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(36);this._cursorStyle=t.get(19),this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(22),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=qf(document.createElement("div")),this._domNode.setClassName("cursor monaco-mouse-cursor-text"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Up.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new Bi(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(36);return this._cursorStyle=t.get(19),this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(22),this._typicalHalfwidthCharacterWidth),Up.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===Qe.Line||this._cursorStyle===Qe.LineThin){const i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===Qe.Line){if(n=Tr(this._lineCursorWidth>0?this._lineCursorWidth:2),n>2){const e=this._context.model.getLineContent(this._position.lineNumber),i=ca(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=Tr(1);let o=i.left;n>=2&&o>=1&&(o-=1);const s=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new Ux(s,o,n,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),n=ca(i,this._position.column-1),o=e.linesVisibleRangesForRange(new Vi(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!o||0===o.length)return null;const s=o[0];if(s.outsideRenderedLine||0===s.ranges.length)return null;const r=s.ranges[0],a=r.width<1?this._typicalHalfwidthCharacterWidth:r.width;let l="";if(this._cursorStyle===Qe.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);const o=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(o)}let d=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,c=this._lineHeight;return this._cursorStyle!==Qe.Underline&&this._cursorStyle!==Qe.UnderlineThin||(d+=this._lineHeight-2,c=2),new Ux(d,r.left,a,c,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor monaco-mouse-cursor-text ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class qx extends lb{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(72),this._cursorBlinking=t.get(17),this._cursorStyle=t.get(19),this._cursorSmoothCaretAnimation=t.get(18),this._selectionIsEmpty=!0,this._isVisible=!1,this._primaryCursor=new Kx(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=qf(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new $o,this._cursorFlatBlinkInterval=new jo,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(72),this._cursorBlinking=t.get(17),this._cursorStyle=t.get(19),this._cursorSmoothCaretAnimation=t.get(18),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,n=this._secondaryCursors.length;i<n;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new Kx(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let n=0,o=e.selections.length;n<o;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet((()=>{this._isVisible?this._hide():this._show()}),qx.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((()=>{this._blinkingEnabled=!0,this._updateDomClassName()}),qx.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Qe.Line:e+=" cursor-line-style";break;case Qe.Block:e+=" cursor-block-style";break;case Qe.Underline:e+=" cursor-underline-style";break;case Qe.LineThin:e+=" cursor-line-thin-style";break;case Qe.BlockOutline:e+=" cursor-block-outline-style";break;case Qe.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let o=0,s=this._secondaryCursors.length;o<s;o++){const n=this._secondaryCursors[o].render(e);n&&(t[i++]=n)}this._renderData=t}getLastRenderData(){return this._renderData}}qx.BLINK_INTERVAL=500,Sb(((e,t)=>{const i=e.getColor(oS);if(i){let n=e.getColor(sS);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}}));const $x=()=>{throw new Error("Invalid change accessor")};class jx extends lb{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=qf(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=qf(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const n of e)t.set(n.id,n);let i=!1;return this._context.model.changeWhitespace((e=>{const n=Object.keys(this._zones);for(let o=0,s=n.length;o<s;o++){const s=n[o],r=this._zones[s],a=this._computeWhitespaceProps(r.delegate),l=t.get(s);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(s,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(r.delegate,a.heightInPx),i=!0)}})),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(51)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new Bi(i,this._context.model.getModelLineMaxColumn(i))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:n.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace((i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(le){ft(le)}}(e,n),n.addZone=$x,n.removeZone=$x,n.layoutZone=$x})),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:qf(t.domNode),marginDomNode:t.marginDomNode?qf(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(le){ft(le)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(le){ft(le)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(let s=0,r=t.length;s<r;s++)i[t[s].id]=t[s],n=!0;const o=Object.keys(this._zones);for(let s=0,r=o.length;s<r;s++){const t=o[s],n=this._zones[t];let r=0,a=0,l="none";i.hasOwnProperty(t)?(r=i[t].verticalOffset-e.bigNumbersDelta,a=i[t].height,l="block",n.isVisible||(n.domNode.setAttribute("monaco-visible-view-zone","true"),n.isVisible=!0),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(i[t].verticalOffset))):(n.isVisible&&(n.domNode.removeAttribute("monaco-visible-view-zone"),n.isVisible=!1),this._safeCallOnDomNodeTop(n.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),n.domNode.setTop(r),n.domNode.setHeight(a),n.domNode.setDisplay(l),n.marginDomNode&&(n.marginDomNode.setTop(r),n.marginDomNode.setHeight(a),n.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class Gx{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class Zx{constructor(e,t,i){this.configuration=e,this.theme=new Gx(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class Yx{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new Vi(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Jx extends ab{constructor(e,t,i,n,o,s){super(),this._selections=[new Hi(1,1,1,1)],this._renderAnimationFrame=null;const r=new gk(t,n,o,e);this._context=new Zx(t,i.getColorTheme(),n),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange((e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)}))),this._viewParts=[],this._textAreaHandler=new TS(this._context,r,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=qf(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=qf(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=qf(document.createElement("div")),db.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new Xk(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new ax(this._context,this._linesContent),this._viewZones=new jx(this._context),this._viewParts.push(this._viewZones);const a=new Nx(this._context);this._viewParts.push(a);const l=new Ox(this._context);this._viewParts.push(l);const d=new Ck(this._context);this._viewParts.push(d),d.addDynamicOverlay(new Dk(this._context)),d.addDynamicOverlay(new Hx(this._context)),d.addDynamicOverlay(new nx(this._context)),d.addDynamicOverlay(new Tk(this._context));const c=new yk(this._context);this._viewParts.push(c),c.addDynamicOverlay(new Nk(this._context)),c.addDynamicOverlay(new ix(this._context)),c.addDynamicOverlay(new dx(this._context)),c.addDynamicOverlay(new lx(this._context)),c.addDynamicOverlay(new LS(this._context));const h=new ES(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(c.getDomNode()),this._viewParts.push(h),this._contentWidgets=new kk(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new qx(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new Ex(this._context),this._viewParts.push(this._overlayWidgets);const u=new Ax(this._context);this._viewParts.push(u);const g=new xx(this._context);if(this._viewParts.push(g),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(d.getDomNode()),this._linesContent.appendChild(u.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new vw(this._context,r,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new iw(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Bi(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new Bi(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(117);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(114)+" "+wb(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let e=0,t=this._viewParts.length;e<t;e++)this._viewParts[e].dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=Ws(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(le){ft(le)}}((()=>this._actualRender()))}_getViewPartsToRender(){let e=[],t=0;for(let i=0,n=this._viewParts.length;i<n;i++){const n=this._viewParts[i];n.shouldRender()&&(e[t++]=n)}return e}_actualRender(){if(!Ss(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new Yx(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new cb(this._context.viewLayout,i,this._viewLines);for(let o=0,s=e.length;o<s;o++){e[o].prepareRender(n)}for(let o=0,s=e.length;o<s;o++){const t=e[o];t.render(n),t.onDidRender()}}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new Bi(n.lineNumber,n.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?mk.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new Rx(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(let e=0,t=this._viewParts.length;e<t;e++){this._viewParts[e].forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const i=e.position?e.position.position:null;null!==i&&(t=new Vi(i.lineNumber,i.column,i.lineNumber,i.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}class Qx{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Gv(new Vi(1,1,1,1),0,new Bi(1,1),0),new Gv(new Vi(1,1,1,1),0,new Bi(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Qv(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new Hi(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Hi(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}_setState(e,t,i){if(t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),s=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new Gv(i,n,o,s)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Gv(n,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Gv(n,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new Bi(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new Bi(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new Vi(n.lineNumber,n.column,o.lineNumber,o.column),r=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Gv(s,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class Xx{constructor(e){this.context=e,this.primaryCursor=new Qx(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(i)&&(e=i)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(Qv.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){let e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let n=0;n<i;n++)this.secondaryCursors[n].setState(this.context,e[n].modelState,e[n].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new Qx(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort(((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber));for(let i=0;i<t.length-1;i++){const n=t[i],o=t[i+1],s=n.selection,r=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=r.isEmpty()||s.isEmpty()?r.getStartPosition().isBeforeOrEqual(s.getEndPosition()):r.getStartPosition().isBefore(s.getEndPosition()),a){const s=n.index<o.index?i:i+1,r=n.index<o.index?i+1:i,a=t[r].index,l=t[s].index,d=t[r].selection,c=t[s].selection;if(!d.equalsSelection(c)){const i=d.plusRange(c),n=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn,o=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn;let r,h;a===this.lastAddedCursorIndex?(r=n,this.lastAddedCursorIndex=l):r=o,h=r?new Hi(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new Hi(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[s].selection=h;const u=Qv.fromModelSelection(h);e[l].setState(this.context,u.modelState,u.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(r,1),this._removeSecondaryCursor(a-1),i--}}}}class eL{constructor(e){this.type=0,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class tL{constructor(e,t){this.type=1,this.selections=e,this.modelSelections=t}}class iL{constructor(e){this.type=2,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class nL{constructor(){this.type=3}}class oL{constructor(e){this.type=4,this.isFocused=e}}class sL{constructor(){this.type=5}}class rL{constructor(){this.type=6}}class aL{constructor(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}}class lL{constructor(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}}class dL{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class cL{constructor(e,t,i,n,o,s){this.type=10,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=o,this.scrollType=s}}class hL{constructor(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class uL{constructor(){this.type=12}}class gL{constructor(e){this.type=13,this.ranges=e}}class mL{constructor(){this.type=14}}class pL{constructor(){this.type=15}}class fL extends It{constructor(){super(),this._onEvent=this._register(new Pt),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new bL),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class bL{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class _L{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new _L(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class vL{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new vL(this.oldHasFocus,e.hasFocus)}}class wL{constructor(e,t,i,n,o,s,r,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=r,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new wL(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class CL{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class yL{constructor(e,t,i,n,o,s,r){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=o,this.reason=s,this.reachedMaxCursorCount=r}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return yL._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new yL(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class SL{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class kL{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class xL{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const e=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(e&&(t.push(e),e.startLineNumber!==e.endLineNumber))return!1}t.sort(Vi.compareRangesUsingStarts),e.sort(Vi.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class LL extends It{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Zv(this._model,this._coordinatesConverter,n),this._cursors=new Xx(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Et(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Zv(this._model,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let o=!1;null!==n&&n.length>LL.MAX_CURSOR_COUNT&&(n=n.slice(0,LL.MAX_CURSOR_COUNT),o=!0);const s=new kL(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);else{const s=o[0],r=new Vi(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,r,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,o){const s=this._cursors.getViewPositions();if(s.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,o);else{const r=s[0],a=new Vi(r.lineNumber,r.column,r.lineNumber,r.column);this._emitCursorRevealRange(e,t,a,null,i,n,o)}}_emitCursorRevealRange(e,t,i,n,o,s,r){e.emitViewEvent(new cL(t,i,n,o,s,r))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let n=0,o=t.length;n<o;n++){const e=t[n];let o=1,s=1;e.position&&e.position.lineNumber&&(o=e.position.lineNumber),e.position&&e.position.column&&(s=e.position.column);let r=o,a=s;e.selectionStart&&e.selectionStart.lineNumber&&(r=e.selectionStart.lineNumber),e.selectionStart&&e.selectionStart.column&&(a=e.selectionStart.column),i.push({selectionStartLineNumber:r,selectionStartColumn:a,positionLineNumber:o,positionColumn:s})}this.setStates(e,"restoreState",0,Qv.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new Xx(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const i=Qv.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,i)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Qv.fromModelSelections(t))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:ew.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:ew.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i){this.setStates(e,t,0,Qv.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let r=0,a=e.length;r<a;r++)i.push({range:e[r],options:{inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[r],options:{stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],n);this._autoClosedActions.push(new xL(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(n,i);for(let s=0,r=n.trackedRanges.length;s<r;s++)n.model._setTrackedRange(n.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,o=this._getLoserCursorMap(n);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let l=0,d=n.length;l<d;l++)o.hasOwnProperty(n[l].identifier.major.toString())||s.push(n[l]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let r=e.model.pushEditOperations(e.selectionsBefore,s,(i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const o=(e,t)=>e.identifier.minor-t.identifier.minor;let s=[];for(let r=0;r<e.selectionsBefore.length;r++)n[r].length>0?(n[r].sort(o),s[r]=t[r].computeCursorState(e.model,{getInverseEditOperations:()=>n[r],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new Hi(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new Hi(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):s[r]=e.selectionsBefore[r];return s}));r||(r=e.selectionsBefore);let a=[];for(let l in o)o.hasOwnProperty(l)&&a.push(parseInt(l,10));a.sort(((e,t)=>t-e));for(const l of a)r.splice(l,1);return r}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let o=0,s=t.length;o<s;o++){const s=t[o];if(s){const t=this._getEditOperationsFromCommand(e,o,s);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],o=0;const s=(e,s,r=!1)=>{Vi.isEmpty(e)&&""===s||n.push({identifier:{major:t,minor:o++},range:e,text:s,forceMoveMarkers:r,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let r=!1;const a=(e,t,i)=>{r=!0,s(e,t,i)},l={addEditOperation:s,addTrackedEditOperation:a,trackSelection:(t,i)=>{const n=Hi.liftSelection(t);let o;if(n.isEmpty())if("boolean"==typeof i)o=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);o=n.startColumn===t?2:3}else o=1;const s=e.trackedRanges.length,r=e.model._setTrackedRange(null,n,o);return e.trackedRanges[s]=r,e.trackedRangesDirection[s]=n.getDirection(),s.toString()}};try{i.getEditOperations(e.model,l)}catch(le){return ft(le),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:r}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-Vi.compareRangesUsingEnds(e.range,t.range)));let t={};for(let i=1;i<e.length;i++){const n=e[i-1],o=e[i];if(Vi.getStartPosition(n.range).isBefore(Vi.getEndPosition(o.range))){let s;s=n.identifier.major>o.identifier.major?n.identifier.major:o.identifier.major,t[s.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===s&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){const o=e.commands[t];o instanceof JS&&o.enclosingRange&&o.closeCharacterRange&&(i.push(o.closeCharacterRange),n.push(o.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,o){const s=new kL(this._model,this);if(s.equals(n))return!1;const r=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new tL(a,r)),!n||n.cursorState.length!==s.cursorState.length||s.cursorState.some(((e,t)=>!e.modelState.equals(n.cursorState[t].modelState)))){const a=n?n.cursorState.map((e=>e.modelState.selection)):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new yL(a,r,l,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const o=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!o)return null;const s=o[1],r=this.context.cursorConfig.autoClosingPairsClose2.get(s);if(!r||1!==r.length)return null;const a=r[0].open,l=n.text.length-o[2].length-1,d=n.text.lastIndexOf(a,l-1);if(-1===d)return null;t.push([d,l])}return t}executeEdits(e,t,i,n){let o=null;"snippet"===t&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let s=[],r=[];const a=this._model.pushEditOperations(this.getSelections(),i,(e=>{if(o)for(let i=0,n=o.length;i<n;i++){const[t,n]=o[i],a=e[i],l=a.range.startLineNumber,d=a.range.startColumn-1+t,c=a.range.startColumn-1+n;s.push(new Vi(l,c+1,l,c+2)),r.push(new Vi(l,d+1,l,c+2))}const t=n(e);return t&&(this._isHandling=!0),t}));a&&(this._isHandling=!1,this.setSelections(e,t,a)),s.length>0&&this._pushAutoClosedAction(s,r)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const o=new kL(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){ft(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,o,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{if("keyboard"===t){const e=xL.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(YS.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),e)),this._selectionsWhenCompositionStarted=null}}),e,t)}type(e,t,i){this._executeEdit((()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=ca(t,i),n=t.substr(i,e),o=xL.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(YS.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,n)),i+=e}}else this._executeEditOperation(YS.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,i)}replacePreviousChar(e,t,i,n){this._executeEdit((()=>{this._executeEditOperation(YS.replacePreviousChar(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i))}),e,n)}paste(e,t,i,n,o){this._executeEdit((()=>{this._executeEditOperation(YS.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))}),e,o,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(BS.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,i){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new Xv(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}executeCommands(e,t,i){this._executeEdit((()=>{this._executeEditOperation(new Xv(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,i)}}LL.MAX_CURSOR_COUNT=1e4;class EL{constructor(e,t,i,n,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}const DL={getInitialState:()=>nh,tokenize2:(e,t,i)=>rh(0,0,t,i)};function NL(e,t=DL){return function(e,t){let i='<div class="monaco-tokenized-source">',n=e.split(/\r\n|\r|\n/),o=t.getInitialState();for(let s=0,r=n.length;s<r;s++){let e=n[s];s>0&&(i+="<br/>");let r=t.tokenize2(e,o,0);Zu.convertToEndOffset(r.tokens,e.length);let a=new Zu(r.tokens,e).inflate(),l=0;for(let t=0,n=a.getCount();t<n;t++){const n=a.getClassName(t),o=a.getEndOffset(t);i+=`<span class="${n}">${Fr(e.substring(l,o))}</span>`,l=o}o=r.endState}return i+="</div>",i}(e,t||DL)}function TL(e,t,i,n,o,s,r){let a="<div>",l=n,d=0;for(let c=0,h=t.getCount();c<h;c++){const h=t.getEndOffset(c);if(h<=n)continue;let u="";for(;l<h&&l<o;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=s-(l+d)%s;for(d+=e-1;e>0;)u+=r?"&#160;":" ",e--;break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 0:u+="&#00;";break;case 65279:case 8232:case 8233:case 133:u+="�";break;case 13:u+="&#8203";break;case 32:u+=r?"&#160;":" ";break;default:u+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(c,i)}">${u}</span>`,h>o||l>=o)break}return a+="</div>",a}class IL{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class ML{constructor(e,t,i,n,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=o,this.prefixSum=0}}class RL{constructor(e,t,i,n){this._instanceId=ya(++RL.INSTANCE_COUNT),this._pendingChanges=new IL,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,o=e.length;for(;n<o;){const s=n+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:n=s+1:t<e[s].afterLineNumber?o=s:n=s+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,o)=>{t=!0,e|=0,i|=0,n|=0,o|=0;const s=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new ML(s,e,i,n,o)),s},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const a of i)n.add(a.id);const o=new Map;for(const a of t)o.set(a.id,a);const s=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(o.has(i.id)){const e=o.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},r=s(this._arr).concat(s(e));r.sort(((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber)),this._arr=r,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=RL.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();return this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const o=i+((n-i|0)/2|0)|0;if(t[o].afterLineNumber<e){if(o+1>=t.length||t[o+1].afterLineNumber>=e)return o;i=o+1|0}else n=o-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;this._checkPendingChanges(),t=(e|=0)>1?this._lineHeight*(e-1):0;return t+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();return e>this.getLinesTotalHeight()}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,o=t;for(;n<o;){const t=(n+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(t);if(e>=s+i)n=t+1;else{if(e>=s)return t;o=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),o=0|this.getVerticalOffsetForLineNumber(n);let s=0|this._lineCount,r=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,d;-1===r?(r=a,d=s+1,l=0):(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));let c=o,h=c;const u=5e5;let g=0;o>=u&&(g=Math.floor(o/u)*u,g=Math.floor(g/i)*i,h-=g);const m=[],p=e+(t-e)/2;let f=-1;for(let w=n;w<=s;w++){if(-1===f){const e=c,t=c+i;(e<=p&&p<t||e>p)&&(f=w)}for(c+=i,m[w-n]=h,h+=i;d===w;)h+=l,c+=l,r++,r>=a?d=s+1:(d=0|this.getAfterLineNumberForWhitespaceIndex(r),l=0|this.getHeightForWhitespaceIndex(r));if(c>=t){s=w;break}}-1===f&&(f=s);const b=0|this.getVerticalOffsetForLineNumber(s);let _=n,v=s;return _<v&&o<e&&_++,_<v&&b+i>t&&v--,{bigNumbersDelta:g,startLineNumber:n,endLineNumber:s,relativeVerticalOffset:m,centeredLineNumber:f,completelyVisibleStartLineNumber:_,completelyVisibleEndLineNumber:v}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return i=t>=1?this._lineHeight*t:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,i+n+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),o=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=o+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=o)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let s=i;s<=n;s++){const e=this.getVerticalOffsetForWhitespaceIndex(s),i=this.getHeightForWhitespaceIndex(s);if(e>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:e,height:i})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}RL.INSTANCE_COUNT=0;class AL{constructor(e,t,i,n){(e|=0)<0&&(e=0),(t|=0)<0&&(t=0),(i|=0)<0&&(i=0),(n|=0)<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class OL extends It{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new Pt),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new AL(0,0,0,0),this._scrollable=this._register(new Uk(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new _L(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class PL extends It{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,o=n.get(117),s=n.get(66);this._linesLayout=new RL(t,n.get(51),s.top,s.bottom),this._scrollable=this._register(new OL(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new AL(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(94)?125:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(51)&&this._linesLayout.setLineHeight(t.get(51)),e.hasChanged(66)){const e=t.get(66);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(117)){const e=t.get(117),i=e.contentWidth,n=e.height,o=this._scrollable.getScrollDimensions(),s=o.contentWidth;this._scrollable.setScrollDimensions(new AL(i,o.contentWidth,n,this._getContentHeight(i,n,s)))}else this._updateHeight();e.hasChanged(94)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(84);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return n.get(86)?o+=t-n.get(51):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new AL(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new dg(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new dg(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(118),n=t.get(36);if(i.isViewportWrapping){const i=t.get(117),o=t.get(56);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&o.enabled&&"right"===o.side?e+i.verticalScrollbarWidth:e}{const i=t.get(85)*n.typicalHalfwidthCharacterWidth,o=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,o)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new AL(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class FL{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}}class WL{constructor(e,t,i){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i}static getInputOffsetOfOutputPosition(e,t,i){return 0===t?i:e[t-1]+i}static getOutputPositionOfInputOffset(e,t){let i=0,n=e.length-1,o=0,s=0;for(;i<=n;){o=i+(n-i)/2|0;const r=e[o];if(s=o>0?e[o-1]:0,t<s)n=o-1;else{if(!(t>=r))break;i=o+1}}return new FL(o,t-s)}}class BL{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)}convertModelRangeToViewRange(e){return this._lines.convertModelRangeToViewRange(e)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}}class VL{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=gs(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new pu(t,e-i)}}class HL{constructor(e,t,i,n,o,s,r,a){this.model=e,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=t,this._monospaceLineBreaksComputerFactory=i,this.fontInfo=n,this.tabSize=o,this.wrappingStrategy=s,this.wrappingColumn=r,this.wrappingIndent=a,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new BL(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);let i=this.model.getLinesContent();const n=i.length,o=this.createLineBreaksComputer();for(let u=0;u<n;u++)o.addRequest(i[u],t?t[u]:null);const s=o.finalize();let r=[],a=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(Vi.compareRangesUsingStarts),l=1,d=0,c=-1,h=c+1<a.length?d+1:n+2;for(let u=0;u<n;u++){let e=u+1;e===h&&(c++,l=a[c].startLineNumber,d=a[c].endLineNumber,h=c+1<a.length?d+1:n+2);let t=e>=l&&e<=d,i=GL(s[u],!t);r[u]=i.getViewLineCount(),this.lines[u]=i}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new VL(r)}getHiddenAreas(){return this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e)))}_reduceRanges(e){if(0===e.length)return[];let t=e.map((e=>this.model.validateRange(e))).sort(Vi.compareRangesUsingStarts),i=[],n=t[0].startLineNumber,o=t[0].endLineNumber;for(let s=1,r=t.length;s<r;s++){let e=t[s];e.startLineNumber>o+1?(i.push(new Vi(n,1,o,1)),n=e.startLineNumber,o=e.endLineNumber):e.endLineNumber>o&&(o=e.endLineNumber)}return i.push(new Vi(n,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map((e=>this.model.getDecorationRange(e))).sort(Vi.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const c of t)n.push({range:c,options:Wv.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let o=t,s=1,r=0,a=-1,l=a+1<o.length?r+1:this.lines.length+2,d=!1;for(let c=0;c<this.lines.length;c++){let e=c+1;e===l&&(a++,s=o[a].startLineNumber,r=o[a].endLineNumber,l=a+1<o.length?r+1:this.lines.length+2);let t=!1;if(e>=s&&e<=r?this.lines[c].isVisible()&&(this.lines[c]=this.lines[c].setVisible(!1),t=!0):(d=!0,this.lines[c].isVisible()||(this.lines[c]=this.lines[c].setVisible(!0),t=!0)),t){let e=this.lines[c].getViewLineCount();this.prefixSumComputer.changeValue(c,e)}}return d||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,r=this.wrappingColumn===i,a=this.wrappingIndent===n;if(o&&s&&r&&a)return!1;const l=o&&s&&!r&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let d=null;if(l){d=[];for(let e=0,t=this.lines.length;e<t;e++)d[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,d),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new lL(n,o)}onModelLinesInserted(e,t,i,n){if(e<=this._validModelVersionId)return null;let o=this.getHiddenAreas(),s=!1,r=new Bi(t,1);for(const h of o)if(h.containsPosition(r)){s=!0;break}let a=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,l=0,d=[],c=[];for(let h=0,u=n.length;h<u;h++){let e=GL(n[h],!s);d.push(e);let t=e.getViewLineCount();l+=t,c[h]=t}return this.lines=this.lines.slice(0,t-1).concat(d).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,c),new dL(a,a+l-1)}onModelLineChanged(e,t,i){if(e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,o=this.lines[n].getViewLineCount(),s=GL(i,this.lines[n].isVisible());this.lines[n]=s;let r=this.lines[n].getViewLineCount(),a=!1,l=0,d=-1,c=0,h=-1,u=0,g=-1;o>r?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+r-1,u=d+1,g=u+(o-r)-1,a=!0):o<r?(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+o-1,c=d+1,h=c+(r-o)-1,a=!0):(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=l+r-1),this.prefixSumComputer.changeValue(n,r);return[a,l<=d?new aL(l,d):null,c<=h?new dL(c,h):null,u<=g?new lL(u,g):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),r=this.model.getActiveIndentGuide(n.lineNumber,o.lineNumber,s.lineNumber),a=this.convertModelPositionToViewPosition(r.startLineNumber,1),l=this.convertModelPositionToViewPosition(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:r.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],s=[],r=[];const a=i.lineNumber-1,l=n.lineNumber-1;let d=null;for(let g=a;g<=l;g++){const e=this.lines[g];if(e.isVisible()){let t=e.getViewLineNumberOfModelPosition(0,g===a?i.column:1),n=e.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),o=n-t+1,l=0;o>1&&1===e.getViewLineMinColumn(this.model,g+1,n)&&(l=0===t?1:2),s.push(o),r.push(l),null===d&&(d=new Bi(g+1,0))}else null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,g)),d=null)}null!==d&&(o=o.concat(this.model.getLinesIndentGuides(d.lineNumber,n.lineNumber)),d=null);const c=t-e+1;let h=new Array(c),u=0;for(let g=0,m=o.length;g<m;g++){let e,t=o[g],i=Math.min(c-u,s[g]),n=r[g];e=2===n?0:1===n?1:i;for(let o=0;o<i;o++)o===e&&(t=0),h[u++]=t}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),o=e,s=n.index,r=n.remainder,a=[];for(let l=s,d=this.model.getLineCount();l<d;l++){let n=this.lines[l];if(!n.isVisible())continue;let d=l===s?r:0,c=n.getViewLineCount()-d,h=!1;o+c>t&&(h=!0,c=t-o+1);let u=d+c;if(n.getViewLinesData(this.model,l+1,d,u,o-e,i,a),o+=c,h)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,s=n.remainder,r=this.lines[o],a=r.getViewLineMinColumn(this.model,o+1,s),l=r.getViewLineMaxColumn(this.model,o+1,s);t<a&&(t=a),t>l&&(t=l);let d=r.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new Bi(o+1,d)).equals(i)?new Bi(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new Vi(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,o=i.remainder,s=this.lines[n].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new Bi(n+1,s))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new Vi(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t){const i=this.model.validatePosition(new Bi(e,t)),n=i.lineNumber,o=i.column;let s=n-1,r=!1;for(;s>0&&!this.lines[s].isVisible();)s--,r=!0;if(0===s&&!this.lines[s].isVisible())return new Bi(1,1);const a=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));let l;return l=r?this.lines[s].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(s+1)):this.lines[n-1].getViewPositionOfModelPosition(a,o),l}convertModelRangeToViewRange(e){let t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&t.lineNumber!==i.lineNumber&&i.column===this.getViewLineMinColumn(i.lineNumber)?new Vi(t.lineNumber,t.column,i.lineNumber-1,this.getViewLineMaxColumn(i.lineNumber-1)):new Vi(t.lineNumber,t.column,i.lineNumber,i.column)}_getViewLineNumberForModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),o=new JL;for(const s of n){const e=s.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),r=this._getViewLineNumberForModelPosition(s.range.startLineNumber,s.range.startColumn),a=this._getViewLineNumberForModelPosition(s.range.endLineNumber,s.range.endColumn);o.accept(n,r,a,t)}return o.result}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new Vi(n.lineNumber,1,o.lineNumber,o.column),t,i);let s=[];const r=n.lineNumber-1,a=o.lineNumber-1;let l=null;for(let u=r;u<=a;u++){if(this.lines[u].isVisible())null===l&&(l=new Bi(u+1,u===r?n.column:1));else if(null!==l){const e=this.model.getLineMaxColumn(u);s=s.concat(this.model.getDecorationsInRange(new Vi(l.lineNumber,l.column,u,e),t,i)),l=null}}null!==l&&(s=s.concat(this.model.getDecorationsInRange(new Vi(l.lineNumber,l.column,o.lineNumber,o.column),t,i)),l=null),s.sort(((e,t)=>{const i=Vi.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i}));let d=[],c=0,h=null;for(const u of s){const e=u.id;h!==e&&(h=e,d[c++]=u)}return d}}class zL{constructor(){}isVisible(){return!0}setVisible(e){return e?this:UL.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),o=n.getLineContent();return new hg(o,!1,1,o.length+1,0,n.inflate())}getViewLinesData(e,t,i,n,o,s,r){s[o]?r[o]=this.getViewLineData(e,t,0):r[o]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new Bi(e,t)}getViewLineNumberOfModelPosition(e,t){return e}}zL.INSTANCE=new zL;class UL{constructor(){}isVisible(){return!1}setVisible(e){return e?zL.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,o,s,r){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}}UL.INSTANCE=new UL;class KL{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return WL.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:WL.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=$L(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i)-n;return i>0&&(o=this._lineBreakData.wrappedTextIndentLength+o),o}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return i>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,i).length+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:o+1});i>0&&(s=$L(this._lineBreakData.wrappedTextIndentLength)+s);let r=i>0?this._lineBreakData.wrappedTextIndentLength+1:1,a=s.length+1,l=i+1<this.getViewLineCount(),d=0;i>0&&(d=this._lineBreakData.wrappedTextIndentLength);let c=e.getLineTokens(t);const h=0===i?0:this._lineBreakData.breakOffsetsVisibleColumn[i-1];return new hg(s,l,r,a,h,c.sliceAndInflate(n,o,d))}getViewLinesData(e,t,i,n,o,s,r){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=o+a-i;s[n]?r[n]=this.getViewLineData(e,t,a):r[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),WL.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,i)+1}getViewPositionOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=WL.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1),n=i.outputLineIndex,o=i.outputOffset+1;return n>0&&(o+=this._lineBreakData.wrappedTextIndentLength),new Bi(e+n,o)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+WL.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1).outputLineIndex}}let qL=[""];function $L(e){if(e>=qL.length)for(let t=1;t<=e;t++)qL[t]=jL(t);return qL[e]}function jL(e){return new Array(e+1).join(" ")}function GL(e,t){return null===e?t?zL.INSTANCE:UL.INSTANCE:new KL(e,t)}class ZL{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}}class YL{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new ZL(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new lL(t,i)}onModelLinesInserted(e,t,i,n){return new dL(t,i)}onModelLineChanged(e,t,i){return[!1,new aL(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let o=0;o<i;o++)n[o]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new hg(i,!1,1,i.length+1,0,t.inflate())}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let o=[];for(let s=e;s<=t;s++){let t=s-e;i[t]||(o[t]=null),o[t]=this.getViewLineData(s)}return o}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),o=new JL;for(const s of n){const e=s.options.overviewRuler,t=e?e.position:0;if(0===t)continue;const n=e.getColor(i),r=s.range.startLineNumber,a=s.range.endLineNumber;o.accept(n,r,a,t)}return o.result}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}}class JL{constructor(){this.result=Object.create(null)}accept(e,t,i,n){let o=this.result[e];if(o){const e=o[o.length-3],s=o[o.length-1];if(e===n&&s+1>=t)return void(i>s&&(o[o.length-1]=i));o.push(n,t,i)}else this.result[e]=[n,t,i]}}class QL{constructor(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,o=e.options;let s;if(o.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new Bi(n.startLineNumber,1)),t=this._coordinatesConverter.convertModelPositionToViewPosition(new Bi(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)));s=new Vi(e.lineNumber,e.column,t.lineNumber,t.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(n);i=new mg(s,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,nt(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let o=[],s=0,r=[];for(let a=i;a<=n;a++)r[a-i]=[];for(let a=0,l=t.length;a<l;a++){let e=t[a],l=e.options,d=this._getOrCreateViewModelDecoration(e),c=d.range;if(o[s++]=d,l.inlineClassName){let e=new gg(c,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,c.startLineNumber),o=Math.min(n,c.endLineNumber);for(let n=t;n<=o;n++)r[n-i].push(e)}if(l.beforeContentClassName&&i<=c.startLineNumber&&c.startLineNumber<=n){let e=new gg(new Vi(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn),l.beforeContentClassName,1);r[c.startLineNumber-i].push(e)}if(l.afterContentClassName&&i<=c.endLineNumber&&c.endLineNumber<=n){let e=new gg(new Vi(c.endLineNumber,c.endColumn,c.endLineNumber,c.endColumn),l.afterContentClassName,2);r[c.endLineNumber-i].push(e)}}return{decorations:o,inlineDecorations:r}}}class XL extends It{constructor(e,t,i,n,o,s){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new fL,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new jv(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new Go((()=>this.tokenizeViewport()),50)),this._updateConfigurationViewLineCount=this._register(new Go((()=>this._updateConfigurationViewLineCountNow()),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new YL(this.model);else{const e=this._configuration.options,t=e.get(36),i=e.get(112),s=e.get(118),r=e.get(111);this._lines=new HL(this.model,n,o,t,this.model.getOptions().tabSize,i,s.wrappingColumn,r)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new LL(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new PL(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll((e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new hL(e)),this._eventDispatcher.emitOutgoingEvent(new wL(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))}))),this._register(this.viewLayout.onDidContentSizeChange((e=>{this._eventDispatcher.emitOutgoingEvent(e)}))),this._decorations=new QL(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(hx.getInstance().onDidChange((()=>{this._eventDispatcher.emitSingleViewEvent(new mL)}))),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new Bi(e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new Bi(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new oL(e)),this._eventDispatcher.emitOutgoingEvent(new vL(!e,e))}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new uL)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new Bi(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const o=this._configuration.options,s=o.get(36),r=o.get(112),a=o.get(118),l=o.get(111);if(this._lines.setWrappingSettings(s,r,a.wrappingColumn,l)&&(e.emitViewEvent(new nL),e.emitViewEvent(new rL),e.emitViewEvent(new iL(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(72)&&(this._decorations.reset(),e.emitViewEvent(new iL(null))),e.emitViewEvent(new eL(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}jv.shouldRecreate(t)&&(this.cursorConfig=new jv(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast((e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const o=e.changes,s=e.versionId,r=this._lines.createLineBreaksComputer();for(const e of o)switch(e.changeType){case 4:for(const t of e.detail)r.addRequest(t,null);break;case 2:r.addRequest(e.detail,null)}const a=r.finalize();let l=0;for(const e of o)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new nL),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(s,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const o=this._lines.onModelLinesInserted(s,e.fromLineNumber,e.toLineNumber,n);null!==o&&(t.emitViewEvent(o),this.viewLayout.onLinesInserted(o.fromLineNumber,o.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[o,r,d,c]=this._lines.onModelLineChanged(s,e.lineNumber,i);n=o,r&&t.emitViewEvent(r),d&&(t.emitViewEvent(d),this.viewLayout.onLinesInserted(d.fromLineNumber,d.toLineNumber)),c&&(t.emitViewEvent(c),this.viewLayout.onLinesDeleted(c.fromLineNumber,c.toLineNumber));break}}this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new rL),t.emitViewEvent(new iL(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}}))),this._register(this.model.onDidChangeTokens((e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],o=this.coordinatesConverter.convertModelPositionToViewPosition(new Bi(n.fromLineNumber,1)).lineNumber,s=this.coordinatesConverter.convertModelPositionToViewPosition(new Bi(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:s}}this._eventDispatcher.emitSingleViewEvent(new gL(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((e=>{this._eventDispatcher.emitSingleViewEvent(new sL),this.cursorConfig=new jv(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeLanguage((e=>{this.cursorConfig=new jv(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeOptions((e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new nL),e.emitViewEvent(new rL),e.emitViewEvent(new iL(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new jv(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)}))),this._register(this.model.onDidChangeDecorations((e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new iL(e))})))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(e)&&(t.emitViewEvent(new nL),t.emitViewEvent(new rL),t.emitViewEvent(new iL(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(117),t=this._configuration.options.get(51),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),o=Math.max(1,n.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new Vi(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],o=0,s=t.startLineNumber,r=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let d=0,c=i.length;d<c;d++){const e=i[d].startLineNumber,t=i[d].endLineNumber;t<s||(e>a||(s<e&&(n[o++]=new Vi(s,r,e-1,this.model.getLineMaxColumn(e-1))),s=t+1,r=1))}return(s<a||s===a&&r<l)&&(n[o++]=new Vi(s,r,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new Vi(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new Vi(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new Bi(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:o}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new Bi(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new Vi(n.lineNumber,n.column,n.lineNumber,n.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=qr(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=jr(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(t),r=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new ug(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,n,s.tokens,r,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new cg(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,nt(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const o=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(o)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(Vi.compareRangesUsingStarts);let o=!1,s=!1;for(const a of e)a.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const i=e.map((e=>e.startLineNumber));let o="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(o+=this.model.getLineContent(i[e])+n);return o}if(o&&t){let t=[],n=0;for(const o of e){const e=o.startLineNumber;o.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(o,i?2:0)),n=e}return 1===t.length?t[0]:t}let r=[];for(const a of e)a.isEmpty()||r.push(this.model.getValueInRange(a,i?2:0));return 1===r.length?r[0]:r}getRichTextToCopy(e,t){const i=this.model.getLanguageIdentifier();if(1===i.id)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new Vi(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const o=this._configuration.options.get(36),s=this._getColorMap(),r=o.fontFamily===st.fontFamily?o.fontFamily:`'${o.fontFamily}', ${st.fontFamily}`;return{mode:i.language,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${r};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(n,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,r=this.getTabSize();let a="";for(let l=i;l<=o;l++){const e=this.model.getLineTokens(l),d=e.getLineContent(),c=l===i?n-1:0,h=l===o?s-1:d.length;a+=""===d?"<br>":TL(d,e.inflate(),t,c,h,r,ke)}return a}_getColorMap(){let e=ih.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=yv.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector((n=>this._cursor.setStates(n,e,t,i)))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t){this._withViewEventsCollector((i=>this._cursor.setSelections(i,e,t)))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector((t=>this._cursor.restoreState(t,e)))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new SL):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit((n=>this._cursor.executeEdits(n,e,t,i)))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit((e=>this._cursor.startComposition(e)))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit((t=>this._cursor.endComposition(t,e)))}type(e,t){this._executeCursorEdit((i=>this._cursor.type(i,e,t)))}replacePreviousChar(e,t,i){this._executeCursorEdit((n=>this._cursor.replacePreviousChar(n,e,t,i)))}paste(e,t,i,n){this._executeCursorEdit((o=>this._cursor.paste(o,e,t,i,n)))}cut(e){this._executeCursorEdit((t=>this._cursor.cut(t,e)))}executeCommand(e,t){this._executeCursorEdit((i=>this._cursor.executeCommand(i,e,t)))}executeCommands(e,t){this._executeCursorEdit((i=>this._cursor.executeCommands(i,e,t)))}revealPrimaryCursor(e,t){this._withViewEventsCollector((i=>this._cursor.revealPrimary(i,e,t,0)))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new Vi(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new cL(e,i,null,0,!0,0))))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new Vi(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector((t=>t.emitViewEvent(new cL(e,i,null,0,!0,0))))}revealRange(e,t,i,n,o){this._withViewEventsCollector((s=>s.emitViewEvent(new cL(e,i,null,n,t,o))))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new pL),this._eventDispatcher.emitOutgoingEvent(new CL))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}}class eE{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const tE=co("accessibilityService"),iE=new uf("accessibilityModeEnabled",!1);class nE extends bu{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let oE=[],sE=[];class rE{constructor(e,t){this.classifier=new nE(e,t)}static create(e){return new rE(e.get(108),e.get(107))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[],s=[];return{addRequest:(e,t)=>{o.push(e),s.push(t)},finalize:()=>{const r=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let a=[];for(let e=0,l=o.length;e<l;e++){const l=s[e];a[e]=l?aE(this.classifier,l,o[e],t,i,r,n):lE(this.classifier,o[e],t,i,r,n)}return oE.length=0,sE.length=0,a}}}}function aE(e,t,i,n,o,s,r){if(-1===o)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,d=t.breakOffsetsVisibleColumn,c=uE(i,n,o,s,r),h=o-c;let u=oE,g=sE,m=0,p=0,f=0,b=o;const _=l.length;let v=0;if(v>=0){let e=Math.abs(d[v]-b);for(;v+1<_;){const t=Math.abs(d[v+1]-b);if(t>=e)break;e=t,v++}}for(;v<_;){let t=v<0?0:l[v],o=v<0?0:d[v];p>t&&(t=p,o=f);let r=0,c=0,w=0,C=0;if(o<=b){let f=o,_=0===t?0:i.charCodeAt(t-1),v=0===t?0:e.get(_),y=!0;for(let o=t;o<a;o++){const t=o,a=i.charCodeAt(o);let l,d;if(sa(a)?(o++,l=0,d=2):(l=e.get(a),d=dE(a,f,n,s)),t>p&&hE(_,v,a,l)&&(r=t,c=f),f+=d,f>b){t>p?(w=t,C=f-d):(w=o+1,C=f),f-c>h&&(r=0),y=!1;break}_=a,v=l}if(y){m>0&&(u[m]=l[l.length-1],g[m]=d[l.length-1],m++);break}}if(0===r){let a=o,l=i.charCodeAt(t),d=e.get(l),u=!1;for(let n=t-1;n>=p;n--){const t=n+1,o=i.charCodeAt(n);if(9===o){u=!0;break}let g,m;if(ra(o)?(n--,g=0,m=2):(g=e.get(o),m=_a(o)?s:1),a<=b){if(0===w&&(w=t,C=a),a<=b-h)break;if(hE(o,g,l,d)){r=t,c=a;break}}a-=m,l=o,d=g}if(0!==r){const e=h-(C-c);if(e<=n){const t=i.charCodeAt(w);let o;o=sa(t)?2:dE(t,C,n,s),e-o<0&&(r=0)}}if(u){v--;continue}}for(0===r&&(r=w,c=C),p=r,u[m]=r,f=c,g[m]=c,m++,b=c+h;v<0||v<_&&d[v]<c;)v++;let y=Math.abs(d[v]-b);for(;v+1<_;){const e=Math.abs(d[v+1]-b);if(e>=y)break;y=e,v++}}return 0===m?null:(u.length=m,g.length=m,oE=t.breakOffsets,sE=t.breakOffsetsVisibleColumn,t.breakOffsets=u,t.breakOffsetsVisibleColumn=g,t.wrappedTextIndentLength=c,t)}function lE(e,t,i,n,o,s){if(-1===n)return null;const r=t.length;if(r<=1)return null;const a=uE(t,i,n,o,s),l=n-a;let d=[],c=[],h=0,u=0,g=0,m=n,p=t.charCodeAt(0),f=e.get(p),b=dE(p,0,i,o),_=1;sa(p)&&(b+=1,p=t.charCodeAt(1),f=e.get(p),_++);for(let v=_;v<r;v++){const n=v,s=t.charCodeAt(v);let r,a;sa(s)?(v++,r=0,a=2):(r=e.get(s),a=dE(s,b,i,o)),hE(p,f,s,r)&&(u=n,g=b),b+=a,b>m&&((0===u||b-g>l)&&(u=n,g=b-a),d[h]=u,c[h]=g,h++,m=g+l,u=0),p=s,f=r}return 0===h?null:(d[h]=r,c[h]=b,new WL(d,c,a))}function dE(e,t,i,n){return 9===e?i-t%i:_a(e)?n:1}function cE(e,t){return t-e%t}function hE(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function uE(e,t,i,n,o){let s=0;if(0!==o){const r=qr(e);if(-1!==r){for(let i=0;i<r;i++){s+=9===e.charCodeAt(i)?cE(s,t):1}const a=3===o?2:2===o?1:0;for(let e=0;e<a;e++){s+=cE(s,t)}s+n>i&&(s=0)}}return s}class gE{static create(){return new gE}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let o=[];return{addRequest:(e,t)=>{o.push(e)},finalize:()=>function(e,t,i,n,o){if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=null;return t}const s=Math.round(n*t.typicalHalfwidthCharacterWidth);2!==o&&3!==o||(o=1);const r=document.createElement("div");Up.applyFontInfoSlow(r,t);const a=kh(1e4),l=[],d=[],c=[],h=[],u=[];for(let f=0;f<e.length;f++){const n=e[f];let r=0,g=0,m=s;if(0!==o)if(r=qr(n),-1===r)r=0;else{for(let t=0;t<r;t++){g+=9===n.charCodeAt(t)?i-g%i:1}const e=Math.ceil(t.spaceWidth*g);e+t.typicalFullwidthCharacterWidth>s?(r=0,g=0):m=s-e}const p=n.substr(r),b=mE(p,g,i,m,a);l[f]=r,d[f]=g,c[f]=p,h[f]=b[0],u[f]=b[1]}r.innerHTML=a.build(),r.style.position="absolute",r.style.top="10000",r.style.wordWrap="break-word",document.body.appendChild(r);let g=document.createRange();const m=Array.prototype.slice.call(r.children,0);let p=[];for(let f=0;f<e.length;f++){const e=pE(g,m[f],c[f],h[f]);if(null===e){p[f]=null;continue}const t=l[f],i=d[f],n=u[f],o=[];for(let s=0,r=e.length;s<r;s++)o[s]=n[e[s]];if(0!==t)for(let s=0,r=e.length;s<r;s++)e[s]+=t;p[f]=new WL(e,o,i)}return document.body.removeChild(r),p}(o,e,t,i,n)}}}function mE(e,t,i,n,o){o.appendASCIIString('<div style="width:'),o.appendASCIIString(String(n)),o.appendASCIIString('px;">');const s=e.length;let r=t,a=0,l=[],d=[],c=0<s?e.charCodeAt(0):0;o.appendASCIIString("<span>");for(let h=0;h<s;h++){0!==h&&h%16384==0&&o.appendASCIIString("</span><span>"),l[h]=a,d[h]=r;const t=c;c=h+1<s?e.charCodeAt(h+1):0;let n=1,u=1;switch(t){case 9:n=i-r%i,u=n;for(let e=1;e<=n;e++)e<n?o.write1(160):o.appendASCII(32);break;case 32:32===c?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:o.write1(65533);break;default:_a(t)&&u++,o.write1(t)}a+=n,r+=u}return o.appendASCIIString("</span>"),l[e.length]=a,d[e.length]=r,o.appendASCIIString("</div>"),[l,d]}function pE(e,t,i,n){if(i.length<=1)return null;const o=Array.prototype.slice.call(t.children,0),s=[];try{fE(e,o,n,0,null,i.length-1,null,s)}catch(r){return console.log(r),null}return 0===s.length?null:(s.push(i.length),s)}function fE(e,t,i,n,o,s,r,a){if(n===s)return;if(o=o||bE(e,t,i[n],i[n+1]),r=r||bE(e,t,i[s],i[s+1]),Math.abs(o[0].top-r[0].top)<=.1)return;if(n+1===s)return void a.push(s);const l=n+(s-n)/2|0,d=bE(e,t,i[l],i[l+1]);fE(e,t,i,n,o,l,d,a),fE(e,t,i,l,d,s,r,a)}function bE(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var _E=function(e,t){return function(i,n){t(i,n,e)}};let vE=0;class wE{constructor(e,t,i,n,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=o}dispose(){Et(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let CE=class e extends It{constructor(e,t,i,n,o,s,r,a,l,d){let c;super(),this._onDidDispose=this._register(new Pt),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new Pt),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new Pt),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new Pt),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new Pt),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new Pt),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new Pt),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new Pt),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new Pt),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new Pt),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Pt),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new Pt),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new yE),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new yE),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Pt),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Pt),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Pt),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Pt),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Pt),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Pt),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Pt),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Pt),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Pt),this.onMouseDrop=this._onMouseDrop.event,this._onContextMenu=this._register(new Pt),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Pt),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Pt),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Pt),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Pt),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Pt),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new Pt),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new Pt),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new Pt),this.onDidChangeViewZones=this._onDidChangeViewZones.event,t=t||{},this._domElement=e,this._overflowWidgetsDomNode=t.overflowWidgetsDomNode,this._id=++vE,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(t,d)),this._register(this._configuration.onDidChange((e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(117)){const e=t.get(117);this._onDidLayoutChange.fire(e)}}))),this._contextKeyService=this._register(r.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=o,this._commandService=s,this._themeService=a,this._register(new SE(this,this._contextKeyService)),this._register(new kE(this,this._contextKeyService)),this._instantiationService=n.createChild(new eE([gf,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new xE(e),this._focusTracker.onChange((()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},c=Array.isArray(i.contributions)?i.contributions:Ff.getEditorContributions();for(const u of c)try{const e=this._instantiationService.createInstance(u.ctor,this);this._contributions[u.id]=e}catch(h){ft(h)}Ff.getEditorActions().forEach((e=>{const t=new EL(e.id,e.label,e.alias,cl(e.precondition),(()=>this._instantiationService.invokeFunction((t=>Promise.resolve(e.runEditorCommand(t,this,null))))),this._contextKeyService);this._actions[t.id]=t})),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new Up(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Bl.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?VS.getWordAtPosition(this._modelData.model,this._configuration.options.get(105),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((e=>Vi.lift(e))))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return ew.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!Bi.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!Vi.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new Vi(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!Bi.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new Vi(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=Hi.isISelection(e),i=Vi.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new Hi(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new Vi(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!Vi.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(Vi.lift(e),t,i,n)}setSelections(e,t="api"){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!Hi.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let t=0,s=n.length;t<s;t++){const e=n[t],o=this._contributions[e];"function"==typeof o.restoreViewState&&o.restoreViewState(i[e])}const o=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(o)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter((e=>e.isSupported())),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._replacePreviousChar(e,t.text||"",t.replaceCharCnt||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,ft):this._modelData&&this._triggerEditorCommand(e,t,i)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_replacePreviousChar(e,t,i){this._modelData&&this._modelData.viewModel.replacePreviousChar(t,i,e)}_paste(e,t,i,n,o){if(!this._modelData||0===t.length)return;const s=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const r=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new Vi(s.lineNumber,s.column,r.lineNumber,r.column),mode:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=Ff.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction((e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,ft)})),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(72)&&(this._modelData.model.pushStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(72))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,nt(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(117)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,o=n.get(117);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft(),height:n.get(51)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Up.applyFontInfoSlow(e,this._configuration.options.get(36))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const i=new XL(this._id,this._configuration,e,gE.create(),rE.create(this._configuration.options),(e=>Bs(e)));t.push(e.onDidChangeDecorations((e=>this._onDidChangeModelDecorations.fire(e)))),t.push(e.onDidChangeLanguage((t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(t)}))),t.push(e.onDidChangeLanguageConfiguration((e=>this._onDidChangeModelLanguageConfiguration.fire(e)))),t.push(e.onDidChangeContent((e=>this._onDidChangeModelContent.fire(e)))),t.push(e.onDidChangeOptions((e=>this._onDidChangeModelOptions.fire(e)))),t.push(e.onWillDispose((()=>this.setModel(null)))),t.push(i.onEvent((e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{e.reachedMaxCursorCount&&this._notificationService.warn(ue("vs/editor/browser/widget/codeEditorWidget","cursors.maximum","The number of cursors has been limited to {0}.",LL.MAX_CURSOR_COUNT));const t=[];for(let o=0,s=e.selections.length;o<s;o++)t[o]=e.selections[o].getPosition();const i={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(i);const n={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(n);break}}})));const[n,o]=this._createView(i);if(o){this._domElement.appendChild(n.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addContentWidget(this._contentWidgets[i])}t=Object.keys(this._overlayWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];n.addOverlayWidget(this._overlayWidgets[i])}n.render(!1,!0),n.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new wE(e,i,n,o,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},replacePreviousChar:(e,t)=>{this._replacePreviousChar("keyboard",e,t)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const o={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",o)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},replacePreviousChar:(e,t)=>{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new mk(e.coordinatesConverter);i.onKeyDown=e=>this._onKeyDown.fire(e),i.onKeyUp=e=>this._onKeyUp.fire(e),i.onContextMenu=e=>this._onContextMenu.fire(e),i.onMouseMove=e=>this._onMouseMove.fire(e),i.onMouseLeave=e=>this._onMouseLeave.fire(e),i.onMouseDown=e=>this._onMouseDown.fire(e),i.onMouseUp=e=>this._onMouseUp.fire(e),i.onMouseDrag=e=>this._onMouseDrag.fire(e),i.onMouseDrop=e=>this._onMouseDrop.fire(e),i.onMouseWheel=e=>this._onMouseWheel.fire(e);return[new Jx(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};CE=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([_E(3,ao),_E(4,uo),_E(5,hl),_E(6,gf),_E(7,bb),_E(8,$m),_E(9,tE)],CE);class yE extends It{constructor(){super(),this._onDidChangeToTrue=this._register(new Pt),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new Pt),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class SE extends It{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=QS.editorSimpleInput.bindTo(t),this._editorFocus=QS.focus.bindTo(t),this._textInputFocus=QS.textInputFocus.bindTo(t),this._editorTextFocus=QS.editorTextFocus.bindTo(t),this._editorTabMovesFocus=QS.tabMovesFocus.bindTo(t),this._editorReadonly=QS.readOnly.bindTo(t),this._editorColumnSelection=QS.columnSelection.bindTo(t),this._hasMultipleSelections=QS.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=QS.hasNonEmptySelection.bindTo(t),this._canUndo=QS.canUndo.bindTo(t),this._canRedo=QS.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromConfig()))),this._register(this._editor.onDidChangeCursorSelection((()=>this._updateFromSelection()))),this._register(this._editor.onDidFocusEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorWidget((()=>this._updateFromFocus()))),this._register(this._editor.onDidFocusEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidBlurEditorText((()=>this._updateFromFocus()))),this._register(this._editor.onDidChangeModel((()=>this._updateFromModel()))),this._register(this._editor.onDidChangeConfiguration((()=>this._updateFromModel()))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(116)),this._editorReadonly.set(e.get(72)),this._editorColumnSelection.set(e.get(13))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((e=>!e.isEmpty())))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}class kE extends It{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=QS.languageId.bindTo(t),this._hasCompletionItemProvider=QS.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=QS.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=QS.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=QS.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=QS.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=QS.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=QS.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=QS.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=QS.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=QS.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=QS.hasReferenceProvider.bindTo(t),this._hasRenameProvider=QS.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=QS.hasSignatureHelpProvider.bindTo(t),this._hasDocumentFormattingProvider=QS.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=QS.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=QS.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=QS.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=QS.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(Oc.onDidChange(i)),this._register($c.onDidChange(i)),this._register(qc.onDidChange(i)),this._register(Hc.onDidChange(i)),this._register(zc.onDidChange(i)),this._register(Uc.onDidChange(i)),this._register(Kc.onDidChange(i)),this._register(Fc.onDidChange(i)),this._register(Bc.onDidChange(i)),this._register(Wc.onDidChange(i)),this._register(Rc.onDidChange(i)),this._register(Ac.onDidChange(i)),this._register(jc.onDidChange(i)),this._register(Gc.onDidChange(i)),this._register(Pc.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents((()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()}))}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents((()=>{this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(Oc.has(e)),this._hasCodeActionsProvider.set($c.has(e)),this._hasCodeLensProvider.set(qc.has(e)),this._hasDefinitionProvider.set(Hc.has(e)),this._hasDeclarationProvider.set(zc.has(e)),this._hasImplementationProvider.set(Uc.has(e)),this._hasTypeDefinitionProvider.set(Kc.has(e)),this._hasHoverProvider.set(Fc.has(e)),this._hasDocumentHighlightProvider.set(Bc.has(e)),this._hasDocumentSymbolProvider.set(Wc.has(e)),this._hasReferenceProvider.set(Rc.has(e)),this._hasRenameProvider.set(Ac.has(e)),this._hasSignatureHelpProvider.set(Pc.has(e)),this._hasDocumentFormattingProvider.set(jc.has(e)||Gc.has(e)),this._hasDocumentSelectionFormattingProvider.set(Gc.has(e)),this._hasMultipleDocumentFormattingProvider.set(jc.all(e).length+Gc.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Gc.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===bs.walkThroughSnippet)})):this.reset()}}class xE extends It{constructor(e){super(),this._onChange=this._register(new Pt),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(_r(e)),this._register(this._domFocusTracker.onDidFocus((()=>{this._hasFocus=!0,this._onChange.fire(void 0)}))),this._register(this._domFocusTracker.onDidBlur((()=>{this._hasFocus=!1,this._onChange.fire(void 0)})))}hasFocus(){return this._hasFocus}}const LE=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),EE=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function DE(e){return LE+encodeURIComponent(e.toString())+EE}const NE=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),TE=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');Sb(((e,t)=>{const i=e.getColor(mC);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(gC);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${DE(n)}") repeat-x bottom left; }`);const o=e.getColor(fC);o&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);const s=e.getColor(pC);s&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${DE(s)}") repeat-x bottom left; }`);const r=e.getColor(_C);r&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${r}; }`);const a=e.getColor(bC);a&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${DE(a)}") repeat-x bottom left; }`);const l=e.getColor(wC);l&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${l}; }`);const d=e.getColor(vC);var c;d&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${c=d,NE+encodeURIComponent(c.toString())+TE}") no-repeat bottom left; }`);const h=e.getColor(wS);h&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${h.rgba.a}; }`);const u=e.getColor(vS);u&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${u}; }`);const g=e.getColor(yC)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${g}}`)}));const IE=new Pt;class ME extends It{constructor(e,t,i){super(),this._state=3,this._onDidEnablementChange=this._register(new Pt),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new Pt),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new Pt),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new Pt),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new Tt),this.orthogonalEndSashDisposables=this._register(new Tt),this.el=vr(e,xr(".monaco-sash")),xe&&Ls(this.el,"mac"),this._register(Lo(this.el,"mousedown")(this.onMouseDown,this)),this._register(Lo(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(Yf.addTarget(this.el)),this._register(Lo(this.el,Gf.Start)(this.onTouchStart,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(IE.event((e=>{this.size=e,this.layout()})))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(Ls(this.el,"horizontal"),Ds(this.el,"vertical")):(Ds(this.el,"horizontal"),Ls(this.el,"vertical")),Ts(this.el,"debug",false),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(Ts(this.el,"disabled",0===e),Ts(this.el,"minimum",1===e),Ts(this.el,"maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){this.orthogonalStartSashDisposables.clear(),e?(this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(e.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){this.orthogonalEndSashDisposables.clear(),e?(this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(e.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=e}onMouseDown(e){fr(e,!1);let t=!1;if(!e.__orthogonalSashEvent){const i=this.getOrthogonalSash(e);i&&(t=!0,e.__orthogonalSashEvent=!0,i.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!this.state)return;const i=[...Nr("iframe"),...Nr("webview")];for(const h of i)h.style.pointerEvents="none";const n=new Wo(e),o=n.posx,s=n.posy,r=n.altKey,a={startX:o,currentX:o,startY:s,currentY:s,altKey:r};Ls(this.el,"active"),this._onDidStart.fire(a);const l=dr(this.el),d=()=>{let e="";e=t?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":xe?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":xe?"col-resize":"ew-resize",l.innerHTML=`* { cursor: ${e} !important; }`},c=new Tt;d(),t||this.onDidEnablementChange(d,null,c);Lo(window,"mousemove")((e=>{fr(e,!1);const t=new Wo(e),i={startX:o,currentX:t.posx,startY:s,currentY:t.posy,altKey:r};this._onDidChange.fire(i)}),null,c),Lo(window,"mouseup")((e=>{fr(e,!1),this.el.removeChild(l),Ds(this.el,"active"),this._onDidEnd.fire(),c.dispose();for(const t of i)t.style.pointerEvents="auto"}),null,c)}onMouseDoubleClick(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(e){fr(e);const t=[],i=e.pageX,n=e.pageY,o=e.altKey;this._onDidStart.fire({startX:i,currentX:i,startY:n,currentY:n,altKey:o}),t.push(Ms(this.el,Gf.Change,(e=>{el(e.pageX)&&el(e.pageY)&&this._onDidChange.fire({startX:i,currentX:e.pageX,startY:n,currentY:e.pageY,altKey:o})}))),t.push(Ms(this.el,Gf.End,(e=>{this._onDidEnd.fire(),Et(t)})))}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}onOrthogonalStartSashEnablementChange(e){Ts(this.el,"orthogonal-start",0!==e)}onOrthogonalEndSashEnablementChange(e){Ts(this.el,"orthogonal-end",0!==e)}getOrthogonalSash(e){if(0===this.orientation){if(e.offsetY<=this.size)return this.orthogonalStartSash;if(e.offsetY>=this.el.clientHeight-this.size)return this.orthogonalEndSash}else{if(e.offsetX<=this.size)return this.orthogonalStartSash;if(e.offsetX>=this.el.clientWidth-this.size)return this.orthogonalEndSash}}dispose(){super.dispose(),this.el.remove()}}class RE{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const AE=[];function OE(e,t,i){AE.push([e,new RE(t,[],i)])}const PE=co("IEditorCancelService"),FE=new uf("cancellableOperation",!1);OE(PE,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext((e=>({key:FE.bindTo(e.get(gf)),tokens:new Ot}))),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class WE extends Kt{constructor(e,t){super(t),this.editor=e,this._unregister=e.invokeWithinContext((t=>t.get(PE).add(e,this)))}dispose(){this._unregister(),super.dispose()}}Rf(new class extends Ef{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:FE})}runEditorCommand(e,t){e.get(PE).cancel(t)}});class BE{constructor(e,t){if(this.flags=t,0!=(1&this.flags)){const t=e.getModel();this.modelVersionId=t?Pr("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;0!=(4&this.flags)?this.position=e.getPosition():this.position=null,0!=(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!=(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(e){if(!(e instanceof BE))return!1;const t=e;return this.modelVersionId===t.modelVersionId&&(this.scrollLeft===t.scrollLeft&&this.scrollTop===t.scrollTop&&(!(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position))&&!(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection))))}validate(e){return this._equals(new BE(e,this.flags))}}class VE extends WE{constructor(e,t,i,n){super(e,n),this.editor=e,this._listener=new Tt,4&t&&this._listener.add(e.onDidChangeCursorPosition((e=>{i&&Vi.containsPosition(i,e.position)||this.cancel()}))),2&t&&this._listener.add(e.onDidChangeCursorSelection((e=>{i&&Vi.containsRange(i,e.selection)||this.cancel()}))),8&t&&this._listener.add(e.onDidScrollChange((e=>this.cancel()))),1&t&&(this._listener.add(e.onDidChangeModel((e=>this.cancel()))),this._listener.add(e.onDidChangeModelContent((e=>this.cancel()))))}dispose(){this._listener.dispose(),super.dispose()}}class HE extends Kt{constructor(e,t){super(t),this._listener=e.onDidChangeContent((()=>this.cancel()))}dispose(){this._listener.dispose(),super.dispose()}}class zE{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new zE(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const UE="ResourceURLs",KE="text/plain";class qE{constructor(e){this.data=e}update(){}getData(){return this.data}}const $E={CurrentDragAndDropData:void 0};class jE extends It{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof qp&&this._register(t.onDidChange((e=>{this.element&&this.handleActionChangeEvent(e)})))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new $p)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Yf.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,_o&&this._register(Ms(e,pr.DRAG_START,(e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(KE,this._action.label)})))),this._register(Ms(t,Gf.Tap,(e=>this.onClick(e)))),this._register(Ms(t,pr.MOUSE_DOWN,(e=>{i||fr(e,!0),this._action.enabled&&0===e.button&&Ls(t,"active")}))),xe&&this._register(Ms(t,pr.CONTEXT_MENU,(e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)}))),this._register(Ms(t,pr.CLICK,(e=>{fr(e,!0),this.options&&this.options.isMenu||Ie((()=>this.onClick(e)))}))),this._register(Ms(t,pr.DBLCLICK,(e=>{fr(e,!0)}))),[pr.MOUSE_UP,pr.MOUSE_OUT].forEach((e=>{this._register(Ms(t,e,(e=>{fr(e),Ds(t,"active")})))}))}onClick(e){var t;fr(e,!0);const i=nl(this._context)?(null===(t=this.options)||void 0===t?void 0:t.useEventAsContext)?e:void 0:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.focus(),Ls(this.element,"focused"))}blur(){this.element&&(this.element.blur(),Ds(this.element,"focused"))}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(ys(this.element),this.element=void 0),super.dispose()}}class GE extends jE{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=vr(this.element,xr("a.action-label"))),this.label&&(this._action.id===jp.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(vr(this.element,xr("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){super.focus(),this.label&&this.label.focus()}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=ue({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&Ns(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(Ls(this.label,"codicon"),this.cssClass&&Es(this.label,this.cssClass)),this.updateEnabled()):this.label&&Ds(this.label,"codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),Ds(this.label,"disabled"),this.label.tabIndex=0),this.element&&Ds(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),Ls(this.label,"disabled"),Dr(this.label)),this.element&&Ls(this.element,"disabled"))}updateChecked(){this.label&&(this.getAction().checked?Ls(this.label,"checked"):Ds(this.label,"checked"))}}class ZE extends It{constructor(e,t={}){var i,n,o;let s,r;switch(super(),this._onDidBlur=this._register(new Pt),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new Pt),this.onDidCancel=this._onDidCancel.event,this._onDidRun=this._register(new Pt),this.onDidRun=this._onDidRun.event,this._onDidBeforeRun=this._register(new Pt),this.onDidBeforeRun=this._onDidBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys=null!==(o=this.options.triggerKeys)&&void 0!==o?o:{keys:[3,10],keyDown:!1},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new $p,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun((e=>this._onDidRun.fire(e)))),this._register(this._actionRunner.onDidBeforeRun((e=>this._onDidBeforeRun.fire(e)))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&Ls(this.domNode,"animated"),this._orientation){case 0:s=15,r=17;break;case 1:s=17,r=15,this.domNode.className+=" reverse";break;case 2:s=16,r=18,this.domNode.className+=" vertical";break;case 3:s=18,r=16,this.domNode.className+=" vertical reverse"}this._register(Ms(this.domNode,pr.KEY_DOWN,(e=>{const t=new Mo(e);let i=!0;t.equals(s)?i=this.focusPrevious():t.equals(r)?i=this.focusNext():t.equals(9)?this._onDidCancel.fire():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown&&this.doTrigger(t):i=!1,i&&(t.preventDefault(),t.stopPropagation())}))),this._register(Ms(this.domNode,pr.KEY_UP,(e=>{const t=new Mo(e);this.isTriggerKeyEvent(t)?(this._triggerKeys.keyDown||this.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()}))),this.focusTracker=this._register(_r(this.domNode)),this._register(this.focusTracker.onDidBlur((()=>{lr()!==this.domNode&&ir(lr(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0)}))),this._register(this.focusTracker.onDidFocus((()=>this.updateFocusedItem()))),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach((i=>{t=t||e.equals(i)})),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(ir(lr(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach((t=>t.setActionContext(e)))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach((t=>t.actionRunner=e)))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=el(t.index)?t.index:null;i.forEach((e=>{const i=document.createElement("li");let o;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(Ms(i,pr.CONTEXT_MENU,(e=>{fr(e,!0)}))),this.options.actionViewItemProvider&&(o=this.options.actionViewItemProvider(e)),o||(o=new GE(this.context,e,t)),o.actionRunner=this._actionRunner,o.setActionContext(this.context),o.render(i),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(o)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,o),n++)})),this.focusedItem&&this.focus(this.focusedItem)}clear(){Et(this.viewItems),this.viewItems=[],Cs(this.actionsList)}focus(e){let t,i=!1;void 0===e?i=!0:"number"==typeof e?t=e:"boolean"==typeof e&&(i=e),i&&void 0===this.focusedItem?(this.focusedItem=-1,this.focusNext()):(void 0!==t&&(this.focusedItem=t),this.updateFocus())}focusNext(){void 0===this.focusedItem&&(this.focusedItem=this.viewItems.length-1);const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());return this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(),!0}focusPrevious(){void 0===this.focusedItem&&(this.focusedItem=0);const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());return this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i];i===this.focusedItem?rl(n.isEnabled)&&(n.isEnabled()&&rl(n.focus)?n.focus(e):this.actionsList.focus({preventScroll:t})):rl(n.blur)&&n.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof jE){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return this._actionRunner.run(e,t)}dispose(){Et(this.viewItems),this.viewItems=[],ys(this.getContainer()),super.dispose()}}class YE{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class JE{constructor(e){this.entries=e}}const QE=fc("diff-review-insert",bc.add),XE=fc("diff-review-remove",bc.remove),eD=fc("diff-review-close",bc.close);class tD extends It{constructor(e){super(),this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=qf(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=qf(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new ZE(this.actionBarContainer.domNode)),this._actionBar.push(new qp("diffreview.close",ue("vs/editor/browser/widget/diffReview","label.close","Close"),"close-diff-review "+eD.classNames,!0,(()=>(this.hide(),Promise.resolve(null)))),{label:!1,icon:!0}),this.domNode=qf(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=qf(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new Qk(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff((()=>{this._isVisible&&(this._diffs=this._compute(),this._render())}))),this._register(e.getModifiedEditor().onDidChangeCursorPosition((()=>{this._isVisible&&this._render()}))),this._register(As(this.domNode.domNode,"click",(e=>{e.preventDefault();let t=nr(e.target,"diff-review-row");t&&this._goToRow(t)}))),this._register(As(this.domNode.domNode,"keydown",(e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())}))),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Bi(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new Bi(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new Bi(e,1)),this._diffEditor.revealPosition(new Bi(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?tD._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],o=0;for(let l=0,d=e.length;l<d;l++){const s=e[l],r=s.originalStartLineNumber,a=s.originalEndLineNumber,c=s.modifiedStartLineNumber,h=s.modifiedEndLineNumber;let u=[],g=0;{const t=0===a?r:r-1,i=0===h?c:c-1;let n=1,o=1;if(l>0){const t=e[l-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,o=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let s=t-3+1,d=i-3+1;if(s<n){const e=n-s;s+=e,d+=e}if(d<o){const e=o-d;s+=e,d+=e}u[g++]=new YE(s,t,d,i)}0!==a&&(u[g++]=new YE(r,a,0,0)),0!==h&&(u[g++]=new YE(0,0,c,h));{const n=0===a?r+1:a+1,o=0===h?c+1:h+1;let s=t,m=i;if(l+1<d){const t=e[l+1];s=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,m=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let p=n+3-1,f=o+3-1;if(p>s){const e=s-p;p+=e,f+=e}if(f>m){const e=m-f;p+=e,f+=e}u[g++]=new YE(n,p,o,f)}n[o++]=new JE(u)}let s=n[0].entries,r=[],a=0;for(let l=1,d=n.length;l<d;l++){const e=n[l].entries,t=s[s.length-1],i=e[0];0===t.getType()&&0===i.getType()&&i.originalLineStart<=t.originalLineEnd?(s[s.length-1]=new YE(t.originalLineStart,i.originalLineEnd,t.modifiedLineStart,i.modifiedLineEnd),s=s.concat(e.slice(1))):(r[a++]=new JE(s),s=e)}return r[a++]=new JE(s),r}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,n=this._diffs.length;i<n;i++){const e=this._diffs[i].entries;if(t<=e[e.length-1].modifiedLineEnd)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),n=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=n.getOptions();if(!this._isVisible||!i||!n)return Cs(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const r=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[r]===this._currentDiff)return;this._currentDiff=this._diffs[r];const a=this._diffs[r].entries;let l=document.createElement("div");l.className="diff-review-table",l.setAttribute("role","list"),l.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Up.applyFontInfoSlow(l,t.get(36));let d=0,c=0,h=0,u=0;for(let y=0,S=a.length;y<S;y++){const e=a[y],t=e.originalLineStart,i=e.originalLineEnd,n=e.modifiedLineStart,o=e.modifiedLineEnd;0!==t&&(0===d||t<d)&&(d=t),0!==i&&(0===c||i>c)&&(c=i),0!==n&&(0===h||n<h)&&(h=n),0!==o&&(0===u||o>u)&&(u=o)}let g=document.createElement("div");g.className="diff-review-row";let m=document.createElement("div");m.className="diff-review-cell diff-review-summary";const p=c-d+1,f=u-h+1;m.appendChild(document.createTextNode(`${r+1}/${this._diffs.length}: @@ -${d},${p} +${h},${f} @@`)),g.setAttribute("data-line",String(h));const b=e=>0===e?ue("vs/editor/browser/widget/diffReview","no_lines_changed","no lines changed"):1===e?ue("vs/editor/browser/widget/diffReview","one_line_changed","1 line changed"):ue("vs/editor/browser/widget/diffReview","more_lines_changed","{0} lines changed",e),_=b(p),v=b(f);g.setAttribute("aria-label",ue("vs/editor/browser/widget/diffReview",{key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",r+1,this._diffs.length,d,_,h,v)),g.appendChild(m),g.setAttribute("role","listitem"),l.appendChild(g);const w=t.get(51);let C=h;for(let y=0,S=a.length;y<S;y++){const r=a[y];tD._renderSection(l,r,C,w,this._width,e,i,o,t,n,s),0!==r.modifiedLineStart&&(C=r.modifiedLineEnd)}Cs(this._content.domNode),this._content.domNode.appendChild(l),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,n,o,s,r,a,l,d,c){const h=t.getType();let u="diff-review-row",g="";let m=null;switch(h){case 1:u="diff-review-row line-insert",g=" char-insert",m=QE;break;case 2:u="diff-review-row line-delete",g=" char-delete",m=XE}const p=t.originalLineStart,f=t.originalLineEnd,b=t.modifiedLineStart,_=t.modifiedLineEnd,v=Math.max(_-b,f-p),w=s.get(117),C=w.glyphMarginWidth+w.lineNumbersWidth,y=l.get(117),S=10+y.glyphMarginWidth+y.lineNumbersWidth;for(let k=0;k<=v;k++){const t=0===p?0:p+k,f=0===b?0:b+k,_=document.createElement("div");_.style.minWidth=o+"px",_.className=u,_.setAttribute("role","listitem"),0!==f&&(i=f),_.setAttribute("data-line",String(i));let v=document.createElement("div");v.className="diff-review-cell",v.style.height=`${n}px`,_.appendChild(v);const w=document.createElement("span");w.style.width=C+"px",w.style.minWidth=C+"px",w.className="diff-review-line-number"+g,0!==t?w.appendChild(document.createTextNode(String(t))):w.innerText=" ",v.appendChild(w);const y=document.createElement("span");y.style.width=S+"px",y.style.minWidth=S+"px",y.style.paddingRight="10px",y.className="diff-review-line-number"+g,0!==f?y.appendChild(document.createTextNode(String(f))):y.innerText=" ",v.appendChild(y);const x=document.createElement("span");if(x.className="diff-review-spacer",m){const e=document.createElement("span");e.className=m.classNames,e.innerText="  ",x.appendChild(e)}else x.innerText="  ";let L;v.appendChild(x),0!==f?(v.insertAdjacentHTML("beforeend",this._renderLine(d,l,c.tabSize,f)),L=d.getLineContent(f)):(v.insertAdjacentHTML("beforeend",this._renderLine(r,s,a.tabSize,t)),L=r.getLineContent(t)),0===L.length&&(L=ue("vs/editor/browser/widget/diffReview","blankLine","blank"));let E="";switch(h){case 0:E=t===f?ue("vs/editor/browser/widget/diffReview",{key:"unchangedLine",comment:["The placholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",L,t):ue("vs/editor/browser/widget/diffReview","equalLine","{0} original line {1} modified line {2}",L,t,f);break;case 1:E=ue("vs/editor/browser/widget/diffReview","insertLine","+ {0} modified line {1}",L,f);break;case 2:E=ue("vs/editor/browser/widget/diffReview","deleteLine","- {0} original line {1}",L,t)}_.setAttribute("aria-label",E),e.appendChild(_)}}static _renderLine(e,t,i,n){const o=e.getLineContent(n),s=t.get(36),r=new Uint32Array(2);r[0]=o.length,r[1]=16793600;const a=new Zu(r,o),l=ug.isBasicASCII(o,e.mightContainNonBasicASCII()),d=ug.containsRTL(o,l,e.mightContainRTL());return ag(new ig(s.isMonospace&&!t.get(24),s.canUseHalfwidthRightwardsArrow,o,!1,l,d,0,a,[],i,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(95),t.get(80),t.get(74),t.get(37)!==et.OFF,null)).html}}Sb(((e,t)=>{const i=e.getColor(dS);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(lC);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)}));function iD(e){const t=e.get(uo),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let o=0,s=i.length;o<s;o++){const e=i[o];if(e.getModifiedEditor().getId()===n.getId()||e.getOriginalEditor().getId()===n.getId())return e}return null}Af(class extends Df{constructor(){super({id:"editor.action.diffReview.next",label:ue("vs/editor/browser/widget/diffReview","editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:Jp.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=iD(e);i&&i.diffReviewNext()}}),Af(class extends Df{constructor(){super({id:"editor.action.diffReview.prev",label:ue("vs/editor/browser/widget/diffReview","editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:Jp.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=iD(e);i&&i.diffReviewPrev()}});const nD=co("contextViewService"),oD=co("contextMenuService");var sD=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class rD extends It{constructor(e,t,i,n,o,s){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=n,this._contextMenuService=o,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=bc.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=i.getOption(51),a=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const l=[];l.push(new qp("diff.clipboard.copyDeletedContent",n.originalEndLineNumber>n.modifiedStartLineNumber?ue("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ue("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,(()=>sD(this,void 0,void 0,(function*(){yield this._clipboardService.writeText(n.originalContent.join(a)+a)})))));let d,c=0;n.originalEndLineNumber>n.modifiedStartLineNumber&&(d=new qp("diff.clipboard.copyDeletedLineContent",ue("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber),void 0,!0,(()=>sD(this,void 0,void 0,(function*(){yield this._clipboardService.writeText(n.originalContent[c])})))),l.push(d));i.getOption(72)||l.push(new qp("diff.inline.revertChange",ue("vs/editor/browser/widget/inlineDiffMargin","diff.inline.revertChange.label","Revert this change"),void 0,!0,(()=>sD(this,void 0,void 0,(function*(){if(0===n.modifiedEndLineNumber){const e=i.getModel().getLineMaxColumn(n.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new Vi(n.modifiedStartLineNumber,e,n.modifiedStartLineNumber,e),text:a+n.originalContent.join(a)}])}else{const e=i.getModel().getLineMaxColumn(n.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new Vi(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,e),text:n.originalContent.join(a)}])}})))));const h=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(d&&(d.label=ue("vs/editor/browser/widget/inlineDiffMargin","diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",n.originalStartLineNumber+c)),l),autoSelectFirstItem:!0})};this._register(As(this._diffActions,"mousedown",(e=>{const{top:t,height:i}=Ys(this._diffActions);let n=Math.floor(r/3);e.preventDefault(),h(e.posx,t+i+n)}))),this._register(i.onMouseMove((e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,r)):this.visibility=!1}else this.visibility=!1}))),this._register(i.onMouseDown((e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,r),h(e.event.posx,e.event.posy+r))}})))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=Ys(e),o=t-n,s=Math.floor(o/i),r=s*i;return this._diffActions.style.top=`${r}px`,s}}const aD=co("clipboardService");class lD{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}lD.None=Object.freeze({report(){}});const dD=co("editorProgressService");var cD=function(e,t){return function(i,n){t(i,n,e)}};class hD{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter((e=>!this._zonesMap[String(e.id)]))}clean(e){this._zones.length>0&&e.changeViewZones((e=>{for(let t=0,i=this._zones.length;t<i;t++)e.removeZone(this._zones[t])})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const o=n?zE.capture(e):null;e.changeViewZones((t=>{for(let e=0,i=this._zones.length;e<i;e++)t.removeZone(this._zones[e]);for(let e=0,i=this.inlineDiffMargins.length;e<i;e++)this.inlineDiffMargins[e].dispose();this._zones=[],this._zonesMap={},this.inlineDiffMargins=[];for(let n=0,o=i.zones.length;n<o;n++){const o=i.zones[n];o.suppressMouseDown=!0;let s=t.addZone(o);this._zones.push(s),this._zonesMap[String(s)]=!0,i.zones[n].diff&&o.marginDomNode&&(o.suppressMouseDown=!1,this.inlineDiffMargins.push(new rD(s,o.marginDomNode,e,i.zones[n].diff,this._contextMenuService,this._clipboardService)))}})),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let uD=0;const gD=fc("diff-insert",bc.add),mD=fc("diff-remove",bc.remove);let pD=class e extends It{constructor(t,i,n,o,s,r,a,l,d,c,h){super(),this._editorProgressService=h,this._onDidDispose=this._register(new Pt),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new Pt),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new Pt),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=a,this._contextKeyService=this._register(s.createScoped(t)),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=l,this._notificationService=d,this.id=++uD,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._renderSideBySide=!0,void 0!==i.renderSideBySide&&(this._renderSideBySide=i.renderSideBySide),this._maxComputationTime=5e3,void 0!==i.maxComputationTime&&(this._maxComputationTime=i.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==i.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=i.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==i.renderIndicators&&(this._renderIndicators=i.renderIndicators),this._originalIsEditable=!1,void 0!==i.originalEditable&&(this._originalIsEditable=Boolean(i.originalEditable)),this._originalCodeLens=!1,void 0!==i.originalCodeLens&&(this._originalCodeLens=Boolean(i.originalCodeLens)),this._modifiedCodeLens=!1,void 0!==i.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(i.modifiedCodeLens)),this._updateDecorationsRunner=this._register(new Go((()=>this._updateDecorations()),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=qf(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(As(this._overviewDomElement,"mousedown",(e=>{this.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new hD(c,n),this._modifiedEditorState=new hD(c,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Vp(this._containerDomElement,void 0,(()=>this._onDidContainerSizeChanged()))),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null;const u=this._contextKeyService.createScoped(),g=new eE;g.set(gf,u);const m=r.createChild(g),p=this._contextKeyService.createScoped(),f=new eE;f.set(gf,p);const b=r.createChild(f);this.originalEditor=this._createLeftHandSideEditor(i,m,u),this.modifiedEditor=this._createRightHandSideEditor(i,b,p),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new tD(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==i.enableSplitViewResizing&&(this._enableSplitViewResizing=i.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new CD(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new SD(this._createDataSource(),this._enableSplitViewResizing)),this._register(l.onDidColorThemeChange((t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)})));const _=Ff.getDiffEditorContributions();for(const e of _)try{this._register(r.createInstance(e.ctor,this))}catch(v){ft(v)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=wb(e.type),i}_recreateOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()}_createLeftHandSideEditor(t,i,n){const o=this._createInnerEditor(i,this._originalDomNode,this._adjustOptionsForLeftHandSide(t,this._originalIsEditable,this._originalCodeLens));this._register(o.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})));const s=n.createKey("isInDiffLeftEditor",void 0);return this._register(o.onDidFocusEditorWidget((()=>s.set(!0)))),this._register(o.onDidBlurEditorWidget((()=>s.set(!1)))),this._register(o.onDidContentSizeChange((t=>{const i=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),o}_createRightHandSideEditor(t,i,n){const o=this._createInnerEditor(i,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t,this._modifiedCodeLens));this._register(o.onDidScrollChange((e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())}))),this._register(o.onDidChangeViewZones((()=>{this._onViewZonesChanged()}))),this._register(o.onDidChangeConfiguration((e=>{e.hasChanged(36)&&o.getModel()&&this._onViewZonesChanged()}))),this._register(o.onDidChangeModelContent((()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}))),this._register(o.onDidChangeModelOptions((e=>{e.tabSize&&this._updateDecorationsRunner.schedule()})));const s=n.createKey("isInDiffRightEditor",void 0);return this._register(o.onDidFocusEditorWidget((()=>s.set(!0)))),this._register(o.onDidBlurEditorWidget((()=>s.set(!1)))),this._register(o.onDidContentSizeChange((t=>{const i=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})}))),o}_createInnerEditor(e,t,i){return e.createInstance(CE,t,i,{})}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this.id}getEditorType(){return Bl.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this.originalEditor}getModifiedEditor(){return this.modifiedEditor}updateOptions(t){let i=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,i=!0),void 0!==t.maxComputationTime&&(this._maxComputationTime=t.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let n=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,n=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,n=!0),n&&this._beginUpdateDecorations(),void 0!==t.originalEditable&&(this._originalIsEditable=Boolean(t.originalEditable)),void 0!==t.originalCodeLens&&(this._originalCodeLens=Boolean(t.originalCodeLens)),void 0!==t.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(t.modifiedCodeLens)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t,this._modifiedCodeLens)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable,this._originalCodeLens)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new CD(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new SD(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide))}getModel(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this.modifiedEditor.getPosition()}setPosition(e){this.modifiedEditor.setPosition(e)}revealLine(e,t=0){this.modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this.modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this.modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this.modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this.modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this.modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this.modifiedEditor.getSelection()}getSelections(){return this.modifiedEditor.getSelections()}setSelection(e){this.modifiedEditor.setSelection(e)}setSelections(e){this.modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this.modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this.modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this.modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this.modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this.modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this.modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this.modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this.modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this.modifiedEditor.getSupportedActions()}saveViewState(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}}restoreViewState(e){if(e.original&&e.modified){let t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this.modifiedEditor.focus()}hasTextFocus(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()}trigger(e,t,i){this.modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this.modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight();let n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((()=>this._beginUpdateDecorations()),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;let n=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,i.uri)?this._editorWorkerService.computeDiff(t.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((e=>{n===this._diffComputationToken&&t===this.originalEditor.getModel()&&i===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())}),(e=>{n===this._diffComputationToken&&t===this.originalEditor.getModel()&&i===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(ue("vs/editor/browser/widget/diffEditorWidget","diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)}_updateDecorations(){if(!(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler))return;const e=this._diffComputationResult?this._diffComputationResult.changes:[];let t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Ll(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.overflowWidgetsDomNode=e.overflowWidgetsDomNode,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e,t,i){let n=this._adjustOptionsForSubEditor(e);return i&&(n.codeLens=!0),n.readOnly=!t,n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(t,i){let n=this._adjustOptionsForSubEditor(t);return i&&(n.codeLens=!0),n.revealHorizontalRightPadding=mt.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight();let o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:o,height:i-n}),this.modifiedEditor.layout({width:t-o-e.ENTIRE_DIFF_OVERVIEW_WIDTH,height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this.modifiedEditor.getLayoutInfo();if(!e)return null;let t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),o=Math.max(0,n-0),s=i>0?o/i:0;return{height:Math.max(0,Math.floor(e.height*s)),top:Math.floor(t*s)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this.originalEditor,getModifiedEditor:()=>this.modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,o=i.length-1;for(;n<o;){let s=Math.floor((n+o)/2),r=t(i[s]),a=s+1<=o?t(i[s+1]):1073741824;e<r?o=s-1:e>=a?n=s+1:(n=s,o=s)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.originalStartLineNumber));if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-i;return r<=o?n+Math.min(r,s):n+s-o+r}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,(e=>e.modifiedStartLineNumber));if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,r=e-n;return r<=s?i+Math.min(r,o):i+o-s+r}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};pD.ONE_OVERVIEW_WIDTH=15,pD.ENTIRE_DIFF_OVERVIEW_WIDTH=30,pD.UPDATE_DIFF_DECORATIONS_DELAY=200,pD=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([cD(2,aD),cD(3,ah),cD(4,gf),cD(5,ao),cD(6,uo),cD(7,bb),cD(8,$m),cD(9,oD),cD(10,dD)],pD);class fD extends It{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=(e.getColor(XC)||JC).transparent(2),i=(e.getColor(ey)||QC).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,o,s,r){o=o.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber)),n=n.sort(((e,t)=>e.afterLineNumber-t.afterLineNumber));let a=this._getViewZones(e,n,o,s,r,i),l=this._getOriginalEditorDecorations(e,t,i,s,r),d=this._getModifiedEditorDecorations(e,t,i,s,r);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:d.decorations,overviewZones:d.overviewZones,zones:a.modified}}}}class bD{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class _D{constructor(e,t,i,n,o){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=i,this.modifiedForeignVZ=n,this.modifiedLineHeight=o}getViewZones(){let e=[],t=[],i=0,n=0,o=0,s=0,r=0,a=0,l=(e,t)=>e.afterLineNumber-t.afterLineNumber,d=(e,t)=>{if(null===t.domNode&&e.length>0){let i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},c=new bD(this.modifiedForeignVZ),h=new bD(this.originalForeignVZ);for(let u=0,g=this.lineChanges.length;u<=g;u++){let m=u<g?this.lineChanges[u]:null;null!==m?(o=m.originalStartLineNumber+(m.originalEndLineNumber>0?-1:0),s=m.modifiedStartLineNumber+(m.modifiedEndLineNumber>0?-1:0),n=m.originalEndLineNumber>0?m.originalEndLineNumber-m.originalStartLineNumber+1:0,i=m.modifiedEndLineNumber>0?m.modifiedEndLineNumber-m.modifiedStartLineNumber+1:0,r=Math.max(m.originalStartLineNumber,m.originalEndLineNumber),a=Math.max(m.modifiedStartLineNumber,m.modifiedEndLineNumber)):(o+=1e7+n,s+=1e7+i,r=o,a=s);let p=[],f=[];for(;c.current&&c.current.afterLineNumber<=a;){let e;e=c.current.afterLineNumber<=s?o-s+c.current.afterLineNumber:r;let t=null;m&&m.modifiedStartLineNumber<=c.current.afterLineNumber&&c.current.afterLineNumber<=m.modifiedEndLineNumber&&(t=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),p.push({afterLineNumber:e,heightInLines:c.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:t}),c.advance()}for(;h.current&&h.current.afterLineNumber<=r;){let e;e=h.current.afterLineNumber<=o?s-o+h.current.afterLineNumber:a,f.push({afterLineNumber:e,heightInLines:h.current.height/this.originalLineHeight,domNode:null}),h.advance()}if(null!==m&&xD(m)){let e=this._produceOriginalFromDiff(m,n,i);e&&p.push(e)}if(null!==m&&LD(m)){let e=this._produceModifiedFromDiff(m,n,i);e&&f.push(e)}let b=0,_=0;for(p=p.sort(l),f=f.sort(l);b<p.length&&_<f.length;){let i=p[b],n=f[_],r=i.afterLineNumber-o,a=n.afterLineNumber-s;r<a?(d(e,i),b++):a<r?(d(t,n),_++):i.shouldNotShrink?(d(e,i),b++):n.shouldNotShrink?(d(t,n),_++):i.heightInLines>=n.heightInLines?(i.heightInLines-=n.heightInLines,_++):(n.heightInLines-=i.heightInLines,b++)}for(;b<p.length;)d(e,p[b]),b++;for(;_<f.length;)d(t,f[_]),_++}return{original:_D._ensureDomNodes(e),modified:_D._ensureDomNodes(t)}}static _ensureDomNodes(e){return e.map((e=>(e.domNode||(e.domNode=function(){let e=document.createElement("div");return e.className="diagonal-fill",e}()),e)))}}function vD(e,t,i,n,o){return{range:new Vi(e,t,i,n),options:o}}const wD={charDelete:Wv.register({className:"char-delete"}),charDeleteWholeLine:Wv.register({className:"char-delete",isWholeLine:!0}),charInsert:Wv.register({className:"char-insert"}),charInsertWholeLine:Wv.register({className:"char-insert",isWholeLine:!0}),lineInsert:Wv.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Wv.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+gD.classNames,marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Wv.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Wv.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+mD.classNames,marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Wv.register({marginClassName:"line-delete"})};class CD extends fD{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new ME(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart((()=>this.onSashDragStart())),this._sash.onDidChange((e=>this.onSashDrag(e))),this._sash.onDidEnd((()=>this.onSashDragEnd())),this._sash.onDidReset((()=>this.onSashReset()))}setEnableSplitViewResizing(e){let t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let t=this._dataSource.getWidth()-pD.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*t),n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*CD.MINIMUM_EDITOR_WIDTH?(i<CD.MINIMUM_EDITOR_WIDTH&&(i=CD.MINIMUM_EDITOR_WIDTH),i>t-CD.MINIMUM_EDITOR_WIDTH&&(i=t-CD.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}onSashDragStart(){this._startSashPosition=this._sashPosition}onSashDrag(e){let t=this._dataSource.getWidth()-pD.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}onSashDragEnd(){this._sash.layout()}onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i,n,o){return new yD(e,t,n.getOption(51),i,o.getOption(51)).getViewZones()}_getOriginalEditorDecorations(e,t,i,n,o){const s=String(this._removeColor);let r={decorations:[],overviewZones:[]},a=n.getModel();for(let l=0,d=e.length;l<d;l++){let n=e[l];if(LD(n)&&(r.decorations.push({range:new Vi(n.originalStartLineNumber,1,n.originalEndLineNumber,1073741824),options:i?wD.lineDeleteWithSign:wD.lineDelete}),xD(n)&&n.charChanges||r.decorations.push(vD(n.originalStartLineNumber,1,n.originalEndLineNumber,1073741824,wD.charDeleteWholeLine)),r.overviewZones.push(new Ix(n.originalStartLineNumber,n.originalEndLineNumber,s)),n.charChanges))for(let e=0,i=n.charChanges.length;e<i;e++){let i=n.charChanges[e];if(LD(i))if(t)for(let e=i.originalStartLineNumber;e<=i.originalEndLineNumber;e++){let t,n;t=e===i.originalStartLineNumber?i.originalStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.originalEndLineNumber?i.originalEndColumn:a.getLineLastNonWhitespaceColumn(e),r.decorations.push(vD(e,t,e,n,wD.charDelete))}else r.decorations.push(vD(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,wD.charDelete))}}return r}_getModifiedEditorDecorations(e,t,i,n,o){const s=String(this._insertColor);let r={decorations:[],overviewZones:[]},a=o.getModel();for(let l=0,d=e.length;l<d;l++){let n=e[l];if(xD(n)&&(r.decorations.push({range:new Vi(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824),options:i?wD.lineInsertWithSign:wD.lineInsert}),LD(n)&&n.charChanges||r.decorations.push(vD(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824,wD.charInsertWholeLine)),r.overviewZones.push(new Ix(n.modifiedStartLineNumber,n.modifiedEndLineNumber,s)),n.charChanges))for(let e=0,i=n.charChanges.length;e<i;e++){let i=n.charChanges[e];if(xD(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(e),r.decorations.push(vD(e,t,e,n,wD.charInsert))}else r.decorations.push(vD(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,wD.charInsert))}}return r}}CD.MINIMUM_EDITOR_WIDTH=100;class yD extends _D{constructor(e,t,i,n,o){super(e,t,i,n,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class SD extends fD{constructor(e,t){super(e),this.decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange((t=>{this.decorationsLeft!==t.decorationsLeft&&(this.decorationsLeft=t.decorationsLeft,e.relayoutEditors())})))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n,o,s){return new kD(e,t,i,n,o,s).getViewZones()}_getOriginalEditorDecorations(e,t,i,n,o){const s=String(this._removeColor);let r={decorations:[],overviewZones:[]};for(let a=0,l=e.length;a<l;a++){let t=e[a];LD(t)&&(r.decorations.push({range:new Vi(t.originalStartLineNumber,1,t.originalEndLineNumber,1073741824),options:wD.lineDeleteMargin}),r.overviewZones.push(new Ix(t.originalStartLineNumber,t.originalEndLineNumber,s)))}return r}_getModifiedEditorDecorations(e,t,i,n,o){const s=String(this._insertColor);let r={decorations:[],overviewZones:[]},a=o.getModel();for(let l=0,d=e.length;l<d;l++){let n=e[l];if(xD(n))if(r.decorations.push({range:new Vi(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824),options:i?wD.lineInsertWithSign:wD.lineInsert}),r.overviewZones.push(new Ix(n.modifiedStartLineNumber,n.modifiedEndLineNumber,s)),n.charChanges)for(let e=0,i=n.charChanges.length;e<i;e++){let i=n.charChanges[e];if(xD(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(e),r.decorations.push(vD(e,t,e,n,wD.charInsert))}else r.decorations.push(vD(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,wD.charInsert))}else r.decorations.push(vD(n.modifiedStartLineNumber,1,n.modifiedEndLineNumber,1073741824,wD.charInsertWholeLine))}return r}layout(){return Math.max(5,this.decorationsLeft)}}class kD extends _D{constructor(e,t,i,n,o,s){super(e,t,n.getOption(51),i,o.getOption(51)),this.originalModel=n.getModel(),this.modifiedEditorOptions=o.getOptions(),this.modifiedEditorTabSize=o.getModel().getOptions().tabSize,this.renderIndicators=s}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=[];if(e.charChanges)for(let p=0,f=e.charChanges.length;p<f;p++){let t=e.charChanges[p];LD(t)&&n.push(new gg(new Vi(t.originalStartLineNumber,t.originalStartColumn,t.originalEndLineNumber,t.originalEndColumn),"char-delete",0))}let o=kh(1e4),s=[];const r=this.modifiedEditorOptions.get(117),a=this.modifiedEditorOptions.get(36),l=r.decorationsWidth;let d=this.modifiedEditorOptions.get(51);const c=a.typicalHalfwidthCharacterWidth;let h=0;const u=[];for(let p=e.originalStartLineNumber;p<=e.originalEndLineNumber;p++)if(h=Math.max(h,this._renderOriginalLine(p-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,p,n,o)),u.push(this.originalModel.getLineContent(p)),this.renderIndicators){let t=p-e.originalStartLineNumber;s=s.concat([`<div class="delete-sign ${mD.classNames}" style="position:absolute;top:${t*d}px;width:${l}px;height:${d}px;right:0;"></div>`])}h+=this.modifiedEditorOptions.get(85);let g=document.createElement("div");g.className="view-lines line-delete monaco-mouse-cursor-text",g.innerHTML=o.build(),Up.applyFontInfoSlow(g,a);let m=document.createElement("div");return m.className="inline-deleted-margin-view-zone",m.innerHTML=s.join(""),Up.applyFontInfoSlow(m,a),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:h*c,domNode:g,marginDomNode:m,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:u}}}_renderOriginalLine(e,t,i,n,o,s,r){const a=t.getLineTokens(o),l=a.getLineContent(),d=i.get(36),c=Ju.filter(s,o,1,l.length+1);r.appendASCIIString('<div class="view-line'),0===s.length&&r.appendASCIIString(" char-delete"),r.appendASCIIString('" style="top:'),r.appendASCIIString(String(e*i.get(51))),r.appendASCIIString('px;width:1000000px;">');const h=ug.isBasicASCII(l,t.mightContainNonBasicASCII()),u=ug.containsRTL(l,h,t.mightContainRTL()),g=sg(new ig(d.isMonospace&&!i.get(24),d.canUseHalfwidthRightwardsArrow,l,!1,h,u,0,a,c,n,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,i.get(95),i.get(80),i.get(74),i.get(37)!==et.OFF,null),r);r.appendASCIIString("</div>");const m=g.characterMapping.getAbsoluteOffsets();return m.length>0?m[m.length-1]:0}}function xD(e){return e.modifiedEndLineNumber>0}function LD(e){return e.originalEndLineNumber>0}Sb(((e,t)=>{const i=e.getColor(XC);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const n=e.getColor(ey);n&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const o=e.getColor(ty);o&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const s=e.getColor(iy);s&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; }`);const r=e.getColor(lC);r&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${r}; }`);const a=e.getColor(ny);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(dC);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const d=e.getColor(cC);d&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${d};\n\t\t\t}\n\t\t`);const c=e.getColor(hC);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const h=e.getColor(oy);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${h} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${h} 50%, ${h} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)}));const ED=co("themeService"),DD=co("keybindingService");var ND=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},TD=function(e,t){return function(i,n){t(i,n,e)}};let ID=0,MD=!1;function RD(){MD||(MD=!0,function(e){Tp=document.createElement("div"),Tp.className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),Tp.appendChild(e),e};Ip=t(),Mp=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),Tp.appendChild(e),e};Rp=i(),Ap=i(),e.appendChild(Tp)}(document.body))}let AD=class extends CE{constructor(e,t,i,n,o,s,r,a,l,d){(t=t||{}).ariaLabel=t.ariaLabel||sp.editorViewAccessibleLabel,t.ariaLabel=t.ariaLabel+";"+sp.accessibilityHelpMessage,super(e,t,{},i,n,o,s,a,l,d),this._standaloneKeybindingService=r instanceof vp?r:null,RD()}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++ID,o=Jp.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),It.None;const t=e.id,i=e.label,n=Jp.and(Jp.equals("editorId",this.getId()),Jp.deserialize(e.precondition)),o=e.keybindings,s=Jp.and(n,Jp.deserialize(e.keybindingContext)),r=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),d=new Tt,c=this.getId()+":"+t;if(d.add(ul.registerCommand(c,l)),r){let e={command:{id:c,title:i},when:n,group:r,order:a};d.add(vf.appendMenuItem(bf.EditorContext,e))}if(Array.isArray(o))for(const u of o)d.add(this._standaloneKeybindingService.addDynamicKeybinding(c,u,l,s));let h=new EL(c,i,i,n,l,this._contextKeyService);return this._actions[t]=h,d.add(Nt((()=>{delete this._actions[t]}))),d}};AD=ND([TD(2,ao),TD(3,uo),TD(4,hl),TD(5,gf),TD(6,DD),TD(7,bb),TD(8,$m),TD(9,tE)],AD);let OD=class extends AD{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u){Lp(h,t,!1);const g=d.registerEditorContainer(e);"string"==typeof(t=t||{}).theme&&d.setTheme(t.theme);let m,p=t.model;if(delete t.model,super(e,t,n,o,s,r,a,d,c,u),this._contextViewService=l,this._configurationService=h,this._standaloneThemeService=d,this._register(i),this._register(g),void 0===p?(m=self.monaco.editor.createModel(t.value||"",t.language||"text/plain"),this._ownsModel=!0):(m=p,this._ownsModel=!1),this._attachModel(m),m){let e={oldModelUrl:null,newModelUrl:m.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){Lp(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};OD=ND([TD(3,ao),TD(4,uo),TD(5,hl),TD(6,gf),TD(7,DD),TD(8,nD),TD(9,ED),TD(10,$m),TD(11,km),TD(12,tE)],OD);let PD=class extends pD{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u,g,m){Lp(h,t,!0);const p=d.registerEditorContainer(e);"string"==typeof(t=t||{}).theme&&(t.theme=d.setTheme(t.theme)),super(e,t,m,a,o,n,l,d,c,u,g),this._contextViewService=r,this._configurationService=h,this._standaloneThemeService=d,this._register(i),this._register(p),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){Lp(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(AD,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};PD=ND([TD(3,ao),TD(4,gf),TD(5,DD),TD(6,nD),TD(7,ah),TD(8,uo),TD(9,ED),TD(10,$m),TD(11,km),TD(12,oD),TD(13,dD),TD(14,aD)],PD);const FD=co("modeService");class WD{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}let BD=[],VD=[],HD=[];function zD(e,t=!1){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(pi.sep)>=0}}(e);BD.push(i),i.userConfigured?HD.push(i):VD.push(i),t&&!i.userConfigured&&BD.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}function UD(e,t){let i;if(e)switch(e.scheme){case bs.file:i=e.fsPath;break;case bs.data:i=Za.parseMetaData(e).get(Za.META_DATA_LABEL);break;default:i=e.path}if(!i)return["application/unknown"];i=i.toLowerCase();const n=wi(i),o=KD(i,n,HD);if(o)return[o,"text/plain"];const s=KD(i,n,VD);if(s)return[s,"text/plain"];if(t){const e=function(e){Ca(e)&&(e=e.substr(1));if(e.length>0)for(let t=BD.length-1;t>=0;t--){const i=BD[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i.mime}return null}(t);if(e)return[e,"text/plain"]}return["application/unknown"]}function KD(e,t,i){let n=null,o=null,s=null;for(let r=i.length-1;r>=0;r--){const a=i[r];if(t===a.filenameLowercase){n=a;break}if(a.filepattern&&(!o||a.filepattern.length>o.filepattern.length)){const i=a.filepatternOnPath?e:t;bd(a.filepatternLowercase,i)&&(o=a)}a.extension&&(!s||a.extension.length>s.extension.length)&&t.endsWith(a.extensionLowercase)&&(s=a)}return n?n.mime:o?o.mime:s?s.mime:null}const qD=new class{constructor(){this._onDidChangeLanguages=new Pt,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};$g.add("editor.modesRegistry",qD);const $D=new xc("plaintext",1);qD.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[ue("vs/editor/common/modes/modesRegistry","plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),zh.register($D,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}});const jD=Object.prototype.hasOwnProperty;class GD extends It{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(qD.onDidChangeLanguages((e=>this._initializeFromRegistry()))))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=qD.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),$g.as(Zg).registerOverrideIdentifiers(qD.getLanguages().map((e=>e.id))),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let i;if(jD.call(this._languages,t))i=this._languages[t];else{const e=this._getLanguageId(t);i={identifier:new xc(t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i}this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)zD({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let l of t.filenames)zD({id:i,mime:n,filename:l},this._warnOnOverwrite),e.filenames.push(l);if(Array.isArray(t.filenamePatterns))for(let l of t.filenamePatterns)zD({id:i,mime:n,filepattern:l},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);"^"!==(o=t).source&&"^$"!==o.source&&"$"!==o.source&&"^\\s*$"!==o.source&&o.exec("")&&0===o.lastIndex||zD({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(a){ft(a)}}var o;e.aliases.push(i);let s=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const l of s)l&&0!==l.length&&e.aliases.push(l);let r=null!==s&&s.length>0;if(r&&null===s[0]);else{let t=(r?s[0]:null)||i;!r&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!jD.call(this._mimeTypesMap,e)||jD.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return jD.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map((e=>e.trim())).map((e=>jD.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e)).filter((e=>jD.call(this._languages,e))):[]}getLanguageIdentifier(e){if("vs.editor.nullMode"===e||0===e)return oh;let t;if("string"==typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return jD.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=UD(e,t);return this.extractModeIds(i.join(","))}}class ZD extends It{constructor(e,t){super(),this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._selector=t,this.languageIdentifier=this._selector(),this._register(e((()=>this._evaluate())))}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class YD{constructor(e=!1){this._onDidCreateMode=new Pt,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new Pt,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new GD(!0,e),this._registry.onDidChange((()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return cs(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return cs(this._registry.extractModeIds(e),null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new ZD(this.onLanguagesMaybeChanged,(()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)}))}createByFilepathOrFirstLine(e,t){return new ZD(this.onLanguagesMaybeChanged,(()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)}))}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||oh;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||oh;this._instantiatedModes[e]=new WD(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}const JD=co("undoRedoService");class QD{constructor(e,t){this.resource=e,this.elements=t}}class XD{constructor(e,t,i){this._legend=e,this._themeService=t,this._logService=i,this._hashTable=new iN}getMetadata(e,t,i){const n=this._hashTable.get(e,t,i.id);let o;if(n)o=n.metadata,this._logService.getLevel()===Iu.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Lc.getForeground(o)}, fontStyle ${Lc.getFontStyle(o).toString(2)}`);else{let n=this._legend.tokenTypes[e];const s=[];if(n){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&s.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===Iu.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),s.push("not-in-legend"));const r=this._themeService.getColorTheme().getTokenStyleMetadata(n,s,i.language);if(void 0===r)o=2147483647;else{if(o=0,void 0!==r.italic){o|=1|(r.italic?1:0)<<11}if(void 0!==r.bold){o|=2|(r.bold?2:0)<<11}if(void 0!==r.underline){o|=4|(r.underline?4:0)<<11}if(r.foreground){o|=8|r.foreground<<14}0===o&&(o=2147483647)}}else this._logService.getLevel()===Iu.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,n="not-in-legend";this._hashTable.add(e,t,i.id,o),this._logService.getLevel()===Iu.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${n}) / ${t} (${s.join(" ")}): foreground ${Lc.getForeground(o)}, fontStyle ${Lc.getFontStyle(o).toString(2)}`)}return o}}function eN(e,t,i){const n=e.data,o=e.data.length/5|0,s=Math.max(Math.ceil(o/1024),400),r=[];let a=0,l=1,d=0;for(;a<o;){const e=a;let c=Math.min(e+s,o);if(c<o){let t=c;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=c;for(;e+1<o&&0===n[5*e];)e++;c=e}else c=t}let h=new Uint32Array(4*(c-e)),u=0,g=0;for(;a<c;){const e=5*a,o=n[e],s=n[e+1],r=l+o,c=0===o?d+s:s,m=n[e+2],p=n[e+3],f=n[e+4],b=t.getMetadata(p,f,i);2147483647!==b&&(0===g&&(g=r),h[u]=r-g,h[u+1]=c,h[u+2]=c+m,h[u+3]=b,u+=4),l=r,d=c,a++}u!==h.length&&(h=h.subarray(0,u));const m=new ev(g,new Q_(h));r.push(m)}return r}class tN{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class iN{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=iN._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<iN._SIZES.length?2/3*this._currentLength:0),this._elements=[],iN._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let o=this._elements[n];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=iN._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<iN._SIZES.length?2/3*this._currentLength:0),this._elements=[],iN._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new tN(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}iN._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var nN=function(e,t){return function(i,n){t(i,n,e)}};function oN(e){return e.toString()}class sN{constructor(e,t,i){this._modelEventListeners=new Tt,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((()=>t(e)))),this._modelEventListeners.add(e.onDidChangeLanguage((t=>i(e,t))))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((()=>this.model.setMode(e.languageIdentifier))),this.model.setMode(e.languageIdentifier)}}const rN=Le||xe?1:2;let aN=class e extends It{constructor(e,t,i,n,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=o,this._onModelAdded=this._register(new Pt),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new Pt),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new Pt),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new cN(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration((()=>this._updateModelOptions()))),this._updateModelOptions(),this._register(new dN(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let i=rt;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let n=i;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let o=lt;e.editor&&void 0!==e.editor.insertSpaces&&(o="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let s=rN;const r=e.eol;"\r\n"===r?s=2:"\n"===r&&(s=1);let a=ct;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(a="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let l=dt;e.editor&&void 0!==e.editor.detectIndentation&&(l="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let d=ht;return e.editor&&void 0!==e.editor.largeFileOptimizations&&(d="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:i,indentSize:n,insertSpaces:o,detectIndentation:l,defaultEOL:s,trimAutoWhitespace:a,largeFileOptimizations:d}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"auto"!==i?i:3===Me||2===Me?"\n":"\r\n"}getCreationOptions(t,i,n){let o=this._modelCreationOptionsByLanguageAndResource[t+i];if(!o){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),r=this._getEOL(i,t);o=e._readModelOptions({editor:s,eol:r},n),this._modelCreationOptionsByLanguageAndResource[t+i]=o}return o}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,o=i.length;n<o;n++){const o=i[n],s=this._models[o],r=s.model.getLanguageIdentifier().language,a=s.model.uri,l=t[r+a],d=this.getCreationOptions(r,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,d,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_removeDisposedModel(e){const t=this._disposedModels.get(oN(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(oN(e)),t}_createModelData(e,t,i,n){const o=this.getCreationOptions(t.language,i,n),s=new Mv(e,o,t,i,this._undoRedoService);if(i&&this._disposedModels.has(oN(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=function(e){const t=new Jh,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}(s)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)Ub(e)&&e.matchesResource(i)&&e.setModel(s);for(const e of t.future)Ub(e)&&e.matchesResource(i)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,(e=>Ub(e)&&e.matchesResource(i))),n&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const r=oN(s.uri);if(this._models[r])throw new Error("ModelService: Cannot add model because it already exists!");const a=new sN(s,(e=>this._onWillDispose(e)),((e,t)=>this._onDidChangeLanguage(e,t)));return this._models[r]=a,a}createModel(e,t,i,n=!1){let o;return t?(o=this._createModelData(e,t.languageIdentifier,i,n),this.setMode(o.model,t)):o=this._createModelData(e,$D,i,n),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[oN(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=oN(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(e){const t=oN(e.uri),i=this._models[t];delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,o=t.getLanguageIdentifier().language,s=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),r=this.getCreationOptions(o,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,r,s),this._onModelModeChanged.fire({model:t,oldModeId:n})}};aN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([nN(0,km),nN(1,Nu),nN(2,bb),nN(3,Tu),nN(4,JD)],aN);function lN(e,t,i){var n;const o=null===(n=i.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof o?o:t.getColorTheme().semanticHighlighting}class dN extends It{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const o=e=>{this._watchers[e.uri.toString()]=new uN(e,t,this._semanticStyling)},s=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},r=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];lN(n,t,i)?e||o(n):e&&s(n,e)}};this._register(e.onModelAdded((e=>{lN(e,t,i)&&o(e)}))),this._register(e.onModelRemoved((e=>{const t=this._watchers[e.uri.toString()];t&&s(e,t)}))),this._register(i.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&r()}))),this._register(t.onDidColorThemeChange(r))}}class cN extends It{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange((()=>{this._caches=new WeakMap})))}get(e){return this._caches.has(e)||this._caches.set(e,new XD(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class hN{constructor(e,t,i){this._provider=e,this.resultId=t,this.data=i}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class uN extends It{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new Go((()=>this._fetchDocumentSemanticTokensNow()),300)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent((()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})));const n=()=>{Et(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of eh.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange((()=>this._fetchDocumentSemanticTokens.schedule(0))))};n(),this._register(eh.onDidChange((()=>{n(),this._fetchDocumentSemanticTokens.schedule()}))),this._register(t.onDidColorThemeChange((e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()}))),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=this._getSemanticColoringProvider();if(!e)return;this._currentDocumentRequestCancellationTokenSource=new Kt;const t=[],i=this._model.onDidChangeContent((e=>{t.push(e)})),n=this._semanticStyling.get(e),o=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null;Promise.resolve(e.provideDocumentSemanticTokens(this._model,o,this._currentDocumentRequestCancellationTokenSource.token)).then((o=>{this._currentDocumentRequestCancellationTokenSource=null,i.dispose(),this._setDocumentSemanticTokens(e,o||null,n,t)}),(e=>{e&&"string"==typeof e.message&&-1!==e.message.indexOf("busy")||ft(e),this._currentDocumentRequestCancellationTokenSource=null,i.dispose(),t.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())}))}static _isSemanticTokens(e){return e&&!!e.data}static _isSemanticTokensEdits(e){return e&&Array.isArray(e.edits)}static _copy(e,t,i,n,o){for(let s=0;s<o;s++)i[n+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,n){const o=this._currentDocumentResponse;if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i)if(t){if(uN._isSemanticTokensEdits(t)){if(!o)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:o.data};else{let e=0;for(const o of t.edits)e+=(o.data?o.data.length:0)-o.deleteCount;const i=o.data,n=new Uint32Array(i.length+e);let s=i.length,r=n.length;for(let o=t.edits.length-1;o>=0;o--){const e=t.edits[o],a=s-(e.start+e.deleteCount);a>0&&(uN._copy(i,s-a,n,r-a,a),r-=a),e.data&&(uN._copy(e.data,0,n,r-e.data.length,e.data.length),r-=e.data.length),s=e.start}s>0&&uN._copy(i,0,n,0,s),t={resultId:t.resultId,data:n}}}if(uN._isSemanticTokens(t)){this._currentDocumentResponse=new hN(e,t.resultId,t.data);const o=eN(t,i,this._model.getLanguageIdentifier());if(n.length>0){for(const e of n)for(const t of o)for(const i of e.changes)t.applyEdit(i.range,i.text);this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}this._model.setSemanticTokens(o,!0)}else this._model.setSemanticTokens(null,!0)}else this._model.setSemanticTokens(null,!0);else this._model.setSemanticTokens(null,!1)}_getSemanticColoringProvider(){const e=eh.ordered(this._model);return e.length>0?e[0]:null}}class gN extends It{constructor(){super(),this._onCodeEditorAdd=this._register(new Pt),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new Pt),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new Pt),this._onDiffEditorRemove=this._register(new Pt),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map((e=>this._codeEditors[e]))}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map((e=>this._diffEditors[e]))}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const n=e.toString();let o;this._modelProperties.has(n)?o=this._modelProperties.get(n):(o=new Map,this._modelProperties.set(n,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i)){return this._modelProperties.get(i).get(t)}}}class mN{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){gr(e,this._styleSheet)}}class pN{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){gr(e,this._styleSheet)}}let fN=class extends gN{constructor(e,t=null){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=t||null,this._themeService=e}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new pN(dr())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!rr(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const e=new mN(this,i,dr(t));this._editorStyleSheets.set(i,e)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n){let o=this._decorationOptionProviders.get(e);if(!o){const s=this._getOrCreateStyleSheet(n),r={styleSheet:s,key:e,parentTypeKey:i,options:t||Object.create(null)};o=i?new vN(this._themeService,s,r):new wN(this._themeService,s,r),this._decorationOptionProviders.set(e,o)}o.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((t=>t.removeDecorations(e)))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};var bN,_N;fN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([(bN=0,_N=bb,function(e,t){_N(e,t,bN)})],fN);class vN{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new yN(3,i,e),this._afterContentRules=new yN(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class wN{constructor(e,t,i){this._disposables=new Tt,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;const n=t=>{const n=new yN(t,i,e);if(this._disposables.add(n),n.hasContent)return n.className};this.className=n(0);const o=(t=>{const n=new yN(t,i,e);return this._disposables.add(n),n.hasContent?{className:n.className,hasLetterSpacing:n.hasLetterSpacing}:null})(1);o&&(this.inlineClassName=o.className,this.inlineClassNameAffectsLetterSpacing=o.hasLetterSpacing),this.beforeContentClassName=n(3),this.afterContentClassName=n(4),this.glyphMarginClassName=n(2);const s=i.options;this.isWholeLine=Boolean(s.isWholeLine),this.stickiness=s.rangeBehavior;const r=s.light&&s.light.overviewRulerColor||s.overviewRulerColor,a=s.dark&&s.dark.overviewRulerColor||s.overviewRulerColor;void 0===r&&void 0===a||(this.overviewRuler={color:r||a,darkColor:a||r,position:s.overviewRulerLane||Vl.Center})}getOptions(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const CN={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"};class yN{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=SN.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+SN.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=SN.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange((e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()})):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let s=!1;t.length>0&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),s=!0),i.length>0&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),s=!0),n.length>0&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),s=!0),this._hasContent=s}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(Pr(CN.contentIconPath,Rr(Di.revive(e.contentIconPath)))),"string"==typeof e.contentText){const i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Pr(CN.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(Pr(CN.gutterIconPath,Rr(Di.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(Pr(CN.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Pr("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){const n=i.length;for(let o of t){const t=this.resolveValue(e[o]);"string"==typeof t&&i.push(Pr(CN[o],t))}return i.length!==n}resolveValue(e){if((t=e)&&"string"==typeof t.id){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}var t;return e}}class SN{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}class kN extends fN{getActiveCodeEditor(){return null}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===bs.http||i===bs.https)return Ir(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}}class xN{constructor(e,t,i,n,o){this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=o}}const LN=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class EN{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(LN);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=yv.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class DN{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,o=e.length;n<o;n++){let o=e[n],s=-1;if("string"==typeof o.fontStyle){s=0;let e=o.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}let r=null;"string"==typeof o.foreground&&(r=o.foreground);let a=null;"string"==typeof o.background&&(a=o.background),t[i++]=new xN(o.token||"",n,s,r,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort(((e,t)=>{let i=function(e,t){return e<t?-1:e>t?1:0}(e.token,t.token);return 0!==i?i:e.index-t.index}));let i=0,n="000000",o="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(i=t.fontStyle),null!==t.foreground&&(n=t.foreground),null!==t.background&&(o=t.background)}let s=new EN;for(let c of t)s.getId(c);let r=s.getId(n),a=s.getId(o),l=new TN(i,r,a),d=new IN(l);for(let c=0,h=e.length;c<h;c++){let t=e[c];d.insert(t.token,t.fontStyle,s.getId(t.foreground),s.getId(t.background))}return new DN(s,d)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){let e=this._match(t),n=function(e){let t=e.match(NN);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const NN=/\b(comment|string|regex|regexp)\b/;class TN{constructor(e,t,i){this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new TN(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class IN{constructor(e){this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let o=this._children.get(t);return void 0!==o?o.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let o,s,r=e.indexOf(".");-1===r?(o=e,s=""):(o=e.substring(0,r),s=e.substring(r+1));let a=this._children.get(o);void 0===a&&(a=new IN(this._mainRule.clone()),this._children.set(o,a)),a.insert(s,t,i,n)}}const MN={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[CC]:"#FFFFFE",[yC]:"#000000",[AC]:"#E5EBF1",[aS]:"#D3D3D3",[lS]:"#939393",[OC]:"#ADD6FF4D"}},RN={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[CC]:"#1E1E1E",[yC]:"#D4D4D4",[AC]:"#3A3D41",[aS]:"#404040",[lS]:"#707070",[OC]:"#ADD6FF26"}},AN={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[CC]:"#000000",[yC]:"#FFFFFF",[aS]:"#FFFFFF",[lS]:"#FFFFFF"}};const ON=new class{constructor(){this.onDidChange=pc.onDidRegister}getCSS(){const e=[];for(let t of pc.all)e.push(PN(t));return e.join("\n")}};function PN(e){let t=e.definition;for(;t instanceof bc;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.character}'; }`}const FN=$g.as(Dw),WN=$g.as(Cb);class BN{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,yv.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=HN(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,yv.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=FN.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case"vs":return"light";case"hc-black":return"hc";default:return"dark"}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=HN(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=DN.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=Lc.getForeground(n),s=Lc.getFontStyle(n);return{foreground:o,italic:Boolean(1&s),bold:Boolean(2&s),underline:Boolean(4&s)}}}function VN(e){return"vs"===e||"vs-dark"===e||"hc-black"===e}function HN(e){switch(e){case"vs":return MN;case"vs-dark":return RN;case"hc-black":return AN}}function zN(e){let t=HN(e);return new BN(e,t)}class UN extends It{constructor(){super(),this._onColorThemeChange=this._register(new Pt),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._knownThemes=new Map,this._knownThemes.set("vs",zN("vs")),this._knownThemes.set("vs-dark",zN("vs-dark")),this._knownThemes.set("hc-black",zN("hc-black")),this._codiconCSS=ON.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this.setTheme("vs"),ON.onDidChange((()=>{this._codiconCSS=ON.getCSS(),this._updateCSS()}))}registerEditorContainer(e){return rr(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=dr(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.innerHTML=this._allCSS,this._styleElements.push(this._globalStyleElement)),It.None}_registerShadowDomContainer(e){const t=dr(e);return t.className="monaco-colors",t.innerHTML=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!VN(t.base)&&!VN(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new BN(e,t)),VN(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme&&this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setTheme(e){let t;if(t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get("vs"),this._theme===t)return t.id;this._theme=t;let i=[],n={},o={addRule:e=>{n[e]||(i.push(e),n[e]=!0)}};WN.getThemingParticipants().forEach((e=>e(t,o,this._environment)));let s=t.tokenTheme.getColorMap();return o.addRule(function(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(s)),this._themeCSS=i.join("\n"),this._updateCSS(),ih.setColorMap(s),this._onColorThemeChange.fire(t),t.id}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.innerHTML=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}class KN{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class qN extends KN{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}qN.INSTANCE=new qN;class $N extends KN{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=new Map,this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(this._values.keys());this._values.clear(),i.fire(new ZN(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`;this._values.has(e)&&(this._values.delete(e),t.push(e))}i.fire(new ZN(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf($N._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr($N._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)&&(n=JSON.stringify(i))}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}$N._keyPrefix="config.";class jN{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class GN{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class ZN{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class YN{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class JN{constructor(e){this._onDidChangeContext=new Ft({merge:e=>new YN(e)}),this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new jN(this,e,t)}get onDidChangeContext(){return this._onDidChangeContext.event}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new XN(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return Am.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new GN(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new GN(e))}getContext(e){return this._isDisposed?qN.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute("data-keybinding-context")){const t=e.getAttribute("data-keybinding-context");return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let QN=class extends JN{constructor(e){super(0),this._contexts=new Map,this._toDispose=new Tt,this._lastContextId=0;const t=new $N(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?qN.INSTANCE:this._contexts.get(e)||qN.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new KN(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};QN=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,km)],QN);class XN extends JN{constructor(e,t){super(e.createChildContext()),this._parent=e,t&&(this._domNode=t,this._domNode.setAttribute("data-keybinding-context",String(this._myContextId)))}dispose(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute("data-keybinding-context"),this._domNode=void 0)}get onDidChangeContext(){return St.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)}getContextValuesContainer(e){return this._isDisposed?qN.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}ul.registerCommand("setContext",(function(e,t,i){e.get(gf).createKey(String(t),i)}));var eT;function tT(e,t,i){const n=i.offset+i.size;return 0===i.position?t<=e-n?n:t<=i.offset?i.offset-t:Math.max(e-t,0):t<=i.offset?i.offset-t:t<=e-n?n:0}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],o={start:e.start,end:Math.min(t.start,e.end)},s={start:Math.max(t.end,e.start),end:e.end};return i(o)||n.push(o),i(s)||n.push(s),n}}(eT||(eT={}));class iT extends It{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=It.None,this.toDisposeOnSetContainer=It.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=xr(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Er(this.view),this.setContainer(e,t),this._register(Nt((()=>this.setContainer(null,1))))}setContainer(e,t){if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,ys(this.shadowRootHostElement),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM?(this.shadowRootHostElement=xr(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n\t\t\t\t\t<style>\n\t\t\t\t\t\t${nT}\n\t\t\t\t\t</style>\n\t\t\t\t`,this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(xr("slot"))):this.container.appendChild(this.view);const i=new Tt;iT.BUBBLE_UP_EVENTS.forEach((e=>{i.add(As(this.container,e,(e=>{this.onDOMEvent(e,!1)})))})),iT.BUBBLE_DOWN_EVENTS.forEach((e=>{i.add(As(this.container,e,(e=>{this.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),Cs(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Lr(this.view),this.toDisposeOnClean=e.render(this.view)||It.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||Ne&&ws.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(mr(t)){let i=Ys(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const i=Qs(this.view),n=tr(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,r={offset:e.top-window.pageYOffset,size:e.height,position:0===o?0:1};let a;a=0===s?{offset:e.left,size:0,position:0}:{offset:e.left+e.width,size:0,position:1};const l=tT(window.innerHeight,n,r)+window.pageYOffset;eT.intersects({start:l,end:l+n},{start:r.offset,end:r.offset+r.size})&&(a.size=e.width,1===s&&(a.offset=e.left));const d=tT(window.innerWidth,i,a);Ns(this.view,"top","bottom","left","right"),Ls(this.view,0===o?"bottom":"top"),Ls(this.view,0===s?"left":"right"),Ts(this.view,"fixed",this.useFixedPosition);const c=Ys(this.container);this.view.style.top=l-(this.useFixedPosition?Ys(this.view).top:c.top)+"px",this.view.style.left=d-(this.useFixedPosition?Ys(this.view).left:c.left)+"px",this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null==t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),Er(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!ir(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}iT.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],iT.BUBBLE_DOWN_EVENTS=["click"];let nT='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';const oT=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,sT=/(&amp;)?(&amp;)([^\s&])/g,rT=fc("menu-selection",bc.check),aT=fc("menu-submenu",bc.chevronRight);var lT,dT;(dT=lT||(lT={}))[dT.Right=0]="Right",dT[dT.Left=1]="Left";class cT extends ZE{constructor(e,t,i={}){Ls(e,"monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");Ls(n,"monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:2,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3,...xe||Le?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Tt),this.initializeStyleSheet(e),Ms(n,pr.KEY_DOWN,(e=>{new Mo(e).equals(2)&&e.preventDefault()})),i.enableMnemonics&&this.menuDisposables.add(Ms(n,pr.KEY_DOWN,(e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){fr(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof uT&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}}))),Le&&this._register(Ms(n,pr.KEY_DOWN,(e=>{const t=new Mo(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),fr(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),fr(e,!0))}))),this._register(Ms(this.domNode,pr.MOUSE_OUT,(e=>{ir(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())}))),this._register(Ms(this.actionsList,pr.MOUSE_OVER,(e=>{let t=e.target;if(t&&ir(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(xs(t,"action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}})));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new Qk(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this._register(Ms(s,pr.MOUSE_UP,(e=>{e.preventDefault()}))),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter((e=>{var t;return!(null===(t=i.submenuIds)||void 0===t?void 0:t.has(e.id))||(console.warn(`Found submenu cycle: ${e.id}`),!1)})),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter((e=>!(e instanceof gT))).forEach(((e,t,i)=>{e.updatePositionInSet(t+1,i.length)}))}initializeStyleSheet(e){rr(e)?(this.styleSheet=dr(e),this.styleSheet.innerHTML=mT):(cT.globalStyleSheet||(cT.globalStyleSheet=dr(),cT.globalStyleSheet.innerHTML=mT),this.styleSheet=cT.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach((t=>{(t instanceof hT||t instanceof gT)&&t.style(e)}))}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof jp)return new gT(t.context,e,{icon:!0});if(e instanceof Gp){const n=new uT(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new hT(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class hT extends jE{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let e=this.getAction().label;if(e){let t=oT.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Go((()=>{this.element&&(this._register(Ms(this.element,pr.MOUSE_UP,(e=>{if(fr(e,!0),_o){if(new Wo(e).rightButton)return;this.onClick(e)}setTimeout((()=>{this.onClick(e)}),0)}))),this._register(Ms(this.element,pr.CONTEXT_MENU,(e=>{fr(e,!0)}))))}),100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=vr(this.element,xr("a.action-menu-item")),this._action.id===jp.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=vr(this.item,xr("span.menu-item-check"+rT.cssSelector)),this.check.setAttribute("role","none"),this.label=vr(this.item,xr("span.action-label")),this.options.label&&this.options.keybinding&&(vr(this.item,xr("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){Cs(this.label);let e=kc(this.getAction().label);if(e){const t=function(e){const t=oT,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=oT.exec(e);if(i){e=Fr(e),sT.lastIndex=0;let t=sT.exec(e);for(;t&&t[1];)t=sT.exec(e);const n=e=>e.replace(/&amp;&amp;/g,"&amp;");t?this.label.append(Vr(n(e.substr(0,t.index))," "),xr("u",{"aria-hidden":"true"},t[3]),Hr(n(e.substr(t.index+t[0].length))," ")):this.label.innerText=n(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=ue("vs/base/browser/ui/menu/menu",{key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&Ns(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",Ls(this.label,"icon"),this.cssClass&&Es(this.label,this.cssClass),this.updateEnabled()):this.label&&Ds(this.label,"icon")}updateEnabled(){this.getAction().enabled?(this.element&&Ds(this.element,"disabled"),this.item&&(Ds(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&Ls(this.element,"disabled"),this.item&&(Ls(this.item,"disabled"),Dr(this.item)))}updateChecked(){this.item&&(this.getAction().checked?(Ls(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(Ds(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&xs(this.element,"focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class uT extends hT{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new Tt),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:lT.Right,this.showScheduler=new Go((()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))}),250),this.hideScheduler=new Go((()=>{this.element&&!ir(lr(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))}),750)}render(e){super.render(e),this.element&&(this.item&&(Ls(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=vr(this.item,xr("span.submenu-indicator"+aT.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(Ms(this.element,pr.KEY_UP,(e=>{let t=new Mo(e);(t.equals(17)||t.equals(3))&&(fr(e,!0),this.createSubmenu(!0))}))),this._register(Ms(this.element,pr.KEY_DOWN,(e=>{let t=new Mo(e);lr()===this.item&&(t.equals(17)||t.equals(3))&&fr(e,!0)}))),this._register(Ms(this.element,pr.MOUSE_OVER,(e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())}))),this._register(Ms(this.element,pr.MOUSE_LEAVE,(e=>{this.mouseOver=!1}))),this._register(Ms(this.element,pr.FOCUS_OUT,(e=>{this.element&&!ir(lr(),this.element)&&this.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)}))))}onClick(e){fr(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(t){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const o={top:0,left:0};return o.left=tT(e.width,t.width,{position:n===lT.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=tT(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=vr(this.element,xr("div.monaco-submenu")),Es(this.submenuContainer,"menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new cT(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},s=this.submenuContainer.getBoundingClientRect(),{top:r,left:a}=this.calculateSubmenuMenuLayout({height:window.innerHeight,width:window.innerWidth},s,o,this.expandDirection);this.submenuContainer.style.left=`${a}px`,this.submenuContainer.style.top=`${r}px`,this.submenuDisposables.add(Ms(this.submenuContainer,pr.KEY_UP,(e=>{new Mo(e).equals(15)&&(fr(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(Ms(this.submenuContainer,pr.KEY_DOWN,(e=>{new Mo(e).equals(15)&&fr(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&xs(this.element,"focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class gT extends GE{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let mT=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${PN(rT)}\n${PN(aT)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;function pT(e,t){const i=Object.create(null);for(let n in t){const o=t[n];o&&(i[n]=Zy(o,e))}return i}function fT(e,t,i){function n(n){const o=pT(e.getColorTheme(),t);"function"==typeof i?i(o):i.style(o)}return n(e.getColorTheme()),e.onDidColorThemeChange(n)}function bT(e,t,i){return fT(t,Object.assign(Object.assign({},_T),i||{}),e)}const _T={listFocusBackground:sy,listFocusForeground:ry,listActiveSelectionBackground:Ky(ay,.1),listActiveSelectionForeground:ly,listFocusAndSelectionBackground:ay,listFocusAndSelectionForeground:ly,listInactiveSelectionBackground:dy,listInactiveSelectionForeground:cy,listInactiveFocusBackground:hy,listHoverBackground:uy,listHoverForeground:gy,listDropBackground:my,listFocusOutline:Pw,listSelectionOutline:Pw,listHoverOutline:Pw,listFilterWidgetBackground:fy,listFilterWidgetOutline:by,listFilterWidgetNoMatchesOutline:_y,listMatchesShadow:Bw,treeIndentGuidesStroke:vy},vT={shadowColor:Bw,borderColor:wy,foregroundColor:Cy,backgroundColor:yy,selectionForegroundColor:Sy,selectionBackgroundColor:ky,selectionBorderColor:xy,separatorColor:Ly};class wT{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let n=mr(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,render:n=>{let o=e.getMenuClassName?e.getMenuClassName():"";o&&(n.className+=" "+o),this.options.blockMouse&&(this.block=n.appendChild(xr(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",Lo(this.block,pr.MOUSE_DOWN)((e=>e.stopPropagation())));const s=new Tt,r=e.actionRunner||new $p;var a,l;return r.onDidBeforeRun(this.onActionRun,this,s),r.onDidRun(this.onDidActionRun,this,s),i=new cT(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:r,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),s.add((a=i,fT(this.themeService,Object.assign(Object.assign({},vT),l),a))),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,s),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,s),Lo(window,pr.BLUR)((()=>{this.contextViewService.hideContextView(!0)}),null,s),Lo(window,pr.MOUSE_DOWN)((e=>{if(e.defaultPrevented)return;let t=new Wo(e),i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}),null,s),Dt(s,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(ys(this.block),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&this.notificationService&&this.notificationService.error(e.error)}}var CT=function(e,t){return function(i,n){t(i,n,e)}};let yT=class extends It{constructor(e,t,i,n,o){super(),this._onDidContextMenu=this._register(new Pt),this.onDidContextMenu=this._onDidContextMenu.event,this.contextMenuHandler=new wT(i,e,t,n,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),this._onDidContextMenu.fire()}};yT=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([CT(0,Sf),CT(1,$m),CT(2,nD),CT(3,DD),CT(4,bb)],yT);const ST=co("layoutService");let kT=class extends It{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=It.None,this.container=e.container,this.contextView=this._register(new iT(this.container,1)),this.layout(),this._register(e.onLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=Nt((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};kT=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,ST)],kT);const xT=co("dialogService");class LT{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class ET{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new LT(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}}class DT extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.toString()}}class NT{constructor(e=new eE,t=!1,i){this._services=e,this._strict=t,this._parent=i,this._services.set(ao,this)}createChild(e){return new NT(e,this._strict,this)}invokeFunction(e,...t){let i=TT.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw(o="service accessor is only valid during the invocation of its target method")?new Error(`Illegal state: ${o}`):new Error("Illegal state");var o;const s=this._getOrCreateServiceInstance(e,i);if(!s&&t!==ho)throw new Error(`[invokeFunction] unknown service '${e}'`);return s}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof RE?(i=TT.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=TT.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=so.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const r of n){let t=this._getOrCreateServiceInstance(r.id,i);if(!t&&this._strict&&!r.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${r.id}.`);o.push(t)}let s=n.length>0?n[0].index:t.length;if(t.length!==s){console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let i=s-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,s)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof RE)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof RE?this._createAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_createAndCacheServiceInstance(e,t,i){const n=new ET((e=>e.id.toString()));let o=0;const s=[{id:e,desc:t,_trace:i}];for(;s.length;){const t=s.pop();if(n.lookupOrInsertNode(t),o++>1e3)throw new DT(n);for(let i of so.getServiceDependencies(t.desc.ctor)){let o=this._getServiceInstanceOrDescriptor(i.id);if(o||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),o instanceof RE){const e={id:i.id,desc:o,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),s.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new DT(n);break}for(const{data:t}of e){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e),n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof RE)return this._createServiceInstance(t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new Zo((()=>this._createInstance(e,t,n)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,o=n[t];return"function"!=typeof o||(o=o.bind(n),e[t]=o),o},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class TT{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return TT._None}static traceCreation(e){return TT._None}branch(e,t){let i=new TT(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;TT._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){let o=[],s=new Array(i+1).join("\t");for(const[r,a,l]of n._dep)if(a&&l){t=!0,o.push(`${s}CREATES -> ${r}`);let n=e(i+1,l);n&&o.push(n)}else o.push(`${s}uses -> ${r}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${TT._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}TT._None=new class extends TT{constructor(){super(-1,null)}stop(){}branch(){return this}},TT._totals=0;const IT=co("labelService");class MT extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function RT(e,t){const i=[];for(let n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=eT.intersect(e,n.range);eT.isEmpty(t)||i.push({range:t,size:n.size})}return i}function AT({start:e,end:t},i){return{start:e+i,end:t+i}}class OT{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,o=RT({start:0,end:e},this.groups),s=RT({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((e=>({range:AT(e.range,n),size:e.size}))),r=i.map(((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size})));this.groups=function(...e){return function(e){const t=[];let i=null;for(let n of e){const e=n.range.start,o=n.range.end,s=n.size;i&&s===i.size?i.range.end=o:(i={range:{start:e,end:o},size:s},t.push(i))}return t}(e.reduce(((e,t)=>e.concat(t)),[]))}(o,r,s),this._size=this.groups.reduce(((e,t)=>e+t.size*(t.range.end-t.range.start)),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,s=i+o*n.size;if(e<s)return t+Math.floor((e-i)/n.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const o=n.range.end-n.range.start,s=i+o;if(e<s)return t+(e-i)*n.size;t+=o*n.size,i=s}return-1}}class PT{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=xr(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(Ds(t,"scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(le){}}(t));this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach(((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.domNode=null,i.templateData=null}})),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var FT=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const WT={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0};class BT{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class VT{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class HT{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class zT{constructor(e){(null==e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(e,t,i)=>i,(null==e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(e,t)=>t+1,(null==e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=e=>"listitem",(null==e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=e=>{}}}class UT{constructor(e,t,i,n=WT){if(this.virtualDelegate=t,this.domId="list_id_"+ ++UT.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new zo(50),this.splicing=!1,this.dragOverAnimationStopDisposable=It.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=It.None,this.onDragLeaveTimeout=It.None,this.disposables=new Tt,this._onDidChangeContentHeight=new Pt,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new OT;for(const o of i)this.renderers.set(o.templateId,o);this.cache=this.disposables.add(new PT(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",Ls(this.domNode,this.domId),this.domNode.tabIndex=0,Ts(this.domNode,"mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=Ml(n,(e=>e.horizontalScrolling),WT.horizontalScrolling),Ts(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new zT(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows";Ml(n,(e=>e.transformOptimization),WT.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Yf.addTarget(this.rowsContainer)),this.scrollable=new Uk(Ml(n,(e=>e.smoothScrolling),!1)?125:0,(e=>Bs(e))),this.scrollableElement=this.disposables.add(new Jk(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:1,vertical:Ml(n,(e=>e.verticalScrollMode),WT.verticalScrollMode),useShadows:Ml(n,(e=>e.useShadows),WT.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Lo(this.rowsContainer,Gf.Change)(this.onTouchChange,this,this.disposables),Lo(this.scrollableElement.getDomNode(),"scroll")((e=>e.target.scrollTop=0),null,this.disposables),St.map(Lo(this.domNode,"dragover"),(e=>this.toDragEvent(e)))(this.onDragOver,this,this.disposables),St.map(Lo(this.domNode,"drop"),(e=>this.toDragEvent(e)))(this.onDrop,this,this.disposables),Lo(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Lo(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=Ml(n,(e=>e.setRowLineHeight),WT.setRowLineHeight),this.setRowHeight=Ml(n,(e=>e.setRowHeight),WT.setRowHeight),this.supportDynamicHeights=Ml(n,(e=>e.supportDynamicHeights),WT.supportDynamicHeights),this.dnd=Ml(n,(e=>e.dnd),WT.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,Ts(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:Xs(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=eT.intersect(n,o);for(let v=s.start;v<s.end;v++)this.removeItemFromDOM(v);const r={start:e+t,end:this.items.length},a=eT.intersect(r,n),l=eT.relativeComplement(r,n),d=i.map((e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:It.None})));let c;0===e&&t>=this.items.length?(this.rangeMap=new OT,this.rangeMap.splice(0,0,d),this.items=d,c=[]):(this.rangeMap.splice(e,t,d),c=this.items.splice(e,t,...d));const h=i.length-t,u=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),g=AT(a,h),m=eT.intersect(u,g);for(let v=m.start;v<m.end;v++)this.updateItemInDOM(this.items[v],v);const p=eT.relativeComplement(g,u);for(const v of p)for(let e=v.start;e<v.end;e++)this.removeItemFromDOM(e);const f=l.map((e=>AT(e,h))),b=[{start:e,end:e+i.length},...f].map((e=>eT.intersect(u,e))),_=this.getNextToLastElement(b);for(const v of b)for(let e=v.start;e<v.end;e++)this.insertItemInDOM(e,_);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),c.map((e=>e.element))}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Bs((()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null})))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger((()=>this.updateScrollWidth())):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:er(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:Xs(this.domNode)}))}render(e,t,i,n,o,s=!1){const r=this.getRenderRange(t,i),a=eT.relativeComplement(r,e),l=eT.relativeComplement(e,r),d=this.getNextToLastElement(a);if(s){const t=eT.intersect(e,r);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const c of a)for(let e=c.start;e<c.end;e++)this.insertItemInDOM(e,d);for(const c of l)for(let e=c.start;e<c.end;e++)this.removeItemFromDOM(e);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==o&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){const i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId);const e=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",e);const t=this.accessibilityProvider.isChecked(i.element);void 0!==t&&i.row.domNode.setAttribute("aria-checked",String(!!t))}i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);const n=this.renderers.get(i.templateId);if(!n)throw new Error(`No renderer found for template id ${i.templateId}`);n&&n.renderElement(i.element,e,i.row.templateData,i.size);const o=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!o,o){const e=Lo(i.row.domNode,"dragstart");i.dragStartDisposable=e((e=>this.onDragStart(i.element,o,e)))}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=_o?"-moz-fit-content":"fit-content",e.width=Xs(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),Ts(e.row.domNode,"drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];t.dragStartDisposable.dispose();const i=this.renderers.get(t.templateId);t.row&&i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return St.map(Lo(this.domNode,"click"),(e=>this.toMouseEvent(e)))}get onMouseDblClick(){return St.map(Lo(this.domNode,"dblclick"),(e=>this.toMouseEvent(e)))}get onMouseMiddleClick(){return St.filter(St.map(Lo(this.domNode,"auxclick"),(e=>this.toMouseEvent(e))),(e=>1===e.browserEvent.button))}get onMouseDown(){return St.map(Lo(this.domNode,"mousedown"),(e=>this.toMouseEvent(e)))}get onContextMenu(){return St.map(Lo(this.domNode,"contextmenu"),(e=>this.toMouseEvent(e)))}get onTouchStart(){return St.map(Lo(this.domNode,"touchstart"),(e=>this.toTouchEvent(e)))}get onTap(){return St.map(Lo(this.rowsContainer,Gf.Tap),(e=>this.toGestureEvent(e)))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(UE,JSON.stringify([t])),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(n,i)),void 0===e&&(e=String(n.length));const t=xr(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout((()=>document.body.removeChild(t)),0)}this.currentDragData=new BT(n),$E.CurrentDragAndDropData=new VT(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),$E.CurrentDragAndDropData&&"vscode-ui"===$E.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if($E.CurrentDragAndDropData)this.currentDragData=$E.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new HT}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index],i=rs(i).filter((e=>e>=-1&&e<this.length)).sort(((e,t)=>e-t)),i=-1===i[0]?[-1]:i,n=this.currentDragFeedback,o=i,Array.isArray(n)&&Array.isArray(o)?Jo(n,o):n===o)return!0;var n,o;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])Ls(this.domNode,"drop-target"),Ls(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=Nt((()=>{Ds(this.domNode,"drop-target"),Ds(this.rowsContainer,"drop-target")}));else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode&&Ls(t.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=Nt((()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode&&Ds(t.row.domNode,"drop-target")}}))}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Ko((()=>this.clearDragOverFeedback()),100)}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,$E.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,$E.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=It.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=Zs(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),i=Bs(t)};let i=Bs(t);return Nt((()=>i.dispose()))}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Ko((()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t){const i=this.getRenderRange(e,t);let n,o;e===this.elementTop(i.start)?(n=i.start,o=0):i.end-i.start>1&&(n=i.start+1,o=this.elementTop(n)-e);let s=0;for(;;){const r=this.getRenderRange(e,t);let a=!1;for(let e=r.start;e<r.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),s+=t,a=a||0!==t}if(!a){0!==s&&this.eventuallyUpdateScrollDimensions();const e=eT.relativeComplement(i,r);for(const i of e)for(let e=i.start;e<i.end;e++)this.items[e].row&&this.removeItemFromDOM(e);const t=eT.relativeComplement(r,i);for(const i of t)for(let e=i.start;e<i.end;e++){const t=e+1,i=t<this.items.length?this.items[t].row:null,n=i?i.domNode:null;this.insertItemInDOM(e,n)}for(let i=r.start;i<r.end;i++)this.items[i].row&&this.updateItemInDOM(this.items[i],i);return"number"==typeof n&&(this.scrollTop=this.elementTop(n)-o),void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row&&t.row.domNode){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,n.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&t.disposeTemplate(e.row.templateData)}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Et(this.disposables)}}UT.InstanceCount=0,FT([jf],UT.prototype,"onMouseClick",null),FT([jf],UT.prototype,"onMouseDblClick",null),FT([jf],UT.prototype,"onMouseMiddleClick",null),FT([jf],UT.prototype,"onMouseDown",null),FT([jf],UT.prototype,"onContextMenu",null),FT([jf],UT.prototype,"onTouchStart",null),FT([jf],UT.prototype,"onTap",null);class KT{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach((n=>n.splice(e,t,i)))}}function qT(e,t,i){return Math.min(Math.max(e,t),i)}class $T{constructor(){this._n=1,this._val=0}update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this}}var jT,GT,ZT=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};class YT{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const n=ls(this.renderedElements,(e=>e.templateData===i));if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+t&&n.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=ls(this.renderedElements,(t=>t.templateData===e));t<0||this.renderedElements.splice(t,1)}}class JT{constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new Pt,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new YT(this)}splice(e,t,i){const n=i.length-t,o=e+t,s=[...this.sortedIndexes.filter((t=>t<e)),...i.map(((t,i)=>t?i+e:-1)).filter((e=>-1!==e)),...this.sortedIndexes.filter((e=>e>=o)).map((e=>e+n))];this.renderer.splice(e,t,i.length),this._set(s,s)}renderIndex(e,t){Ts(t,this._trait,this.contains(e))}unrender(e){Ds(e,this._trait)}set(e,t){return this._set(e,[...e].sort(mI),t)}_set(e,t,i){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=gI(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return Qo(this.sortedIndexes,e,mI)>=0}dispose(){Et(this._onChange)}}ZT([jf],JT.prototype,"renderer",null);class QT extends JT{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class XT{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map((()=>!1)));const n=this.trait.get().map((e=>this.identityProvider.getId(this.view.element(e)).toString())),o=i.map((e=>n.indexOf(this.identityProvider.getId(e).toString())>-1));this.trait.splice(e,t,o)}}function eI(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function tI(e){return!!xs(e,"monaco-editor")||!xs(e,"monaco-list")&&(!!e.parentElement&&tI(e.parentElement))}class iI{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new Tt;const n=!1!==i.multipleSelectionSupport,o=St.chain(Lo(t.domNode,"keydown")).filter((e=>!eI(e.target))).map((e=>new Mo(e)));o.filter((e=>3===e.keyCode)).on(this.onEnter,this,this.disposables),o.filter((e=>16===e.keyCode)).on(this.onUpArrow,this,this.disposables),o.filter((e=>18===e.keyCode)).on(this.onDownArrow,this,this.disposables),o.filter((e=>11===e.keyCode)).on(this.onPageUpArrow,this,this.disposables),o.filter((e=>12===e.keyCode)).on(this.onPageDownArrow,this,this.disposables),o.filter((e=>9===e.keyCode)).on(this.onEscape,this,this.disposables),n&&o.filter((e=>(xe?e.metaKey:e.ctrlKey)&&31===e.keyCode)).on(this.onCtrlA,this,this.disposables)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(us(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()}dispose(){this.disposables.dispose()}}(GT=jT||(jT={}))[GT.Idle=0]="Idle",GT[GT.Typing=1]="Typing";const nI=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class oI{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=jT.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new Tt,this.disposables=new Tt,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=St.chain(Lo(this.view.domNode,"keydown")).filter((e=>!eI(e.target))).filter((()=>this.automaticKeyboardNavigation||this.triggered)).map((e=>new Mo(e))).filter((e=>this.delegate.mightProducePrintableCharacter(e))).forEach((e=>{e.stopPropagation(),e.preventDefault()})).map((e=>e.browserEvent.key)).event,t=St.debounce(e,(()=>null),800);St.reduce(St.any(e,t),((e,t)=>null===t?null:(e||"")+t))(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Op(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=jT.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===jT.Idle?1:0;this.state=jT.Typing;for(let o=0;o<this.list.length;o++){const t=(i+o+n)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(t)),r=s&&s.toString();if(void 0===r||xd(e,r))return this.previouslyFocused=i,this.list.setFocus([t]),void this.list.reveal(t)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class sI{constructor(e,t){this.list=e,this.view=t,this.disposables=new Tt;St.chain(Lo(t.domNode,"keydown")).filter((e=>!eI(e.target))).map((e=>new Mo(e))).filter((e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey))).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const o=window.getComputedStyle(n);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function rI(e){return xe?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function aI(e){return e.browserEvent.shiftKey}const lI={isSelectionSingleChangeEvent:rI,isSelectionRangeChangeEvent:aI};class dI{constructor(e){this.list=e,this.disposables=new Tt,this._onPointer=new Pt,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=!(!1===e.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||lI),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Yf.addTarget(e.getHTMLElement()))),St.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):xe?e.browserEvent.metaKey:e.browserEvent.ctrlKey}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){tI(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(tI(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(eI(e.browserEvent.target)||tI(e.browserEvent.target))return;let t=this.list.getFocus()[0];const i=this.list.getSelection();t=void 0===t?i[0]:t;const n=e.index;return void 0===n?(this.list.setFocus([],e.browserEvent),void this.list.setSelection([],e.browserEvent)):this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e)||this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)?this.changeSelection(e,t):(this.list.setFocus([n],e.browserEvent),(o=e.browserEvent)instanceof MouseEvent&&2===o.button||this.list.setSelection([n],e.browserEvent),void this._onPointer.fire(e));var o}onDoubleClick(e){if(eI(e.browserEvent.target)||tI(e.browserEvent.target))return;if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e,t){const i=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==t){const n=us(Math.min(t,i),Math.max(t,i)+1),o=this.list.getSelection(),s=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let o=i-1;for(;o>=0&&e[o]===t-(i-o);)n.push(e[o--]);n.reverse(),o=i;for(;o<e.length&&e[o]===t+(o-i);)n.push(e[o++]);return n}(gI(o,[t]),t);if(0===s.length)return;const r=gI(n,function(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){n++,o++;continue}e[n]<t[o]?i.push(e[n++]):o++}return i}(o,s));this.list.setSelection(r,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const t=this.list.getSelection(),n=t.filter((e=>e!==i));this.list.setFocus([i]),t.length===n.length?this.list.setSelection([...n,i],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class cI{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):xe||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`);const n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n)}}const hI={listFocusBackground:yv.fromHex("#7FB0D0"),listActiveSelectionBackground:yv.fromHex("#0E639C"),listActiveSelectionForeground:yv.fromHex("#FFFFFF"),listFocusAndSelectionBackground:yv.fromHex("#094771"),listFocusAndSelectionForeground:yv.fromHex("#FFFFFF"),listInactiveSelectionBackground:yv.fromHex("#3F3F46"),listHoverBackground:yv.fromHex("#2A2D2E"),listDropBackground:yv.fromHex("#383B3D"),treeIndentGuidesStroke:yv.fromHex("#a9a9a9")},uI={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function gI(e,t){const i=[];let n=0,o=0;for(;n<e.length||o<t.length;)if(n>=e.length)i.push(t[o++]);else if(o>=t.length)i.push(e[n++]);else{if(e[n]===t[o]){i.push(e[n]),n++,o++;continue}e[n]<t[o]?i.push(e[n++]):i.push(t[o++])}return i}const mI=(e,t)=>e-t;class pI{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map((t=>t.renderTemplate(e)))}renderElement(e,t,i,n){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],n)}disposeElement(e,t,i,n){let o=0;for(const s of this.renderers)s.disposeElement&&s.disposeElement(e,t,i[o],n),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class fI{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof o?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class bI{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class _I{constructor(e,t,i,n,o=uI){var s;this.user=e,this._options=o,this.eventBufferer=new Wt,this._ariaLabel="",this.disposables=new Tt,this.didJustPressContextMenuKey=!1,this._onDidDispose=new Pt,this.onDidDispose=this._onDidDispose.event;const r=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(s=this._options.accessibilityProvider)||void 0===s?void 0:s.getWidgetRole():"list";this.selection=new QT("listbox"!==r),this.focus=new JT("focused"),Tl(o,hI,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(a.push(new fI(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map((e=>new pI(e.templateId,[...a,e])));const l=Object.assign(Object.assign({},o),{dnd:o.dnd&&new bI(this,o.dnd)});if(this.view=new UT(t,i,n,l),this.view.domNode.setAttribute("role",r),o.styleController)this.styleController=o.styleController(this.view.domId);else{const e=dr(this.view.domNode);this.styleController=new cI(e,this.view.domId)}if(this.spliceable=new KT([new XT(this.focus,this.view,o.identityProvider),new XT(this.selection,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=St.map(Lo(this.view.domNode,"focus",!0),(()=>null)),this.onDidBlur=St.map(Lo(this.view.domNode,"blur",!0),(()=>null)),this.disposables.add(new sI(this,this.view)),"boolean"!=typeof o.keyboardSupport||o.keyboardSupport){const e=new iI(this,this.view,o);this.disposables.add(e)}if(o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||nI;this.typeLabelController=new oI(this,this.view,o.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),o.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return St.map(this.eventBufferer.wrapEvent(this.focus.onChange),(e=>this.toListEvent(e)))}get onDidChangeSelection(){return St.map(this.eventBufferer.wrapEvent(this.selection.onChange),(e=>this.toListEvent(e)))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){const e=St.chain(Lo(this.view.domNode,"keydown")).map((e=>new Mo(e))).filter((e=>this.didJustPressContextMenuKey=58===e.keyCode||e.shiftKey&&68===e.keyCode)).filter((e=>(e.preventDefault(),e.stopPropagation(),!1))).event,t=St.chain(Lo(this.view.domNode,"keyup")).filter((()=>{const e=this.didJustPressContextMenuKey;return this.didJustPressContextMenuKey=!1,e})).filter((()=>this.getFocus().length>0&&!!this.view.domElement(this.getFocus()[0]))).map((e=>{const t=this.getFocus()[0];return{index:t,element:this.view.element(t),anchor:this.view.domElement(t),browserEvent:e}})).event,i=St.chain(this.view.onContextMenu).filter((()=>!this.didJustPressContextMenuKey)).map((({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.clientX+1,y:i.clientY},browserEvent:i}))).event;return St.any(e,t,i)}get onKeyDown(){return Lo(this.view.domNode,"keydown")}createMouseController(e){return new dI(this)}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new MT(this.user,`Invalid start index: ${e}`);if(t<0)throw new MT(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents((()=>this.spliceable.splice(e,t,i)))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus()}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new MT(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map((e=>this.view.element(e)))}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new MT(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,n);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,n);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),o=this.getFocusedElements()[0];if(o!==n){const n=this.findPreviousIndex(i,!1,t);n>-1&&o!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&setTimeout((()=>this.focusNextPage(e,t)),0)}}focusPreviousPage(e,t){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){const n=this.findNextIndex(i,!1,t);n>-1&&s!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&setTimeout((()=>this.focusPreviousPage(e,t)),0)}}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map((e=>this.view.element(e)))}reveal(e,t){if(e<0||e>=this.length)throw new MT(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(el(t)){const e=o-this.view.renderHeight;this.view.setScrollTop(e*qT(t,0,1)+n)}else{const e=n+o,t=i+this.view.renderHeight;n<i&&e>=t||(n<i?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new MT(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;const o=n-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map((e=>this.view.element(e))),browserEvent:t}}_onFocusChange(){const e=this.focus.get();Ts(this.view.domNode,"element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();Ts(this.view.domNode,"selection-none",0===e.length),Ts(this.view.domNode,"selection-single",1===e.length),Ts(this.view.domNode,"selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}ZT([jf],_I.prototype,"onDidChangeFocus",null),ZT([jf],_I.prototype,"onDidChangeSelection",null),ZT([jf],_I.prototype,"onContextMenu",null);class vI{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:It.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,n);const s=new Kt,r=o.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),r.then((t=>this.renderer.renderElement(t,e,i.data,n)))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class wI{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}var CI,yI;(yI=CI||(CI={}))[yI.Unknown=0]="Unknown",yI[yI.Twistie=1]="Twistie",yI[yI.Element=2]="Element";class SI extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class kI{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function xI(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function LI(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function EI(e){return"boolean"==typeof e.collapsible}class DI{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new Wt,this._onDidChangeCollapseState=new Pt,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Pt,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Pt,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=yt.empty(),n,o){if(0===e.length)throw new SI(this.user,"Invalid tree location");const{parentNode:s,listIndex:r,revealed:a,visible:l}=this.getParentNodeWithListIndex(e),d=[],c=yt.map(i,(e=>this.createTreeNode(e,s,s.visible?1:0,a,d,n))),h=e[e.length-1];let u=0;for(let v=h;v>=0&&v<s.children.length;v--){const e=s.children[v];if(e.visible){u=e.visibleChildIndex;break}}const g=[];let m=0,p=0;for(const v of c)g.push(v),p+=v.renderNodeCount,v.visible&&(v.visibleChildIndex=u+m++);const f=s.children.splice(h,t,...g);let b=0;for(const v of f)v.visible&&b++;if(0!==b)for(let v=h+g.length;v<s.children.length;v++){const e=s.children[v];e.visible&&(e.visibleChildIndex-=b)}if(s.visibleChildrenCount+=m-b,a&&l){const e=f.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(s,p-e),this.list.splice(r,e,d)}if(f.length>0&&o){const e=t=>{o(t),t.children.forEach(e)};f.forEach(e)}this._onDidSplice.fire({insertedNodes:g,deletedNodes:f});let _=s;for(;_;){if(2===_.visibility){this.refilter();break}_=_.parent}}rerender(e){if(0===e.length)throw new SI(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,n)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,n,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!EI(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return s}_setListNodeCollapseState(e,t,i,n){const o=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),a=s-(-1===t?0:1);return this.list.splice(t+1,a,r.slice(1)),o}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(EI(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!EI(t)&&t.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,o,s){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(r,i);r.visibility=a,n&&o.push(r);const l=e.children||yt.empty(),d=n&&0!==a&&!r.collapsed,c=yt.map(l,(e=>this.createTreeNode(e,r,a,d,o,s)));let h=0,u=1;for(const g of c)r.children.push(g),u+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=h++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=h,r.visible=2===a?h>0:1===a,r.visible?r.collapsed||(r.renderNodeCount=u):(r.renderNodeCount=0,n&&o.pop()),s&&s(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const s of e.children)r=this._updateNodeAfterFilterChange(s,o,i,n&&!e.collapsed)||r,s.visible&&(s.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?r:1===o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):xI(i)?(e.filterData=i.data,LI(i.visibility)):(e.filterData=void 0,LI(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new SI(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new SI(this.user,"Invalid tree location");const r=t.children[s];return{node:r,listIndex:i,revealed:n,visible:o&&r.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,o=!0){const[s,...r]=e;if(s<0||s>t.children.length)throw new SI(this.user,"Invalid tree location");for(let a=0;a<s;a++)i+=t.children[a].renderNodeCount;return n=n&&!t.collapsed,o=o&&t.visible,0===r.length?{parentNode:t,listIndex:i,revealed:n,visible:o}:this.getParentNodeWithListIndex(r,t.children[s],i+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const NI=fc("tree-item-expanded",bc.chevronDown),TI=fc("tree-filter-on-type-on",bc.listFilter),II=fc("tree-filter-on-type-off",bc.listSelection),MI=fc("tree-filter-clear",bc.close),RI=fc("tree-item-loading",bc.loading);class AI extends BT{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function OI(e){return e instanceof BT?new AI(e):e}class PI{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=It.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(OI(e),t)}onDragOver(e,t,i,n,o=!0){const s=this.dnd.onDragOver(OI(e),t&&t.element,i,n),r=this.autoExpandNode!==t;if(r&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return s;if(r&&"boolean"!=typeof s&&s.autoExpand&&(this.autoExpandDisposable=Ko((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof s||!s.accept||void 0===s.bubble||s.feedback){if(!o){return{accept:"boolean"==typeof s?s:s.accept,effect:"boolean"==typeof s?void 0:s.effect,feedback:[i]}}return s}if(1===s.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),s=i.getParentNodeLocation(o),r=i.getNode(s),a=s&&i.getListIndex(s);return this.onDragOver(e,r,a,n,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),d=a.getListIndex(l),c=a.getListRenderCount(l);return Object.assign(Object.assign({},s),{feedback:us(d,d+c)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(OI(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class FI{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var WI,BI;(BI=WI||(WI={})).None="none",BI.OnHover="onHover",BI.Always="always";class VI{constructor(e,t=[]){this._elements=t,this.onDidChange=St.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class HI{constructor(e,t,i,n,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=HI.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new lm,this.activeIndentNodes=new Set,this.indentGuidesDisposable=It.None,this.disposables=new Tt,this.templateId=e.templateId,this.updateOptions(o),St.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=qT(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==WI.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new Tt;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=vr(e,xr(".monaco-tl-row")),i=vr(t,xr(".monaco-tl-indent")),n=vr(t,xr(".monaco-tl-twistie")),o=vr(t,xr(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:n,indentGuidesDisposable:It.None,templateData:s}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const o=HI.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(Es(t.twistie,NI.classNames,"collapsible"),Ts(t.twistie,"collapsed",e.collapsed)):Ns(t.twistie,NI.classNames,"collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Cs(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new Tt,n=this.modelProvider();let o=e;for(;;){const e=n.getNodeLocation(o),s=n.getParentNodeLocation(e);if(!s)break;const r=n.getNode(s),a=xr(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(r)&&Ls(a,"active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(r,a),i.add(Nt((()=>this.renderedIndentGuides.delete(r,a)))),o=r}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const n=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(o){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>Ds(e,"active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>Ls(e,"active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Et(this.disposables)}}HI.DefaultIndent=8;class zI{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Tt,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let n;if(n="boolean"==typeof i?i?1:0:xI(i)?LI(i.visibility):i,0===n)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:ec.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=i&&i.toString();if(void 0===n)return{data:ec.Default,visibility:!0};const o=ic(this._pattern,this._lowercasePattern,0,n,n.toLowerCase(),0,!0);return o?(this._matchCount++,{data:o,visibility:!0}):this.tree.options.filterOnType?2:{data:ec.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Et(this.disposables)}}class UI{constructor(e,t,i,n,o){this.tree=e,this.view=i,this.filter=n,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Pt,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Pt,this.enabledDisposables=new Tt,this.disposables=new Tt,this.domNode=xr(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,Lo(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=vr(i.getHTMLElement(),xr(".monaco-list-type-filter-message")),this.labelDomNode=vr(this.domNode,xr("span.label"));const s=vr(this.domNode,xr(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=vr(s,xr("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),Lo(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=vr(s,xr("button.clear"+MI.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=ue("vs/base/browser/ui/tree/abstractTree","clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=St.chain(Lo(this.view.getHTMLElement(),"keydown")).filter((e=>!eI(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new Mo(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(xe?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,t=Lo(this.clearDomNode,"click");St.chain(St.any(e,t)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(xe?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!ec.isDefault(e.filterData)));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=Ys(e),i=e.clientWidth,n=i/2,o=this.domNode.clientWidth,s=new Tt;let r=this.positionClassName;const a=()=>{switch(r){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-o-6+"px"}};a(),Ds(this.domNode,r),Ls(this.domNode,"dragging"),s.add(Nt((()=>Ds(this.domNode,"dragging")))),Lo(document,"dragover")((e=>{e.preventDefault();const i=e.screenX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),r=i<n?"nw":"ne",a()}),null,s),Lo(this.domNode,"dragend")((()=>{this.positionClassName=r,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",Et(s)}),null,s),$E.CurrentDragAndDropData=new qE("vscode-ui"),s.add(Nt((()=>$E.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(Ns(this.filterOnTypeDomNode,II.classNames),Es(this.filterOnTypeDomNode,TI.classNames),this.filterOnTypeDomNode.title=ue("vs/base/browser/ui/tree/abstractTree","disable filter on type","Disable Filter on Type")):(Ns(this.filterOnTypeDomNode,TI.classNames),Es(this.filterOnTypeDomNode,II.classNames),this.filterOnTypeDomNode.title=ue("vs/base/browser/ui/tree/abstractTree","enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=ue("vs/base/browser/ui/tree/abstractTree","empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),Ts(this.domNode,"no-matches",e),this.domNode.title=ue("vs/base/browser/ui/tree/abstractTree","found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!ec.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Et(this.disposables)}}function KI(e){let t=CI.Unknown;return or(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=CI.Twistie:or(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=CI.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function qI(e,t){t(e),e.children.forEach((e=>qI(e,t)))}class $I{constructor(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){Jo(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach((e=>qI(e,i))),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>qI(e,n)));const o=new Map,s=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>qI(e,s)));const r=[];for(const a of this.nodes){const e=this.identityProvider.getId(a.element).toString();if(i.has(e)){const t=o.get(e);t&&r.push(t)}else r.push(a)}this._set(r,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class jI extends dI{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(eI(e.browserEvent.target)||tI(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=xs(i,"monaco-tl-twistie")||xs(i,"monaco-icon-label")&&xs(i,"folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!n)return super.onViewPointer(e);if(this.tree.expandOnlyOnDoubleClick&&2!==e.browserEvent.detail&&!n)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,s=i.getNodeLocation(t),r=e.browserEvent.altKey;if(i.setCollapsed(s,void 0,r),o&&n)return}super.onViewPointer(e)}onDoubleClick(e){xs(e.browserEvent.target,"monaco-tl-twistie")||super.onDoubleClick(e)}}class GI extends _I{constructor(e,t,i,n,o,s,r){super(e,t,i,n,r),this.focusTrait=o,this.selectionTrait=s}createMouseController(e){return new jI(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],o=[];i.forEach(((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&o.push(e+i)})),n.length>0&&super.setFocus(as([...super.getFocus(),...n])),o.length>0&&super.setSelection(as([...super.getSelection(),...o]))}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}}class ZI{constructor(e,t,i,n,o={}){this._options=o,this.eventBufferer=new Wt,this.disposables=new Tt,this._onWillRefilter=new Pt,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Pt;const s=new FI(i),r=new Bt,a=new Bt,l=new VI(a.event);this.renderers=n.map((e=>new HI(e,(()=>this.model),r.event,l,o)));for(let g of this.renderers)this.disposables.add(g);let d;var c,h;o.keyboardNavigationLabelProvider&&(d=new zI(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:d}),this.disposables.add(d)),this.focus=new $I(o.identityProvider),this.selection=new $I(o.identityProvider),this.view=new GI(e,t,s,this.renderers,this.focus,this.selection,Object.assign(Object.assign({},(c=()=>this.model,(h=o)&&Object.assign(Object.assign({},h),{identityProvider:h.identityProvider&&{getId:e=>h.identityProvider.getId(e.element)},dnd:h.dnd&&new PI(c,h.dnd),multipleSelectionController:h.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>h.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>h.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:h.accessibilityProvider&&Object.assign(Object.assign({},h.accessibilityProvider),{getSetSize(e){const t=c(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:h.accessibilityProvider&&h.accessibilityProvider.isChecked?e=>h.accessibilityProvider.isChecked(e.element):void 0,getRole:h.accessibilityProvider&&h.accessibilityProvider.getRole?e=>h.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>h.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>h.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:h.accessibilityProvider&&h.accessibilityProvider.getWidgetRole?()=>h.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e=>e.depth,getActiveDescendantId:h.accessibilityProvider.getActiveDescendantId&&(e=>h.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:h.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},h.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>h.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:h.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,o),r.input=this.model.onDidChangeCollapseState;const u=St.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(u((()=>null),null,this.disposables),a.input=St.chain(St.any(u,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==o.keyboardSupport){const e=St.chain(this.view.onKeyDown).filter((e=>!eI(e.target))).map((e=>new Mo(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){const e=o.keyboardNavigationDelegate||nI;this.typeFilterController=new UI(this,this.model,this.view,d,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=dr(this.view.getHTMLElement()),Ts(this.getHTMLElement(),"always",this._options.renderIndentGuides===WI.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return St.map(this.view.onMouseDblClick,KI)}get onPointer(){return St.map(this.view.onPointer,KI)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnlyOnDoubleClick(){var e;return null!==(e=this._options.expandOnlyOnDoubleClick)&&void 0!==e&&e}get expandOnlyOnTwistieClick(){return void 0!==this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),Ts(this.getHTMLElement(),"always",this._options.renderIndentGuides===WI.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const n=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}dispose(){Et(this.disposables),this.view.dispose()}}class YI{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new DI(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=yt.empty(),i,n){const o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i,n)}_setChildren(e,t=yt.empty(),i,n){const o=new Set,s=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,(e=>{if(null===e.element)return;const t=e;if(o.add(t.element),this.nodes.set(t.element,t),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();s.add(e),this.nodesByIdentity.set(e,t)}i&&i(t)}),(e=>{if(null===e.element)return;const t=e;if(o.has(t.element)||this.nodes.delete(t.element),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();s.has(e)||this.nodesByIdentity.delete(e)}n&&n(t)}))}preserveCollapseState(e=yt.empty()){return this.sorter&&(e=es([...e],this.sorter.compare.bind(this.sorter))),yt.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new SI(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new SI(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new SI(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new SI(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function JI(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:yt.map(yt.from(e.children),JI),collapsible:e.collapsible,collapsed:e.collapsed}}function QI(e){const t=[e.element],i=e.incompressible||!1;let n,o;for(;[o,n]=yt.consume(yt.from(e.children),2),1===o.length&&!(e=o[0]).incompressible;)t.push(e.element);return{element:{elements:t,incompressible:i},children:yt.map(yt.concat(o,n),QI),collapsible:e.collapsible,collapsed:e.collapsed}}function XI(e,t=0){let i;return i=t<e.element.elements.length-1?[XI(e,t+1)]:yt.map(yt.from(e.children),(e=>XI(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:i,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:i,collapsible:e.collapsible,collapsed:e.collapsed}}function eM(e){return XI(e,0)}function tM(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:yt.map(yt.from(e.children),(e=>tM(e,t,i)))})}class iM{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new YI(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=yt.empty()){if(null===e){const e=yt.map(t,this.enabled?QI:JI);return void this._setChildren(null,e)}const i=this.nodes.get(e);if(!i)throw new Error("Unknown compressed tree node");const n=this.model.getNode(i),o=this.model.getParentNodeLocation(i),s=this.model.getNode(o),r=tM(eM(n),e,t),a=(this.enabled?QI:JI)(r),l=s.children.map((e=>e===n?a:e));this._setChildren(s.element,l)}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=yt.map(t,eM),n=yt.map(i,e?QI:JI);this._setChildren(null,n)}_setChildren(e,t){const i=new Set;this.model.setChildren(e,t,(e=>{for(const t of e.element.elements)i.add(t),this.nodes.set(t,e.element)}),(e=>{for(const t of e.element.elements)i.has(t)||this.nodes.delete(t)}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new SI(this.user,`Tree element not found: ${e}`);return t}}const nM=e=>e[e.length-1];class oM{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new oM(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class sM{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||nM;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new kI((e=>new oM(n,e))),this.model=new iM(e,function(e,t){return{splice(i,n,o){t.splice(i,n,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return St.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return St.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return St.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=yt.empty()){this.model.setChildren(e,t)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}class rM extends ZI{constructor(e,t,i,n,o={}){super(e,t,i,n,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=yt.empty()){this.model.setChildren(e,t)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new YI(e,t,i)}}class aM{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);s>3&&r&&Object.defineProperty(t,i,r)}([jf],aM.prototype,"compressedTreeNodeProvider",null);class lM extends rM{constructor(e,t,i,n,o={}){const s=()=>this;super(e,t,i,n.map((e=>new aM(s,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(s,o))}setChildren(e,t=yt.empty()){this.model.setChildren(e,t)}createModel(e,t,i){return new sM(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var dM=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function cM(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function hM(e,t){return!!t.parent&&(t.parent===e||hM(e,t.parent))}class uM{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new uM(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class gM{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?Es(t,RI.classNames):Ns(t,RI.classNames),!1}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function mM(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function pM(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class fM extends BT{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function bM(e){return e instanceof BT?new fM(e):e}class _M{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(bM(e),t)}onDragOver(e,t,i,n,o=!0){return this.dnd.onDragOver(bM(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(bM(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function vM(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new _M(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function wM(e,t){t(e),e.children.forEach((e=>wM(e,t)))}class CM{constructor(e,t,i,n,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Pt,this._onDidChangeNodeSlowState=new Pt,this.nodeMapper=new kI((e=>new uM(e))),this.disposables=new Tt,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=void 0!==s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,n,s),this.root=cM({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return St.map(this.tree.onDidChangeFocus,mM)}get onDidChangeSelection(){return St.map(this.tree.onDidChangeSelection,mM)}get onMouseDblClick(){return St.map(this.tree.onMouseDblClick,pM)}get onPointer(){return St.map(this.tree.onPointer,pM)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,o){const s=new FI(i),r=n.map((e=>new gM(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=vM(o)||{};return new rM(e,t,s,r,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return dM(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,n){return dM(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new SI(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield St.toPromise(this._onDidRender.event));const o=this.getDataNode(e);if(yield this.refreshAndRenderNode(o,t,n),i)try{this.tree.rerender(o)}catch(s){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return dM(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new SI(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield St.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield St.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield St.toPromise(this._onDidRender.event)),n}))}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new SI(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i){return dM(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i)}))}refreshNode(e,t,i){return dM(this,void 0,void 0,(function*(){let n;return this.subTreeRefreshPromises.forEach(((o,s)=>{!n&&function(e,t){return e===t||hM(e,t)||hM(t,e)}(s,e)&&(n=o.then((()=>this.refreshNode(e,t,i))))})),n||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return dM(this,void 0,void 0,(function*(){let n;e.refreshPromise=new Promise((e=>n=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield Promise.all(o.map((e=>this.doRefreshSubTree(e,t,i))))}finally{n()}}))}doRefreshNode(e,t,i){return dM(this,void 0,void 0,(function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=Uo(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),n=this.doGetChildren(e).finally((()=>t.cancel()))}else n=Promise.resolve(yt.empty());try{const o=yield n;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.collapse(e===this.root?null:e),vt(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Vo((()=>dM(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ft))}setChildren(e,t,i,n){const o=[...t];if(0===e.children.length&&0===o.length)return[];const s=new Map,r=new Map;for(const d of e.children)if(s.set(d.element,d),this.identityProvider){const e=this.tree.isCollapsed(d);r.set(d.id,{node:d,collapsed:e})}const a=[],l=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=cM({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),d=r.get(l);if(d){const e=d.node;return s.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?d.collapsed?(e.children.forEach((e=>wM(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const c=cM({element:t,parent:e,id:l,hasChildren:o});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(c),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(c),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(c):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(c.collapsedByDefault=!1,a.push(c)),c}));for(const d of s.values())wM(d,(e=>this.nodes.delete(e.element)));for(const d of l)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t){const i=e.children.map((e=>this.asTreeElement(e,t)));this.tree.setChildren(e===this.root?null:e,i),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?yt.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class yM{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new yM(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class SM{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?Es(t,RI.classNames):Ns(t,RI.classNames),!1}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Et(this.disposables)}}class kM extends CM{constructor(e,t,i,n,o,s,r={}){super(e,t,i,o,s,r),this.compressionDelegate=n,this.compressibleNodeMapper=new kI((e=>new yM(e))),this.filter=r.filter}createTree(e,t,i,n,o){const s=new FI(i),r=n.map((e=>new SM(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&vM(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(o)||{};return new lM(e,t,s,r,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},o=n(this.tree.getSelection()),s=n(this.tree.getFocus());super.render(e,t);const r=this.getSelection();let a=!1;const l=this.getFocus();let d=!1;const c=e=>{const t=e.element;if(t)for(let n=0;n<t.elements.length;n++){const e=i(t.elements[n].element),c=t.elements[t.elements.length-1].element;o.has(e)&&-1===r.indexOf(c)&&(r.push(c),a=!0),s.has(e)&&-1===l.indexOf(c)&&(l.push(c),d=!0)}e.children.forEach(c)};c(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(r),d&&this.setFocus(l)}processChildren(e){return this.filter&&(e=yt.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"==typeof(n=t)?n?1:0:xI(n)?LI(n.visibility):LI(n);var n;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}class xM extends ZI{constructor(e,t,i,n,o,s={}){super(e,t,i,n,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new YI(e,t,i)}}var LM=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},EM=function(e,t){return function(i,n){t(i,n,e)}};const DM=co("listService");let NM=class{constructor(e){this._themeService=e,this.disposables=new Tt,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new cI(dr(),"");this.disposables.add(bT(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Dt(e.onDidFocus((()=>this._lastFocusedWidget=e)),Nt((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};NM=LM([EM(0,bb)],NM);const TM=new uf("listFocus",!0),IM=new uf("listSupportsMultiselect",!0),MM=Jp.and(TM,Jp.not("inputFocus")),RM=new uf("listHasSelectionOrFocus",!1),AM=new uf("listDoubleSelection",!1),OM=new uf("listMultiSelection",!1),PM=new uf("listSupportsKeyboardNavigation",!0),FM=new uf("listAutomaticKeyboardNavigation",!0);let WM=!1;function BM(e,t){const i=e.createScoped(t.getHTMLElement());return TM.bindTo(i),i}const VM="workbench.list.horizontalScrolling",HM="workbench.tree.indent",zM="workbench.list.smoothScrolling";function UM(e){return"alt"===e.getValue("workbench.list.multiSelectModifier")}class KM extends It{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=UM(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this.useAltAsMultipleSelectionModifier=UM(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:rI(e)}isSelectionRangeChangeEvent(e){return aI(e)}}function qM(e,t,i){const n=new Tt,o=Object.assign({},e);if(!1!==e.multipleSelectionSupport&&!e.multipleSelectionController){const e=new KM(t);o.multipleSelectionController=e,n.add(e)}return o.keyboardNavigationDelegate={mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},o.smoothScrolling=t.getValue(zM),[o,n]}let $M=class extends _I{constructor(e,t,i,n,o,s,r,a,l,d){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:l.getValue(VM),[h,u]=qM(o,l,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},pT(a.getColorTheme(),_T)),h),{horizontalScrolling:c})),this.disposables.add(u),this.contextKeyService=BM(s,this),this.themeService=a;IM.bindTo(this.contextKeyService).set(!(!1===o.multipleSelectionSupport)),this.listHasSelectionOrFocus=RM.bindTo(this.contextKeyService),this.listDoubleSelection=AM.bindTo(this.contextKeyService),this.listMultiSelection=OM.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=UM(l),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=UM(l));let t={};if(e.affectsConfiguration(VM)&&void 0===this.horizontalScrolling){const e=l.getValue(VM);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(zM)){const e=l.getValue(zM);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)})))}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles)}dispose(){super.dispose(),this._styler&&this._styler.dispose()}updateStyles(e){this._styler&&this._styler.dispose(),this._styler=bT(this,this.themeService,e)}};$M=LM([EM(5,gf),EM(6,DM),EM(7,bb),EM(8,km),EM(9,DD)],$M);let jM=class extends class{constructor(e,t,i,n,o={}){const s=()=>this.model,r=n.map((e=>new vI(e,s)));this.list=new _I(e,t,i,r,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new wI(e,t.accessibilityProvider)})}(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return St.map(this.list.onMouseDblClick,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onPointer(){return St.map(this.list.onPointer,(({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i})))}get onDidChangeFocus(){return St.map(this.list.onDidChangeFocus,(({elements:e,indexes:t,browserEvent:i})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:i})))}get onDidChangeSelection(){return St.map(this.list.onDidChangeSelection,(({elements:e,indexes:t,browserEvent:i})=>({elements:e.map((e=>this._model.get(e))),indexes:t,browserEvent:i})))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,us(e.length))}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,o,s,r,a,l,d){const c=void 0!==o.horizontalScrolling?o.horizontalScrolling:l.getValue(VM),[h,u]=qM(o,l,d);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},pT(a.getColorTheme(),_T)),h),{horizontalScrolling:c})),this.disposables=new Tt,this.disposables.add(u),this.contextKeyService=BM(s,this),this.horizontalScrolling=o.horizontalScrolling;IM.bindTo(this.contextKeyService).set(!(!1===o.multipleSelectionSupport)),this._useAltAsMultipleSelectionModifier=UM(l),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),o.overrideStyles&&this.disposables.add(bT(this,a,o.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=UM(l));let t={};if(e.affectsConfiguration(VM)&&void 0===this.horizontalScrolling){const e=l.getValue(VM);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(zM)){const e=l.getValue(zM);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)})))}dispose(){super.dispose(),this.disposables.dispose()}};jM=LM([EM(5,gf),EM(6,DM),EM(7,bb),EM(8,km),EM(9,DD)],jM);class GM extends It{constructor(e,t){var i,n;super(),this.widget=e,this._onDidOpen=new Pt,this.onDidOpen=this._onDidOpen.event,this.openOnFocus=null!==(i=null==t?void 0:t.openOnFocus)&&void 0!==i&&i,this._register(St.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.browserEvent)))),this.openOnFocus&&this._register(St.filter(this.widget.onDidChangeFocus,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onFocusFromKeyboard(e)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode")),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue("workbench.list.openMode"))})))):this.openOnSingleClick=null===(n=null==t?void 0:t.openOnSingleClick)||void 0===n||n}onFocusFromKeyboard(e){const t=this.widget.getFocus();this.widget.setSelection(t,e.browserEvent);const i="boolean"!=typeof e.browserEvent.preserveFocus||e.browserEvent.preserveFocus;this._open(i,!1,!1,e.browserEvent)}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t="boolean"!=typeof e.browserEvent.preserveFocus||e.browserEvent.preserveFocus;this._open(t,!1,!1,e.browserEvent)}onPointer(e){if(!this.openOnSingleClick)return;if(2===e.detail)return;const t=1===e.button,i=e.ctrlKey||e.metaKey||e.altKey;this._open(!0,t,i,e)}onMouseDblClick(e){if(!e)return;const t=e.ctrlKey||e.metaKey||e.altKey;this._open(!1,!0,t,e)}_open(e,t,i,n){this._onDidOpen.fire({editorOptions:{preserveFocus:e,pinned:t,revealIfVisible:!0},sideBySide:i,element:this.widget.getSelection()[0],browserEvent:n})}}class ZM extends GM{constructor(e,t){super(e,t)}}function YM(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const o=t.softDispatch(n,e);return o&&o.enterChord?(i=!0,!1):(i=!1,!0)}}let JM=class extends rM{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getAutomaticKeyboardNavigation:u,disposable:g}=iR(t,o,s,l,d,c);super(e,t,i,n,h),this.disposables.add(g),this.internals=new nR(this,o,u,o.overrideStyles,s,r,a,l,c),this.disposables.add(this.internals)}};JM=LM([EM(5,gf),EM(6,DM),EM(7,bb),EM(8,km),EM(9,DD),EM(10,tE)],JM);let QM=class extends lM{constructor(e,t,i,n,o,s,r,a,l,d,c){const{options:h,getAutomaticKeyboardNavigation:u,disposable:g}=iR(t,o,s,l,d,c);super(e,t,i,n,h),this.disposables.add(g),this.internals=new nR(this,o,u,o.overrideStyles,s,r,a,l,c),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};QM=LM([EM(5,gf),EM(6,DM),EM(7,bb),EM(8,km),EM(9,DD),EM(10,tE)],QM);let XM=class extends xM{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const{options:u,getAutomaticKeyboardNavigation:g,disposable:m}=iR(t,s,r,d,c,h);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new nR(this,s,g,s.overrideStyles,r,a,l,d,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};XM=LM([EM(6,gf),EM(7,DM),EM(8,bb),EM(9,km),EM(10,DD),EM(11,tE)],XM);let eR=class extends CM{constructor(e,t,i,n,o,s,r,a,l,d,c,h){const{options:u,getAutomaticKeyboardNavigation:g,disposable:m}=iR(t,s,r,d,c,h);super(e,t,i,n,o,u),this.disposables.add(m),this.internals=new nR(this,s,g,s.overrideStyles,r,a,l,d,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};eR=LM([EM(6,gf),EM(7,DM),EM(8,bb),EM(9,km),EM(10,DD),EM(11,tE)],eR);let tR=class extends kM{constructor(e,t,i,n,o,s,r,a,l,d,c,h,u){const{options:g,getAutomaticKeyboardNavigation:m,disposable:p}=iR(t,r,a,c,h,u);super(e,t,i,n,o,s,g),this.disposables.add(p),this.internals=new nR(this,r,m,r.overrideStyles,a,l,d,c,u),this.disposables.add(this.internals)}};function iR(e,t,i,n,o,s){PM.bindTo(i),WM||(FM.bindTo(i),WM=!0);const r=()=>{let e=i.getContextKeyValue("listAutomaticKeyboardNavigation");return e&&(e=n.getValue("workbench.list.automaticKeyboardNavigation")),e},a=s.isScreenReaderOptimized()?"simple":n.getValue("workbench.list.keyboardNavigation"),l=void 0!==t.horizontalScrolling?t.horizontalScrolling:n.getValue(VM),[d,c]=qM(t,n,o),h=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:r,disposable:c,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:n.getValue(HM),renderIndentGuides:n.getValue("workbench.tree.renderIndentGuides"),smoothScrolling:n.getValue(zM),automaticKeyboardNavigation:r(),simpleKeyboardNavigation:"simple"===a,filterOnType:"filter"===a,horizontalScrolling:l,keyboardNavigationEventFilter:YM(e,o),additionalScrollHeight:h,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnDoubleClick:"doubleClick"===n.getValue("workbench.list.openMode")})}}tR=LM([EM(7,gf),EM(8,DM),EM(9,bb),EM(10,km),EM(11,DD),EM(12,tE)],tR);let nR=class{constructor(e,t,i,n,o,s,r,a,l){this.tree=e,this.themeService=r,this.disposables=[],this.contextKeyService=BM(o,e);IM.bindTo(this.contextKeyService).set(!(!1===t.multipleSelectionSupport)),this.hasSelectionOrFocus=RM.bindTo(this.contextKeyService),this.hasDoubleSelection=AM.bindTo(this.contextKeyService),this.hasMultiSelection=OM.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=UM(a);const d=new Set;d.add("listAutomaticKeyboardNavigation");const c=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue("workbench.list.keyboardNavigation");e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)})),a.onDidChangeConfiguration((n=>{let o={};if(n.affectsConfiguration("workbench.list.multiSelectModifier")&&(this._useAltAsMultipleSelectionModifier=UM(a)),n.affectsConfiguration(HM)){const e=a.getValue(HM);o=Object.assign(Object.assign({},o),{indent:e})}if(n.affectsConfiguration("workbench.tree.renderIndentGuides")){const e=a.getValue("workbench.tree.renderIndentGuides");o=Object.assign(Object.assign({},o),{renderIndentGuides:e})}if(n.affectsConfiguration(zM)){const e=a.getValue(zM);o=Object.assign(Object.assign({},o),{smoothScrolling:e})}if(n.affectsConfiguration("workbench.list.keyboardNavigation")&&c(),n.affectsConfiguration("workbench.list.automaticKeyboardNavigation")&&(o=Object.assign(Object.assign({},o),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(VM)&&void 0===t.horizontalScrolling){const e=a.getValue(VM);o=Object.assign(Object.assign({},o),{horizontalScrolling:e})}n.affectsConfiguration("workbench.list.openMode")&&(o=Object.assign(Object.assign({},o),{expandOnlyOnDoubleClick:"doubleClick"===a.getValue("workbench.list.openMode")})),Object.keys(o).length>0&&e.updateOptions(o)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(d)&&e.updateOptions({automaticKeyboardNavigation:i()})})),l.onDidChangeScreenReaderOptimized((()=>c()))),this.navigator=new ZM(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(e){Et(this.styler),this.styler=e?bT(this.tree,this.themeService,e):It.None}dispose(){this.disposables=Et(this.disposables),Et(this.styler),this.styler=void 0}};nR=LM([EM(4,gf),EM(5,DM),EM(6,bb),EM(7,km),EM(8,tE)],nR);var oR,sR;$g.as(Zg).registerConfiguration({id:"workbench",order:7,title:ue("vs/platform/list/browser/listService","workbenchConfigurationTitle","Workbench"),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[ue("vs/platform/list/browser/listService","multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),ue("vs/platform/list/browser/listService","multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:ue("vs/platform/list/browser/listService",{key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:ue("vs/platform/list/browser/listService",{key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},[VM]:{type:"boolean",default:!1,description:ue("vs/platform/list/browser/listService","horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[HM]:{type:"number",default:8,minimum:0,maximum:40,description:ue("vs/platform/list/browser/listService","tree indent setting","Controls tree indentation in pixels.")},"workbench.tree.renderIndentGuides":{type:"string",enum:["none","onHover","always"],default:"onHover",description:ue("vs/platform/list/browser/listService","render tree indent guides","Controls whether the tree should render indent guides.")},[zM]:{type:"boolean",default:!1,description:ue("vs/platform/list/browser/listService","list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},"workbench.list.keyboardNavigation":{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[ue("vs/platform/list/browser/listService","keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),ue("vs/platform/list/browser/listService","keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),ue("vs/platform/list/browser/listService","keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:ue("vs/platform/list/browser/listService","keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},"workbench.list.automaticKeyboardNavigation":{type:"boolean",default:!0,markdownDescription:ue("vs/platform/list/browser/listService","automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")}}}),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(oR||(oR={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=ue("vs/platform/markers/common/markers","sev.error","Error"),t[e.Warning]=ue("vs/platform/markers/common/markers","sev.warning","Warning"),t[e.Info]=ue("vs/platform/markers/common/markers","sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case Wg.Error:return e.Error;case Wg.Warning:return e.Warning;case Wg.Info:return e.Info;case Wg.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return Wg.Error;case e.Warning:return Wg.Warning;case e.Info:return Wg.Info;case e.Hint:return Wg.Ignore}}}(oR||(oR={})),function(e){const t="";function i(e,i){let n=[t];return e.source?n.push(e.source.replace("¦","\\¦")):n.push(t),e.code?"string"==typeof e.code?n.push(e.code.replace("¦","\\¦")):n.push(e.code.value.replace("¦","\\¦")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(oR.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("¦","\\¦")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(sR||(sR={}));const rR=co("markerService");class aR{constructor(){this._byResource=new Jl,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new Jl,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let s=this._byOwner.get(t);if(s&&(n=s.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:yt.empty():Di.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:yt.empty():yt.map(yt.concat(...this._byOwner.values()),(e=>e[1]))}}class lR{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Jl,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===bs.inMemory||e.scheme===bs.walkThrough||e.scheme===bs.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===oR.Error?t.errors+=1:i===oR.Warning?t.warnings+=1:i===oR.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class dR{constructor(){this._onMarkerChanged=new Pt,this.onMarkerChanged=St.debounce(this._onMarkerChanged.event,dR._debouncer,0),this._data=new aR,this._stats=new lR(this)}dispose(){this._stats.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(os(i)){this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}else{const n=[];for(const o of i){const i=dR._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}=i;if(s)return a=a>0?a:1,l=l>0?l:1,d=d>=a?d:a,c=c>0?c:l,{resource:t,owner:e,code:n,severity:o,message:s,source:r,startLineNumber:a,startColumn:l,endLineNumber:d,endColumn:c,relatedInformation:h,tags:u}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(dR._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),s=[];for(const t of e)for(const e of t)if(dR._accept(e,n)){const t=s.push(e);if(o>0&&t===o)return s}return s}{const e=[];for(let t of this._data.values())for(let i of t)if(dR._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _debouncer(e,t){e||(dR._dedupeMap=new Jl,e=[]);for(const i of t)dR._dedupeMap.has(i)||(dR._dedupeMap.set(i,!0),e.push(i));return e}}const cR=co("storageService");var hR,uR;(uR=hR||(hR={}))[uR.NONE=0]="NONE",uR[uR.SHUTDOWN=1]="SHUTDOWN";class gR extends It{constructor(){super(...arguments),this._onDidChangeStorage=this._register(new Pt),this._onWillSaveState=this._register(new Pt),this.onWillSaveState=this._onWillSaveState.event,this.globalCache=new Map,this.workspaceCache=new Map}getCache(e){return 0===e?this.globalCache:this.workspaceCache}get(e,t,i){const n=this.getCache(t).get(e);return nl(n)?i:n}getBoolean(e,t,i){const n=this.getCache(t).get(e);return nl(n)?i:"true"===n}getNumber(e,t,i){const n=this.getCache(t).get(e);return nl(n)?i:parseInt(n,10)}store(e,t,i){if(nl(t))return this.remove(e,i);const n=String(t);return this.getCache(i).get(e)===n||(this.getCache(i).set(e,n),this._onDidChangeStorage.fire({scope:i,key:e})),Promise.resolve()}remove(e,t){return this.getCache(t).delete(e)?(this._onDidChangeStorage.fire({scope:t,key:e}),Promise.resolve()):Promise.resolve()}}var mR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},pR=function(e,t){return function(i,n){t(i,n,e)}};let fR=class{constructor(e){this._commandService=e}createMenu(e,t){return new bR(e,this._commandService,t,this)}};fR=mR([pR(0,hl)],fR);let bR=class e{constructor(e,t,i,n){this._id=e,this._commandService=t,this._contextKeyService=i,this._menuService=n,this._onDidChange=new Pt,this._dispoables=new Tt,this._menuGroups=[],this._contextKeys=new Set,this._build(),this._dispoables.add(St.debounce(St.filter(vf.onDidChangeMenu,(e=>e.has(this._id))),(()=>{}),50)(this._build,this)),this._dispoables.add(St.debounce(this._contextKeyService.onDidChangeContext,((e,t)=>e||t.affectsSome(this._contextKeys)),50)((e=>e&&this._onDidChange.fire(void 0)),this))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=vf.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(let n of t){const t=n.group||"";if(i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(n),e._fillInKbExprKeys(n.when,this._contextKeys),ff(n)&&n.command.precondition&&e._fillInKbExprKeys(n.command.precondition,this._contextKeys),ff(n)&&n.command.toggled){const t=n.command.toggled.condition||n.command.toggled;e._fillInKbExprKeys(t,this._contextKeys)}}this._onDidChange.fire(this)}get onDidChange(){return this._onDidChange.event}getActions(e){const t=[];for(let i of this._menuGroups){const[n,o]=i,s=[];for(const t of o)if(this._contextKeyService.contextMatchesRules(t.when)){const i=ff(t)?new yf(t.command,t.alt,e,this._contextKeyService,this._commandService):new Cf(t,this._menuService,this._contextKeyService,e);s.push(i)}s.length>0&&t.push([n,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;let e=n.localeCompare(o);if(0!==e)return e}let s=t.order||0,r=i.order||0;return s<r?-1:s>r?1:e._compareTitles(ff(t)?t.command.title:t.title,ff(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.value,n="string"==typeof t?t:t.value;return i.localeCompare(n)}};bR=mR([pR(1,hl),pR(2,gf),pR(3,_f)],bR);const _R=co("markerDecorationsService");var vR=function(e,t){return function(i,n){t(i,n,e)}};function wR(e){return e.toString()}class CR extends It{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Nt((()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()})))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let o=0;o<n.length;o++)this._markersData.set(n[o],e[o]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}let yR=class extends It{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new Pt),this._markerDecorations=new Map,e.getModels().forEach((e=>this._onModelAdded(e))),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach((e=>e.dispose())),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(wR(e.uri));return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach((e=>{const t=this._markerDecorations.get(wR(e));t&&this._updateDecorations(t)}))}_onModelAdded(e){const t=new CR(e);this._markerDecorations.set(wR(e.uri),t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(wR(e.uri));t&&(t.dispose(),this._markerDecorations.delete(wR(e.uri))),e.uri.scheme!==bs.inMemory&&e.uri.scheme!==bs.internal&&e.uri.scheme!==bs.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((e=>e.owner)).forEach((t=>this._markerService.remove(t,[e.uri])))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map((t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)})));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=Vi.lift(t);if(t.severity!==oR.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let t=e.getWordAtPosition(i.getStartPosition());if(t)i=new Vi(i.startLineNumber,t.startColumn,i.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);1===t||(i=i.endColumn>=t?new Vi(i.startLineNumber,t-1,i.endLineNumber,t):new Vi(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new Vi(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,o,s;switch(e.severity){case oR.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case oR.Warning:t="squiggly-warning",i=_b(kS),n=20,s={color:_b(Py),position:Hl.Inline};break;case oR.Info:t="squiggly-info",i=_b(xS),n=10;break;case oR.Error:default:t="squiggly-error",i=_b(SS),n=30,s={color:_b(Oy),position:Hl.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:Vl.Right},minimap:s,zIndex:n,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};yR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([vR(0,wd),vR(1,rR)],yR);var SR=function(e,t){return function(i,n){t(i,n,e)}};let kR=class extends It{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Pt,this._accessibilityModeEnabledContext=iE.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())}))),i(),this.onDidChangeScreenReaderOptimized((()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};kR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([SR(0,gf),SR(1,km)],kR);var xR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class LR{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return xR(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,n=document.body.appendChild(xr("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return xR(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}}))}readFindText(){return xR(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return xR(this,void 0,void 0,(function*(){this.findText=e}))}}var ER=function(e,t){return function(i,n){t(i,n,e)}},DR=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function NR(e){return e.scheme===bs.file?e.fsPath:e.path}let TR=0;class IR{constructor(e,t,i){this.id=++TR,this.type=0,this.actual=e,this.label=e.label,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[${this.id}] [${this.isValid?"VALID":"INVALID"}] ${this.actual}`}}class MR{constructor(e,t){this.resourceLabel=e,this.reason=t}}class RR{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,n]of this.elements){(0===n.reason?e:t).push(n.resourceLabel)}let i=[];return e.length>0&&i.push(ue("vs/platform/undoRedo/common/undoRedoService",{key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(ue("vs/platform/undoRedo/common/undoRedoService",{key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class AR{constructor(e,t,i){this.id=++TR,this.type=1,this.actual=e,this.label=e.label,this.resourceLabels=t,this.strResources=i,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new RR),this.removedResources.has(t)||this.removedResources.set(t,new MR(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new RR),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new MR(e,0)))}toString(){return`[${this.id}] [${this.invalidatedResources?"INVALID":"VALID"}] ${this.actual}`}}class OR{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)1===t.type&&t.removeResource(this.resourceLabel,this.strResource,1);if(this._future=[],this._past.length>0){const e=this._past[this._past.length-1];0!==e.type||e.isValid||(this._past=[])}this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,n=this._past.length;i<n;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new QD(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let r=0,a=this._past.length;r<a;r++,n++){const s=this._past[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let r=this._future.length-1;r>=0;r--,n++){const o=this._future[r];i&&(n>=t||o.id!==e.elements[n])&&(i=!1,s=r),i||1!==o.type||o.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==s&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class PR{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const FR=new OR("","");FR.locked=!0;let WR=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join("\n"))}pushElement(e){if(0===e.type){const t=NR(e.resource),i=this.getUriComparisonKey(e.resource);this._pushElement(new IR(e,t,i))}else{const t=new Set,i=[],n=[];for(const o of e.resources){const e=NR(o),s=this.getUriComparisonKey(o);t.has(s)||(t.add(s),i.push(e),n.push(s))}1===i.length?this._pushElement(new IR(e,i[0],n[0])):this._pushElement(new AR(e,i,n))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new OR(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=NR(o.resource),t=this.getUriComparisonKey(o.resource),i=new IR(o,e,t);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const o of i){const e=NR(o.resource),t=this.getUriComparisonKey(o.resource),i=new IR(o,e,t);n.set(i.strResource,i)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new QD(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}canUndo(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){ft(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n=It.None){const o=this._acquireLocks(i);let s;try{s=t()}catch(r){return o(),n.dispose(),this._onError(r,e)}if(s)return s.then((()=>{o(),n.dispose()}),(t=>(o(),n.dispose(),this._onError(t,e))));o(),n.dispose()}_invokeWorkspacePrepare(e){return DR(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return It.None;const t=e.actual.prepareUndoRedo();return void 0===t?It.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return void t(It.None);const i=e.actual.prepareUndoRedo();if(i){if(!Lt(i))return i.then((e=>{t(e)}));t(i)}else t(It.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||FR);return new PR(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.info(n),new BR(this.undo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.info(n),new BR}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const r of i.editStacks)r.getClosestPastElement()!==t&&o.push(r.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const r of i.editStacks)r.locked&&s.push(r.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceUndo(e,t,i,!1);return n?n.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,i)}_confirmAndExecuteWorkspaceUndo(e,t,i){return DR(this,void 0,void 0,(function*(){if(t.canSplit()){const n=yield this._dialogService.show(Wg.Info,ue("vs/platform/undoRedo/common/undoRedoService","confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[ue("vs/platform/undoRedo/common/undoRedoService",{key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),ue("vs/platform/undoRedo/common/undoRedoService","nok","Undo this File"),ue("vs/platform/undoRedo/common/undoRedoService","cancel","Cancel")],{cancelId:2});if(2===n.choice)return;if(1===n.choice)return this._splitPastWorkspaceElement(t,null),this.undo(e);const o=this._checkWorkspaceUndo(e,t,i,!1);if(o)return o.returnValue}let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),i,n)}))}_resourceUndo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new PR([e]),i))));{const e=ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.info(e)}}else e.flushAllElements()}undo(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),n=i.getClosestPastElement();if(n)try{return 1===n.type?this._workspaceUndo(t,n):this._resourceUndo(i,n)}finally{}}canRedo(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.info(n),new BR(this.redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.info(n),new BR}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const r of i.editStacks)r.getClosestFutureElement()!==t&&o.push(r.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const r of i.editStacks)r.locked&&s.push(r.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return DR(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n)}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new PR([e]),i))));{const e=ue("vs/platform/undoRedo/common/undoRedoService",{key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.info(e)}}else e.flushAllElements()}redo(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),n=i.getClosestFutureElement();if(n)try{return 1===n.type?this._workspaceRedo(t,n):this._resourceRedo(i,n)}finally{}}};WR=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ER(0,xT),ER(1,$m)],WR);class BR{constructor(e){this.returnValue=e}}OE(JD,WR);const VR={ctrlCmd:!1,alt:!1};var HR,zR;(zR=HR||(HR={}))[zR.NONE=0]="NONE",zR[zR.FIRST=1]="FIRST",zR[zR.SECOND=2]="SECOND",zR[zR.LAST=3]="LAST";const UR=new Zo((()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}}));function KR(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=function(e,t,i){const n=e.toLowerCase(),o=t.toLowerCase(),s=n.startsWith(i),r=o.startsWith(i);if(s!==r)return s?-1:1;if(s&&r){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}(e,t,i);if(s)return s;const r=n.endsWith(i);if(r!==o.endsWith(i))return r?-1:1;const a=function(e,t,i=!1){const n=e||"",o=t||"",s=UR.value.collator.compare(n,o);return UR.value.collatorIsNumeric&&0===s&&n!==o?n<o?-1:1:s}(n,o);return 0!==a?a:n.localeCompare(o)}class qR{constructor(e,t){this.supportCodicons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=qR.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&Il(this.highlights,t)||(Array.isArray(t)||(t=[]),this.text=e,this.title=i,this.highlights=t,this.render())}render(){let e="",t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){e+="<span>";const n=this.text.substring(t,i.start);e+=this.supportCodicons?yc(Fr(n)):Fr(n),e+="</span>",t=i.end}i.extraClasses?e+=`<span class="highlight ${i.extraClasses}">`:e+='<span class="highlight">';const n=this.text.substring(i.start,i.end);e+=this.supportCodicons?yc(Fr(n)):Fr(n),e+="</span>",t=i.end}if(t<this.text.length){e+="<span>";const i=this.text.substring(t);e+=this.supportCodicons?yc(Fr(i)):Fr(i),e+="</span>"}this.domNode.innerHTML=e,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,((e,o)=>{n="\r\n"===e?-1:0,o+=i;for(const i of t)i.end<=o||(i.start>=o&&(i.start+=n),i.end>=o&&(i.end+=n));return i+=n,"⏎"}))}}class $R{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set title(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class jR extends It{constructor(e,t){super(),this.domNode=this._register(new $R(vr(e,xr(".monaco-icon-label"))));const i=vr(this.domNode.element,xr(".monaco-icon-label-container")),n=vr(i,xr("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new $R(vr(i,xr("span.monaco-icon-description-container")))),(null==t?void 0:t.supportHighlights)?this.nameNode=new ZR(n,!!t.supportCodicons):this.nameNode=new GR(n),(null==t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new qR(vr(this.descriptionContainer.element,xr("span.label-description")),!!t.supportCodicons):this.descriptionNodeFactory=()=>this._register(new $R(vr(this.descriptionContainer.element,xr("span.label-description"))))}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.domNode.title=(null==i?void 0:i.title)||"",this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof qR?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),(null==i?void 0:i.descriptionTitle)?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=t||"",this.descriptionNode.title=(null==i?void 0:i.descriptionTitle)||"",this.descriptionNode.empty=!t))}}class GR{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Il(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",Ds(this.container,"multiple"),this.singleLabel=vr(this.container,xr("a.label-name",{id:null==t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",Ls(this.container,"multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],o=(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${i}`;vr(this.container,xr("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&vr(this.container,xr("span.label-separator",void 0,(null==t?void 0:t.separator)||"/"))}}}}class ZR{constructor(e,t){this.container=e,this.supportCodicons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Il(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",Ds(this.container,"multiple"),this.singleLabel=new qR(vr(this.container,xr("a.label-name",{id:null==t?void 0:t.domId})),this.supportCodicons)),this.singleLabel.set(e,null==t?void 0:t.matches,null==t?void 0:t.title,null==t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",Ls(this.container,"multiple"),this.singleLabel=void 0;const i=(null==t?void 0:t.separator)||"/",n=function(e,t,i){if(!i)return;let n=0;return e.map((e=>{const o={start:n,end:n+e.length},s=i.map((e=>eT.intersect(o,e))).filter((e=>!eT.isEmpty(e))).map((({start:e,end:t})=>({start:e-n,end:t-n})));return n=o.end+t.length,s}))}(e,i,null==t?void 0:t.matches);for(let o=0;o<e.length;o++){const s=e[o],r=n?n[o]:void 0,a=xr("a.label-name",{id:(null==t?void 0:t.domId)&&`${null==t?void 0:t.domId}_${o}`,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new qR(vr(this.container,a),this.supportCodicons).set(s,r,null==t?void 0:t.title,null==t?void 0:t.labelEscapeNewLines),o<e.length-1&&vr(a,xr("span.label-separator",void 0,i))}}}}class YR{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const JR=new YR("id#"),QR={},XR=new YR("quick-input-button-icon-");function eA(e){if(!e)return;let t;const i=e.dark.toString();return QR[i]?t=QR[i]:(t=XR.nextId(),ur(`.${t}`,`background-image: ${Rr(e.light||e.dark)}`),ur(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${Rr(e.dark)}`),QR[i]=t),t}const tA=xr;class iA{constructor(e,t,i){this.os=t,this.options=i,this.domNode=vr(e,tA(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}set(e,t){this.didEverRender&&this.keybinding===e&&iA.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(Cs(this.domNode),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(vr(this.domNode,tA("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}renderPart(e,t,i){const n=zm.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null==i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null==i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null==i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null==i?void 0:i.metaKey),n.separator);const o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null==i?void 0:i.keyCode),"")}renderKey(e,t,i,n){vr(e,tA("span.monaco-keybinding-key"+(i?".highlight":""),void 0,t)),n&&vr(e,tA("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){vr(e,tA("span.monaco-keybinding-key",void 0,ue("vs/base/browser/ui/keybindingLabel/keybindingLabel","unbound","Unbound")))}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&Il(e.firstPart,t.firstPart)&&Il(e.chordPart,t.chordPart)}}var nA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r};const oA=xr;class sA{constructor(e){this.hidden=!1,this._onChecked=new Pt,this.onChecked=this._onChecked.event,function(e,...t){t.forEach((t=>Object.keys(t).forEach((i=>e[i]=t[i]))))}(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class rA{get templateId(){return rA.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=vr(e,oA(".quick-input-list-entry"));const i=vr(t.entry,oA("label.quick-input-list-label"));t.toDisposeTemplate.push(As(i,pr.CLICK,(e=>{t.checkbox.offsetParent||e.preventDefault()}))),t.checkbox=vr(i,oA("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(As(t.checkbox,pr.CHANGE,(e=>{t.element.checked=t.checkbox.checked})));const n=vr(i,oA(".quick-input-list-rows")),o=vr(n,oA(".quick-input-list-row")),s=vr(n,oA(".quick-input-list-row"));t.label=new jR(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0});const r=vr(o,oA(".quick-input-list-entry-keybinding"));t.keybinding=new iA(r,Me);const a=vr(s,oA(".quick-input-list-label-meta"));return t.detail=new qR(a,!0),t.separator=vr(t.entry,oA(".quick-input-list-separator")),t.actionBar=new ZE(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=Et(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked((e=>i.checkbox.checked=e)));const{labelHighlights:n,descriptionHighlights:o,detailHighlights:s}=e,r=Object.create(null);r.matches=n||[],r.descriptionTitle=e.saneDescription,r.descriptionMatches=o||[],r.extraClasses=e.item.iconClasses,r.italic=e.item.italic,r.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,r),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,s),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",e.separator?Ls(i.entry,"quick-input-list-separator-border"):Ds(i.entry,"quick-input-list-separator-border"),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map(((t,i)=>{let n=t.iconClass||(t.iconPath?eA(t.iconPath):void 0);t.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible");const o=new qp(`id-${i}`,"",n,!0,(()=>(e.fireButtonTriggered({button:t,item:e.item}),Promise.resolve())));return o.tooltip=t.tooltip||"",o})),{icon:!0,label:!1}),Ls(i.entry,"has-actions")):Ds(i.entry,"has-actions")}disposeElement(e,t,i){i.toDisposeElement=Et(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=Et(e.toDisposeElement),e.toDisposeTemplate=Et(e.toDisposeTemplate)}}rA.ID="listelement";class aA{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return rA.ID}}var lA,dA;(dA=lA||(lA={}))[dA.First=1]="First",dA[dA.Second=2]="Second",dA[dA.Last=3]="Last",dA[dA.Next=4]="Next",dA[dA.Previous=5]="Previous",dA[dA.NextPage=6]="NextPage",dA[dA.PreviousPage=7]="PreviousPage";class cA{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new Pt,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new Pt,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new Pt,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new Pt,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new Pt,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new Pt,this.onKeyDown=this._onKeyDown.event,this._onLeave=new Pt,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=vr(this.parent,oA(".quick-input-list"));const n=new aA,o=new hA;this.list=i.createList("QuickInput",this.container,n,[new rA],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown((e=>{const t=new Mo(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(xe?e.metaKey:e.ctrlKey)&&this.list.setFocus(us(this.list.length));break;case 16:const t=this.list.getFocus();1===t.length&&0===t[0]&&this._onLeave.fire();break;case 18:const i=this.list.getFocus();1===i.length&&i[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)}))),this.disposables.push(this.list.onMouseDown((e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()}))),this.disposables.push(Ms(this.container,pr.CLICK,(e=>{(e.x||e.y)&&this._onLeave.fire()}))),this.disposables.push(this.list.onMouseMiddleClick((e=>{this._onLeave.fire()}))),this.disposables.push(this.list.onContextMenu((e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))}))),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return St.map(this.list.onDidChangeFocus,(e=>e.elements.map((e=>e.item))))}get onDidChangeSelection(){return St.map(this.list.onDidChangeSelection,(e=>({items:e.elements.map((e=>e.item)),event:e.browserEvent})))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach((t=>{t.hidden||(t.checked=e)}))}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=Et(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce(((i,n,o)=>{var s,r,a;if("separator"!==n.type){const l=o&&e[o-1],d=n.label&&n.label.replace(/\r?\n/g," "),c=n.description&&n.description.replace(/\r?\n/g," "),h=n.detail&&n.detail.replace(/\r?\n/g," "),u=n.ariaLabel||[d,c,h].map((e=>e&&uc(e).text)).filter((e=>!!e)).join(", ");i.push(new sA({index:o,item:n,saneLabel:d,saneAriaLabel:u,saneDescription:c,saneDetail:h,labelHighlights:null===(s=n.highlights)||void 0===s?void 0:s.label,descriptionHighlights:null===(r=n.highlights)||void 0===r?void 0:r.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i}),[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map((e=>e.onChecked((()=>this.fireCheckedEvents()))))),this.elementsToIndexes=this.elements.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map((e=>e.item))}setFocusedElements(e){if(this.list.setFocus(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e)))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter((e=>this.elementsToIndexes.has(e))).map((e=>this.elementsToIndexes.get(e))))}getCheckedElements(){return this.elements.filter((e=>e.checked)).map((e=>e.item))}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===lA.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=lA.First),e===lA.Previous&&0===this.list.getFocus()[0]&&(e=lA.Last),e===lA.Second&&this.list.length<2&&(e=lA.First),e){case lA.First:this.list.focusFirst();break;case lA.Second:this.list.focusNth(1);break;case lA.Last:this.list.focusLast();break;case lA.Next:this.list.focusNext();break;case lA.Previous:this.list.focusPrevious();break;case lA.NextPage:this.list.focusNextPage();break;case lA.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;(e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach((t=>{const i=this.matchOnLabel?cl(gc(e,uc(t.saneLabel))):void 0,n=this.matchOnDescription?cl(gc(e,uc(t.saneDescription||""))):void 0,o=this.matchOnDetail?cl(gc(e,uc(t.saneDetail||""))):void 0;i||n||o?(t.labelHighlights=i,t.descriptionHighlights=n,t.detailHighlights=o,t.hidden=!1):(t.labelHighlights=void 0,t.descriptionHighlights=void 0,t.detailHighlights=void 0,t.hidden=!t.item.alwaysShow),t.separator=void 0})):this.elements.forEach((e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0}));const t=this.elements.filter((e=>!e.hidden));if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort(((e,t)=>function(e,t,i){const n=e.labelHighlights||[],o=t.labelHighlights||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;if(0===n.length&&0===o.length)return 0;return KR(e.saneLabel,t.saneLabel,i)}(e,t,i)))}return this.elementsToIndexes=t.reduce(((e,t,i)=>(e.set(t.item,i),e)),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=Et(this.elementDisposables),this.disposables=Et(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}nA([jf],cA.prototype,"onDidChangeFocus",null),nA([jf],cA.prototype,"onDidChangeSelection",null);class hA{getWidgetAriaLabel(){return ue("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}function uA(e,t={}){const i=gA(t);return pA(i,function(e){const t={type:1,children:[]};let i=0,n=t;const o=[],s=new mA(e);for(;!s.eos();){let e=s.next();const t="\\"===e&&0!==bA(s.peek());if(t&&(e=s.next()),!t&&fA(e)&&e===s.peek()){s.advance(),2===n.type&&(n=o.pop());const t=bA(e);if(n.type===t||5===n.type&&6===t)n=o.pop();else{const e={type:t,children:[]};5===t&&(e.index=i,i++),n.children.push(e),o.push(n),n=e}}else if("\n"===e)2===n.type&&(n=o.pop()),n.children.push({type:7});else if(2!==n.type){const t={type:2,content:e};n.children.push(t),o.push(n),n=t}else n.content+=e}2===n.type&&(n=o.pop());return t}(e),t.actionHandler),i}function gA(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}class mA{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function pA(e,t,i){let n;if(2===t.type)n=document.createTextNode(t.content||"");else if(3===t.type)n=document.createElement("b");else if(4===t.type)n=document.createElement("i");else if(5===t.type&&i){const e=document.createElement("a");e.href="#",i.disposeables.add(As(e,"click",(e=>{i.callback(String(t.index),e)}))),n=e}else 7===t.type?n=document.createElement("br"):1===t.type&&(n=e);n&&e!==n&&e.appendChild(n),n&&Array.isArray(t.children)&&t.children.forEach((e=>{pA(n,e,i)}))}function fA(e){return 0!==bA(e)}function bA(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}class _A{constructor(e,t=0,i=e.length,n=t-1){this.items=e,this.start=t,this.end=i,this.index=n}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class vA{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new _A(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach((t=>e.push(t))),e}}const wA=xr,CA={inputBackground:yv.fromHex("#3C3C3C"),inputForeground:yv.fromHex("#CCCCCC"),inputValidationInfoBorder:yv.fromHex("#55AAFF"),inputValidationInfoBackground:yv.fromHex("#063B49"),inputValidationWarningBorder:yv.fromHex("#B89500"),inputValidationWarningBackground:yv.fromHex("#352A05"),inputValidationErrorBorder:yv.fromHex("#BE1100"),inputValidationErrorBackground:yv.fromHex("#5A1D1D")};class yA extends Ik{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new Pt),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new Pt),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Tl(this.options,CA,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=vr(e,wA(".monaco-inputbox.idle"));let n=this.options.flexibleHeight?"textarea":"input",o=vr(this.element,wA(".wrapper"));if(this.input=vr(o,wA(n+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,(()=>this.element.classList.add("synthetic-focus"))),this.onblur(this.input,(()=>this.element.classList.remove("synthetic-focus"))),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=vr(o,wA("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new Yk(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),vr(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll((e=>this.input.scrollTop=e.scrollTop)));const t=St.filter(Lo(document,"selectionchange"),(()=>{const e=document.getSelection();return(null==e?void 0:e.anchorNode)===o}));this._register(t(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.oninput(this.input,(()=>this.onValueChange())),this.onblur(this.input,(()=>this.onBlur())),this.onfocus(this.input,(()=>this.onFocus())),this.ignoreGesture(this.input),setTimeout((()=>this.updateMirror()),0),this.options.actions&&(this.actionbar=this._register(new ZE(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e),this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:tr(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Qs(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,i=()=>e.style.width=Qs(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=vr(t,wA(".monaco-inputbox-container")),i();const n={inline:!0,className:"monaco-inputbox-message"},o=this.message.formatContent?uA(this.message.content,n):function(e,t={}){const i=gA(t);return i.textContent=e,i}(this.message.content,n);o.classList.add(this.classForType(this.message.type));const s=this.stylesForType(this.message.type);return o.style.backgroundColor=s.background?s.background.toString():"",o.style.color=s.foreground?s.foreground.toString():"",o.style.border=s.border?`1px solid ${s.border}`:"",vr(e,o),null},onHide:()=>{this.state="closed"},layout:i}),t=3===this.message.type?ue("vs/base/browser/ui/inputbox/inputBox","alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?ue("vs/base/browser/ui/inputbox/inputBox","alertWarningMessage","Warning: {0}",this.message.content):ue("vs/base/browser/ui/inputbox/inputBox","alertInfoMessage","Info: {0}",this.message.content),Op(t),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";e+t?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=tr(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,o=t.value;null!==i&&null!==n&&(this.value=o.substr(0,i)+e+o.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class SA extends yA{constructor(e,t,i){super(e,t,i),this.history=new vA(i.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,Pp(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Pp(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const kA=xr;class xA extends It{constructor(e){super(),this.parent=e,this.onKeyDown=e=>Ms(this.inputBox.inputElement,pr.KEY_DOWN,(t=>{e(new Mo(t))})),this.onMouseDown=e=>Ms(this.inputBox.inputElement,pr.MOUSE_DOWN,(t=>{e(new Wo(t))})),this.onDidChange=e=>this.inputBox.onDidChange(e),this.container=vr(this.parent,kA(".quick-input-box")),this.inputBox=this._register(new yA(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Wg.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Wg.Info?1:e===Wg.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Wg.Info?1:e===Wg.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}const LA={badgeBackground:yv.fromHex("#4D4D4D"),badgeForeground:yv.fromHex("#FFFFFF")};class EA{constructor(e,t){this.count=0,this.options=t||Object.create(null),Tl(this.options,LA,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=vr(e,xr(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Pr(this.countFormat,this.count),this.element.title=Pr(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}const DA={progressBarBackground:yv.fromHex("#0E70C0")};class NA extends It{constructor(e,t){super(),this.options=t||Object.create(null),Tl(this.options,DA,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Go((()=>Lr(this.element)),0)),this.create(e)}create(e){this.element=document.createElement("div"),Ls(this.element,"monaco-progress-container"),e.appendChild(this.element),this.bit=document.createElement("div"),Ls(this.bit,"progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",Ns(this.element,"active","infinite","discrete"),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return Ls(this.element,"done"),xs(this.element,"infinite")?(this.bit.style.opacity="0",e?setTimeout((()=>this.off()),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((()=>this.off()),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",Ns(this.element,"discrete","done"),Es(this.element,"active","infinite"),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}const TA={buttonBackground:yv.fromHex("#0E639C"),buttonHoverBackground:yv.fromHex("#006BB3"),buttonForeground:yv.white};class IA extends It{constructor(e,t){super(),this._onDidClick=this._register(new Pt),this.options=t||Object.create(null),Tl(this.options,TA,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),Ls(this._element,"monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Yf.addTarget(this._element)),[pr.CLICK,Gf.Tap].forEach((e=>{this._register(Ms(this._element,e,(e=>{this.enabled?this._onDidClick.fire(e):fr(e)})))})),this._register(Ms(this._element,pr.KEY_DOWN,(e=>{const t=new Mo(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&fr(t,!0)}))),this._register(Ms(this._element,pr.MOUSE_OVER,(e=>{xs(this._element,"disabled")||this.setHoverBackground()}))),this._register(Ms(this._element,pr.MOUSE_OUT,(e=>{this.applyStyles()}))),this.focusTracker=this._register(_r(this._element)),this._register(this.focusTracker.onDidFocus((()=>this.setHoverBackground()))),this._register(this.focusTracker.onDidBlur((()=>this.applyStyles()))),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){xs(this._element,"monaco-text-button")||Ls(this._element,"monaco-text-button"),this.options.supportCodicons?Cr(this._element,...function(e){const t=new Array;let i,n=0,o=0;for(;null!==(i=Cc.exec(e));){o=i.index||0,t.push(e.substring(n,o)),n=(i.index||0)+i[0].length;const[,s,r,a,l]=i;t.push(s?`$(${r})`:xr(`span.codicon.codicon-${a}${l?`.codicon-animation-${l}`:""}`))}return n<e.length&&t.push(e.substring(n)),t}(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(Ds(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(Ls(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!0)),Dr(this._element))}get enabled(){return!xs(this._element,"disabled")}}var MA=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const RA=xr,AA={iconClass:fc("quick-input-back",bc.arrowLeft).classNames,tooltip:ue("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),handle:-1};class OA extends It{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new Pt),this.onDidHideEmitter=this._register(new Pt),this.onDisposeEmitter=this._register(new Pt),this.visibleDisposables=this._register(new Tt),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){this._ignoreFocusOut=e,this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton((e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)}))),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire()}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ;");const t=this.getDescription();if(this.ui.description.textContent!==t&&(this.ui.description.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new $o,this.busyDelay.setIfNotSet((()=>{this.visible&&this.ui.progressBar.infinite()}),800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter((e=>e===AA));this.ui.leftActionBar.push(e.map(((e,t)=>{const i=new qp(`id-${t}`,"",e.iconClass||eA(e.iconPath),!0,(()=>MA(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter((e=>e!==AA));this.ui.rightActionBar.push(t.map(((e,t)=>{const i=new qp(`id-${t}`,"",e.iconClass||eA(e.iconPath),!0,(()=>MA(this,void 0,void 0,(function*(){this.onDidTriggerButtonEmitter.fire(e)}))));return i.tooltip=e.tooltip||"",i})),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?ue("vs/base/parts/quickinput/browser/quickInput","quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e===Wg.Error){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class PA extends OA{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new Pt),this.onDidAcceptEmitter=this._register(new Pt),this.onDidCustomEmitter=this._register(new Pt),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?HR.NONE:HR.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new Pt),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new Pt),this.onDidTriggerItemButtonEmitter=this._register(new Pt),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value=e||"",this.update()}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?VR:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(lA.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange((e=>{if(e===this.value)return;this._value=e;this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)}))),this.visibleDisposables.add(this.ui.inputBox.onMouseDown((e=>{this.autoFocusOnList||this.ui.list.clearFocus()}))),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown((e=>{switch(e.keyCode){case 18:this.ui.list.focus(lA.Next),this.canSelectMany&&this.ui.list.domFocus(),fr(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(lA.Previous):this.ui.list.focus(lA.Last),this.canSelectMany&&this.ui.list.domFocus(),fr(e,!0);break;case 12:this.ui.list.focus(lA.NextPage),this.canSelectMany&&this.ui.list.domFocus(),fr(e,!0);break;case 11:this.ui.list.focus(lA.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),fr(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(lA.First),fr(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(lA.Last),fr(e,!0))}}))),this.visibleDisposables.add(this.ui.onDidAccept((()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})}))),this.visibleDisposables.add(this.ui.onDidCustom((()=>{this.onDidCustomEmitter.fire()}))),this.visibleDisposables.add(this.ui.list.onDidChangeFocus((e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&Jo(e,this._activeItems,((e,t)=>e===t))||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))}))),this.visibleDisposables.add(this.ui.list.onDidChangeSelection((({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&Jo(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.onDidAcceptEmitter.fire({inBackground:t instanceof MouseEvent&&1===t.button}))}))),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements((e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&Jo(e,this._selectedItems,((e,t)=>e===t))||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))}))),this.visibleDisposables.add(this.ui.list.onButtonTriggered((e=>this.onDidTriggerItemButtonEmitter.fire(e)))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return Ms(this.ui.container,pr.KEY_UP,(e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new Mo(e),i=t.keyCode;this._quickNavigate.keybindings.some((e=>{const[n,o]=e.getParts();return!o&&(n.shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n.altKey||6!==i)||(!(!n.ctrlKey||5!==i)||!(!n.metaKey||57!==i)))}))&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)}))}update(){if(!this.visible)return;let e=!1,t=!1;this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?t=!0:e=!0),Ts(this.ui.container,"hidden-input",e);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),t)this.ui.inputBox.ariaLabel="";else{const e=this.ariaLabel||this.placeholder||PA.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==e&&(this.ui.inputBox.ariaLabel=e)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case HR.NONE:this._itemActivation=HR.FIRST;break;case HR.SECOND:this.ui.list.focus(lA.Second),this._itemActivation=HR.FIRST;break;case HR.LAST:this.ui.list.focus(lA.Last),this._itemActivation=HR.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.validationMessage?(this.ui.message.textContent=this.validationMessage,this.showMessageDecoration(Wg.Error)):(this.ui.message.textContent=null,this.showMessageDecoration(Wg.Ignore)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||this.ui.list.domFocus()}}PA.DEFAULT_ARIA_LABEL=ue("vs/base/parts/quickinput/browser/quickInput","quickInputBox.ariaLabel","Type to narrow down results.");class FA extends It{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new Pt),this.onDidCustomEmitter=this._register(new Pt),this.onDidTriggerButtonEmitter=this._register(new Pt),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new Pt),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new Pt),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(Ms(window,pr.KEY_DOWN,e,!0)),this._register(Ms(window,pr.KEY_UP,e,!0)),this._register(Ms(window,pr.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=vr(this.parentElement,RA(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=dr(e),i=vr(e,RA(".quick-input-titlebar")),n=this._register(new ZE(i));n.domNode.classList.add("quick-input-left-action-bar");const o=vr(i,RA(".quick-input-title")),s=this._register(new ZE(i));s.domNode.classList.add("quick-input-right-action-bar");const r=vr(e,RA(".quick-input-description")),a=vr(e,RA(".quick-input-header")),l=vr(a,RA("input.quick-input-check-all"));l.type="checkbox",this._register(As(l,pr.CHANGE,(e=>{const t=l.checked;y.setAllVisibleChecked(t)}))),this._register(Ms(l,pr.CLICK,(e=>{(e.x||e.y)&&h.setFocus()})));const d=vr(a,RA(".quick-input-and-message")),c=vr(d,RA(".quick-input-filter")),h=this._register(new xA(c));h.setAttribute("aria-describedby",`${this.idPrefix}message`);const u=vr(c,RA(".quick-input-visible-count"));u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true");const g=new EA(u,{countFormat:ue("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=vr(c,RA(".quick-input-count"));m.setAttribute("aria-live","polite");const p=new EA(m,{countFormat:ue("vs/base/parts/quickinput/browser/quickInput",{key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),f=vr(a,RA(".quick-input-action")),b=new IA(f);b.label=ue("vs/base/parts/quickinput/browser/quickInput","ok","OK"),this._register(b.onDidClick((e=>{this.onDidAcceptEmitter.fire()})));const _=vr(a,RA(".quick-input-action")),v=new IA(_);v.label=ue("vs/base/parts/quickinput/browser/quickInput","custom","Custom"),this._register(v.onDidClick((e=>{this.onDidCustomEmitter.fire()})));const w=vr(d,RA(`#${this.idPrefix}message.quick-input-message`)),C=new NA(e);Ls(C.getContainer(),"quick-input-progress");const y=this._register(new cA(e,this.idPrefix+"list",this.options));this._register(y.onChangedAllVisibleChecked((e=>{l.checked=e}))),this._register(y.onChangedVisibleCount((e=>{g.setCount(e)}))),this._register(y.onChangedCheckedCount((e=>{p.setCount(e)}))),this._register(y.onLeave((()=>{setTimeout((()=>{h.setFocus(),this.controller instanceof PA&&this.controller.canSelectMany&&y.clearFocus()}),0)}))),this._register(y.onDidChangeFocus((()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")})));const S=_r(e);return this._register(S),this._register(Ms(e,pr.FOCUS,(e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0}),!0)),this._register(S.onDidBlur((()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(),this.previousFocusElement=void 0}))),this._register(Ms(e,pr.FOCUS,(e=>{h.setFocus()}))),this._register(Ms(e,pr.KEY_DOWN,(t=>{const i=new Mo(t);switch(i.keyCode){case 3:fr(t,!0),this.onDidAcceptEmitter.fire();break;case 9:fr(t,!0),this.hide();break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const o=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===o[0]?(fr(t,!0),o[o.length-1].focus()):i.shiftKey||i.target!==o[o.length-1]||(fr(t,!0),o[0].focus())}}}))),this.ui={container:e,styleSheet:t,leftActionBar:n,titleBar:i,title:o,description:r,rightActionBar:s,checkAll:l,filterContainer:c,inputBox:h,visibleCountContainer:u,visibleCount:g,countContainer:m,count:p,okContainer:f,ok:b,message:w,customButtonContainer:_,customButton:v,progressBar:C,list:y,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=Ht.None){return new Promise(((n,o)=>{let s=e=>{s=n,t.onKeyMods&&t.onKeyMods(r.keyMods),n(e)};if(i.isCancellationRequested)return void s(void 0);const r=this.createQuickPick();let a;const l=[r,r.onDidAccept((()=>{if(r.canSelectMany)s(r.selectedItems.slice()),r.hide();else{const e=r.activeItems[0];e&&(s(e),r.hide())}})),r.onDidChangeActive((e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)})),r.onDidChangeSelection((e=>{if(!r.canSelectMany){const t=e[0];t&&(s(t),r.hide())}})),r.onDidTriggerItemButton((e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=r.items.indexOf(e.item);if(-1!==t){const e=r.items.slice();e.splice(t,1),r.items=e}}})))),r.onDidChangeValue((e=>{!a||e||1===r.activeItems.length&&r.activeItems[0]===a||(r.activeItems=[a])})),i.onCancellationRequested((()=>{r.hide()})),r.onDidHide((()=>{Et(l),s(void 0)}))];r.canSelectMany=!!t.canPickMany,r.placeholder=t.placeHolder,r.ignoreFocusOut=!!t.ignoreFocusLost,r.matchOnDescription=!!t.matchOnDescription,r.matchOnDetail=!!t.matchOnDetail,r.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,r.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,r.quickNavigate=t.quickNavigate,r.contextKey=t.contextKey,r.busy=!0,Promise.all([e,t.activeItem]).then((([e,t])=>{a=t,r.busy=!1,r.items=e,r.canSelectMany&&(r.selectedItems=e.filter((e=>"separator"!==e.type&&e.picked))),a&&(r.activeItems=[a])})),r.show(),Promise.resolve(e).then(void 0,(e=>{o(e),r.hide()}))}))}createQuickPick(){const e=this.getUI();return new PA(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Wg.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),t.message.textContent="",t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const n=this.options.backKeybindingLabel();AA.tooltip=n?ue("vs/base/parts/quickinput/browser/quickInput","quickInput.backWithKeybinding","Back ({0})",n):ue("vs/base/parts/quickinput/browser/quickInput","quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description.style.display=e.description?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkAll?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(){var e;const t=this.controller;if(t){const i=!(null===(e=this.ui)||void 0===e?void 0:e.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",i||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),t.didHide()}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,FA.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=o?`0 5px 8px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const s=[];this.styles.list.listInactiveFocusForeground&&(s.push(`.monaco-list .monaco-list-row.focused { color:  ${this.styles.list.listInactiveFocusForeground}; }`),s.push(`.monaco-list .monaco-list-row.focused:hover { color:  ${this.styles.list.listInactiveFocusForeground}; }`)),this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);const r=s.join("\n");r!==this.ui.styleSheet.innerHTML&&(this.ui.styleSheet.innerHTML=r)}}}FA.MAX_WIDTH=600;const WA=co("quickInputService");var BA,VA;(VA=BA||(BA={}))[VA.PRESERVE=0]="PRESERVE",VA[VA.LAST=1]="LAST";const HA="workbench.contributions.quickaccess";$g.add(HA,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),Nt((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return ns([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||void 0||this.defaultProvider}});var zA=function(e,t){return function(i,n){t(i,n,e)}};let UA=class extends It{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=$g.as(HA),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){var i;const[n,o]=this.getOrInstantiateProvider(e),s=this.visibleQuickAccess,r=null==s?void 0:s.descriptor;if(s&&o&&r===o)return e===o.prefix||(null==t?void 0:t.preserveValue)||(s.picker.value=e),void this.adjustValueSelection(s.picker,o,t);if(o&&!(null==t?void 0:t.preserveValue)){let t;if(s&&r&&r!==o){const e=s.value.substr(r.prefix.length);e&&(t=`${o.prefix}${e}`)}if(!t){const e=null==n?void 0:n.defaultFilterValue;e===BA.LAST?t=this.lastAcceptedPickerValues.get(o):"string"==typeof e&&(t=`${o.prefix}${e}`)}"string"==typeof t&&(e=t)}const a=new Tt,l=a.add(this.quickInputService.createQuickPick());l.value=e,this.adjustValueSelection(l,o,t),l.placeholder=null==o?void 0:o.placeholder,l.quickNavigate=null==t?void 0:t.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!s,("number"==typeof(null==t?void 0:t.itemActivation)||(null==t?void 0:t.quickNavigateConfiguration))&&(l.itemActivation=null!==(i=null==t?void 0:t.itemActivation)&&void 0!==i?i:HR.SECOND),l.contextKey=null==o?void 0:o.contextKey,l.filterValue=e=>e.substring(o?o.prefix.length:0),(null==o?void 0:o.placeholder)&&(l.ariaLabel=null==o?void 0:o.placeholder);const d=this.registerPickerListeners(l,n,o,e,a);n&&a.add(n.provide(l,d)),l.show()}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n,o){const s=this.visibleQuickAccess={picker:e,descriptor:i,value:n};o.add(Nt((()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):s.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)})));const r=o.add(new Kt);return mx(e.onDidHide)((()=>{0===e.selectedItems.length&&r.cancel(),o.dispose()})),r.token}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};UA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([zA(0,WA),zA(1,ao)],UA);var KA=function(e,t){return function(i,n){t(i,n,e)}};let qA=class extends kb{constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(UA))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance($M,e,t,i,n,o),styles:this.computeStyles()},s=this._register(new FA(Object.assign(Object.assign({},o),t)));return s.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onLayout((t=>{var i,n;return s.layout(t,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0)}))),this._register(s.onShow((()=>this.resetContextKeys()))),this._register(s.onHide((()=>this.resetContextKeys()))),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new uf(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=Ht.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},pT(this.theme,{quickInputBackground:EC,quickInputForeground:DC,quickInputTitleBackground:NC,contrastBorder:Ow,widgetShadow:Bw})),inputBox:pT(this.theme,{inputForeground:Hw,inputBackground:Vw,inputBorder:zw,inputValidationInfoBackground:$w,inputValidationInfoForeground:jw,inputValidationInfoBorder:Gw,inputValidationWarningBackground:Zw,inputValidationWarningForeground:Yw,inputValidationWarningBorder:Jw,inputValidationErrorBackground:Qw,inputValidationErrorForeground:Xw,inputValidationErrorBorder:eC}),countBadge:pT(this.theme,{badgeBackground:rC,badgeForeground:aC,badgeBorder:Ow}),button:pT(this.theme,{buttonForeground:nC,buttonBackground:oC,buttonHoverBackground:sC,buttonBorder:Ow}),progressBar:pT(this.theme,{progressBarBackground:uC}),list:pT(this.theme,{listBackground:EC,listInactiveFocusForeground:ry,listInactiveFocusBackground:sy,listFocusOutline:Pw,listInactiveFocusOutline:Pw,pickerGroupBorder:IC,pickerGroupForeground:TC})}}};qA=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([KA(0,ao),KA(1,gf),KA(2,bb),KA(3,tE),KA(4,ST)],qA);var $A=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},jA=function(e,t){return function(i,n){t(i,n,e)}};let GA=class extends qA{constructor(e,t,i,n,o,s){super(t,i,n,o,s),this.host=void 0;const r=YA.get(e);this.host={_serviceBrand:void 0,get container(){return r.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};GA=$A([jA(1,ao),jA(2,gf),jA(3,bb),jA(4,tE),jA(5,ST)],GA);let ZA=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(GA,e);this.mapEditorToService.set(e,t),mx(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Ht.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};ZA=$A([jA(0,ao),jA(1,uo)],ZA);class YA{constructor(e){this.editor=e,this.widget=new JA(this.editor)}static get(e){return e.getContribution(YA.ID)}dispose(){this.widget.dispose()}}YA.ID="editor.controller.quickInput";class JA{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return JA.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}JA.ID="editor.contrib.quickInputWidget",Pf(YA.ID,YA);const QA=co("IStorageKeysSyncRegistryService");class XA extends It{constructor(){super(),this._storageKeys=new Map,this._onDidChangeStorageKeys=this._register(new Pt),this._register(Nt((()=>this._storageKeys.clear())))}get storageKeys(){return[...this._storageKeys.values()]}registerStorageKey(e){this._storageKeys.has(e.key)||(this._storageKeys.set(e.key,e),this._onDidChangeStorageKeys.fire(this.storageKeys))}}var eO;!function(e){const t=new eE;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function o(e,t){let o=new i(e,t);return n.push(o),o}e.init=function(e){let t=new eE;for(const[n,o]of AE)t.set(n,o);for(let n in e)e.hasOwnProperty(n)&&t.set(co(n),e[n]);n.forEach((i=>t.set(i.id,i.get(e))));let i=new NT(t,!0);return t.set(ao,i),[t,i]},e.instantiationService=o(ao,(()=>new NT(t,!0)));const s=new Cp;e.configurationService=o(km,(()=>s)),e.resourceConfigurationService=o(Du,(()=>new yp(s))),e.resourcePropertiesService=o(Nu,(()=>new Sp(s))),e.contextService=o(jm,(()=>new xp)),e.labelService=o(IT,(()=>new Dp)),e.telemetryService=o(Sf,(()=>new kp)),e.dialogService=o(xT,(()=>new fp)),e.notificationService=o($m,(()=>new bp)),e.markerService=o(rR,(()=>new dR)),e.modeService=o(FD,(e=>new YD)),e.standaloneThemeService=o(ED,(()=>new UN)),e.logService=o(Tu,(()=>new Ou)),e.undoRedoService=o(JD,(t=>new WR(e.dialogService.get(t),e.notificationService.get(t)))),e.modelService=o(wd,(t=>new aN(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t)))),e.markerDecorationsService=o(_R,(t=>new yR(e.modelService.get(t),e.markerService.get(t)))),e.codeEditorService=o(uo,(t=>new kN(e.standaloneThemeService.get(t)))),e.editorProgressService=o(dD,(()=>new pp)),e.storageService=o(cR,(()=>new gR)),e.storageSyncService=o(QA,(()=>new XA)),e.editorWorkerService=o(ah,(t=>new Hu(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))))}(eO||(eO={}));class tO extends It{constructor(e,t){super();const[i,n]=eO.init(t);this._serviceCollection=i,this._instantiationService=n;const o=this.get(km),s=this.get($m),r=this.get(Sf),a=this.get(bb),l=this.get(Tu);let d=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n||(n=i()),this._serviceCollection.set(e,n),n},c=d(gf,(()=>this._register(new QN(o))));d(tE,(()=>new kR(c,o))),d(DM,(()=>new NM(a)));let h=d(hl,(()=>new _p(this._instantiationService))),u=d(DD,(()=>this._register(new vp(c,h,r,s,l,e)))),g=d(ST,(()=>new Np(eO.codeEditorService.get(uo),e)));d(WA,(()=>new ZA(n,eO.codeEditorService.get(uo))));let m=d(nD,(()=>this._register(new kT(g))));d(aD,(()=>new LR)),d(oD,(()=>{const e=new yT(r,s,m,u,a);return e.configure({blockMouse:!1}),this._register(e)})),d(_f,(()=>new fR(h))),d(zg,(()=>new Ep(eO.modelService.get(wd))))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function iO(e,t,i){let n=new tO(e,t),o=null;n.has(lh)||(o=new mp(eO.modelService.get()),n.set(lh,o)),n.has(ml)||n.set(ml,new kl(n.get(uo),n.get(hl)));let s=i(n);return o&&o.setEditor(s),s}function nO(e,t,i){return iO(e,i||{},(i=>new OD(e,t,i,i.get(ao),i.get(uo),i.get(hl),i.get(gf),i.get(DD),i.get(nD),i.get(ED),i.get($m),i.get(km),i.get(tE))))}function oO(e){return eO.codeEditorService.get().onCodeEditorAdd((t=>{e(t)}))}function sO(e,t,i){return iO(e,i||{},(i=>new PD(e,t,i,i.get(ao),i.get(gf),i.get(DD),i.get(nD),i.get(ah),i.get(uo),i.get(ED),i.get($m),i.get(km),i.get(oD),i.get(dD),i.get(aD))))}function rO(e,t){return new Al(e,t)}function aO(e,t,i){return eO.modelService.get().createModel(e,t,i)}function lO(e,t,i){if(e=e||"",!t){let t=e.indexOf("\n"),n=e;return-1!==t&&(n=e.substring(0,t)),aO(e,eO.modeService.get().createByFilepathOrFirstLine(i||null,n),i)}return aO(e,eO.modeService.get().create(t),i)}function dO(e,t){eO.modelService.get().setMode(e,eO.modeService.get().create(t))}function cO(e,t,i){e&&eO.markerService.get().changeOne(t,e.uri,i)}function hO(e){return eO.markerService.get().read(e)}function uO(e){return eO.modelService.get().getModel(e)}function gO(){return eO.modelService.get().getModels()}function mO(e){return eO.modelService.get().onModelAdded(e)}function pO(e){return eO.modelService.get().onModelRemoved(e)}function fO(e){return eO.modelService.get().onModelModeChanged((t=>{e({model:t.model,oldLanguage:t.oldModeId})}))}function bO(e){return function(e,t){return new Gu(e,t)}(eO.modelService.get(),e)}function _O(e,t){const i=eO.standaloneThemeService.get();return i.registerEditorContainer(e),Rg.colorizeElement(i,eO.modeService.get(),e,t)}function vO(e,t,i){return eO.standaloneThemeService.get().registerEditorContainer(document.body),Rg.colorize(eO.modeService.get(),e,t,i)}function wO(e,t,i=4){return eO.standaloneThemeService.get().registerEditorContainer(document.body),Rg.colorizeModelLine(e,t,i)}function CO(e,t){eO.modeService.get().triggerMode(t);let i=(n=t,ih.get(n)||{getInitialState:()=>nh,tokenize:(e,t,i)=>sh(n,0,t,i)});var n;let o=e.split(/\r\n|\r|\n/),s=[],r=i.getInitialState();for(let a=0,l=o.length;a<l;a++){let e=o[a],t=i.tokenize(e,r,0);s[a]=t.tokens,r=t.endState}return s}function yO(e,t){eO.standaloneThemeService.get().defineTheme(e,t)}function SO(e){eO.standaloneThemeService.get().setTheme(e)}function kO(){zp.INSTANCE.clearCache()}function xO(e,t){return"boolean"==typeof e?e:t}function LO(e,t){return"string"==typeof e?e:t}function EO(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function DO(e,t){let i=0;for(;t.indexOf("@")>=0&&i<5;)i++,t=t.replace(/@(\w+)/g,(function(i,n){let o="";if("string"==typeof e[n])o=e[n];else{if(!(e[n]&&e[n]instanceof RegExp))throw void 0===e[n]?Cg(e,"language definition does not contain attribute '"+n+"', used at: "+t):Cg(e,"attribute reference '"+n+"' must be a string, used at: "+t);o=e[n].source}return _g(o)?"":"(?:"+o+")"}));let n=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,n)}function NO(e,t,i,n){let o=-1,s=i,r=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);r&&(r[3]&&(o=parseInt(r[3]),r[2]&&(o+=100)),s=r[4]);let a,l="~",d=s;if(s&&0!==s.length?/^\w*$/.test(d)?l="==":(r=s.match(/^(@|!@|~|!~|==|!=)(.*)$/),r&&(l=r[1],d=r[2])):(l="!=",d=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(d))if("@"===l||"!@"===l){let i=e[d];if(!i)throw Cg(e,"the @ match target '"+d+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}((function(e){return"string"==typeof e}),i))throw Cg(e,"the @ match target '"+d+"' must be an array of strings, in rule: "+t);let n=EO(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(d.indexOf("$")<0){let t=DO(e,"^"+d+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,o){return DO(e,"^"+yg(e,d,i,n,o)+"$").test(t)};else if(d.indexOf("$")<0){let t=vg(e,d);a=function(e){return"=="===l?e===t:e!==t}}else{let t=vg(e,d);a=function(i,n,o,s,r){let a=yg(e,t,n,o,s);return"=="===l?i===a:i!==a}}else{let t=EO(d.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===o?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){let s=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,o);return a(s||"",e,t,i,n)}}}function TO(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw Cg(e,"a 'token' attribute must be of type string, in rule: "+t);{let n={token:i.token};if(i.token.indexOf("$")>=0&&(n.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)n.bracket=1;else{if("@close"!==i.bracket)throw Cg(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);n.bracket=-1}if(i.next){if("string"!=typeof i.next)throw Cg(e,"the next state must be a string value in rule: "+t);{let o=i.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(e,yg(e,o,"",[],""))))throw Cg(e,"the next state '"+i.next+"' is not defined in rule: "+t);n.next=o}}return"number"==typeof i.goBack&&(n.goBack=i.goBack),"string"==typeof i.switchTo&&(n.switchTo=i.switchTo),"string"==typeof i.log&&(n.log=i.log),"string"==typeof i.nextEmbedded&&(n.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),n}}if(Array.isArray(i)){let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=TO(e,t,i[o]);return{group:n}}if(i.cases){let n=[];for(let s in i.cases)if(i.cases.hasOwnProperty(s)){const o=TO(e,t,i.cases[s]);"@default"===s||"@"===s||""===s?n.push({test:void 0,value:o,name:s}):"@eos"===s?n.push({test:function(e,t,i,n){return n},value:o,name:s}):n.push(NO(e,t,s,o))}const o=e.defaultToken;return{test:function(e,t,i,s){for(const o of n){if(!o.test||o.test(e,t,i,s))return o.value}return o}}}throw Cg(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class IO{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw Cg(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=DO(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=TO(e,this.name,t)}}function MO(e){qD.registerLanguage(e)}function RO(){let e=[];return e=e.concat(qD.getLanguages()),e}function AO(e){let t=eO.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function OO(e,t){let i=eO.modeService.get().onDidCreateMode((n=>{n.getId()===e&&(i.dispose(),t())}));return i}function PO(e,t){let i=eO.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error(`Cannot set configuration for unknown language ${e}`);return zh.register(i,t)}class FO{constructor(e){this._actual=e}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){throw new Error("Not supported!")}tokenize2(e,t){let i=this._actual.tokenizeEncoded(e,t);return new Ki(i.tokens,i.endState)}}class WO{constructor(e,t,i){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}_toClassicTokens(e,t,i){let n=[],o=0;for(let s=0,r=e.length;s<r;s++){const r=e[s];let a=r.startIndex;0===s?a=0:a<o&&(a=o),n[s]=new zi(a+i,r.scopes,t),o=a}return n}tokenize(e,t,i){let n,o=this._actual.tokenize(e,t),s=this._toClassicTokens(o.tokens,this._languageIdentifier.language,i);return n=o.endState.equals(t)?t:o.endState,new Ui(s,n)}_toBinaryTokens(e,t){const i=this._languageIdentifier.id,n=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],s=0,r=0;for(let l=0,d=e.length;l<d;l++){const a=e[l],d=n.match(i,a.scopes);if(s>0&&o[s-1]===d)continue;let c=a.startIndex;0===l?c=0:c<r&&(c=r),o[s++]=c+t,o[s++]=d,r=c}let a=new Uint32Array(s);for(let l=0;l<s;l++)a[l]=o[l];return a}tokenize2(e,t,i){let n,o=this._actual.tokenize(e,t),s=this._toBinaryTokens(o.tokens,i);return n=o.endState.equals(t)?t:o.endState,new Ki(s,n)}}function BO(e){return e&&"function"==typeof e.then}function VO(e,t){let i=eO.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const n=e=>function(e){return"tokenizeEncoded"in e}(e)?new FO(e):new WO(eO.standaloneThemeService.get(),i,e);return BO(t)?ih.registerPromise(e,t.then((e=>n(e)))):ih.register(e,n(t))}function HO(e,t){const i=t=>{return i=eO.modeService.get(),n=eO.standaloneThemeService.get(),o=e,s=function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=xO(t.ignoreCase,!1),i.unicode=xO(t.unicode,!1),i.tokenPostfix=LO(t.tokenPostfix,"."+i.languageId),i.defaultToken=LO(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;function o(e,s,r){for(const a of r){let r=a.include;if(r){if("string"!=typeof r)throw Cg(i,"an 'include' attribute must be a string at: "+e);if("@"===r[0]&&(r=r.substr(1)),!t.tokenizer[r])throw Cg(i,"include target '"+r+"' is not defined at: "+e);o(e+"."+r,s,t.tokenizer[r])}else{const t=new IO(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw Cg(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw Cg(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=xO(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}s.push(t)}}}if(n.languageId=e,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw Cg(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let r in t.tokenizer)if(t.tokenizer.hasOwnProperty(r)){i.start||(i.start=r);const e=t.tokenizer[r];i.tokenizer[r]=new Array,o("tokenizer."+r,i.tokenizer[r],e)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw Cg(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let s=[];for(let r of t.brackets){let e=r;if(e&&Array.isArray(e)&&3===e.length&&(e={token:e[2],open:e[0],close:e[1]}),e.open===e.close)throw Cg(i,"open and close brackets in a 'brackets' attribute must be different: "+e.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof e.open||"string"!=typeof e.token||"string"!=typeof e.close)throw Cg(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");s.push({token:e.token+i.tokenPostfix,open:vg(i,e.open),close:vg(i,e.close)})}return i.brackets=s,i.noThrow=!0,i}(e,t),new Ig(i,n,o,s);var i,n,o,s};return BO(t)?ih.registerPromise(e,t.then((e=>i(e)))):ih.register(e,i(t))}function zO(e,t){return Rc.register(e,t)}function UO(e,t){return Ac.register(e,t)}function KO(e,t){return Pc.register(e,t)}function qO(e,t){return Fc.register(e,{provideHover:(e,i,n)=>{let o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new Vi(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new Vi(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})}function $O(e,t){return Wc.register(e,t)}function jO(e,t){return Bc.register(e,t)}function GO(e,t){return Vc.register(e,t)}function ZO(e,t){return Hc.register(e,t)}function YO(e,t){return Uc.register(e,t)}function JO(e,t){return Kc.register(e,t)}function QO(e,t){return qc.register(e,t)}function XO(e,t){return $c.register(e,{provideCodeActions:(e,i,n,o)=>{let s=eO.markerService.get().read({resource:e.uri}).filter((e=>Vi.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:s,only:n.only},o)}})}function eP(e,t){return jc.register(e,t)}function tP(e,t){return Gc.register(e,t)}function iP(e,t){return Zc.register(e,t)}function nP(e,t){return Yc.register(e,t)}function oP(e,t){return Oc.register(e,t)}function sP(e,t){return Jc.register(e,t)}function rP(e,t){return Xc.register(e,t)}function aP(e,t){return zc.register(e,t)}function lP(e,t){return Qc.register(e,t)}function dP(e,t){return eh.register(e,t)}function cP(e,t){return th.register(e,t)}const hP=self;mt.wrappingIndent.defaultValue=0,mt.glyphMargin.defaultValue=!1,mt.autoIndent.defaultValue=3,mt.overviewRulerLanes.defaultValue=2;const uP=oo();uP.editor={create:nO,onDidCreateEditor:oO,createDiffEditor:sO,createDiffNavigator:rO,createModel:lO,setModelLanguage:dO,setModelMarkers:cO,getModelMarkers:hO,getModels:gO,getModel:uO,onDidCreateModel:mO,onWillDisposeModel:pO,onDidChangeModelLanguage:fO,createWebWorker:bO,colorizeElement:_O,colorize:vO,colorizeModelLine:wO,tokenize:CO,defineTheme:yO,setTheme:SO,remeasureFonts:kO,AccessibilitySupport:qi,ContentWidgetPositionPreference:tn,CursorChangeReason:on,DefaultEndOfLine:rn,EditorAutoIndentStrategy:cn,EditorOption:un,EndOfLinePreference:mn,EndOfLineSequence:fn,MinimapPosition:Ln,MouseTargetType:Dn,OverlayWidgetPositionPreference:Tn,OverviewRulerLane:Mn,RenderLineNumbersType:An,RenderMinimap:Pn,ScrollbarVisibility:Vn,ScrollType:Wn,TextEditorCursorBlinkingStyle:Yn,TextEditorCursorStyle:Qn,TrackedRangeStickiness:Xn,WrappingIndent:to,ConfigurationChangedEvent:Ve,BareFontInfo:Fl,FontInfo:Wl,TextModelResolvedOptions:zl,FindMatch:Ul,EditorType:Bl,EditorOptions:mt},uP.languages={register:MO,getLanguages:RO,onLanguage:OO,getEncodedLanguageId:AO,setLanguageConfiguration:PO,setTokensProvider:VO,setMonarchTokensProvider:HO,registerReferenceProvider:zO,registerRenameProvider:UO,registerCompletionItemProvider:oP,registerSignatureHelpProvider:KO,registerHoverProvider:qO,registerDocumentSymbolProvider:$O,registerDocumentHighlightProvider:jO,registerOnTypeRenameProvider:GO,registerDefinitionProvider:ZO,registerImplementationProvider:YO,registerTypeDefinitionProvider:JO,registerCodeLensProvider:QO,registerCodeActionProvider:XO,registerDocumentFormattingEditProvider:eP,registerDocumentRangeFormattingEditProvider:tP,registerOnTypeFormattingEditProvider:iP,registerLinkProvider:nP,registerColorProvider:sP,registerFoldingRangeProvider:rP,registerDeclarationProvider:aP,registerSelectionRangeProvider:lP,registerDocumentSemanticTokensProvider:dP,registerDocumentRangeSemanticTokensProvider:cP,DocumentHighlightKind:ln,CompletionItemKind:Zi,CompletionItemTag:Ji,CompletionItemInsertTextRule:ji,SymbolKind:$n,SymbolTag:Gn,IndentAction:_n,CompletionTriggerKind:Xi,SignatureHelpTriggerKind:Kn,FoldingRangeKind:Mc};const gP=uP.CancellationTokenSource,mP=uP.Emitter,pP=uP.KeyCode,fP=uP.KeyMod,bP=uP.Position,_P=uP.Range,vP=uP.Selection,wP=uP.SelectionDirection,CP=uP.MarkerSeverity,yP=uP.MarkerTag,SP=uP.Uri,kP=uP.Token,xP=uP.editor,LP=uP.languages;hP.monaco=uP,void 0!==hP.require&&"function"==typeof hP.require.config&&hP.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var EP,DP,NP,TP,IP,MP,RP,AP,OP,PP;(DP=EP||(EP={}))[DP.None=0]="None",DP[DP.CommonJS=1]="CommonJS",DP[DP.AMD=2]="AMD",DP[DP.UMD=3]="UMD",DP[DP.System=4]="System",DP[DP.ES2015=5]="ES2015",DP[DP.ESNext=99]="ESNext",(TP=NP||(NP={}))[TP.None=0]="None",TP[TP.Preserve=1]="Preserve",TP[TP.React=2]="React",TP[TP.ReactNative=3]="ReactNative",(MP=IP||(IP={}))[MP.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",MP[MP.LineFeed=1]="LineFeed",(AP=RP||(RP={}))[AP.ES3=0]="ES3",AP[AP.ES5=1]="ES5",AP[AP.ES2015=2]="ES2015",AP[AP.ES2016=3]="ES2016",AP[AP.ES2017=4]="ES2017",AP[AP.ES2018=5]="ES2018",AP[AP.ES2019=6]="ES2019",AP[AP.ES2020=7]="ES2020",AP[AP.ESNext=99]="ESNext",AP[AP.JSON=100]="JSON",AP[AP.Latest=99]="Latest",(PP=OP||(OP={}))[PP.Classic=1]="Classic",PP[PP.NodeJs=2]="NodeJs";var FP=function(){function e(e,t,i){this._onDidChange=new mP,this._onDidExtraLibsChange=new mP,this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"workerOptions",{get:function(){return this._workerOptions},enumerable:!1,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var i,n=this;if(i=void 0===t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:function(){}};var o=1;return this._removedExtraLibs[i]&&(o=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(o=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:o},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=n._extraLibs[i];e&&e.version===o&&(delete n._extraLibs[i],n._removedExtraLibs[i]=o,n._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){for(var t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(var i=0,n=e;i<n.length;i++){var o=n[i],s=(t=o.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),o.content),r=1;this._removedExtraLibs[t]&&(r=this._removedExtraLibs[t]+1),this._extraLibs[t]={content:s,version:r}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setWorkerOptions=function(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}(),WP=new FP({allowNonTsExtensions:!0,target:RP.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1},{}),BP=new FP({allowNonTsExtensions:!0,allowJs:!0,target:RP.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1},{});function VP(){return import("./tsMode.34dd28a9.js")}LP.typescript={ModuleKind:EP,JsxEmit:NP,NewLineKind:IP,ScriptTarget:RP,ModuleResolutionKind:OP,typescriptVersion:"4.0.3",typescriptDefaults:WP,javascriptDefaults:BP,getTypeScriptWorker:function(){return VP().then((function(e){return e.getTypeScriptWorker()}))},getJavaScriptWorker:function(){return VP().then((function(e){return e.getJavaScriptWorker()}))}},LP.onLanguage("typescript",(function(){return VP().then((function(e){return e.setupTypeScript(WP)}))})),LP.onLanguage("javascript",(function(){return VP().then((function(e){return e.setupJavaScript(BP)}))}));var HP=function(){function e(e,t,i){this._onDidChange=new mP,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),zP={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},UP={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},KP=new HP("css",zP,UP),qP=new HP("scss",zP,UP),$P=new HP("less",zP,UP);function jP(){return import("./cssMode.dafaf2a0.js")}LP.css={cssDefaults:KP,lessDefaults:$P,scssDefaults:qP},LP.onLanguage("less",(function(){jP().then((function(e){return e.setupMode($P)}))})),LP.onLanguage("scss",(function(){jP().then((function(e){return e.setupMode(qP)}))})),LP.onLanguage("css",(function(){jP().then((function(e){return e.setupMode(KP)}))}));var GP=new(function(){function e(e,t,i){this._onDidChange=new mP,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});LP.json={jsonDefaults:GP},LP.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),LP.onLanguage("json",(function(){import("./jsonMode.548551b3.js").then((function(e){return e.setupMode(GP)}))}));var ZP=function(){function e(e,t,i){this._onDidChange=new mP,this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),YP={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},JP={format:YP,suggest:{html5:!0}},QP={format:YP,suggest:{html5:!0,razor:!0}};function XP(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===eF,documentFormattingEdits:e===eF,documentRangeFormattingEdits:e===eF}}var eF="html",tF=new ZP(eF,{format:YP,suggest:{html5:!0,angular1:!0,ionic:!0}},XP(eF)),iF=new ZP("handlebars",JP,XP("handlebars")),nF=new ZP("razor",QP,XP("razor"));function oF(){return import("./htmlMode.97af8ba7.js")}LP.html={htmlDefaults:tF,razorDefaults:nF,handlebarDefaults:iF},LP.onLanguage(eF,(function(){oF().then((function(e){return e.setupMode(tF)}))})),LP.onLanguage("handlebars",(function(){oF().then((function(e){return e.setupMode(iF)}))})),LP.onLanguage("razor",(function(){oF().then((function(e){return e.setupMode(nF)}))}));var sF={},rF={},aF=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i}))}return e.getOrCreate=function(t){return rF[t]||(rF[t]=new e(t)),rF[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,sF[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function lF(e){var t=e.id;sF[t]=e,LP.register(e);var i=aF.getOrCreate(t);LP.setMonarchTokensProvider(t,i.whenLoaded().then((function(e){return e.language}))),LP.onLanguage(t,(function(){i.load().then((function(e){LP.setLanguageConfiguration(t,e.conf)}))}))}lF({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return import("./abap.4ab5ab70.js")}}),lF({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return import("./apex.1cf1d441.js")}}),lF({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return import("./azcli.41697d95.js")}}),lF({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return import("./bat.4287dcf5.js")}}),lF({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return import("./cameligo.81dd081d.js")}}),lF({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return import("./clojure.ba2aa9d2.js")}}),lF({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return import("./coffee.d5ad7236.js")}}),lF({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return import("./cpp.eede1c5a.js")}}),lF({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return import("./cpp.eede1c5a.js")}}),lF({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return import("./csharp.9e849637.js")}}),lF({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return import("./csp.fd6f4e1e.js")}}),lF({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return import("./css.e025e17a.js")}}),lF({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return import("./dart.29b32f85.js")}}),lF({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return import("./dockerfile.676f27bb.js")}}),lF({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return import("./fsharp.3cba6d34.js")}}),lF({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return import("./go.9fc4a848.js")}}),lF({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return import("./graphql.b91e00d5.js")}}),lF({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return import("./handlebars.c703507d.js")}}),lF({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return import("./hcl.d79aa9b3.js")}}),lF({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return import("./html.d26bd83f.js")}}),lF({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return import("./ini.ec5df2eb.js")}}),lF({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return import("./java.599fe0f4.js")}}),lF({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return import("./javascript.de7fb2b5.js")}}),lF({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return import("./julia.a4a2cf36.js")}}),lF({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return import("./kotlin.87f5e113.js")}}),lF({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return import("./less.0a154abc.js")}}),lF({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return import("./lexon.10c18048.js")}}),lF({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return import("./lua.c0f1adcc.js")}}),lF({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return import("./markdown.b428e844.js")}}),lF({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return import("./mips.887d7682.js")}}),lF({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return import("./msdax.52f24b3b.js")}}),lF({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return import("./mysql.5469463d.js")}}),lF({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return import("./objective-c.cfaff369.js")}}),lF({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return import("./pascal.7e339938.js")}}),lF({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return import("./pascaligo.6a73d597.js")}}),lF({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return import("./perl.24207091.js")}}),lF({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return import("./pgsql.8f71675d.js")}}),lF({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return import("./php.b5bfa8f3.js")}}),lF({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return import("./postiats.ff6a0a53.js")}}),lF({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return import("./powerquery.c7b80f2c.js")}}),lF({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return import("./powershell.5ee99642.js")}}),lF({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return import("./pug.4cfa501c.js")}}),lF({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return import("./python.9a31fe87.js")}}),lF({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return import("./r.f41e19d7.js")}}),lF({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return import("./razor.e4ff551e.js")}}),lF({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return import("./redis.3d4c8e9a.js")}}),lF({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return import("./redshift.e54bb3ac.js")}}),lF({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return import("./restructuredtext.9de926b8.js")}}),lF({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return import("./ruby.2c07752b.js")}}),lF({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return import("./rust.24aca15a.js")}}),lF({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return import("./sb.433cd117.js")}}),lF({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return import("./scala.fe98eb33.js")}}),lF({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return import("./scheme.5384f1be.js")}}),lF({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return import("./scss.51ff99c2.js")}}),lF({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return import("./shell.ba46ea6c.js")}}),lF({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return import("./solidity.c7fc8685.js")}}),lF({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return import("./sophia.b9746272.js")}}),lF({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return import("./sql.df25756f.js")}}),lF({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return import("./st.c62e32cc.js")}}),lF({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return import("./swift.be632752.js")}}),lF({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return import("./systemverilog.a2b090f8.js")}}),lF({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return import("./systemverilog.a2b090f8.js")}}),lF({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return import("./tcl.4589735e.js")}}),lF({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return import("./twig.7afd1707.js")}}),lF({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return import("./typescript.bdc09505.js")}}),lF({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return import("./vb.e60292d8.js")}}),lF({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return import("./xml.221a15e7.js")}}),lF({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return import("./yaml.8d7b306c.js")}});class dF{constructor(e="",t=!1){var i,n;if(this._value=e,"string"!=typeof this._value)throw Ct("value");"boolean"==typeof t?(this._isTrusted=t,this._supportThemeIcons=!1):(this._isTrusted=null!==(i=t.isTrusted)&&void 0!==i&&i,this._supportThemeIcons=null!==(n=t.supportThemeIcons)&&void 0!==n&&n)}get value(){return this._value}get isTrusted(){return this._isTrusted}get supportThemeIcons(){return this._supportThemeIcons}appendText(e){var t;return this._value+=(this._supportThemeIcons?(t=e,t.replace(vc,((e,t)=>t?e:`\\${e}`))):e).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace(/\n/g,"\n\n"),this}appendMarkdown(e){return this._value+=e,this}appendCodeblock(e,t){return this._value+="\n```",this._value+=e,this._value+="\n",this._value+=t,this._value+="\n```\n",this}}function cF(e){return hF(e)?!e.value:!Array.isArray(e)||e.every(cF)}function hF(e){return e instanceof dF||!(!e||"object"!=typeof e)&&!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons)}function uF(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)&&Array.isArray(t)?Jo(e,t,gF):!(!hF(e)||!hF(t))&&gF(e,t))}function gF(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted&&e.supportThemeIcons===t.supportThemeIcons)}function mF(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}var pF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const fF=new uf("selectionAnchorSet",!1);let bF=class e{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=fF.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],i=this.editor.deltaDecorations(t,[{range:Hi.fromPositions(e,e),options:{stickiness:1,hoverMessage:(new dF).appendText(ue("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=i[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),Op(ue("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(Hi.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};bF.ID="editor.contrib.selectionAnchorController",bF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],bF);Pf(bF.ID,bF),Af(class extends Df{constructor(){super({id:"editor.action.setSelectionAnchor",label:ue("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2080),weight:100}})}run(e,t){return pF(this,void 0,void 0,(function*(){bF.get(t).setSelectionAnchor()}))}}),Af(class extends Df{constructor(){super({id:"editor.action.goToSelectionAnchor",label:ue("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:fF})}run(e,t){return pF(this,void 0,void 0,(function*(){bF.get(t).goToSelectionAnchor()}))}}),Af(class extends Df{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:ue("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:fF,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2089),weight:100}})}run(e,t){return pF(this,void 0,void 0,(function*(){bF.get(t).selectFromAnchorToCursor()}))}}),Af(class extends Df{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:ue("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:fF,kbOpts:{kbExpr:QS.editorTextFocus,primary:9,weight:100}})}run(e,t){return pF(this,void 0,void 0,(function*(){bF.get(t).cancelSelectionAnchor()}))}});const _F=Tw("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},ue("vs/editor/contrib/bracketMatching/bracketMatching","overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class vF{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class wF extends It{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new Go((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(55),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(55)&&(this._matchBrackets=this._editor.getOption(55),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})))}static get(e){return e.getContribution(wF.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const i=t.getStartPosition(),n=e.matchBracket(i);let o=null;if(n)n[0].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{const t=e.findEnclosingBrackets(i);if(t)o=t[0].getStartPosition();else{const t=e.findNextBracket(i);t&&t.range&&(o=t.range.getStartPosition())}}return o?new Hi(o.lineNumber,o.column,o.lineNumber,o.column):new Hi(i.lineNumber,i.column,i.lineNumber,i.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach((n=>{const o=n.getStartPosition();let s=t.matchBracket(o);if(!s&&(s=t.findEnclosingBrackets(o),!s)){const e=t.findNextBracket(o);e&&e.range&&(s=t.matchBracket(e.range.getStartPosition()))}let r=null,a=null;if(s){s.sort(Vi.compareRangesUsingStarts);const[t,i]=s;r=e?t.getStartPosition():t.getEndPosition(),a=e?i.getEndPosition():i.getStartPosition()}r&&a&&i.push(new Hi(r.lineNumber,r.column,a.lineNumber,a.column))})),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const i of this._lastBracketsData){let n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);let o=[],s=0;for(let c=0,h=e.length;c<h;c++){let t=e[c];t.isEmpty()&&(o[s++]=t.getStartPosition())}o.length>1&&o.sort(Bi.compare);let r=[],a=0,l=0,d=n.length;for(let c=0,h=o.length;c<h;c++){let e=o[c];for(;l<d&&n[l].position.isBefore(e);)l++;if(l<d&&n[l].position.equals(e))r[a++]=n[l];else{let i=t.matchBracket(e),n=wF._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;i||"always"!==this._matchBrackets||(i=t.findEnclosingBrackets(e,20),n=wF._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),r[a++]=new vF(e,i,n)}}this._lastBracketsData=r,this._lastVersionId=i}}wF.ID="editor.contrib.bracketMatchingController",wF._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Wv.register({stickiness:1,className:"bracket-match",overviewRuler:{color:_b(_F),position:Vl.Center}}),wF._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Wv.register({stickiness:1,className:"bracket-match"}),Pf(wF.ID,wF),Af(class extends Df{constructor(){super({id:"editor.action.selectToBracket",label:ue("vs/editor/contrib/bracketMatching/bracketMatching","smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){const n=wF.get(t);if(!n)return;let o=!0;i&&!1===i.selectBrackets&&(o=!1),n.selectToBracket(o)}}),Af(class extends Df{constructor(){super({id:"editor.action.jumpToBracket",label:ue("vs/editor/contrib/bracketMatching/bracketMatching","smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:3160,weight:100}})}run(e,t){let i=wF.get(t);i&&i.jumpToBracket()}}),Sb(((e,t)=>{const i=e.getColor(mS);i&&t.addRule(`.monaco-editor .bracket-match { background-color: ${i}; }`);const n=e.getColor(pS);n&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)})),vf.appendMenuItem(bf.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:ue("vs/editor/contrib/bracketMatching/bracketMatching",{key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class CF{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||o!==e.getLineMaxColumn(i)))if(this._isMovingLeft){const s=new Vi(i,n-1,i,n),r=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new Vi(i,o,i,o),r)}else{const s=new Vi(i,o,i,o+1),r=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new Vi(i,n,i,n),r)}}computeCursorState(e,t){return this._isMovingLeft?new Hi(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Hi(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class yF extends Df{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;let i=[],n=t.getSelections();for(const o of n)i.push(new CF(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}Af(class extends yF{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:ue("vs/editor/contrib/caretOperations/caretOperations","caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:QS.writable})}}),Af(class extends yF{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:ue("vs/editor/contrib/caretOperations/caretOperations","caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:QS.writable})}});Af(class extends Df{constructor(){super({id:"editor.action.transposeLetters",label:ue("vs/editor/contrib/caretOperations/transpose","transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;let i=t.getModel(),n=[],o=t.getSelections();for(let s of o){if(!s.isEmpty())continue;let e=s.startLineNumber,t=s.startColumn,o=i.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===o))continue;let r=t===o?s.getPosition():WS.rightPosition(i,s.getPosition().lineNumber,s.getPosition().column),a=WS.leftPosition(i,r.lineNumber,r.column),l=WS.leftPosition(i,a.lineNumber,a.column),d=i.getValueInRange(Vi.fromPositions(l,a)),c=i.getValueInRange(Vi.fromPositions(a,r)),h=Vi.fromPositions(l,r);n.push(new MS(h,c+d))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}});var SF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const kF=Ee||document.queryCommandSupported("cut"),xF=Ee||document.queryCommandSupported("copy"),LF=xF&&!bo,EF=!_o||document.queryCommandSupported("paste");function DF(e){return e.register(),e}const NF=kF?DF(new xf({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:Ee?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:bf.MenubarEditMenu,group:"2_ccp",title:ue("vs/editor/contrib/clipboard/clipboard",{key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:bf.EditorContext,group:"9_cutcopypaste",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.cutLabel","Cut"),when:QS.writable,order:1},{menuId:bf.CommandPalette,group:"",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.cutLabel","Cut"),order:1}]})):void 0,TF=xF?DF(new xf({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:Ee?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:bf.MenubarEditMenu,group:"2_ccp",title:ue("vs/editor/contrib/clipboard/clipboard",{key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:bf.EditorContext,group:"9_cutcopypaste",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyLabel","Copy"),order:2},{menuId:bf.CommandPalette,group:"",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyLabel","Copy"),order:1}]})):void 0,IF=EF?DF(new xf({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:Ee?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:bf.MenubarEditMenu,group:"2_ccp",title:ue("vs/editor/contrib/clipboard/clipboard",{key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3},{menuId:bf.EditorContext,group:"9_cutcopypaste",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.pasteLabel","Paste"),when:QS.writable,order:3},{menuId:bf.CommandPalette,group:"",title:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.pasteLabel","Paste"),order:1}]})):void 0;class MF extends Df{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:ue("vs/editor/contrib/clipboard/clipboard","actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;!t.getOption(26)&&t.getSelection().isEmpty()||(yw.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),yw.forceCopyWithSyntaxHighlighting=!1)}}function RF(e,t){e&&(e.addImplementation(1e4,((e,i)=>{const n=e.get(uo).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=n.getOption(26),i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,((e,i)=>(document.execCommand(t),!0))))}RF(NF,"cut"),RF(TF,"copy"),IF&&(IF.addImplementation(1e4,((e,t)=>{const i=e.get(uo),n=e.get(aD),o=i.getFocusedCodeEditor();if(o&&o.hasTextFocus()){return!(!document.execCommand("paste")&&De)||(SF(void 0,void 0,void 0,(function*(){const e=yield n.readText();if(""!==e){const t=Sw.INSTANCE.get(e);let i=!1,n=null,s=null;t&&(i=o.getOption(26)&&!!t.isFromEmptySelection,n=void 0!==t.multicursorText?t.multicursorText:null,s=t.mode),o.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:s})}})),!0)}return!1})),IF.addImplementation(0,((e,t)=>(document.execCommand("paste"),!0)))),LF&&Af(MF);class AF{constructor(e){this.executor=e,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}class OF{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||zr(e.value,this.value+OF.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new OF(this.value+OF.sep+e)}}function PF(e,t,i){return!!t.contains(e)&&(!i||!t.contains(i))}OF.sep=".",OF.None=new OF("@@none@@"),OF.Empty=new OF(""),OF.QuickFix=new OF("quickfix"),OF.Refactor=new OF("refactor"),OF.Source=new OF("source"),OF.SourceOrganizeImports=OF.Source.append("organizeImports"),OF.SourceFixAll=OF.Source.append("fixAll");class FF{constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}static fromUser(e,t){return e&&"object"==typeof e?new FF(FF.getKindFromUser(e,t.kind),FF.getApplyFromUser(e,t.apply),FF.getPreferredUser(e)):new FF(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new OF(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}}var WF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class BF extends It{constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=es([...e],BF.codeActionsComparator),this.validActions=this.allActions.filter((e=>!e.disabled))}static codeActionsComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:ss(e.diagnostics)?ss(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:ss(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((e=>!!e.kind&&OF.QuickFix.contains(new OF(e.kind))&&!!e.isPreferred))}}const VF={actions:[],documentation:void 0};function HF(e,t,i,n,o){var s;const r=i.filter||{},a={only:null===(s=r.include)||void 0===s?void 0:s.value,trigger:i.type},l=new HE(e,o),d=function(e,t){return $c.all(e).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>function(e,t){return!(e.include&&!e.include.intersects(t)||e.excludes&&e.excludes.some((i=>PF(t,i,e.include)))||!e.includeSourceActions&&OF.Source.contains(t))}(t,new OF(e))))))}(e,r),c=new Tt,h=d.map((i=>WF(this,void 0,void 0,(function*(){try{n.report(i);const o=yield i.provideCodeActions(e,t,a,l.token);if(o&&c.add(o),l.token.isCancellationRequested)return VF;const s=((null==o?void 0:o.actions)||[]).filter((e=>e&&function(e,t){const i=t.kind?new OF(t.kind):void 0;return!(!(!e.include||i&&e.include.contains(i))||e.excludes&&i&&e.excludes.some((t=>PF(i,t,e.include)))||!e.includeSourceActions&&i&&OF.Source.contains(i)||e.onlyIncludePreferredActions&&!t.isPreferred)}(r,e)));return{actions:s,documentation:function(e,t,i){if(!e.documentation)return;const n=e.documentation.map((e=>({kind:new OF(e.kind),command:e.command})));if(i){let e;for(const t of n)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const o of t)if(o.kind)for(const e of n)if(e.kind.contains(new OF(o.kind)))return e.command;return}(i,s,r.include)}}catch(o){if(vt(o))throw o;return bt(o),VF}})))),u=$c.onDidChange((()=>{Jo($c.all(e),d)||l.cancel()}));return Promise.all(h).then((e=>{const t=hs(e.map((e=>e.actions))),i=ns(e.map((e=>e.documentation)));return new BF(t,i,c)})).finally((()=>{u.dispose(),l.dispose()}))}Tf("_executeCodeActionProvider",(function(e,t){return WF(this,void 0,void 0,(function*(){const{resource:i,rangeOrSelection:n,kind:o}=t;if(!(i instanceof Di))throw Ct();const s=e.get(wd).getModel(i);if(!s)throw Ct();const r=Hi.isISelection(n)?Hi.liftSelection(n):Vi.isIRange(n)?s.validateRange(n):void 0;if(!r)throw Ct();const a=yield HF(s,r,{type:2,filter:{includeSourceActions:!0,include:o&&o.value?new OF(o.value):void 0}},lD.None,Ht.None);return setTimeout((()=>a.dispose()),100),a.validActions}))}));let zF=class e extends It{constructor(t,i){super(),this._messageWidget=this._register(new Mt),this._messageListeners=this._register(new Tt),this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i),this._register(this._editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit())))}static get(t){return t.getContribution(e.ID)}dispose(){super.dispose(),this._visible.reset()}showMessage(e,t){let i;Op(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new UF(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new $o((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new Vi(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(UF.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(ue("vs/editor/contrib/message/messageController","editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}};zF.ID="editor.contrib.messageController",zF.MESSAGE_VISIBLE=new uf("messageVisible",!1),zF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],zF);Rf(new(Ef.bindToContribution(zF.get))({id:"leaveEditorMessage",precondition:zF.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class UF{constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("message"),o.textContent=n,this._domNode.appendChild(o);const s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){let t;const i=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",i)};return t=setTimeout(i,110),e.getDomNode().addEventListener("animationend",i),e.getDomNode().classList.add("fadeOut"),{dispose:i}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}}Pf(zF.ID,zF),Sb(((e,t)=>{const i=e.getColor(Gw);if(i){let n="hc"===e.type?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: ${i}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${n}px solid ${i}; }`)}const n=e.getColor($w);n&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${n}; }`);const o=e.getColor(jw);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)}));var KF=function(e,t){return function(i,n){t(i,n,e)}},qF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class $F extends qp{constructor(e,t){super(e.command?e.command.id:e.title,e.title,void 0,!e.disabled,t),this.action=e}}let jF=class extends It{constructor(e,t,i,n){super(),this._editor=e,this._delegate=t,this._contextMenuService=i,this._visible=!1,this._showingActions=this._register(new Mt),this._keybindingResolver=new GF({getKeybindings:()=>n.getKeybindings()})}get isVisible(){return this._visible}show(e,t,i,n){return qF(this,void 0,void 0,(function*(){const o=n.includeDisabledActions?t.allActions:t.validActions;if(!o.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,wt();this._visible=!0,this._showingActions.value=t;const s=this.getMenuActions(e,o,t.documentation),r=Bi.isIPosition(i)?this._toCoords(i):i||{x:0,y:0},a=this._keybindingResolver.getResolver();this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>r,getActions:()=>s,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof $F?a(e.action):void 0})}))}getMenuActions(e,t,i){var n,o;const s=e=>new $F(e,(()=>this._delegate.onSelectCodeAction(e))),r=t.map(s),a=[...i],l=this._editor.getModel();if(l&&r.length)for(const d of $c.all(l))d._getAdditionalMenuItems&&a.push(...d._getAdditionalMenuItems({trigger:e.type,only:null===(o=null===(n=e.filter)||void 0===n?void 0:n.include)||void 0===o?void 0:o.value},t));return a.length&&r.push(new jp,...a.map((e=>s({title:e.title,command:e})))),r}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=Ys(this._editor.getDomNode());return{x:i.left+t.left,y:i.top+t.top+t.height}}};jF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([KF(2,oD),KF(3,DD)],jF);class GF{constructor(e){this._keybindingProvider=e}getResolver(){const e=new AF((()=>this._keybindingProvider.getKeybindings().filter((e=>GF.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return"editor.action.organizeImports"===e.command?t={kind:OF.SourceOrganizeImports.value}:"editor.action.fixAll"===e.command&&(t={kind:OF.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},FF.fromUser(t,{kind:OF.None,apply:"never"}))}))));return t=>{if(t.kind){const i=this.bestKeybindingForCodeAction(t,e.getValue());return null==i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new OF(e.kind);return t.filter((e=>e.kind.contains(i))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}}GF.codeActionCommands=["editor.action.refactor","editor.action.codeAction","editor.action.sourceAction","editor.action.organizeImports","editor.action.fixAll"];var ZF;!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}}(ZF||(ZF={}));let YF=class e extends It{constructor(e,t,i,n){var o;super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=i,this._keybindingService=n,this._onClick=this._register(new Pt),this.onClick=this._onClick.event,this._state=ZF.Hidden,this._domNode=document.createElement("div"),this._domNode.className=bc.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),Yf.ignoreTarget(this._domNode),this._register(Os(this._domNode,Rs((e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=Ys(this._domNode),n=this._editor.getOption(51);let o=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(o+=n),this._onClick.fire({x:e.posx,y:t+i+o,actions:this.state.actions,trigger:this.state.trigger})})),o)),this._register(Ms(this._domNode,"mouseenter",(e=>{if(1!=(1&e.buttons))return;this.hide();const t=new Qf;t.startMonitoring(e.target,e.buttons,Jf,(()=>{}),(()=>{t.dispose()}))}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(49)&&!this._editor.getOption(49).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,n){if(t.validActions.length<=0)return this.hide();const o=this._editor.getOptions();if(!o.get(49).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:r,column:a}=s.validatePosition(n),l=s.getOptions().tabSize,d=o.get(36),c=s.getLineContent(r),h=Mv.computeIndentLevel(c,l),u=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let g=r;if(!(d.spaceWidth*h>22))if(r>1&&!u(r-1))g-=1;else if(u(r+1)){if(a*d.spaceWidth<22)return this.hide()}else g+=1;this.state=new ZF.Showing(t,i,n,{position:{lineNumber:g,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=ZF.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){Ns(this._domNode,bc.lightBulb.classNames),Es(this._domNode,bc.lightbulbAutofix.classNames);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=ue("vs/editor/contrib/codeAction/lightBulbWidget","prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}Ns(this._domNode,bc.lightbulbAutofix.classNames),Es(this._domNode,bc.lightBulb.classNames);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?ue("vs/editor/contrib/codeAction/lightBulbWidget","quickFixWithKb","Show Fixes ({0})",e.getLabel()):ue("vs/editor/contrib/codeAction/lightBulbWidget","quickFix","Show Fixes")}set title(e){this._domNode.title=e}};YF._posPref=[0],YF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(3,DD)],YF),Sb(((e,t)=>{const i=e.getColor(ZC);i&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${bc.lightBulb.cssSelector} {\n\t\t\tcolor: ${i};\n\t\t}`);const n=e.getColor(YC);n&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${bc.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${n};\n\t\t}`)}));var JF=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let QF=class extends It{constructor(e,t,i,n,o){super(),this._editor=e,this.delegate=n,this._activeCodeActions=this._register(new Mt),this._codeActionWidget=new AF((()=>this._register(o.createInstance(jF,this._editor,{onSelectCodeAction:e=>JF(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))})))),this._lightBulbWidget=new AF((()=>{const e=this._register(o.createInstance(YF,this._editor,t,i));return this._register(e.onClick((e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})))),e}))}update(e){var t,i,n;return JF(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let o;try{o=yield e.actions}catch(le){return void ft(le)}if(this._lightBulbWidget.getValue().update(o,e.trigger,e.position),2===e.trigger.type){if(null===(i=e.trigger.filter)||void 0===i?void 0:i.include){const t=this.tryGetValidActionToApply(e.trigger,o);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{o.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,o);if(t&&t.disabled)return zF.get(this._editor).showMessage(t.disabled,e.trigger.context.position),void o.dispose()}}const t=!!(null===(n=e.trigger.filter)||void 0===n?void 0:n.include);if(e.trigger.context&&(!o.allActions.length||!t&&!o.validActions.length))return zF.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=o,void o.dispose();this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(e.trigger,o,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((e=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i,n){return JF(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,i,n)}))}};QF=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(4,ao)],QF);const XF=new uf("supportedCodeAction","");class eW extends It{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new $o),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>Va(e,t.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:1})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:1})}),this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const i of this._markerService.read({resource:t.uri})){const n=t.validateRange(i);if(Vi.intersectRanges(n,e))return Vi.lift(n)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&1===e.type){const{lineNumber:e,column:n}=i.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===n){if(/\s/.test(o[0]))return}else if(n===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[n-2])&&/\s/.test(o[n-1]))return}return i}_createEventAndSignalChange(e,t){const i=this._editor.getModel();if(!t||!i)return void this._signalChange(void 0);const n=this._getRangeOfMarker(t),o=n?n.getStartPosition():t.getStartPosition(),s={trigger:e,selection:t,position:o};return this._signalChange(s),s}}var tW;!function(e){e.Empty={type:0};e.Triggered=class{constructor(e,t,i,n){this.trigger=e,this.rangeOrSelection=t,this.position=i,this.actions=n,this.type=1}}}(tW||(tW={}));class iW extends It{constructor(e,t,i,n){super(),this._editor=e,this._markerService=t,this._progressService=n,this._codeActionOracle=this._register(new Mt),this._state=tW.Empty,this._onDidChangeState=this._register(new Pt),this.onDidChangeState=this._onDidChangeState.event,this._supportedCodeActions=XF.bindTo(i),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register($c.onDidChange((()=>this._update()))),this._update()}dispose(){super.dispose(),this.setState(tW.Empty,!0)}_update(){this._codeActionOracle.value=void 0,this.setState(tW.Empty);const e=this._editor.getModel();if(e&&$c.has(e)&&!this._editor.getOption(72)){const t=[];for(const i of $c.all(e))Array.isArray(i.providedCodeActionKinds)&&t.push(...i.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new eW(this._editor,this._markerService,(t=>{var i;if(!t)return void this.setState(tW.Empty);const n=Vo((i=>HF(e,t.selection,t.trigger,lD.None,i)));2===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(n,250)),this.setState(new tW.Triggered(t.trigger,t.selection,t.position,n))}),void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.actions.cancel(),this._state=e,t||this._onDidChangeState.fire(e))}}var nW=function(e,t){return function(i,n){t(i,n,e)}},oW=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function sW(e){return Jp.regex(XF.keys()[0],new RegExp("(\\s|^)"+Wr(e.value)+"\\b"))}const rW={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.first","Always apply the first returned code action."),ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:ue("vs/editor/contrib/codeAction/codeActionCommands","args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let aW=class e extends It{constructor(e,t,i,n,o){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new iW(this._editor,t,i,n)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._ui=new AF((()=>this._register(new QF(e,cW.Id,hW.Id,{applyCodeAction:(e,t)=>oW(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:1,filter:{}})}}))},this._instantiationService))))}static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,i){return this._ui.getValue().showCodeActionList(e,t,i,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,i){if(!this._editor.hasModel())return;zF.get(this._editor).closeMessage();const n=this._editor.getPosition();this._trigger({type:2,filter:t,autoApply:i,context:{notAvailableMessage:e,position:n}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(lW,e,this._editor)}};function lW(e,t,i){return oW(this,void 0,void 0,(function*(){const n=e.get(zg),o=e.get(hl),s=e.get(Sf),r=e.get($m);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.title,codeActionKind:t.kind,codeActionIsPreferred:!!t.isPreferred}),t.edit&&(yield n.apply(Ug.convert(t.edit),{editor:i,label:t.title})),t.command)try{yield o.executeCommand(t.command.id,...t.command.arguments||[])}catch(a){const e=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(a);r.error("string"==typeof e?e:ue("vs/editor/contrib/codeAction/codeActionCommands","applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function dW(e,t,i,n){if(e.hasModel()){const o=aW.get(e);o&&o.manualTriggerAtCurrentPosition(t,i,n)}}aW.ID="editor.contrib.quickFixController",aW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([nW(1,rR),nW(2,gf),nW(3,dD),nW(4,ao)],aW);class cW extends Df{constructor(){super({id:cW.Id,label:ue("vs/editor/contrib/codeAction/codeActionCommands","quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:Jp.and(QS.writable,QS.hasCodeActionsProvider),kbOpts:{kbExpr:QS.editorTextFocus,primary:2132,weight:100}})}run(e,t){return dW(t,ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}}cW.Id="editor.action.quickFix";class hW extends Df{constructor(){super({id:hW.Id,label:ue("vs/editor/contrib/codeAction/codeActionCommands","autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:Jp.and(QS.writable,sW(OF.QuickFix)),kbOpts:{kbExpr:QS.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return dW(t,ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.autoFix.noneMessage","No auto fixes available"),{include:OF.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}hW.Id="editor.action.autoFix",Pf(aW.ID,aW),Af(cW),Af(class extends Df{constructor(){super({id:"editor.action.refactor",label:ue("vs/editor/contrib/codeAction/codeActionCommands","refactor.label","Refactor..."),alias:"Refactor...",precondition:Jp.and(QS.writable,QS.hasCodeActionsProvider),kbOpts:{kbExpr:QS.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:Jp.and(QS.writable,sW(OF.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:rW}]}})}run(e,t,i){const n=FF.fromUser(i,{kind:OF.Refactor,apply:"never"});return dW(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.refactor.noneMessage","No refactorings available"),{include:OF.Refactor.contains(n.kind)?n.kind:OF.None,onlyIncludePreferredActions:n.preferred},n.apply)}}),Af(class extends Df{constructor(){super({id:"editor.action.sourceAction",label:ue("vs/editor/contrib/codeAction/codeActionCommands","source.label","Source Action..."),alias:"Source Action...",precondition:Jp.and(QS.writable,QS.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:Jp.and(QS.writable,sW(OF.Source))},description:{description:"Source Action...",args:[{name:"args",schema:rW}]}})}run(e,t,i){const n=FF.fromUser(i,{kind:OF.Source,apply:"never"});return dW(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage.preferred","No preferred source actions available"):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.source.noneMessage","No source actions available"),{include:OF.Source.contains(n.kind)?n.kind:OF.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}),Af(class extends Df{constructor(){super({id:"editor.action.organizeImports",label:ue("vs/editor/contrib/codeAction/codeActionCommands","organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:Jp.and(QS.writable,sW(OF.SourceOrganizeImports)),kbOpts:{kbExpr:QS.editorTextFocus,primary:1581,weight:100}})}run(e,t){return dW(t,ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.organize.noneMessage","No organize imports action available"),{include:OF.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}),Af(hW),Af(class extends Df{constructor(){super({id:"editor.action.fixAll",label:ue("vs/editor/contrib/codeAction/codeActionCommands","fixAll.label","Fix All"),alias:"Fix All",precondition:Jp.and(QS.writable,sW(OF.SourceFixAll))})}run(e,t){return dW(t,ue("vs/editor/contrib/codeAction/codeActionCommands","fixAll.noneMessage","No fix all action available"),{include:OF.SourceFixAll,includeSourceActions:!0},"ifSingle")}}),Rf(new class extends Ef{constructor(){super({id:"editor.action.codeAction",precondition:Jp.and(QS.writable,QS.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:rW}]}})}runEditorCommand(e,t,i){const n=FF.fromUser(i,{kind:OF.Empty,apply:"ifSingle"});return dW(t,"string"==typeof(null==i?void 0:i.kind)?n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):ue("vs/editor/contrib/codeAction/codeActionCommands","editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}});class uW{constructor(){this.lenses=[],this._disposables=new Tt}dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function gW(e,t){const i=qc.ordered(e),n=new Map,o=new uW,s=i.map(((i,s)=>(n.set(i,s),Promise.resolve(i.provideCodeLenses(e,t)).then((e=>e&&o.add(e,i))).catch(bt))));return Promise.all(s).then((()=>(o.lenses=es(o.lenses,((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:n.get(e.provider)<n.get(t.provider)?-1:n.get(e.provider)>n.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),o)))}Tf("_executeCodeLensProvider",(function(e,t){let{resource:i,itemResolveCount:n}=t;if(!(i instanceof Di))throw Ct();const o=e.get(wd).getModel(i);if(!o)throw Ct();const s=[],r=new Tt;return gW(o,Ht.None).then((e=>{r.add(e);let t=[];for(const i of e.lenses)void 0===n||Boolean(i.symbol.command)?s.push(i.symbol):n-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(o,i.symbol,Ht.None)).then((e=>s.push(e||i.symbol))));return Promise.all(t)})).then((()=>s)).finally((()=>{setTimeout((()=>r.dispose()),100)}))}));class mW{constructor(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}}class pW{constructor(e,t,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+pW._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();let i="",n=!1;for(let o=0;o<e.length;o++){const t=e[o];if(t&&(n=!0,t.command)){const n=yc(Fr(t.command.title));t.command.id?(i+=`<a id=${o}>${n}</a>`,this._commands.set(String(o),t.command)):i+=`<span>${n}</span>`,o+1<e.length&&(i+="<span>&#160;|&#160;</span>")}}n?(i||(i=" "),this._domNode.innerHTML=i,this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):this._domNode.innerHTML="<span>no commands</span>"}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}pW._idPool=0;class fW{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}class bW{constructor(e,t,i,n,o,s){let r;this._isDisposed=!1,this._editor=t,this._className=i,this._data=e,this._decorationIds=[];let a=[];this._data.forEach(((e,t)=>{e.symbol.command&&a.push(e.symbol),n.addDecoration({range:e.symbol.range,options:Wv.EMPTY},(e=>this._decorationIds[t]=e)),r=r?Vi.plusRange(r,e.symbol.range):Vi.lift(e.symbol.range)})),this._viewZone=new mW(r.startLineNumber-1,s),this._viewZoneId=o.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}_createContentWidgetIfNecessary(){this._contentWidget||(this._contentWidget=new pW(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!(!i||Vi.isEmpty(n.range)!==i.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,i)=>{t.addDecoration({range:e.symbol.range,options:Wv.EMPTY},(e=>this._decorationIds[i]=e))}))}computeIfNecessary(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}}Sb(((e,t)=>{const i=e.getColor(gS);i&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${i}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${i}; }`));const n=e.getColor(GC);n&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${n} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${n} !important; }`))}));const _W=co("ICodeLensCache");class vW{constructor(e,t){this.lineCount=e,this.data=t}}let wW=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Xl(20,.75);Ro((()=>e.remove("codelens/cache",1)));const t="codelens/cache2",i=e.get(t,1,"{}");this._deserialize(i),mx(e.onWillSaveState)((i=>{i.reason===hR.SHUTDOWN&&e.store(t,this._serialize(),1)}))}put(e,t){const i=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),n=new uW;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new vW(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const i=t[e],n=[];for(const e of i.lines)n.push({range:new Vi(e,1,e,11)});const o=new uW;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new vW(i.lineCount,o))}}catch(t){}}};wW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,cR)],wW),OE(_W,wW);var CW=function(e,t){return function(i,n){t(i,n,e)}},yW=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let SW=class{constructor(e,t,i,n){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=n,this._globalToDispose=new Tt,this._localToDispose=new Tt,this._lenses=[],this._oldCodeLensModels=new Tt,this._modelChangeCounter=0,this._isEnabled=this._editor.getOption(11),this._globalToDispose.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._globalToDispose.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._globalToDispose.add(this._editor.onDidChangeConfiguration((()=>{const e=this._isEnabled;this._isEnabled=this._editor.getOption(11),e!==this._isEnabled&&this._onModelChange()}))),this._globalToDispose.add(qc.onDidChange(this._onModelChange,this)),this._globalToDispose.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(36)&&this._updateLensStyle()}))),this._onModelChange(),this._styleClassName="_"+Kh(this._editor.getId()).toString(16),this._styleElement=dr(rr(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),Et(this._currentCodeLensModel)}_updateLensStyle(){const e=this._editor.getOptions(),t=e.get(36),i=e.get(51),n=Math.round(1.1*i),o=Math.round(.9*t.fontSize),s=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { height: ${n}px; line-height: ${i}px; font-size: ${o}px; padding-right: ${Math.round(.45*t.fontSize)}px;}\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} > a > .codicon { line-height: ${i}px; font-size: ${o}px; }\n\t\t`;this._styleElement.textContent=s}_localDispose(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),Et(this._currentCodeLensModel)}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._isEnabled)return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!qc.has(e))return void(t&&this._localToDispose.add(Ko((()=>{const i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const o of qc.all(e))if("function"==typeof o.onDidChange){let e=o.onDidChange((()=>n.schedule()));this._localToDispose.add(e)}const i=this._detectVisibleLenses=new Go((()=>this._onViewportChanged()),250),n=new Go((()=>{const t=++this._modelChangeCounter;this._currentFindCodeLensSymbolsPromise&&this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=Vo((t=>gW(e,t))),this._currentFindCodeLensSymbolsPromise.then((n=>{t===this._modelChangeCounter&&(this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=n,this._codeLensCache.put(e,n),this._renderCodeLensSymbols(n),i.schedule())}),ft)}),250);this._localToDispose.add(n),this._localToDispose.add(i),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{let i=[],n=-1;this._lenses.forEach((e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)}));let o=new fW;i.forEach((e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)})),o.commit(e)}))})),i.schedule(),n.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&i.schedule()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{i.schedule()}))),this._localToDispose.add(Nt((()=>{if(this._editor.getModel()){const e=zE.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseUp((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const i of this._lenses){let e=i.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),n.schedule()}_disposeAllLenses(e,t){const i=new fW;for(const n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses=[]}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,i=this._editor.getModel().getLineCount(),n=[];for(let s of e.lenses){let e=s.symbol.range.startLineNumber;e<1||e>i||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(s):(t=[s],n.push(t)))}const o=zE.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const i=new fW;let o=0,s=0;for(;s<n.length&&o<this._lenses.length;){let e=n[s][0].symbol.range.startLineNumber,r=this._lenses[o].getLineNumber();r<e?(this._lenses[o].dispose(i,t),this._lenses.splice(o,1)):r===e?(this._lenses[o].updateCodeLensSymbols(n[s],i),s++,o++):(this._lenses.splice(o,0,new bW(n[s],this._editor,this._styleClassName,i,t,(()=>this._detectVisibleLenses&&this._detectVisibleLenses.schedule()))),o++,s++)}for(;o<this._lenses.length;)this._lenses[o].dispose(i,t),this._lenses.splice(o,1);for(;s<n.length;)this._lenses.push(new bW(n[s],this._editor,this._styleClassName,i,t,(()=>this._detectVisibleLenses&&this._detectVisibleLenses.schedule()))),s++;i.commit(e)}))})),o.restore(this._editor)}_onViewportChanged(){this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);const e=this._editor.getModel();if(!e)return;const t=[],i=[];if(this._lenses.forEach((n=>{const o=n.computeIfNecessary(e);o&&(t.push(o),i.push(n))})),0===t.length)return;const n=Vo((n=>{const o=t.map(((t,o)=>{const s=new Array(t.length),r=t.map(((t,i)=>t.symbol.command||"function"!=typeof t.provider.resolveCodeLens?(s[i]=t.symbol,Promise.resolve(void 0)):Promise.resolve(t.provider.resolveCodeLens(e,t.symbol,n)).then((e=>{s[i]=e}),bt)));return Promise.all(r).then((()=>{n.isCancellationRequested||i[o].isDisposed()||i[o].updateCommands(s)}))}));return Promise.all(o)}));this._currentResolveCodeLensSymbolsPromise=n,this._currentResolveCodeLensSymbolsPromise.then((()=>{this._currentCodeLensModel&&this._codeLensCache.put(e,this._currentCodeLensModel),this._oldCodeLensModels.clear(),n===this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise=void 0)}),(e=>{ft(e),n===this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise=void 0)}))}getLenses(){return this._lenses}};function kW(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}SW.ID="css.editor.codeLens",SW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([CW(1,hl),CW(2,$m),CW(3,_W)],SW),Pf(SW.ID,SW),Af(class extends Df{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:QS.hasCodeLensProvider,label:ue("vs/editor/contrib/codelens/codelensController","showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return yW(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(WA),n=e.get(hl),o=e.get($m),s=t.getSelection().positionLineNumber,r=t.getContribution(SW.ID),a=[];for(let e of r.getLenses())if(e.getLineNumber()===s)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const l=yield i.pick(a,{canPickMany:!1});if(l)try{yield n.executeCommand(l.command.id,...l.command.arguments||[])}catch(d){o.error(d)}}))}}),Tf("_executeDocumentColorProvider",(function(e,t){const{resource:i}=t;if(!(i instanceof Di))throw Ct();const n=e.get(wd).getModel(i);if(!n)throw Ct();const o=[],s=Jc.ordered(n).reverse().map((e=>Promise.resolve(e.provideDocumentColors(n,Ht.None)).then((e=>{if(Array.isArray(e))for(let t of e)o.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}))));return Promise.all(s).then((()=>o))})),Tf("_executeColorPresentationProvider",(function(e,t){const{resource:i,color:n,range:o}=t;if(!(i instanceof Di&&Array.isArray(n)&&4===n.length&&Vi.isIRange(o)))throw Ct();const[s,r,a,l]=n,d=e.get(wd).getModel(i);if(!d)throw Ct();const c={range:o,color:{red:s,green:r,blue:a,alpha:l}},h=[],u=Jc.ordered(d).reverse().map((e=>Promise.resolve(e.provideColorPresentations(d,c,Ht.None)).then((e=>{Array.isArray(e)&&h.push(...e)}))));return Promise.all(u).then((()=>h))}));var xW=function(e,t){return function(i,n){t(i,n,e)}};let LW=class e extends It{constructor(e,t,i){super(),this._editor=e,this._codeEditorService=t,this._configurationService=i,this._localToDispose=this._register(new Tt),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel((e=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(e.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(Jc.onDidChange((e=>this.onModelChanged()))),this._register(e.onDidChangeConfiguration((e=>{let t=this._isEnabled;this._isEnabled=this.isEnabled(),t!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageIdentifier(),i=this._configurationService.getValue(t.language);if(i){const e=i.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(12)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&Jc.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((t=>{this._timeoutTimer||(this._timeoutTimer=new $o,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),e.RECOMPUTE_TIME))}))),this.beginCompute())}beginCompute(){this._computePromise=Vo((e=>{const t=this._editor.getModel();return t?function(e,t){const i=[],n=Jc.ordered(e).reverse().map((n=>Promise.resolve(n.provideDocumentColors(e,t)).then((e=>{if(Array.isArray(e))for(let t of e)i.push({colorInfo:t,provider:n})}))));return Promise.all(n).then((()=>i))}(t,e):Promise.resolve([])})),this._computePromise.then((e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}),ft)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:Wv.EMPTY})));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,i)=>this._colorDatas.set(t,e[i])))}updateColorDecorators(e){let t=[],i={};for(let n=0;n<e.length&&t.length<500;n++){const{red:o,green:s,blue:r,alpha:a}=e[n].colorInfo.color,l=new vv(Math.round(255*o),Math.round(255*s),Math.round(255*r),a);let d=Kh(`rgba(${l.r},${l.g},${l.b},${l.a})`).toString(16),c=`rgba(${l.r}, ${l.g}, ${l.b}, ${l.a})`,h="colorBox-"+d;this._decorationsTypes.has(h)||i[h]||this._codeEditorService.registerDecorationType(h,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:c},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[h]=!0,t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(h,!0)})}this._decorationsTypes.forEach((e=>{i[e]||this._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((e=>{this._codeEditorService.removeDecorationType(e)}))}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(Vi.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===i.length?null:this._colorDatas.get(i[0].id)}};LW.ID="editor.contrib.colorDetector",LW.RECOMPUTE_TIME=1e3,LW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([xW(1,uo),xW(2,km)],LW),Pf(LW.ID,LW);class EW{constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length;if(i+n>e.length)return!1;for(let o=0;o<n;o++){const n=e.charCodeAt(i+o),s=t.charCodeAt(o);if(n!==s&&!(n>=65&&n<=90&&n+32===s||s>=65&&s<=90&&s+32===n))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){const r=e.startLineNumber,a=e.startColumn,l=e.endLineNumber,d=e.endColumn,c=o.getLineContent(r),h=o.getLineContent(l);let u,g=c.lastIndexOf(t,a-1+t.length),m=h.indexOf(i,d-1-i.length);if(-1!==g&&-1!==m)if(r===l){c.substring(g+t.length,m).indexOf(i)>=0&&(g=-1,m=-1)}else{const e=c.substring(g+t.length),n=h.substring(0,m);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(g=-1,m=-1)}-1!==g&&-1!==m?(n&&g+t.length<c.length&&32===c.charCodeAt(g+t.length)&&(t+=" "),n&&m>0&&32===h.charCodeAt(m-1)&&(i=" "+i,m-=1),u=EW._createRemoveBlockCommentOperations(new Vi(r,g+t.length+1,l,m+1),t,i)):(u=EW._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===u.length?i:null);for(const p of u)s.addTrackedEditOperation(p.range,p.text)}static _createRemoveBlockCommentOperations(e,t,i){let n=[];return Vi.isEmpty(e)?n.push(Sm.delete(new Vi(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(Sm.delete(new Vi(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(Sm.delete(new Vi(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){let o=[];return Vi.isEmpty(e)?o.push(Sm.replace(new Vi(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(Sm.insert(new Bi(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(Sm.insert(new Bi(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),s=zh.getComments(o);s&&s.blockCommentStartToken&&s.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,s.blockCommentStartToken,s.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(2===i.length){const e=i[0],t=i[1];return new Hi(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new Hi(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}class DW{constructor(e,t,i,n,o){this._selection=e,this._tabSize=t,this._type=i,this._insertSpace=n,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o}static _gatherPreflightCommentStrings(e,t,i){e.tokenizeIfCheap(t);const n=e.getLanguageIdAtPosition(t,1),o=zh.getComments(n),s=o?o.lineCommentToken:null;if(!s)return null;let r=[];for(let a=0,l=i-t+1;a<l;a++)r[a]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return r}static _analyzeLines(e,t,i,n,o,s){let r,a=!0;r=0===e||1!==e;for(let l=0,d=n.length;l<d;l++){const d=n[l],c=o+l,h=i.getLineContent(c),u=qr(h);if(-1!==u){if(a=!1,d.ignore=!1,d.commentStrOffset=u,r&&!EW._haystackHasNeedleAtOffset(h,d.commentStr,u)&&(0===e?r=!1:1===e||(d.ignore=!0)),r&&t){const e=u+d.commentStrLength;e<h.length&&32===h.charCodeAt(e)&&(d.commentStrLength+=1)}}else d.ignore=s,d.commentStrOffset=h.length}if(0===e&&a){r=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:n}}static _gatherPreflightData(e,t,i,n,o,s){const r=DW._gatherPreflightCommentStrings(i,n,o);return null===r?{supported:!1}:DW._analyzeLines(e,t,i,r,n,s)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=DW._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(DW._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const s=new Bi(n.positionLineNumber,n.positionColumn);for(let r=0,a=o.length;r<a;r++)if(t.addEditOperation(o[r].range,o[r].text),Vi.isEmpty(o[r].range)&&Vi.getStartPosition(o[r].range).equals(s)){e.getLineContent(s.lineNumber).length+1===s.column&&(this._deltaColumn=(o[r].text||"").length)}this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,s=t.endLineNumber,r=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(o).lastIndexOf(i,r-1),l=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return-1!==a&&-1===l&&(l=e.getLineContent(o).indexOf(n,a+i.length),s=o),-1===a&&-1!==l&&(a=e.getLineContent(s).lastIndexOf(i,l),o=s),!t.isEmpty()||-1!==a&&-1!==l||(a=e.getLineContent(o).indexOf(i),-1!==a&&(l=e.getLineContent(o).indexOf(n,a+i.length))),-1!==a&&32===e.getLineContent(o).charCodeAt(a+i.length)&&(i+=" "),-1!==l&&32===e.getLineContent(s).charCodeAt(l-1)&&(n=" "+n,l-=1),-1!==a&&-1!==l?EW._createRemoveBlockCommentOperations(new Vi(o,a+i.length+1,s,l+1),i,n):null}_executeBlockComment(e,t,i){e.tokenizeIfCheap(i.startLineNumber);let n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=zh.getComments(n);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const s=o.blockCommentStartToken,r=o.blockCommentEndToken;let a=this._attemptRemoveBlockComment(e,i,s,r);if(!a){if(i.isEmpty()){const t=e.getLineContent(i.startLineNumber);let n=qr(t);-1===n&&(n=t.length),a=EW._createAddBlockCommentOperations(new Vi(i.startLineNumber,n+1,i.startLineNumber,t.length+1),s,r,this._insertSpace)}else a=EW._createAddBlockCommentOperations(new Vi(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,r,this._insertSpace);1===a.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const l of a)t.addEditOperation(l.range,l.text)}getEditOperations(e,t){let i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=DW._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new Hi(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];o.ignore||i.push(Sm.delete(new Vi(t+n,o.commentStrOffset+1,t+n,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){let i=[];const n=this._insertSpace?" ":"";for(let o=0,s=e.length;o<s;o++){const s=e[o];s.ignore||i.push(Sm.insert(new Bi(t+o,s.commentStrOffset+1),s.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,s,r=1073741824;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const o=e.getLineContent(i+a);let s=0;for(let e=0,i=t[a].commentStrOffset;s<r&&e<i;e++)s=DW.nextVisibleColumn(s,n,9===o.charCodeAt(e),1);s<r&&(r=s)}r=Math.floor(r/n)*n;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(i+a);let d=0;for(o=0,s=t[a].commentStrOffset;d<r&&o<s;o++)d=DW.nextVisibleColumn(d,n,9===l.charCodeAt(o),1);t[a].commentStrOffset=d>r?o-1:o}}}class NW extends Df{constructor(e,t){super(t),this._type=e}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=[],o=t.getSelections(),s=i.getOptions(),r=t.getOption(14);for(const a of o)n.push(new DW(a,s.tabSize,this._type,r.insertSpace,r.ignoreEmptyLines));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}Af(class extends NW{constructor(){super(0,{id:"editor.action.commentLine",label:ue("vs/editor/contrib/comment/comment","comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:bf.MenubarEditMenu,group:"5_insert",title:ue("vs/editor/contrib/comment/comment",{key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),Af(class extends NW{constructor(){super(1,{id:"editor.action.addCommentLine",label:ue("vs/editor/contrib/comment/comment","comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2081),weight:100}})}}),Af(class extends NW{constructor(){super(2,{id:"editor.action.removeCommentLine",label:ue("vs/editor/contrib/comment/comment","comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2099),weight:100}})}}),Af(class extends Df{constructor(){super({id:"editor.action.blockComment",label:ue("vs/editor/contrib/comment/comment","comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:bf.MenubarEditMenu,group:"5_insert",title:ue("vs/editor/contrib/comment/comment",{key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){if(!t.hasModel())return;const i=t.getOption(14),n=[],o=t.getSelections();for(const s of o)n.push(new EW(s,i.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}});var TW=function(e,t){return function(i,n){t(i,n,e)}};let IW=class e{constructor(e,t,i,n,o,s){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=n,this._keybindingService=o,this._menuService=s,this._toDispose=new Tt,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),i=e.srcElement;i.shadowRoot&&ar(t)===i.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(15))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(15))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),bf.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(let s of o){const[,t]=s;let n=0;for(const o of t)if(o instanceof Cf){const t=this._getMenuActions(e,o.item.submenu);t.length>0&&(i.push(new Gp(o.id,o.label,t)),n++)}else i.push(o),n++;n&&i.push(new jp)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(46);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=Ys(this._editor.getDomNode()),n=i.left+e.left,o=i.top+e.top+e.height;t={x:n,y:o}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:this._editor.getDomNode(),getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new GE(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"==typeof i.getActionViewItem?i.getActionViewItem():new GE(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:i})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};IW.ID="editor.contrib.contextmenu",IW=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([TW(1,oD),TW(2,nD),TW(3,gf),TW(4,DD),TW(5,_f)],IW);Pf(IW.ID,IW),Af(class extends Df{constructor(){super({id:"editor.action.showContextMenu",label:ue("vs/editor/contrib/contextmenu/contextmenu","action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:1092,weight:100}})}run(e,t){IW.get(t).showContextMenu()}});class MW{constructor(e){this.selections=e}equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0}}class RW{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class AW extends It{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const i=new MW(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new RW(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}static get(e){return e.getContribution(AW.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new RW(new MW(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new RW(new MW(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}AW.ID="editor.contrib.cursorUndoRedoController";Pf(AW.ID,AW),Af(class extends Df{constructor(){super({id:"cursorUndo",label:ue("vs/editor/contrib/cursorUndo/cursorUndo","cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:2099,weight:100}})}run(e,t,i){AW.get(t).cursorUndo()}}),Af(class extends Df{constructor(){super({id:"cursorRedo",label:ue("vs/editor/contrib/cursorUndo/cursorUndo","cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){AW.get(t).cursorRedo()}});class OW{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){let i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new Vi(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new Hi(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new Hi(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new Hi(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Hi(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Hi(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function PW(e){return xe?e.altKey:e.ctrlKey}class FW extends It{constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(25)&&!this._editor.getOption(13)&&(PW(e)&&(this._modifierPressed=!0),this._mouseDown&&PW(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(25)&&!this._editor.getOption(13)&&(PW(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===FW.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}PW(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new Bi(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new Hi(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new Hi(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(i||[],"mouse")}else(!this._dragSelection.containsPosition(t)||(PW(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(FW.ID,new OW(this._dragSelection,t,PW(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new Vi(e.lineNumber,e.column,e.lineNumber,e.column),options:FW._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}FW.ID="editor.contrib.dragAndDrop",FW.TRIGGER_KEY_VALUE=xe?6:5,FW._DECORATION_OPTIONS=Wv.register({className:"dnd-target"}),Pf(FW.ID,FW);class WW{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const e=i.options;if(e===WW._FIND_MATCH_DECORATION||e===WW._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){let o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(o)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,WW._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,WW._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){let e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new Vi(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,WW._RANGE_HIGHLIGHT_DECORATION)}})),i}set(e,t){this._editor.changeDecorations((i=>{let n=WW._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){n=WW._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height/t,s=Math.max(2,Math.ceil(3/i));let r=e[0].range.startLineNumber,a=e[0].range.endLineNumber;for(let n=1,l=e.length;n<l;n++){const t=e[n].range;a+s>=t.startLineNumber?t.endLineNumber>a&&(a=t.endLineNumber):(o.push({range:new Vi(r,1,a,1),options:WW._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=t.startLineNumber,a=t.endLineNumber)}o.push({range:new Vi(r,1,a,1),options:WW._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let t=0,r=e.length;t<r;t++)s[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>i.removeDecoration(e))),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>i.addDecoration(e,WW._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){let i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}WW._CURRENT_FIND_MATCH_DECORATION=Wv.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:_b(Iy),position:Vl.Center},minimap:{color:_b(Ry),position:Hl.Inline}}),WW._FIND_MATCH_DECORATION=Wv.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:_b(Iy),position:Vl.Center},minimap:{color:_b(Ry),position:Hl.Inline}}),WW._FIND_MATCH_NO_OVERVIEW_DECORATION=Wv.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),WW._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Wv.register({stickiness:1,overviewRuler:{color:_b(Iy),position:Vl.Center}}),WW._RANGE_HIGHLIGHT_DECORATION=Wv.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),WW._FIND_SCOPE_DECORATION=Wv.register({className:"findScope",isWholeLine:!0});class BW{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>Vi.compareRangesUsingStarts(e.range,t.range)));let i=[],n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const o of i)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function VW(e,t){if(e&&""!==e[0]){const i=HW(e,t,"-"),n=HW(e,t,"_");return i&&!n?zW(e,t,"-"):!i&&n?zW(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():function(e,t=!1){return!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):t}return t}function HW(e,t,i){return-1!==e[0].indexOf(i)&&-1!==t.indexOf(i)&&e[0].split(i).length===t.split(i).length}function zW(e,t,i){const n=t.split(i),o=e[0].split(i);let s="";return n.forEach(((e,t)=>{s+=VW([o[t]],e)+i})),s.slice(0,-1)}class UW{constructor(e){this.staticValue=e,this.kind=0}}class KW{constructor(e){this.pieces=e,this.kind=1}}class qW{constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new UW(e[0].staticValue):this._state=new KW(e):this._state=new UW("")}static fromStaticValue(e){return new qW([$W.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?VW(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){let t=this._state.pieces[n];if(null!==t.staticValue){i+=t.staticValue;continue}let o=qW._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){let e=[],i=t.caseOps.length,n=0;for(let s=0,r=o.length;s<r;s++){if(n>=i){e.push(o.slice(s));break}switch(t.caseOps[n]){case"U":e.push(o[s].toUpperCase());break;case"u":e.push(o[s].toUpperCase()),n++;break;case"L":e.push(o[s].toLowerCase());break;case"l":e.push(o[s].toLowerCase()),n++;break;default:e.push(o[s])}}o=e.join("")}i+=o}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";for(;e>0;){if(e<t.length){return(t[e]||"")+i}i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class $W{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}static staticValue(e){return new $W(e,-1,null)}static caseOps(e,t){return new $W(null,e,t)}}class jW{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=$W.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=$W.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=$W.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new qW(this._result)}}const GW=new uf("findWidgetVisible",!1),ZW=new uf("findInputFocussed",!1),YW=new uf("replaceInputFocussed",!1),JW={primary:545,mac:{primary:2593}},QW={primary:565,mac:{primary:2613}},XW={primary:560,mac:{primary:2608}},eB={primary:554,mac:{primary:2602}},tB="actions.find",iB="actions.findWithSelection",nB="editor.action.nextMatchFindAction",oB="editor.action.previousMatchFindAction",sB="editor.action.nextSelectionMatchFindAction",rB="editor.action.previousSelectionMatchFindAction",aB="editor.action.startFindReplaceAction",lB="closeFindWidget",dB="toggleFindCaseSensitive",cB="toggleFindWholeWord",hB="toggleFindRegex",uB="toggleFindInSelection",gB="editor.action.replaceOne",mB="editor.action.replaceAll",pB="editor.action.selectAllMatches";class fB{constructor(e,t){this._toDispose=new Tt,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new $o,this._decorations=new WW(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new Go((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Et(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;void 0!==t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new Vi(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));let n=this._findMatches(i,!1,19999);this._decorations.set(n,i);const o=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(o);if(0===s&&n.length>0){const e=Xo(n.map((e=>e.range)),(e=>Vi.compareRangesUsingStarts(e,o)>=0));s=e>0?e-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(29).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new Bi(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let i=this._decorations.getFindScope(),n=fB._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());let{lineNumber:o,column:s}=e,r=this._editor.getModel(),a=new Bi(o,s),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,!1);return l&&l.range.isEmpty()&&l.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),l=r.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,!1)),l?t||n.containsRange(l.range)?void this._setCurrentFindMatch(l.range):this._moveToPrevMatch(l.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:n}=e,o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new Bi(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<19999){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),s=fB._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:r,column:a}=e,l=this._editor.getModel(),d=new Bi(r,a),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,t);return i&&c&&c.range.isEmpty()&&c.range.getStartPosition().equals(d)&&(d=this._nextSearchPosition(d),c=l.findNextMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,t)),c?n||s.containsRange(c.range)?c:this._getNextMatch(c.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?function(e){if(!e||0===e.length)return new qW(null);let t=[],i=new jW(e);for(let n=0,o=e.length;n<o;n++){let s=e.charCodeAt(n);if(92!==s){if(36===s){if(n++,n>=o)break;let s=e.charCodeAt(n);if(36===s){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===s||38===s){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=s&&s<=57){let r=s-48;if(n+1<o){let o=e.charCodeAt(n+1);if(48<=o&&o<=57){n++,r=10*r+(o-48),i.emitUnchanged(n-2),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(r,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;let s=e.charCodeAt(n);switch(s){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(s))}}}return i.finalize()}(this._state.replaceString):qW.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new MS(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new Bi(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map((e=>fB._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=19999?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new R_(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(105):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const i=this._editor.getModel(),n=i.getValue(1),o=i.getFullModelRange(),s=this._getReplacePattern();let r;const a=this._state.preserveCase;r=s.hasReplacementPatterns||a?n.replace(t,(function(){return s.buildReplaceString(arguments,a)})):n.replace(t,s.buildReplaceString(null,a));let l=new PS(o,r,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let s=0,r=i.length;s<r;s++)n[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let o=new BW(this._editor.getSelection(),i.map((e=>e.range)),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((e=>new Hi(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))),i=this._editor.getSelection();for(let n=0,o=t.length;n<o;n++){if(t[n].equalsRange(i)){t=[i].concat(t.slice(0,n)).concat(t.slice(n+1));break}}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const bB={inputActiveOptionBorder:yv.fromHex("#007ACC00"),inputActiveOptionForeground:yv.fromHex("#FFFFFF"),inputActiveOptionBackground:yv.fromHex("#0E639C50")};class _B extends Ik{constructor(e){super(),this._onChange=this._register(new Pt),this.onChange=this._onChange.event,this._onKeyDown=this._register(new Pt),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},bB),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon?t.push(this._opts.icon.classNames):t.push("codicon"),this._opts.actionClassName&&t.push(this._opts.actionClassName),t.push(this._checked?"checked":"unchecked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.className=t.join(" "),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault();this._onKeyDown.fire(e)}))}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))}disable(){Dr(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))}}const vB=ue("vs/base/browser/ui/findinput/findInputCheckboxes","caseDescription","Match Case"),wB=ue("vs/base/browser/ui/findinput/findInputCheckboxes","wordsDescription","Match Whole Word"),CB=ue("vs/base/browser/ui/findinput/findInputCheckboxes","regexDescription","Use Regular Expression");class yB extends _B{constructor(e){super({icon:bc.caseSensitive,title:vB+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class SB extends _B{constructor(e){super({icon:bc.wholeWord,title:wB+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class kB extends _B{constructor(e){super({icon:bc.regex,title:CB+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class xB extends Ik{constructor(e,t,i,n){super(),this._hideSoon=this._register(new Go((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=n.getColorTheme().getColor(Uw),s=n.getColorTheme().getColor(qw),r=n.getColorTheme().getColor(Kw);this.caseSensitive=this._register(new yB({appendTitle:this._keybindingLabelFor(dB),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new SB({appendTitle:this._keybindingLabelFor(cB),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new kB({appendTitle:this._keybindingLabelFor(hB),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:r})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(Fs(this._domNode,(e=>this._onMouseOut()))),this._register(Ms(this._domNode,"mouseover",(e=>this._onMouseOver()))),this._applyTheme(n.getColorTheme()),this._register(n.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return xB.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Uw),inputActiveOptionForeground:e.getColor(qw),inputActiveOptionBackground:e.getColor(Kw)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}function LB(e,t){return 1===e||2!==e&&t}xB.ID="editor.contrib.findOptionsWidget",Sb(((e,t)=>{const i=e.getColor(SC);i&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${i}; }`);const n=e.getColor(kC);n&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const o=e.getColor(Bw);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px ${o}; }`);const s=e.getColor(Ow);s&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${s}; }`)}));class EB extends It{constructor(){super(),this._onFindReplaceStateChange=this._register(new Pt),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return LB(this._isRegexOverride,this._isRegex)}get wholeWord(){return LB(this._wholeWordOverride,this._wholeWord)}get matchCase(){return LB(this._matchCaseOverride,this._matchCase)}get preserveCase(){return LB(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),void 0!==i&&(Vi.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;const r=this.isRegex,a=this.wholeWord,l=this.matchCase,d=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!Vi.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(s=!0,o.isRegex=!0),a!==this.wholeWord&&(s=!0,o.wholeWord=!0),l!==this.matchCase&&(s=!0,o.matchCase=!0),d!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=19999}}const DB=ue("vs/base/browser/ui/findinput/findInput","defaultLabel","input");class NB extends Ik{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this._onDidOptionChange=this._register(new Pt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Pt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Pt),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new Pt),this._onKeyUp=this._register(new Pt),this._onCaseSensitiveKeyDown=this._register(new Pt),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new Pt),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||DB,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.appendCaseSensitiveLabel||"",s=n.appendWholeWordsLabel||"",r=n.appendRegexLabel||"",a=n.history||[],l=!!n.flexibleHeight,d=!!n.flexibleWidth,c=n.flexibleMaxHeight;this.domNode=document.createElement("div"),Ls(this.domNode,"monaco-findInput"),this.inputBox=this._register(new SA(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,flexibleHeight:l,flexibleWidth:d,flexibleMaxHeight:c})),this.regex=this._register(new kB({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new SB({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new yB({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)}))),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=h.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%h.length:e.equals(15)&&(i=0===t?h.length-1:t-1),e.equals(9)?h[t].blur():i>=0&&h[i].focus(),fr(e,!0)}}}));let u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.caseSensitive.domNode),u.appendChild(this.wholeWords.domNode),u.appendChild(this.regex.domNode),this.domNode.appendChild(u),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){Ds(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){Ls(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){Ds(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,Ls(this.domNode,"highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const TB=ue("vs/base/browser/ui/findinput/replaceInput","defaultLabel","input"),IB=ue("vs/base/browser/ui/findinput/replaceInput","label.preserveCaseCheckbox","Preserve Case");class MB extends _B{constructor(e){super({icon:bc.preserveCase,title:IB+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class RB extends Ik{constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new Pt),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new Pt),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new Pt),this._onInput=this._register(new Pt),this._onKeyUp=this._register(new Pt),this._onPreserveCaseKeyDown=this._register(new Pt),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||TB,this.inputActiveOptionBorder=n.inputActiveOptionBorder,this.inputActiveOptionForeground=n.inputActiveOptionForeground,this.inputActiveOptionBackground=n.inputActiveOptionBackground,this.inputBackground=n.inputBackground,this.inputForeground=n.inputForeground,this.inputBorder=n.inputBorder,this.inputValidationInfoBorder=n.inputValidationInfoBorder,this.inputValidationInfoBackground=n.inputValidationInfoBackground,this.inputValidationInfoForeground=n.inputValidationInfoForeground,this.inputValidationWarningBorder=n.inputValidationWarningBorder,this.inputValidationWarningBackground=n.inputValidationWarningBackground,this.inputValidationWarningForeground=n.inputValidationWarningForeground,this.inputValidationErrorBorder=n.inputValidationErrorBorder,this.inputValidationErrorBackground=n.inputValidationErrorBackground,this.inputValidationErrorForeground=n.inputValidationErrorForeground;const o=n.history||[],s=!!n.flexibleHeight,r=!!n.flexibleWidth,a=n.flexibleMaxHeight;this.domNode=document.createElement("div"),Ls(this.domNode,"monaco-findInput"),this.inputBox=this._register(new SA(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:o,flexibleHeight:s,flexibleWidth:r,flexibleMaxHeight:a})),this.preserveCase=this._register(new MB({appendTitle:"",isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let l=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=l.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%l.length:e.equals(15)&&(i=0===t?l.length-1:t-1),e.equals(9)?l[t].blur():i>=0&&l[i].focus(),fr(e,!0)}}}));let d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){Ds(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){Ls(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var AB=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},OB=function(e,t){return function(i,n){t(i,n,e)}};function PB(e,t){return e.getContext(document.activeElement).getValue(t)}function FB(e,t){const i=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,i){new uf(i,t).bindTo(e)}(i,t,"historyNavigationWidget");return{scopedContextKeyService:i,historyNavigationEnablement:new uf("historyNavigationEnabled",!0).bindTo(i)}}let WB=class extends NB{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(FB(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};WB=AB([OB(3,gf)],WB);let BB=class extends RB{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(FB(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};BB=AB([OB(3,gf)],BB),Wm.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:Jp.and(Jp.has("historyNavigationWidget"),Jp.equals("historyNavigationEnabled",!0)),primary:16,secondary:[528],handler:(e,t)=>{const i=PB(e.get(gf),"historyNavigationWidget");if(i){i.historyNavigator.showPreviousValue()}}}),Wm.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:Jp.and(Jp.has("historyNavigationWidget"),Jp.equals("historyNavigationEnabled",!0)),primary:18,secondary:[530],handler:(e,t)=>{const i=PB(e.get(gf),"historyNavigationWidget");if(i){i.historyNavigator.showNextValue()}}});var VB=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const HB=fc("find-selection",bc.selection),zB=fc("find-collapsed",bc.chevronRight),UB=fc("find-expanded",bc.chevronDown),KB=fc("find-close",bc.close),qB=fc("find-replace",bc.replace),$B=fc("find-replace-all",bc.replaceAll),jB=fc("find-previous-match",bc.arrowUp),GB=fc("find-next-match",bc.arrowDown),ZB=ue("vs/editor/contrib/find/findWidget","label.find","Find"),YB=ue("vs/editor/contrib/find/findWidget","placeholder.find","Find"),JB=ue("vs/editor/contrib/find/findWidget","label.previousMatchButton","Previous match"),QB=ue("vs/editor/contrib/find/findWidget","label.nextMatchButton","Next match"),XB=ue("vs/editor/contrib/find/findWidget","label.toggleSelectionFind","Find in selection"),eV=ue("vs/editor/contrib/find/findWidget","label.closeButton","Close"),tV=ue("vs/editor/contrib/find/findWidget","label.replace","Replace"),iV=ue("vs/editor/contrib/find/findWidget","placeholder.replace","Replace"),nV=ue("vs/editor/contrib/find/findWidget","label.replaceButton","Replace"),oV=ue("vs/editor/contrib/find/findWidget","label.replaceAllButton","Replace All"),sV=ue("vs/editor/contrib/find/findWidget","label.toggleReplaceButton","Toggle Replace mode"),rV=ue("vs/editor/contrib/find/findWidget","title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",19999),aV=ue("vs/editor/contrib/find/findWidget","label.matchesLocation","{0} of {1}"),lV=ue("vs/editor/contrib/find/findWidget","label.noResults","No results");let dV=69;const cV=xe?256:2048;class hV{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function uV(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function gV(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class mV extends Ik{constructor(e,t,i,n,o,s,r,a,l,d){super(),this._cachedHeight=null,this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=n,this._keybindingService=o,this._contextKeyService=s,this._storageService=a,this._notificationService=l,d.registerStorageKey({key:"ctrlEnterReplaceAll.windows.donotask",version:1}),this._ctrlEnterReplaceAllWarningPrompted=!!a.getBoolean("ctrlEnterReplaceAll.windows.donotask",0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new zo(500),this._register(Nt((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(72)&&(this._codeEditor.getOption(72)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(117)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(29)){const e=this._codeEditor.getOption(29).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new hV(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>VB(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!0),this._findInput.select())}}))))),this._findInputFocused=ZW.bindTo(s),this._findFocusTracker=this._register(_r(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=YW.bindTo(s),this._replaceFocusTracker=this._register(_r(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(29).addExtraSpaceOnTop&&(this._viewZone=new hV(0)),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return mV.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(72)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=Qs(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;Ts(this._domNode,"no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=dV+"px",this._state.matchesCount>=19999?this._matchesCount.title=rV:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=19999&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=Pr(aV,i,t)}else e=lV;this._matchesCount.appendChild(document.createTextNode(e)),Op(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),dV=Math.max(dV,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===lV)return""===i?ue("vs/editor/contrib/find/findWidget","ariaSearchNoResultEmpty","{0} found",e):ue("vs/editor/contrib/find/findWidget","ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const n=ue("vs/editor/contrib/find/findWidget","ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();if(o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1){return`${o.getLineContent(t.startLineNumber)}, ${n}`}return n}return ue("vs/editor/contrib/find/findWidget","ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),Ts(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(72);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(29).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout((()=>{Ls(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","false")}),0),setTimeout((()=>{this._findInput.validate()}),200),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(29).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=Ys(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=n.left+(o?o.left:0),r=o?o.top:0;if(this._viewZone&&r<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=Zs(this._domNode).left;s>i&&(t=!1);const o=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());n.left+(o?o.left:0)>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),Ds(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(){if(!this._codeEditor.getOption(29).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const e=this._viewZone;void 0===this._viewZoneId&&e&&this._codeEditor.changeViewZones((t=>{e.heightInPx=this._getHeight(),this._viewZoneId=t.addZone(e),this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+e.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(29).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new hV(0));const t=this._viewZone;this._codeEditor.changeViewZones((i=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===t.heightInPx)return;let o=n-t.heightInPx;return t.heightInPx=n,i.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(66).top,n<=0)return;t.heightInPx=n,this._viewZoneId=i.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(Uw),inputActiveOptionBackground:e.getColor(Kw),inputActiveOptionForeground:e.getColor(qw),inputBackground:e.getColor(Vw),inputForeground:e.getColor(Hw),inputBorder:e.getColor(zw),inputValidationInfoBackground:e.getColor($w),inputValidationInfoForeground:e.getColor(jw),inputValidationInfoBorder:e.getColor(Gw),inputValidationWarningBackground:e.getColor(Zw),inputValidationWarningForeground:e.getColor(Yw),inputValidationWarningBorder:e.getColor(Jw),inputValidationErrorBackground:e.getColor(Qw),inputValidationErrorForeground:e.getColor(Xw),inputValidationErrorBorder:e.getColor(eC)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!Ss(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void Ls(this._domNode,"hiddenEditor");xs(this._domNode,"hiddenEditor")&&Ds(this._domNode,"hiddenEditor");const t=e.width,i=e.minimap.minimapWidth;let n=!1,o=!1,s=!1;if(this._resized){if(Qs(this._domNode)>419)return this._domNode.style.maxWidth=t-28-i-15+"px",void(this._replaceInput.width=Qs(this._findInput.domNode))}if(447+i>=t&&(o=!0),447+i-dV>=t&&(s=!0),447+i-dV>=t+50&&(n=!0),Ts(this._domNode,"collapsed-find-widget",n),Ts(this._domNode,"narrow-find-widget",s),Ts(this._domNode,"reduced-find-widget",o),s||n||(this._domNode.style.maxWidth=t-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=Qs(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||Vi.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|cV)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?uV(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?gV(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|cV)?(ke&&Ee&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(ue("vs/editor/contrib/find/findWidget","ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store("ctrlEnterReplaceAll.windows.donotask",!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?uV(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?gV(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new WB(null,this._contextViewProvider,{width:221,label:ZB,placeholder:YB,appendCaseSensitiveLabel:this._keybindingLabelFor(dB),appendWholeWordsLabel:this._keybindingLabelFor(cB),appendRegexLabel:this._keybindingLabelFor(hB),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(le){return{content:le.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),Le&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new pV({label:JB+this._keybindingLabelFor(oB),className:jB.classNames,onTrigger:()=>{this._codeEditor.getAction(oB).run().then(void 0,ft)}})),this._nextBtn=this._register(new pV({label:QB+this._keybindingLabelFor(nB),className:GB.classNames,onTrigger:()=>{this._codeEditor.getAction(nB).run().then(void 0,ft)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new _B({icon:HB,title:XB+this._keybindingLabelFor(uB),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new pV({label:eV+this._keybindingLabelFor(lB),className:KB.classNames,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new BB(null,void 0,{label:tV,placeholder:iV,history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new pV({label:nV+this._keybindingLabelFor(gB),className:qB.classNames,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new pV({label:oV+this._keybindingLabelFor(mB),className:$B.classNames,onTrigger:()=>{this._controller.replaceAll()}}));let i=document.createElement("div");i.className="replace-part",i.appendChild(this._replaceInput.domNode);const n=document.createElement("div");n.className="replace-actions",i.appendChild(n),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new pV({label:sV,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Qs(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(i),this._resizeSash=new ME(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let o=419;this._register(this._resizeSash.onDidStart((()=>{o=Qs(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;let t=o+e.startX-e.currentX;if(t<419)return;t>(parseFloat(qs(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Qs(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=Qs(this._domNode);if(e<419)return;let t=419;if(!this._resized||419===e){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=Qs(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}mV.ID="editor.contrib.findWidget";class pV extends Ik{constructor(e){super(),this._opts=e,this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className="button "+this._opts.className,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){Ts(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(Ns(this._domNode,zB.classNames),Es(this._domNode,UB.classNames)):(Ns(this._domNode,UB.classNames),Es(this._domNode,zB.classNames))}}Sb(((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(WC)),i(".currentFindMatch",e.getColor(FC)),i(".findScope",e.getColor(BC));i(".find-widget",e.getColor(SC));const n=e.getColor(Bw);n&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 2px 8px ${n}; }`);const o=e.getColor(HC);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const s=e.getColor(VC);s&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);const r=e.getColor(zC);r&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const a=e.getColor(Ow);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(kC);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const d=e.getColor(Mw);d&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${d}; }`);const c=e.getColor(LC);if(c)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${c}; }`);else{const i=e.getColor(xC);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const h=e.getColor(Aw);h&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${h}; }`)}));var fV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},bV=function(e,t){return function(i,n){t(i,n,e)}},_V=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function vV(e){if(!e.hasModel())return null;const t=e.getSelection();if(t.startLineNumber===t.endLineNumber)if(t.isEmpty()){const i=e.getConfiguredWordAtPosition(t.getStartPosition());if(i)return i.word}else if(e.getModel().getValueLengthInRange(t)<524288)return e.getModel().getValueInRange(t);return null}let wV=class e extends It{constructor(e,t,i,n){super(),this._editor=e,this._findWidgetVisible=GW.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=n,this._updateHistoryDelayer=new zo(500),this._state=this._register(new EB),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(29).loop})})))}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!ZW.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=Wr(e)),this._state.change({searchString:e},!1)}highlightFindOptions(){}_start(e){return _V(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if(e.seedSearchStringFromSelection){let e=vV(this._editor);e&&(this._state.isRegex?t.searchString=Wr(e):t.searchString=e)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new fB(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return _V(this,void 0,void 0,(function*(){return this._editor.getOption(29).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(29).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};wV.ID="editor.contrib.findController",wV=fV([bV(1,gf),bV(2,cR),bV(3,aD)],wV);let CV=class extends wV{constructor(e,t,i,n,o,s,r,a,l){super(e,i,r,l),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=s,this._storageKeysSyncRegistryService=a,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return _V(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let n=!1;switch(this._editor.getOption(29).autoFindInSelection){case"always":n=!0;break;case"never":n=!1;break;case"multiline":n=!!i&&i.startLineNumber!==i.endLineNumber}e.updateSearchScope=n,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new mV(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._storageKeysSyncRegistryService)),this._findOptionsWidget=this._register(new xB(this._editor,this._state,this._keybindingService,this._themeService))}};CV=fV([bV(1,nD),bV(2,gf),bV(3,DD),bV(4,bb),bV(5,$m),bV(6,cR),bV(7,QA),bV(8,aD)],CV);class yV extends Df{run(e,t){return _V(this,void 0,void 0,(function*(){let e=wV.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&t.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(29).loop}),this._run(e))}))}}class SV extends Df{run(e,t){return _V(this,void 0,void 0,(function*(){let e=wV.get(t);if(!e)return;let i=vV(t);i&&e.setSearchString(i),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(29).loop}),this._run(e))}))}}Pf(wV.ID,CV);Of(new class extends Nf{constructor(){super({id:tB,label:ue("vs/editor/contrib/find/findController","startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:bf.MenubarEditMenu,group:"3_find",title:ue("vs/editor/contrib/find/findController",{key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})}run(e,t){return _V(this,void 0,void 0,(function*(){let e=wV.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(29).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(29).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(29).loop}))}))}}),Af(class extends Df{constructor(){super({id:iB,label:ue("vs/editor/contrib/find/findController","startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return _V(this,void 0,void 0,(function*(){let e=wV.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(29).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}),Af(class extends yV{constructor(){super({id:nB,label:ue("vs/editor/contrib/find/findController","findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})}_run(e){return e.moveToNextMatch()}}),Af(class extends yV{constructor(){super({id:nB,label:ue("vs/editor/contrib/find/findController","findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.focus,ZW),primary:3,weight:100}})}_run(e){return e.moveToNextMatch()}}),Af(class extends yV{constructor(){super({id:oB,label:ue("vs/editor/contrib/find/findController","findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})}_run(e){return e.moveToPrevMatch()}}),Af(class extends yV{constructor(){super({id:oB,label:ue("vs/editor/contrib/find/findController","findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.focus,ZW),primary:1027,weight:100}})}_run(e){return e.moveToPrevMatch()}}),Af(class extends SV{constructor(){super({id:sB,label:ue("vs/editor/contrib/find/findController","nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}),Af(class extends SV{constructor(){super({id:rB,label:ue("vs/editor/contrib/find/findController","previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}});Of(new class extends Nf{constructor(){super({id:aB,label:ue("vs/editor/contrib/find/findController","startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:bf.MenubarEditMenu,group:"3_find",title:ue("vs/editor/contrib/find/findController",{key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})}run(e,t){return _V(this,void 0,void 0,(function*(){if(!t.hasModel()||t.getOption(72))return;let e=wV.get(t),i=t.getSelection(),n=e.isFindInputFocused(),o=!i.isEmpty()&&i.startLineNumber===i.endLineNumber&&t.getOption(29).seedSearchStringFromSelection&&!n,s=n||o?2:1;e&&(yield e.start({forceRevealReplace:!0,seedSearchStringFromSelection:o,seedSearchStringFromGlobalClipboard:t.getOption(29).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(29).loop}))}))}});const kV=Ef.bindToContribution(wV.get);Rf(new kV({id:lB,precondition:GW,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:QS.focus,primary:9,secondary:[1033]}})),Rf(new kV({id:dB,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:QS.focus,primary:JW.primary,mac:JW.mac,win:JW.win,linux:JW.linux}})),Rf(new kV({id:cB,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:QS.focus,primary:QW.primary,mac:QW.mac,win:QW.win,linux:QW.linux}})),Rf(new kV({id:hB,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:QS.focus,primary:XW.primary,mac:XW.mac,win:XW.win,linux:XW.linux}})),Rf(new kV({id:uB,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:QS.focus,primary:eB.primary,mac:eB.mac,win:eB.win,linux:eB.linux}})),Rf(new kV({id:gB,precondition:GW,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:QS.focus,primary:3094}})),Rf(new kV({id:gB,precondition:GW,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:Jp.and(QS.focus,YW),primary:3}})),Rf(new kV({id:mB,precondition:GW,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:QS.focus,primary:2563}})),Rf(new kV({id:mB,precondition:GW,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:Jp.and(QS.focus,YW),primary:void 0,mac:{primary:2051}}})),Rf(new kV({id:pB,precondition:GW,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:QS.focus,primary:515}}));class xV{constructor(e,t,i){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,i)=>{let n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,n=this._startIndexes.length;i<n;i++){let n=this._startIndexes[i],o=this._endIndexes[i];if(n>16777215||o>16777215)throw new Error("startLineNumber or endLineNumber must not exceed 16777215");for(;e.length>0&&!t(n,o);)e.pop();let s=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=n+((255&s)<<24),this._endIndexes[i]=o+((65280&s)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return 16777215&this._startIndexes[e]}getEndLineNumber(e){return 16777215&this._endIndexes[e]}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,i=e%32;return 0!=(this._collapseStates[t]&1<<i)}setCollapsed(e,t){let i=e/32|0,n=e%32,o=this._collapseStates[i];this._collapseStates[i]=t?o|1<<n:o&~(1<<n)}toRegion(e){return new LV(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((4278190080&this._startIndexes[e])>>>24)+((4278190080&this._endIndexes[e])>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;for(;t<i;){let n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}}class LV{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class EV{constructor(e,t){this._updateEventEmitter=new Pt,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new xV(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((i=>{let n=0,o=-1,s=-1;const r=e=>{for(;n<e;){const e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);e<=o&&i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=s)),t&&e>s&&(s=e),n++}};for(let a of e){let e=a.regionIndex,i=this._editorDecorationIds[e];if(i&&!t[i]){t[i]=!0,r(e);let n=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,n),o=Math.max(o,this._regions.getEndLineNumber(e))}}r(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let i=[],n=-1,o=(o,s)=>{const r=e.getStartLineNumber(o),a=e.getEndLineNumber(o);s&&((e,i)=>{for(let n of t)if(e<n&&n<=i)return!0;return!1})(r,a)&&(s=!1),e.setCollapsed(o,s);const l=this._textModel.getLineMaxColumn(r),d={startLineNumber:r,startColumn:l,endLineNumber:r,endColumn:l};i.push({range:d,options:this._decorationProvider.getDecorationOption(s,a<=n)}),s&&a>n&&(n=a)},s=0,r=()=>{for(;s<this._regions.length;){let e=this._regions.isCollapsed(s);if(s++,e)return s-1}return-1},a=0,l=r();for(;-1!==l&&a<e.length;){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let i=t.startLineNumber;if(this._textModel.getLineMaxColumn(i)===t.startColumn)for(;a<e.length;){let t=e.getStartLineNumber(a);if(!(i>=t))break;o(a,i===t),a++}}l=r()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){let n=i.startLineNumber,o=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:o})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let i of e){let e=this.getRegionAtLine(i.startLineNumber);e&&!e.isCollapsed&&t.push(e)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let i=[];if(this._regions){let n=this._regions.findRange(e),o=1;for(;n>=0;){let e=this._regions.toRegion(n);t&&!t(e,o)||i.push(e),o++,n=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let s=n,r=this._regions.length;s<r;s++){let n=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;for(;e.length>0&&!n.containedBy(e[e.length-1]);)e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let s=n,r=this._regions.length;s<r;s++){let e=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;t&&!t(e)||i.push(e)}return i}}function DV(e,t,i=Number.MAX_VALUE,n){let o=[];if(n&&n.length>0)for(let s of n){let n=e.getRegionAtLine(s);if(n&&(n.isCollapsed!==t&&o.push(n),i>1)){let s=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...s)}}else{let n=e.getRegionsInside(null,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...n)}e.toggleCollapseState(o)}function NV(e,t,i,n){let o=[];for(let s of n){let n=e.getAllRegionsAtLine(s,((e,n)=>e.isCollapsed!==t&&n<=i));o.push(...n)}e.toggleCollapseState(o)}function TV(e,t,i){let n=e.textModel,o=e.regions,s=[];for(let r=o.length-1;r>=0;r--)if(i!==o.isCollapsed(r)){let e=o.getStartLineNumber(r);t.test(n.getLineContent(e))&&s.push(o.toRegion(r))}e.toggleCollapseState(s)}function IV(e,t,i){let n=e.regions,o=[];for(let s=n.length-1;s>=0;s--)i!==n.isCollapsed(s)&&t===n.getType(s)&&o.push(n.toRegion(s));e.toggleCollapseState(o)}const MV=fc("folding-expanded",bc.chevronDown),RV=fc("folding-collapsed",bc.chevronRight);class AV{constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(e,t){return t?AV.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?AV.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:AV.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?AV.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:AV.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}}AV.COLLAPSED_VISUAL_DECORATION=Wv.register({stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:RV.classNames}),AV.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Wv.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:RV.classNames}),AV.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Wv.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:MV.classNames}),AV.EXPANDED_VISUAL_DECORATION=Wv.register({stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+MV.classNames}),AV.HIDDEN_RANGE_DECORATION=Wv.register({stickiness:1});class OV{constructor(e){this._updateEventEmitter=new Pt,this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],i=0,n=0,o=Number.MAX_VALUE,s=-1,r=this._foldingModel.regions;for(;i<r.length;i++){if(!r.isCollapsed(i))continue;let a=r.getStartLineNumber(i)+1,l=r.getEndLineNumber(i);o<=a&&l<=s||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===l?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new Vi(a,1,l,1))),o=a,s=l)}(e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let i of e){if(!i.startLineNumber||!i.endLineNumber)return!1;t.push(new Vi(i.startLineNumber+1,1,i.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map((e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber})))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==PV(this._hiddenRanges,e)}adjustSelections(e){let t=!1,i=this._foldingModel.textModel,n=null,o=e=>(n&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,n)||(n=PV(this._hiddenRanges,e)),n?n.startLineNumber-1:null);for(let s=0,r=e.length;s<r;s++){let n=e[s],r=o(n.startLineNumber);r&&(n=n.setStartPosition(r,i.getLineMaxColumn(r)),t=!0);let a=o(n.endLineNumber);a&&(n=n.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[s]=n}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function PV(e,t){let i=Xo(e,(e=>t<e.startLineNumber))-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}class FV{constructor(e){this.editorModel=e,this.id="indent"}dispose(){}compute(e){let t=zh.getFoldingRules(this.editorModel.getLanguageIdentifier().id),i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(function(e,t,i,n=5e3){const o=e.getOptions().tabSize;let s,r=new WV(n);i&&(s=new RegExp(`(${i.start.source})|(?:${i.end.source})`));let a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(let d=e.getLineCount();d>0;d--){let i,n=e.getLineContent(d),l=Mv.computeIndentLevel(n,o),c=a[a.length-1];if(-1!==l){if(s&&(i=n.match(s))){if(!i[1]){a.push({indent:-2,endAbove:d,line:d});continue}{let e=a.length-1;for(;e>0&&-2!==a[e].indent;)e--;if(e>0){a.length=e+1,c=a[e],r.insertFirst(d,c.line,l),c.line=d,c.indent=l,c.endAbove=d;continue}}}if(c.indent>l){do{a.pop(),c=a[a.length-1]}while(c.indent>l);let e=c.endAbove-1;e-d>=1&&r.insertFirst(d,e,l)}c.indent===l?c.endAbove=d:a.push({indent:l,endAbove:d,line:d})}else t&&(c.endAbove=d)}return r.toIndentRanges(e)}(this.editorModel,i,n))}}class WV{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>16777215||t>16777215)return;let n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new xV(e,t)}{let t=0,i=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let n=this._indentOccurrences[e];if(n){if(n+t>this._foldingRangesLimit){i=e;break}t+=n}}const n=e.getOptions().tabSize;let o=new Uint32Array(this._foldingRangesLimit),s=new Uint32Array(this._foldingRangesLimit);for(let r=this._length-1,a=0;r>=0;r--){let l=this._startIndexes[r],d=e.getLineContent(l),c=Mv.computeIndentLevel(d,n);(c<i||c===i&&t++<this._foldingRangesLimit)&&(o[a]=l,s[a]=this._endIndexes[r],a++)}return new xV(o,s)}}}const BV={};class VV{constructor(e,t,i=5e3){this.editorModel=e,this.providers=t,this.limit=i,this.id="syntax"}compute(e){return function(e,t,i){let n=null,o=e.map(((e,o)=>Promise.resolve(e.provideFoldingRanges(t,BV,i)).then((e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);let i=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=i&&n.push({start:t.start,end:t.end,rank:o,kind:t.kind})}}),bt)));return Promise.all(o).then((e=>n))}(this.providers,this.editorModel,e).then((e=>{if(e){return zV(e,this.limit)}return null}))}dispose(){}}class HV{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>16777215||t>16777215)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new xV(e,t,this._types)}{let e=0,t=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){let i=this._nestingLevelCounts[s];if(i){if(i+e>this._foldingRangesLimit){t=s;break}e+=i}}let i=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),o=[];for(let s=0,r=0;s<this._length;s++){let a=this._nestingLevels[s];(a<t||a===t&&e++<this._foldingRangesLimit)&&(i[r]=this._startIndexes[s],n[r]=this._endIndexes[s],o[r]=this._types[s],r++)}return new xV(i,n,o)}}}function zV(e,t){let i,n=e.sort(((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i})),o=new HV(t),s=[];for(let r of n)if(i){if(r.start>i.start)if(r.end<=i.end)s.push(i),i=r,o.add(r.start,r.end,r.kind&&r.kind.value,s.length);else{if(r.start>i.end){do{i=s.pop()}while(i&&r.start>i.end);i&&s.push(i),i=r}o.add(r.start,r.end,r.kind&&r.kind.value,s.length)}}else i=r,o.add(r.start,r.end,r.kind&&r.kind.value,s.length);return o.toIndentRanges()}class UV{constructor(e,t,i,n){if(this.editorModel=e,this.id="init",t.length){let o=t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(i,n)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let i of this.decorationIds){let e=this.editorModel.getDecorationRange(i);e&&t.push({start:e.startLineNumber,end:e.endLineNumber,rank:1})}return Promise.resolve(zV(t,Number.MAX_VALUE))}}const KV=new uf("foldingEnabled",!1);let qV=class e extends It{constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new Tt),this.editor=e;const i=this.editor.getOptions();this._isEnabled=i.get(31),this._useFoldingProviders="indentation"!==i.get(32),this._unfoldOnClickAfterEndOfLine=i.get(34),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new AV(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===i.get(91),this.foldingDecorationProvider.showFoldingHighlights=i.get(33),this.foldingEnabled=KV.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(31)&&(this._isEnabled=this.editor.getOptions().get(31),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(91)||e.hasChanged(33)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(91),this.foldingDecorationProvider.showFoldingHighlights=e.get(33),this.onModelContentChanged()}e.hasChanged(32)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(32),this.onFoldingStrategyChanged()),e.hasChanged(34)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(34))}))),this.onModelChanged()}static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!e||!e.collapsedRegions||e.lineCount!==t.getLineCount())return;"syntax"!==e.provider&&"init"!==e.provider||(this.foldingStateMemento=e);const i=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(i)){const e=this.getFoldingModel();e&&e.then((e=>{e&&e.applyMemento(i)})).then(void 0,ft)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this.foldingModel=new EV(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new OV(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new zo(200),this.cursorChangedScheduler=new Go((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(Xc.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((()=>this.onModelContentChanged()))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new FV(e),this._useFoldingProviders&&this.foldingModel){let t=Xc.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new UV(e,this.foldingStateMemento.collapsedRegions,(()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()}),3e4)}t.length>0&&(this.rangeProvider=new VV(e,t))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;let t=this.foldingRegionPromise=Vo((t=>this.getRangeProvider(e.textModel).compute(t)));return t.then((i=>{if(i&&t===this.foldingRegionPromise){let t=this.editor.getSelections(),n=t?t.map((e=>e.startLineNumber)):[];e.update(i,n)}return e}))})).then(void 0,(e=>(ft(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let i=[];for(let n of t){let t=n.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}})).then(void 0,ft)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:const n=e.target.detail,o=e.target.element.offsetLeft;if(n.offsetX-o<5)return;i=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===i){if(n){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||o.startColumn!==e.getLineMaxColumn(i))return}t.then((t=>{if(t){let o=t.getRegionAtLine(i);if(o&&o.startLineNumber===i){let s=o.isCollapsed;if(n||s){let n=[],r=e.event.middleButton||e.event.shiftKey;if(r)for(const e of t.getRegionsInside(o))e.isCollapsed===s&&n.push(e);!s&&r&&0!==n.length||n.push(o),t.toggleCollapseState(n),this.reveal({lineNumber:i,column:1})}}}})).then(void 0,ft)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};qV.ID="editor.contrib.folding",qV=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],qV);class $V extends Df{runEditorCommand(e,t,i){let n=qV.get(t);if(!n)return;let o=n.getFoldingModel();return o?(this.reportTelemetry(e,t),o.then((e=>{if(e){this.invoke(n,e,t,i);const o=t.getSelection();o&&n.reveal(o.getStartPosition())}}))):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function jV(e){if(!il(e)){if(!Xa(e))return!1;const t=e;if(!il(t.levels)&&!el(t.levels))return!1;if(!il(t.direction)&&!Qa(t.direction))return!1;if(!(il(t.selectionLines)||Ja(t.selectionLines)&&t.selectionLines.every(el)))return!1}return!0}class GV extends $V{getFoldingLevel(){return parseInt(this.id.substr(GV.ID_PREFIX.length))}invoke(e,t,i){!function(e,t,i,n){let o=e.getRegionsInside(null,((e,o)=>o===t&&e.isCollapsed!==i&&!n.some((t=>e.containsLine(t)))));e.toggleCollapseState(o)}(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}GV.ID_PREFIX="editor.foldLevel",GV.ID=e=>GV.ID_PREFIX+e,Pf(qV.ID,qV),Af(class extends $V{constructor(){super({id:"editor.unfold",label:ue("vs/editor/contrib/folding/folding","unfoldAction.label","Unfold"),alias:"Unfold",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:jV,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=n&&n.levels||1,s=this.getLineNumbers(n,i);n&&"up"===n.direction?NV(t,!1,o,s):DV(t,!1,o,s)}}),Af(class extends $V{constructor(){super({id:"editor.unfoldRecursively",label:ue("vs/editor/contrib/folding/folding","unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2137),weight:100}})}invoke(e,t,i,n){DV(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}),Af(class extends $V{constructor(){super({id:"editor.fold",label:ue("vs/editor/contrib/folding/folding","foldAction.label","Fold"),alias:"Fold",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:jV,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){let o=this.getLineNumbers(n,i);const s=n&&n.levels,r=n&&n.direction;"number"!=typeof s&&"string"!=typeof r?function(e,t,i){let n=[];for(let o of i){let i=e.getAllRegionsAtLine(o,(e=>e.isCollapsed!==t));i.length>0&&n.push(i[0])}e.toggleCollapseState(n)}(t,!0,o):"up"===r?NV(t,!0,s||1,o):DV(t,!0,s||1,o)}}),Af(class extends $V{constructor(){super({id:"editor.foldRecursively",label:ue("vs/editor/contrib/folding/folding","foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2135),weight:100}})}invoke(e,t,i){let n=this.getSelectedLines(i);DV(t,!0,Number.MAX_VALUE,n)}}),Af(class extends $V{constructor(){super({id:"editor.foldAll",label:ue("vs/editor/contrib/folding/folding","foldAllAction.label","Fold All"),alias:"Fold All",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2069),weight:100}})}invoke(e,t,i){DV(t,!0)}}),Af(class extends $V{constructor(){super({id:"editor.unfoldAll",label:ue("vs/editor/contrib/folding/folding","unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2088),weight:100}})}invoke(e,t,i){DV(t,!1)}}),Af(class extends $V{constructor(){super({id:"editor.foldAllBlockComments",label:ue("vs/editor/contrib/folding/folding","foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2133),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())IV(t,Mc.Comment.value,!0);else{const e=i.getModel();if(!e)return;let n=zh.getComments(e.getLanguageIdentifier().id);if(n&&n.blockCommentStartToken){TV(t,new RegExp("^\\s*"+Wr(n.blockCommentStartToken)),!0)}}}}),Af(class extends $V{constructor(){super({id:"editor.foldAllMarkerRegions",label:ue("vs/editor/contrib/folding/folding","foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2077),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())IV(t,Mc.Region.value,!0);else{const e=i.getModel();if(!e)return;let n=zh.getFoldingRules(e.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){TV(t,new RegExp(n.markers.start),!0)}}}}),Af(class extends $V{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:ue("vs/editor/contrib/folding/folding","unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2078),weight:100}})}invoke(e,t,i){if(t.regions.hasTypes())IV(t,Mc.Region.value,!1);else{const e=i.getModel();if(!e)return;let n=zh.getFoldingRules(e.getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){TV(t,new RegExp(n.markers.start),!1)}}}}),Af(class extends $V{constructor(){super({id:"editor.toggleFold",label:ue("vs/editor/contrib/folding/folding","toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2090),weight:100}})}invoke(e,t,i){!function(e,t,i){let n=[];for(let o of i){let i=e.getRegionAtLine(o);if(i){const o=!i.isCollapsed;if(n.push(i),t>1){let s=e.getRegionsInside(i,((e,i)=>e.isCollapsed!==o&&i<t));n.push(...s)}}}e.toggleCollapseState(n)}(t,1,this.getSelectedLines(i))}});for(let TZ=1;TZ<=7;TZ++)ZV=new GV({id:GV.ID(TZ),label:ue("vs/editor/contrib/folding/folding","foldLevelAction.label","Fold Level {0}",TZ),alias:`Fold Level ${TZ}`,precondition:KV,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2048|21+TZ),weight:100}}),Bf.INSTANCE.registerEditorAction(ZV);var ZV;const YV=Tw("editor.foldBackground",{light:$y(MC,.3),dark:$y(MC,.3),hc:null},ue("vs/editor/contrib/folding/folding","foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),JV=Tw("editorGutter.foldingControlForeground",{dark:Rw,light:Rw,hc:Rw},ue("vs/editor/contrib/folding/folding","editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));Sb(((e,t)=>{const i=e.getColor(YV);i&&t.addRule(`.monaco-editor .folded-background { background-color: ${i}; }`);const n=e.getColor(JV);n&&t.addRule(`\n\t\t.monaco-editor .cldr${MV.cssSelector},\n\t\t.monaco-editor .cldr${RV.cssSelector} {\n\t\t\tcolor: ${n} !important;\n\t\t}\n\t\t`)}));Af(class extends Df{constructor(){super({id:"editor.action.fontZoomIn",label:ue("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){Ol.setZoomLevel(Ol.getZoomLevel()+1)}}),Af(class extends Df{constructor(){super({id:"editor.action.fontZoomOut",label:ue("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){Ol.setZoomLevel(Ol.getZoomLevel()-1)}}),Af(class extends Df{constructor(){super({id:"editor.action.fontZoomReset",label:ue("vs/editor/contrib/fontZoom/fontZoom","EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){Ol.setZoomLevel(0)}});class QV{static _handleEolEdits(e,t){let i,n=[];for(let o of t)"number"==typeof o.eol&&(i=o.eol),o.range&&"string"==typeof o.text&&n.push(o);return"number"==typeof i&&e.hasModel()&&e.getModel().pushEOL(i),n}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const i=e.getModel(),n=i.validateRange(t.range);return i.getFullModelRange().equalsRange(n)}static execute(e,t,i){i&&e.pushUndoStop();const n=QV._handleEolEdits(e,t);1===n.length&&QV._isFullModelReplaceEdit(e,n[0])?e.executeEdits("formatEditsCommand",n.map((e=>Sm.replace(Vi.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",n.map((e=>Sm.replaceMove(Vi.lift(e.range),e.text)))),i&&e.pushUndoStop()}}class XV{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}var eH=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function tH(e){if(!(e=e.filter((e=>e.range))).length)return;let{range:t}=e[0];for(let o=1;o<e.length;o++)t=Vi.plusRange(t,e[o].range);const{startLineNumber:i,endLineNumber:n}=t;i===n?1===e.length?Op(ue("vs/editor/contrib/format/format","hint11","Made 1 formatting edit on line {0}",i)):Op(ue("vs/editor/contrib/format/format","hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?Op(ue("vs/editor/contrib/format/format","hint1n","Made 1 formatting edit between lines {0} and {1}",i,n)):Op(ue("vs/editor/contrib/format/format","hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,n))}function iH(e){const t=[],i=new Set,n=jc.ordered(e);for(const s of n)t.push(s),s.extensionId&&i.add(XV.toKey(s.extensionId));const o=Gc.ordered(e);for(const s of o){if(s.extensionId){if(i.has(XV.toKey(s.extensionId)))continue;i.add(XV.toKey(s.extensionId))}t.push({displayName:s.displayName,extensionId:s.extensionId,provideDocumentFormattingEdits:(e,t,i)=>s.provideDocumentRangeFormattingEdits(e,e.getFullModelRange(),t,i)})}return t}class nH{static select(e,t,i){return eH(this,void 0,void 0,(function*(){if(0===e.length)return;const n=yt.first(nH._selectors);return n?yield n(e,t,i):e[0]}))}}function oH(e,t,i,n,o,s){return eH(this,void 0,void 0,(function*(){const r=e.get(ao),a=Bg(t)?t.getModel():t,l=Gc.ordered(a),d=yield nH.select(l,a,n);d&&(o.report(d),yield r.invokeFunction(sH,d,t,i,s))}))}function sH(e,t,i,n,o){return eH(this,void 0,void 0,(function*(){const s=e.get(ah);let r,a;Bg(i)?(r=i.getModel(),a=new VE(i,5,void 0,o)):(r=i,a=new HE(i,o));let l=[],d=0;for(let e of fs(n).sort(Vi.compareRangesUsingStarts))d>0&&Vi.areIntersectingOrTouching(l[d-1],e)?l[d-1]=Vi.fromPositions(l[d-1].getStartPosition(),e.getEndPosition()):d=l.push(e);const c=[];for(let e of l)try{const i=yield t.provideDocumentRangeFormattingEdits(r,e,r.getFormattingOptions(),a.token),n=yield s.computeMoreMinimalEdits(r.uri,i);if(n&&c.push(...n),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(0===c.length)return!1;if(Bg(i))QV.execute(i,c,!0),tH(c),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1);else{const[{range:e}]=c,t=new Hi(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);r.pushEditOperations([t],c.map((e=>({text:e.text,range:Vi.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(Vi.areIntersectingOrTouching(i,t))return[new Hi(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function rH(e,t,i,n,o){return eH(this,void 0,void 0,(function*(){const s=e.get(ao),r=Bg(t)?t.getModel():t,a=iH(r),l=yield nH.select(a,r,i);l&&(n.report(l),yield s.invokeFunction(aH,l,t,i,o))}))}function aH(e,t,i,n,o){return eH(this,void 0,void 0,(function*(){const s=e.get(ah);let r,a,l;Bg(i)?(r=i.getModel(),a=new VE(i,5,void 0,o)):(r=i,a=new HE(i,o));try{const e=yield t.provideDocumentFormattingEdits(r,r.getFormattingOptions(),a.token);if(l=yield s.computeMoreMinimalEdits(r.uri,e),a.token.isCancellationRequested)return!0}finally{a.dispose()}if(!l||0===l.length)return!1;if(Bg(i))QV.execute(i,l,2!==n),2!==n&&(tH(l),i.revealPositionInCenterIfOutsideViewport(i.getPosition(),1));else{const[{range:e}]=l,t=new Hi(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);r.pushEditOperations([t],l.map((e=>({text:e.text,range:Vi.lift(e.range),forceMoveMarkers:!0}))),(e=>{for(const{range:i}of e)if(Vi.areIntersectingOrTouching(i,t))return[new Hi(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)];return null}))}return!0}))}function lH(e,t,i,n,o){const s=Zc.ordered(t);return 0===s.length||s[0].autoFormatTriggerCharacters.indexOf(n)<0?Promise.resolve(void 0):Promise.resolve(s[0].provideOnTypeFormattingEdits(t,i,n,o,Ht.None)).catch(bt).then((i=>e.computeMoreMinimalEdits(t.uri,i)))}nH._selectors=new Ot,ul.registerCommand("_executeFormatRangeProvider",(function(e,...t){const[i,n,o]=t;ol(Di.isUri(i)),ol(Vi.isIRange(n));const s=e.get(wd).getModel(i);if(!s)throw Ct("resource");return function(e,t,i,n,o){return eH(this,void 0,void 0,(function*(){const s=Gc.ordered(t);for(const r of s){let s=yield Promise.resolve(r.provideDocumentRangeFormattingEdits(t,i,n,o)).catch(bt);if(ss(s))return yield e.computeMoreMinimalEdits(t.uri,s)}}))}(e.get(ah),s,Vi.lift(n),o,Ht.None)})),ul.registerCommand("_executeFormatDocumentProvider",(function(e,...t){const[i,n]=t;ol(Di.isUri(i));const o=e.get(wd).getModel(i);if(!o)throw Ct("resource");return function(e,t,i,n){return eH(this,void 0,void 0,(function*(){const o=iH(t);for(const s of o){let o=yield Promise.resolve(s.provideDocumentFormattingEdits(t,i,n)).catch(bt);if(ss(o))return yield e.computeMoreMinimalEdits(t.uri,o)}}))}(e.get(ah),o,n,Ht.None)})),ul.registerCommand("_executeFormatOnTypeProvider",(function(e,...t){const[i,n,o,s]=t;ol(Di.isUri(i)),ol(Bi.isIPosition(n)),ol("string"==typeof o);const r=e.get(wd).getModel(i);if(!r)throw Ct("resource");return lH(e.get(ah),r,Bi.lift(n),o,s)}));var dH=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},cH=function(e,t){return function(i,n){t(i,n,e)}},hH=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let uH=class{constructor(e,t){this._workerService=t,this._callOnDispose=new Tt,this._callOnModel=new Tt,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(Zc.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(41))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=Zc.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let i=new _u;for(let n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._callOnModel.add(this._editor.onDidType((e=>{let t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;const t=this._editor.getModel(),i=this._editor.getPosition();let n=!1;const o=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return n=!0,void o.dispose();for(let t=0,s=e.changes.length;t<s;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return n=!0,void o.dispose()}}));lH(this._workerService,t,i,e,t.getFormattingOptions()).then((e=>{o.dispose(),n||ss(e)&&(QV.execute(this._editor,e,!0),tH(e))}),(e=>{throw o.dispose(),e}))}};uH.ID="editor.contrib.autoFormat",uH=dH([cH(1,ah)],uH);let gH=class{constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new Tt,this._callOnModel=new Tt,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(Gc.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(40)&&this.editor.hasModel()&&Gc.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(oH,this.editor,e,2,lD.None,Ht.None).catch(ft))}};gH.ID="editor.contrib.formatOnPaste",gH=dH([cH(1,ao)],gH);Pf(uH.ID,uH),Pf(gH.ID,gH),Af(class extends Df{constructor(){super({id:"editor.action.formatDocument",label:ue("vs/editor/contrib/format/formatActions","formatDocument.label","Format Document"),alias:"Format Document",precondition:Jp.and(QS.notInCompositeEditor,QS.writable,QS.hasDocumentFormattingProvider),kbOpts:{kbExpr:Jp.and(QS.editorTextFocus,QS.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:QS.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})}run(e,t){return hH(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(ao),n=e.get(dD);yield n.showWhile(i.invokeFunction(rH,t,1,lD.None,Ht.None),250)}}))}}),Af(class extends Df{constructor(){super({id:"editor.action.formatSelection",label:ue("vs/editor/contrib/format/formatActions","formatSelection.label","Format Selection"),alias:"Format Selection",precondition:Jp.and(QS.writable,QS.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:Jp.and(QS.editorTextFocus,QS.hasDocumentSelectionFormattingProvider),primary:Jt(2089,2084),weight:100},contextMenuOpts:{when:Jp.and(QS.hasDocumentSelectionFormattingProvider,QS.hasNonEmptySelection),group:"1_modification",order:1.31}})}run(e,t){return hH(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(ao),n=t.getModel(),o=t.getSelections().map((e=>e.isEmpty()?new Vi(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(dD);yield s.showWhile(i.invokeFunction(oH,t,o,1,lD.None,Ht.None),250)}))}}),ul.registerCommand("editor.action.format",(e=>hH(void 0,void 0,void 0,(function*(){const t=e.get(uo).getFocusedCodeEditor();if(!t||!t.hasModel())return;const i=e.get(hl);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")}))));class mH{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let i;"string"==typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;void 0!==t.children.get(n);o++)n=`${i}_${o}`;return n}static empty(e){return 0===e.children.size}}class pH extends mH{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class fH extends mH{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class bH extends mH{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t){let i=this._keys.for(e,!0),n=bH._requests.get(i);if(!n){let t=new Kt;n={promiseCnt:0,source:t,promise:bH._create(e,t.token),model:void 0},bH._requests.set(i,n);const o=Date.now();n.promise.then((()=>{let t=this._keys.for(e,!1),i=this._requestDurations.get(t);i||(i=new $T,this._requestDurations.set(t,i)),i.update(Date.now()-o)}))}return n.model?Promise.resolve(n.model):(n.promiseCnt+=1,t.onCancellationRequested((()=>{0==--n.promiseCnt&&(n.source.cancel(),bH._requests.delete(i))})),new Promise(((e,t)=>{n.promise.then((t=>{n.model=t,e(t)}),(e=>{bH._requests.delete(i),t(e)}))})))}static _create(e,t){const i=new Kt(t),n=new bH(e.uri),o=Wc.ordered(e),s=o.map(((t,o)=>{var s;let r=mH.findId(`provider_${o}`,n),a=new fH(r,n,null!==(s=t.displayName)&&void 0!==s?s:"Unknown Outline Provider",o);return Promise.resolve(t.provideDocumentSymbols(e,i.token)).then((e=>{for(const t of e||[])bH._makeOutlineElement(t,a);return a}),(e=>(bt(e),a))).then((e=>{mH.empty(e)?e.remove():n._groups.set(r,e)}))})),r=Wc.onDidChange((()=>{Jo(Wc.ordered(e),o)||i.cancel()}));return Promise.all(s).then((()=>i.token.isCancellationRequested&&!t.isCancellationRequested?bH._create(e,t):n._compact())).finally((()=>{r.dispose()}))}static _makeOutlineElement(e,t){let i=mH.findId(e,t),n=new pH(i,t,e);if(e.children)for(const o of e.children)bH._makeOutlineElement(o,n);t.children.set(n.id,n)}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let e=yt.first(this._groups.values());for(let[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}}bH._requestDurations=new Xl(50,.7),bH._requests=new Xl(9,.75),bH._keys=new class{constructor(){this._counter=1,this._data=new WeakMap}for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(Wc.all(e))}`}_hash(e){let t="";for(const i of e){let e=this._data.get(i);void 0===e&&(e=this._counter++,this._data.set(i,e)),t+=e}return t}};var _H=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function vH(e,t,i){return _H(this,void 0,void 0,(function*(){const n=yield bH.create(e,i),o=[];for(const e of n.children.values())e instanceof pH?o.push(e.symbol):o.push(...yt.map(e.children.values(),(e=>e.symbol)));let s=[];return i.isCancellationRequested?s:(t?CH(s,o,""):s=o,s.sort(wH))}))}function wH(e,t){return Vi.compareRangesUsingStarts(e.range,t.range)}function CH(e,t,i){for(let n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&CH(e,n.children,n.name)}ul.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return _H(this,void 0,void 0,(function*(){const[i]=t;ol(Di.isUri(i));const n=e.get(wd).getModel(i);if(n)return vH(n,!1,Ht.None);const o=yield e.get(lh).createModelReference(i);try{return yield vH(o.object.textEditorModel,!1,Ht.None)}finally{o.dispose()}}))}));var yH=function(e,t){return function(i,n){t(i,n,e)}};let SH=class extends CE{constructor(e,t,i,n,o,s,r,a,l,d){super(e,Object.assign(Object.assign({},i.getRawOptions()),{overflowWidgetsDomNode:i.getOverflowWidgetsDomNode()}),{},n,o,s,r,a,l,d),this._parentEditor=i,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(i.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Tl(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};SH=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([yH(3,ao),yH(4,uo),yH(5,hl),yH(6,gf),yH(7,bb),yH(8,$m),yH(9,tE)],SH);const kH=new yv(new vv(0,122,204)),xH={showArrow:!0,showFrame:!0,className:"",frameColor:kH,arrowColor:kH,keepEditorSelection:!1};class LH{constructor(e,t,i,n,o,s){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=s}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class EH{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class DH{constructor(e){this._editor=e,this._ruleName=DH._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),gr(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){gr(this._ruleName),ur(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:Vi.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}DH._IdGenerator=new YR(".arrow-decoration-");class NH extends $p{constructor(e,t){super(),this._onDidChangeVisibility=new Pt,this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=vr(e,xr(".monaco-dropdown")),this._label=vr(this._element,xr(".dropdown-label"));let i=t.labelRenderer;i||(i=e=>(e.textContent=t.label||"",null));for(const o of[pr.CLICK,pr.MOUSE_DOWN,Gf.Tap])this._register(Ms(this.element,o,(e=>fr(e,!0))));for(const o of[pr.MOUSE_DOWN,Gf.Tap])this._register(Ms(this._label,o,(e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())})));this._register(Ms(this._label,pr.KEY_UP,(e=>{const t=new Mo(e);(t.equals(3)||t.equals(10))&&(fr(e,!0),this.visible?this.hide():this.show())})));const n=i(this._label);n&&this._register(n),this._register(Yf.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class TH extends NH{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),Ls(this.element,"active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),Ds(this.element,"active")}}class IH extends jE{constructor(e,t,i,n={}){super(null,e,n),this.options=n,this._onDidChangeVisibility=this._register(new Pt),this.menuActionsOrProvider=t,this.contextMenuProvider=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){const t={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=vr(e,xr("a.action-label"));const t=this.options.classNames?fs(this.options.classNames):[];return t.find((e=>"icon"===e))||t.push("codicon"),Es(this.element,...t),this.element.tabIndex=0,this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild};if(Array.isArray(this.menuActionsOrProvider)?t.actions=this.menuActionsOrProvider:t.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=this._register(new TH(e,t)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}}var MH=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},RH=function(e,t){return function(i,n){t(i,n,e)}};class AH extends Pt{constructor(e){super(),this._subscriptions=new Tt,this._isPressed=!1,this._suppressAltKeyUp=!1,this._subscriptions.add(Lo(document.body,"keydown")((e=>{this.isPressed=e.altKey||(ke||Le)&&e.shiftKey}))),this._subscriptions.add(Lo(document.body,"keyup")((e=>{this.isPressed&&this._suppressAltKeyUp&&e.preventDefault(),this._suppressAltKeyUp=!1,this.isPressed=!1}))),this._subscriptions.add(Lo(document.body,"mouseleave")((e=>this.isPressed=!1))),this._subscriptions.add(Lo(document.body,"blur")((e=>this.isPressed=!1))),this._subscriptions.add(e.onDidContextMenu((()=>this.isPressed=!1)))}get isPressed(){return this._isPressed}set isPressed(e){this._isPressed=e,this.fire(this._isPressed)}suppressAltKeyUp(){this._suppressAltKeyUp=!0}static getInstance(e){return AH.instance||(AH.instance=new AH(e)),AH.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function OH(e,t,i,n){const o=e.getActions(t);return function(e,t,i,n=(e=>"navigation"===e)){for(let o of e){let[e,s]=o;if(i&&(s=s.map((e=>e instanceof yf&&e.alt?e.alt:e))),n(e)){(Array.isArray(t)?t:t.primary).unshift(...s)}else{const e=Array.isArray(t)?t:t.secondary;e.length>0&&e.push(new jp),e.push(...s)}}}(o,i,!1,n),function(e){const t=new Tt;for(const[,i]of e)for(const e of i)t.add(e);return t}(o)}const PH=new YR("menu-item-action-item-icon-"),FH=new Map;let WH=class extends GE{constructor(e,t,i,n){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon}),this._action=e,this._keybindingService=t,this._notificationService=i,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new Mt),this._altKey=AH.getInstance(n)}get _commandAction(){return this._wantsAltCommand&&this._action.alt||this._action}onClick(e){e.preventDefault(),e.stopPropagation(),this._altKey.isPressed&&this._altKey.suppressAltKeyUp(),this.actionRunner.run(this._commandAction,this._context).then(void 0,(e=>this._notificationService.error(e)))}render(e){super.render(e),this._updateItemClass(this._action.item);let t=!1,i=this._altKey.isPressed;const n=()=>{const e=t&&i;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._action.alt&&this._register(this._altKey.event((e=>{i=e,n()}))),this._register(Lo(e,"mouseleave")((e=>{t=!1,n()}))),this._register(Lo(e,"mouseenter")((e=>{t=!0,n()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;this.label.title=t?ue("vs/platform/actions/browser/menuEntryActionViewItem","titleAndKb","{0} ({1})",i,t):i}}updateClass(){this.options.icon&&(this._commandAction!==this._action?this._action.alt&&this._updateItemClass(this._action.alt.item):this._action.alt&&this._updateItemClass(this._action.item))}_updateItemClass(e){var t,i;this._itemClassDispose.value=void 0;const n=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(vb.isThemeIcon(n)){const e=vb.asClassName(n);this.label&&e&&(Es(this.label,e),this._itemClassDispose.value=Nt((()=>{this.label&&Ns(this.label,e)})))}else if(n){let e;if(null===(i=n.dark)||void 0===i?void 0:i.scheme){const t=n.dark.toString();FH.has(t)?e=FH.get(t):(e=PH.nextId(),ur(`.icon.${e}`,`background-image: ${Rr(n.light||n.dark)}`),ur(`.vs-dark .icon.${e}, .hc-black .icon.${e}`,`background-image: ${Rr(n.dark)}`),FH.set(t,e)),this.label&&(Es(this.label,"icon",e),this._itemClassDispose.value=Nt((()=>{this.label&&Ns(this.label,"icon",e)})))}}}};WH=MH([RH(1,DD),RH(2,$m),RH(3,oD)],WH);let BH=class extends IH{constructor(e,t,i){var n;const o=[];if(e.item.icon)if(vb.isThemeIcon(e.item.icon))o.push(vb.asClassName(e.item.icon));else if(null===(n=e.item.icon.dark)||void 0===n?void 0:n.scheme){const t=e.item.icon.dark.toString();if(FH.has(t))o.push("icon",FH.get(t));else{const i=PH.nextId();o.push("icon",i),ur(`.icon.${i}`,`background-image: ${Rr(e.item.icon.light||e.item.icon.dark)}`),ur(`.vs-dark .icon.${i}, .hc-black .icon.${i}`,`background-image: ${Rr(e.item.icon.dark)}`),FH.set(t,i)}}super(e,e.actions,i,{classNames:o})}};BH=MH([RH(1,$m),RH(2,oD)],BH);var VH=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},HH=function(e,t){return function(i,n){t(i,n,e)}};const zH=co("IPeekViewService");var UH,KH;OE(zH,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))}))})}}),(KH=UH||(UH={})).inPeekEditor=new uf("inReferenceSearchEditor",!0),KH.notInPeekEditor=KH.inPeekEditor.toNegated();let qH=class{constructor(e,t){e instanceof SH&&UH.inPeekEditor.bindTo(t)}dispose(){}};qH.ID="editor.contrib.referenceController",qH=VH([HH(1,gf)],qH),Pf(qH.ID,qH);const $H={headerBackgroundColor:yv.white,primaryHeadingColor:yv.fromHex("#333333"),secondaryHeadingColor:yv.fromHex("#6c6c6cb3")};let jH=class extends class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Tt,this.container=null,this._isShowing=!1,this.editor=e,this.options=Ll(t),Tl(this.options,xH,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new DH(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const i=t.getDecorationRange(e);return i?i.getStartPosition():void 0}show(e,t){const i=Vi.isIRange(e)?Vi.lift(e):Vi.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:Wv.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(51),t=0;if(this.options.showArrow){t+=2*Math.round(e/3)}if(this.options.showFrame){t+=2*Math.round(e/9)}return t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const s=document.createElement("div");s.style.overflow="hidden";const r=this.editor.getOption(51),a=Math.max(12,this.editor.getLayoutInfo().height/r*.8);t=Math.min(t,a);let l=0,d=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(r/3),this._arrow.height=l,this._arrow.show(i)),this.options.showFrame&&(d=Math.round(r/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new LH(s,i.lineNumber,i.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new EH("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:d;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}let c=t*r-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=c+"px",this.container.style.overflow="hidden"),this._doLayout(c,o),this.options.keepEditorSelection||this.editor.setSelection(e);const h=this.editor.getModel();if(h){const t=e.endLineNumber+1;t<=h.getLineCount()?this.revealLine(t,!1):this.revealLine(h.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),Ls(this.container,e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new ME(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){let i=(t.currentY-e.startY)/this.editor.getOption(51),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new Pt,this.onDidClose=this._onDidClose.event,Tl(this.options,$H,!1)}dispose(){super.dispose(),this._onDidClose.fire(this)}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=xr(".head"),this._bodyElement=xr(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const i=xr(".peekview-title");vr(this._headElement,i),As(i,"click",(e=>this._onTitleClick(e))),this._fillTitleIcon(i),this._primaryHeading=xr("span.filename"),this._secondaryHeading=xr("span.dirname"),this._metaHeading=xr("span.meta"),vr(i,this._primaryHeading,this._secondaryHeading,this._metaHeading);const n=xr(".peekview-actions");vr(this._headElement,n);const o=this._getActionBarOptions();this._actionbarWidget=new ZE(n,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new qp("peekview.close",ue("vs/editor/contrib/peekView/peekView","label.close","Close"),bc.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:e=>e instanceof yf?this.instantiationService.createInstance(WH,e):e instanceof Cf?this.instantiationService.createInstance(BH,e):void 0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("aria-label",e),t?this._secondaryHeading.innerText=t:Cs(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,Lr(this._metaHeading)):Er(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(51)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};jH=VH([HH(2,ao)],jH);const GH=Tw("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},ue("vs/editor/contrib/peekView/peekView","peekViewTitleBackground","Background color of the peek view title area.")),ZH=Tw("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},ue("vs/editor/contrib/peekView/peekView","peekViewTitleForeground","Color of the peek view title.")),YH=Tw("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},ue("vs/editor/contrib/peekView/peekView","peekViewTitleInfoForeground","Color of the peek view title info.")),JH=Tw("peekView.border",{dark:"#007acc",light:"#007acc",hc:Ow},ue("vs/editor/contrib/peekView/peekView","peekViewBorder","Color of the peek view borders and arrow.")),QH=Tw("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:yv.black},ue("vs/editor/contrib/peekView/peekView","peekViewResultsBackground","Background color of the peek view result list.")),XH=Tw("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:yv.white},ue("vs/editor/contrib/peekView/peekView","peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),ez=Tw("peekViewResult.fileForeground",{dark:yv.white,light:"#1E1E1E",hc:yv.white},ue("vs/editor/contrib/peekView/peekView","peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),tz=Tw("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},ue("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),iz=Tw("peekViewResult.selectionForeground",{dark:yv.white,light:"#6C6C6C",hc:yv.white},ue("vs/editor/contrib/peekView/peekView","peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),nz=Tw("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:yv.black},ue("vs/editor/contrib/peekView/peekView","peekViewEditorBackground","Background color of the peek view editor.")),oz=Tw("peekViewEditorGutter.background",{dark:nz,light:nz,hc:nz},ue("vs/editor/contrib/peekView/peekView","peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),sz=Tw("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},ue("vs/editor/contrib/peekView/peekView","peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),rz=Tw("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},ue("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),az=Tw("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:Pw},ue("vs/editor/contrib/peekView/peekView","peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var lz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class dz{constructor(e,t,i,n,o){this.isProviderFirst=e,this.parent=t,this.uri=i,this._range=n,this._rangeCallback=o,this.id=JR.nextId()}get range(){return this._range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){return ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.oneReference","symbol in {0} on line {1} at column {2}",za(this.uri),this.range.startLineNumber,this.range.startColumn)}}class cz{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:s,endColumn:r}=e,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),l=new Vi(n,a.startColumn,n,o),d=new Vi(s,r,s,1073741824),c=i.getValueInRange(l).replace(/^\s+/,""),h=i.getValueInRange(e);return{value:c+h+i.getValueInRange(d).replace(/\s+$/,""),highlight:{start:c.length,end:c.length+h.length}}}}class hz{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Jl}dispose(){Et(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.fileReferences.1","1 symbol in {0}, full path {1}",za(this.uri),this.uri.fsPath):ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,za(this.uri),this.uri.fsPath)}resolve(e){return lz(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let i of this.children)if(!this._previews.has(i.uri))try{const t=yield e.createModelReference(i.uri);this._previews.set(i.uri,new cz(t))}catch(t){ft(t)}return this}))}}class uz{constructor(e,t){this._disposables=new Tt,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Pt,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;let n;e.sort(uz._compareReferences);for(let o of e)if(n&&Ba.isEqual(n.uri,o.uri,!0)||(n=new hz(this,o.uri),this.groups.push(n)),0===n.children.length||0!==uz._compareReferences(o,n.children[n.children.length-1])){const e=new dz(i===o,n,o.uri,o.targetSelectionRange||o.range,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),n.children.push(e)}}dispose(){Et(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new uz(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.0","No results found"):1===this.references.length?ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):ue("vs/editor/contrib/gotoSymbol/referencesModel","aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:i}=e,n=i.children.indexOf(e),o=i.children.length,s=i.parent.groups.length;return 1===s||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%s,i.parent.groups[n].children[0]):(n=(n+s-1)%s,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map(((i,n)=>({idx:n,prefixLen:na(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&Vi.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Ba.compare(e.uri,t.uri)||Vi.compareRangesUsingStarts(e.range,t.range)}}function gz(e,t,i){if("string"==typeof e&&(e=Di.file(e)),i){const t=i.getWorkspaceFolder(e);if(t){const n=i.getWorkspace().folders.length>1;let o;if(o=Va(t.uri,e)?"":$a(t.uri,e),n){const e=t.name?t.name:za(t.uri);o=o?e+" • "+o:e}return o}}if(e.scheme!==bs.file&&e.scheme!==bs.untitled)return e.with({query:null,fragment:null}).toString(!0);if(pz(e.fsPath))return fi(fz(e.fsPath));let n=fi(e.fsPath);return!ke&&(null==t?void 0:t.userHome)&&(n=function(e,t){if(ke||!e||!t)return e;let i=bz.original===t?bz.normalized:void 0;i||(i=`${Hr(t,pi.sep)}${pi.sep}`,bz={original:t,normalized:i});(Le?e.startsWith(i):ia(e,i))&&(e=`~/${e.substr(i.length)}`);return e}(n,t.userHome.fsPath)),n}function mz(e){if(!e)return;"string"==typeof e&&(e=Di.file(e));const t=za(e)||(e.scheme===bs.file?e.fsPath:e.path);return pz(t)?fz(t):t}function pz(e){return!(!ke||!e||":"!==e[1])}function fz(e){return pz(e)?e.charAt(0).toUpperCase()+e.slice(1):e}let bz=Object.create(null);var _z=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},vz=function(e,t){return function(i,n){t(i,n,e)}};let wz=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof uz||e instanceof hz}getChildren(e){if(e instanceof uz)return e.groups;if(e instanceof hz)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}};wz=_z([vz(0,lh)],wz);class Cz{getHeight(){return 23}getTemplateId(e){return e instanceof hz?xz.id:Ez.id}}let yz=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof dz){const i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return za(e.uri)}};yz=_z([vz(0,DD)],yz);class Sz{getId(e){return e instanceof dz?e.id:e.uri}}let kz=class extends It{constructor(e,t,i){super(),this._uriLabel=t;const n=document.createElement("div");n.classList.add("reference-file"),this.file=this._register(new jR(n,{supportHighlights:!0})),this.badge=new EA(vr(n,xr(".count"))),this._register(function(e,t,i){return fT(t,{badgeBackground:i&&i.badgeBackground||rC,badgeForeground:i&&i.badgeForeground||aC,badgeBorder:Ow},e)}(this.badge,i)),e.appendChild(n)}set(e,t){let i=Ua(e.uri);this.file.setLabel(mz(e.uri),this._uriLabel.getUriLabel(i,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat(ue("vs/editor/contrib/gotoSymbol/peek/referencesTree","referencesCount","{0} references",n)):this.badge.setTitleFormat(ue("vs/editor/contrib/gotoSymbol/peek/referencesTree","referenceCount","{0} reference",n))}};kz=_z([vz(1,IT),vz(2,bb)],kz);let xz=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(kz,e)}renderElement(e,t,i){i.set(e.element,$d(e.filterData))}disposeTemplate(e){e.dispose()}};xz.id="FileReferencesRenderer",xz=_z([vz(0,ao)],xz);class Lz{constructor(e){this.label=new qR(e,!1)}set(e,t){var i;const n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){const{value:e,highlight:i}=n;t&&!ec.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,$d(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${za(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class Ez{constructor(){this.templateId=Ez.id}renderTemplate(e){return new Lz(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}Ez.id="OneReferenceRenderer";class Dz{getWidgetAriaLabel(){return ue("vs/editor/contrib/gotoSymbol/peek/referencesTree","treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}const Nz={separatorBorder:yv.transparent};class Tz{constructor(e,t,i,n){this.container=e,this.view=t,this.disposable=n,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,Ls(e,"visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=qT(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),Ts(this.container,"visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class Iz extends Tz{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class Mz extends Tz{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Rz,Az,Oz,Pz;(Az=Rz||(Rz={}))[Az.Idle=0]="Idle",Az[Az.Busy=1]="Busy",(Pz=Oz||(Oz={})).Distribute={type:"distribute"},Pz.Split=function(e){return{type:"split",index:e}},Pz.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}};class Fz extends It{constructor(e,t={}){super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Rz.Idle,this._onDidSashChange=this._register(new Pt),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new Pt),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=il(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!il(t.proportionalLayout)||!!t.proportionalLayout,this.el=document.createElement("div"),Ls(this.el,"monaco-split-view2"),Ls(this.el,0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=vr(this.el,xr(".sash-container")),this.viewContainer=vr(this.el,xr(".split-view-container")),this.style(t.styles||Nz),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=il(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},n=e.view;this.doAddView(n,i,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(Ds(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(Ls(this.el,"separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,n){this.doAddView(e,t,i,n)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let n=0;n<this.viewItems.length;n++){const t=this.viewItems[n];t.size=qT(Math.round(this.proportions[n]*e),t.minimumSize,t.maximumSize)}else{const t=us(this.viewItems.length),n=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,n,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:i}){for(const r of this.viewItems)r.enabled=!1;const n=ls(this.sashItems,(t=>t.sash===e)),o=Dt(Lo(document.body,"keydown")((e=>s(this.sashDragState.current,e.altKey))),Lo(document.body,"keyup")((()=>s(this.sashDragState.current,!1)))),s=(e,t)=>{const i=this.viewItems.map((e=>e.size));let s,r,a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(n===this.sashItems.length-1){const e=this.viewItems[n];a=(e.minimumSize-e.size)/2,l=(e.maximumSize-e.size)/2}else{const e=this.viewItems[n+1];a=(e.size-e.maximumSize)/2,l=(e.size-e.minimumSize)/2}}if(!t){const e=us(n,-1),t=us(n+1,this.viewItems.length),o=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),a=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),l=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),d=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),c=Math.max(o,d),h=Math.min(l,a),u=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(t);if("number"==typeof u){const e=this.viewItems[u],t=Math.floor(e.viewMinimumSize/2);s={index:u,limitDelta:e.visible?c-t:c+t,size:e.size}}if("number"==typeof g){const e=this.viewItems[g],t=Math.floor(e.viewMinimumSize/2);r={index:g,limitDelta:e.visible?h+t:h-t,size:e.size}}}this.sashDragState={start:e,current:e,index:n,sizes:i,minDelta:a,maxDelta:l,alt:t,snapBefore:s,snapAfter:r,disposable:o}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:n,alt:o,minDelta:s,maxDelta:r,snapBefore:a,snapAfter:l}=this.sashDragState;this.sashDragState.current=e;const d=e-i,c=this.resize(t,d,n,void 0,void 0,s,r,a,l);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map((e=>e.size)),n=e?t:t+1,o=this.viewItems[n],s=o.size-o.maximumSize,r=o.size-o.minimumSize,a=e?t-1:t+1;this.resize(a,-c,i,void 0,void 0,s,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=qT(t="number"==typeof t?t:e.size,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Rz.Idle)throw new Error("Cant modify splitview");if(this.state=Rz.Busy,e<0||e>=this.viewItems.length)return;const i=us(this.viewItems.length).filter((t=>t!==e)),n=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),s=this.viewItems[e];t=qT(t=Math.round(t),s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(n,o),this.state=Rz.Idle}distributeViewSizes(){const e=[];let t=0;for(const r of this.viewItems)r.maximumSize-r.minimumSize>0&&(e.push(r),t+=r.size);const i=Math.floor(t/e.length);for(const r of e)r.size=qT(i,r.minimumSize,r.maximumSize);const n=us(this.viewItems.length),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==Rz.Idle)throw new Error("Cant modify splitview");this.state=Rz.Busy;const o=xr(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const s=Dt(e.onDidChange((e=>this.onViewChange(a,e))),Nt((()=>this.viewContainer.removeChild(o))));let r;r="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const a=0===this.orientation?new Iz(o,e,r,s):new Mz(o,e,r,s);if(this.viewItems.splice(i,0,a),this.viewItems.length>1){const e=0===this.orientation?new ME(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e)},{orientation:1,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}):new ME(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e)},{orientation:0,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),t=0===this.orientation?t=>({sash:e,start:t.startY,current:t.currentY,alt:t.altKey}):t=>({sash:e,start:t.startX,current:t.currentX,alt:t.altKey}),n=Dt(St.map(e.onDidStart,t)(this.onSashStart,this),St.map(e.onDidChange,t)(this.onSashChange,this),St.map(e.onDidEnd,(()=>ls(this.sashItems,(t=>t.sash===e))))(this.onSashEnd,this),e.onDidReset((()=>{const t=ls(this.sashItems,(t=>t.sash===e)),i=us(t,-1),n=us(t+1,this.viewItems.length),o=this.findFirstSnapIndex(i),s=this.findFirstSnapIndex(n);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof s||this.viewItems[s].visible)&&this._onDidSashReset.fire(t)})),e),o={sash:e,disposable:n};this.sashItems.splice(i-1,0,o)}let l;o.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(l=[t.index]),n||this.relayout([i],l),this.state=Rz.Idle,n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map((e=>e.size)),n,o,s=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY,a,l){if(e<0||e>=this.viewItems.length)return 0;const d=us(e,-1),c=us(e+1,this.viewItems.length);if(o)for(const y of o)ms(d,y),ms(c,y);if(n)for(const y of n)ps(d,y),ps(c,y);const h=d.map((e=>this.viewItems[e])),u=d.map((e=>i[e])),g=c.map((e=>this.viewItems[e])),m=c.map((e=>i[e])),p=d.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),f=d.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),b=0===c.length?Number.POSITIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),_=0===c.length?Number.NEGATIVE_INFINITY:c.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),v=Math.max(p,_,s),w=Math.min(b,f,r);let C=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;C=i!==e.visible,e.setVisible(i,a.size)}if(!C&&l){const e=this.viewItems[l.index],i=t<l.limitDelta;C=i!==e.visible,e.setVisible(i,l.size)}if(C)return this.resize(e,t,i,n,o,s,r);for(let y=0,S=t=qT(t,v,w);y<h.length;y++){const e=h[y],t=qT(u[y]+S,e.minimumSize,e.maximumSize);S-=t-u[y],e.size=t}for(let y=0,S=t;y<g.length;y++){const e=g[y],t=qT(m[y]-S,e.minimumSize,e.maximumSize);S+=t-m[y],e.size=t}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const n=us(this.viewItems.length-1,-1),o=n.filter((e=>1===this.viewItems[e].priority)),s=n.filter((e=>2===this.viewItems[e].priority));for(const r of s)ms(n,r);for(const r of o)ps(n,r);"number"==typeof e&&ps(n,e);for(let r=0;0!==i&&r<n.length;r++){const e=this.viewItems[n[r]],t=qT(e.size+i,e.minimumSize,e.maximumSize);i-=t-e.size,e.size=t}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement()}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),n=[...this.viewItems].reverse();e=!1;const o=n.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const s=n.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let a=0;a<this.sashItems.length;a++){const{sash:e}=this.sashItems[a];r+=this.viewItems[a].size;const n=!(t[a]&&s[a+1]),l=!(i[a]&&o[a+1]);if(n&&l){const i=us(a,-1),n=us(a+1,this.viewItems.length),s=this.findFirstSnapIndex(i),l=this.findFirstSnapIndex(n),d="number"==typeof s&&!this.viewItems[s].visible,c="number"==typeof l&&!this.viewItems[l].visible;d&&o[a]&&(r>0||this.startSnappingEnabled)?e.state=1:c&&t[a]&&(r<this.contentSize||this.endSnappingEnabled)?e.state=2:e.state=0}else e.state=n&&!l?1:!n&&l?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}var Wz=function(e,t){return function(i,n){t(i,n,e)}},Bz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Vz{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Tt,this._callOnModelChange=new Tt,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],i=[];for(let o=0,s=e.children.length;o<s;o++){let n=e.children[o];this._decorationIgnoreSet.has(n.id)||n.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:n.range,options:Vz.DecorationOptions}),i.push(o))}const n=this._editor.deltaDecorations([],t);for(let o=0;o<n.length;o++)this._decorations.set(n[o],e.children[i[o]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let s=!1;if(!Vi.equalsRange(o,n.range)){if(Vi.spansMultipleLines(o))s=!0;else{n.range.endColumn-n.range.startColumn!==o.endColumn-o.startColumn&&(s=!0)}s?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}Vz.DecorationOptions=Wv.register({stickiness:1,className:"reference-decoration"});class Hz extends eR{}let zz=class extends jH{constructor(e,t,i,n,o,s,r,a,l,d){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},s),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=s,this._peekViewService=r,this._uriLabel=a,this._undoRedoService=l,this._keybindingService=d,this._disposeOnNewModel=new Tt,this._callOnDispose=new Tt,this._onDidSelectReference=new Pt,this.onDidSelectReference=this._onDidSelectReference.event,this._dim={height:0,width:0},this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Et(this._preview),Et(this._previewNotAvailableMessage),Et(this._tree),Et(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(JH)||yv.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(GH)||yv.transparent,primaryHeadingColor:e.getColor(ZH),secondaryHeadingColor:e.getColor(YH)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=vr(e,xr("div.messages")),Er(this._messageContainer),this._splitView=new Fz(e,{orientation:1}),this._previewContainer=vr(e,xr("div.preview.inline"));this._preview=this._instantiationService.createInstance(SH,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),Er(this._previewContainer),this._previewNotAvailableMessage=new Mv(ue("vs/editor/contrib/gotoSymbol/peek/referencesWidget","missingPreviewMessage","no preview available"),Mv.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=vr(e,xr("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Dz,keyboardNavigationLabelProvider:this._instantiationService.createInstance(yz),identityProvider:new Sz,openOnSingleClick:!0,openOnFocus:!0,overrideStyles:{listBackground:QH}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(As(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(Hz,"ReferencesWidget",this._treeContainer,new Cz,[this._instantiationService.createInstance(xz),this._instantiationService.createInstance(Ez)],this._instantiationService.createInstance(wz),t),this._splitView.addView({onDidChange:St.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},Oz.Distribute),this._splitView.addView({onDidChange:St.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},Oz.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));let i=(e,t)=>{e instanceof dz&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?i(e.element,"side"):e.editorOptions.pinned?i(e.element,"goto"):i(e.element,"show")})),Er(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim={height:e,width:t},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=ue("vs/editor/contrib/gotoSymbol/peek/referencesWidget","noResults","No results"),Lr(this._messageContainer),Promise.resolve(void 0)):(Er(this._messageContainer),this._decorationsManager=new Vz(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:i}=e;if(2!==t.detail)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),Lr(this._treeContainer),Lr(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof dz?e:e instanceof hz&&e.children.length>0?e.children[0]:void 0}revealReference(e){return Bz(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return Bz(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==bs.inMemory?this.setTitle(Ha(e.uri),this._uriLabel.getUriLabel(Ua(e.uri))):this.setTitle(ue("vs/editor/contrib/gotoSymbol/peek/referencesWidget","peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const n=yield i;if(!this._model)return void n.dispose();Et(this._previewModelReference);const o=n.object;if(o){const t=this._preview.getModel()===o.textEditorModel?0:1,i=Vi.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,t)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()}))}};zz=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Wz(3,bb),Wz(4,lh),Wz(5,ao),Wz(6,zH),Wz(7,IT),Wz(8,JD),Wz(9,DD)],zz),Sb(((e,t)=>{const i=e.getColor(sz);i&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${i}; }`);const n=e.getColor(rz);n&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${n}; }`);const o=e.getColor(az);o&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${o}; box-sizing: border-box; }`);const s=e.getColor(Pw);s&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${s}; box-sizing: border-box; }`);const r=e.getColor(QH);r&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${r}; }`);const a=e.getColor(XH);a&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${a}; }`);const l=e.getColor(ez);l&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${l}; }`);const d=e.getColor(tz);d&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${d}; }`);const c=e.getColor(iz);c&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${c} !important; }`);const h=e.getColor(nz);h&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${h};}`);const u=e.getColor(oz);u&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${u};}`)}));var Uz=function(e,t){return function(i,n){t(i,n,e)}},Kz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const qz=new uf("referenceSearchVisible",!1);let $z=class e{constructor(e,t,i,n,o,s,r,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=s,this._storageService=r,this._configurationService=a,this._disposables=new Tt,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=qz.bindTo(i)}static get(t){return t.getContribution(e.ID)}dispose(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Et(this._widget),Et(this._model),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const o="peekViewLayout",s=class{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(n){}return{ratio:t||.7,heightInLines:i||18}}}.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(zz,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(ue("vs/editor/contrib/gotoSymbol/peek/referencesController","labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{let{element:t,kind:n}=e;if(t)switch(n){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1);break;case"side":this.openReference(t,!0);break;case"goto":i?this._gotoReference(t):this.openReference(t,!1)}})));const r=++this._requestIdPool;t.then((t=>{if(r===this._requestIdPool&&this._widget)return this._model&&this._model.dispose(),this._model=t,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(ue("vs/editor/contrib/gotoSymbol/peek/referencesController","metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let t=this._editor.getModel().uri,i=new Bi(e.startLineNumber,e.startColumn),n=this._model.nearestReference(t,i);if(n)return this._widget.setSelection(n).then((()=>{this._widget&&"editor"===this._editor.getOption(68)&&this._widget.focusOnPreviewEditor()}))}}))}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return Kz(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),s=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n),o?this._editor.focus():this._widget&&s&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return Kz(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){Et(this._widget),Et(this._model),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const i=Vi.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then((t=>{var n;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(i),this._widget.focusOnReferenceTree();else{const o=e.get(t),s=this._model.clone();this.closeWidget(),t.focus(),o.toggleWidget(i,Vo((e=>Promise.resolve(s))),null!==(n=this._peekMode)&&void 0!==n&&n)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,ft(e)}))}openReference(e,t){t||this.closeWidget();const{uri:i,range:n}=e;this._editorService.openCodeEditor({resource:i,options:{selection:n}},this._editor,t)}};function jz(e,t){const i=function(e){let t=e.get(uo).getFocusedCodeEditor();return t instanceof SH?t.getParentEditor():t}(e);if(!i)return;let n=$z.get(i);n&&t(n)}$z.ID="editor.contrib.referencesController",$z=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Uz(2,gf),Uz(3,uo),Uz(4,$m),Uz(5,ao),Uz(6,cR),Uz(7,km)],$z),Wm.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:Jt(2089,60),when:Jp.or(qz,UH.inPeekEditor),handler(e){jz(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),Wm.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:Jp.or(qz,UH.inPeekEditor),handler(e){jz(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),Wm.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:Jp.or(qz,UH.inPeekEditor),handler(e){jz(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),ul.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),ul.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),ul.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),ul.registerCommand("closeReferenceSearch",(e=>jz(e,(e=>e.closeWidget())))),Wm.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:Jp.and(UH.inPeekEditor,Jp.not("config.editor.stablePeek"))}),Wm.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:Jp.and(qz,Jp.not("config.editor.stablePeek"))}),Wm.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:Jp.and(qz,MM),handler(e){var t;const i=null===(t=e.get(DM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof dz&&jz(e,(e=>e.revealReference(i[0])))}}),Wm.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:Jp.and(qz,MM),handler(e){var t;const i=null===(t=e.get(DM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof dz&&jz(e,(e=>e.openReference(i[0],!0)))}}),ul.registerCommand("openReference",(e=>{var t;const i=null===(t=e.get(DM).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof dz&&jz(e,(e=>e.openReference(i[0],!1)))}));var Gz=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function Zz(e,t,i,n){const o=i.ordered(e).map((i=>Promise.resolve(n(i,e,t)).then(void 0,(e=>{bt(e)}))));return Promise.all(o).then((e=>{const t=[];for(let i of e)Array.isArray(i)?t.push(...i):i&&t.push(i);return t}))}function Yz(e,t,i){return Zz(e,t,Hc,((e,t,n)=>e.provideDefinition(t,n,i)))}function Jz(e,t,i){return Zz(e,t,zc,((e,t,n)=>e.provideDeclaration(t,n,i)))}function Qz(e,t,i){return Zz(e,t,Uc,((e,t,n)=>e.provideImplementation(t,n,i)))}function Xz(e,t,i){return Zz(e,t,Kc,((e,t,n)=>e.provideTypeDefinition(t,n,i)))}function eU(e,t,i,n){return Zz(e,t,Rc,((e,t,o)=>Gz(this,void 0,void 0,(function*(){const s=yield e.provideReferences(t,o,{includeDeclaration:!0},n);if(!i||!s||2!==s.length)return s;const r=yield e.provideReferences(t,o,{includeDeclaration:!1},n);return r&&1===r.length?r:s}))))}Mf("_executeDefinitionProvider",((e,t)=>Yz(e,t,Ht.None))),Mf("_executeDeclarationProvider",((e,t)=>Jz(e,t,Ht.None))),Mf("_executeImplementationProvider",((e,t)=>Qz(e,t,Ht.None))),Mf("_executeTypeDefinitionProvider",((e,t)=>Xz(e,t,Ht.None))),Mf("_executeReferenceProvider",((e,t)=>eU(e,t,!1,Ht.None)));var tU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},iU=function(e,t){return function(i,n){t(i,n,e)}};const nU=new uf("hasSymbols",!1),oU=co("ISymbolNavigationService");let sU=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=nU.bindTo(e)}reset(){this._ctxHasSymbols.reset(),Et(this._currentState),Et(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new rU(this._editorService),n=i.onDidChange((e=>{if(this._ignoreEditorChange)return;const i=this._editorService.getActiveCodeEditor();if(!i)return;const n=i.getModel(),o=i.getPosition();if(!n||!o)return;let s=!1,r=!1;for(const a of t.references)if(Va(a.uri,n.uri))s=!0,r=r||Vi.containsPosition(a.range,o);else if(s)break;s&&r||this.reset()}));this._currentState=Dt(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:Vi.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){Et(this._currentMessage);const e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?ue("vs/editor/contrib/gotoSymbol/symbolNavigation","location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):ue("vs/editor/contrib/gotoSymbol/symbolNavigation","location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)}};sU=tU([iU(0,gf),iU(1,uo),iU(2,$m),iU(3,DD)],sU),OE(oU,sU,!0),Rf(new class extends Ef{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:nU,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(oU).revealNext(t)}}),Wm.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:nU,primary:9,handler(e){e.get(oU).reset()}});let rU=class{constructor(e){this._listener=new Map,this._disposables=new Tt,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),Et(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,Dt(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){Et(this._listener.get(e)),this._listener.delete(e)}};rU=tU([iU(0,uo)],rU);var aU,lU,dU,cU,hU,uU,gU,mU,pU=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};vf.appendMenuItem(bf.EditorContext,{submenu:bf.EditorContextPeek,title:ue("vs/editor/contrib/gotoSymbol/goToCommands","peek.submenu","Peek"),group:"navigation",order:100});class fU extends Df{constructor(e,t){super(t),this._configuration=e}run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const i=e.get($m),n=e.get(uo),o=e.get(dD),s=e.get(oU),r=t.getModel(),a=t.getPosition(),l=new VE(t,5),d=Ho(this._getLocationModel(r,a,l.token),l.token).then((e=>pU(this,void 0,void 0,(function*(){if(!e||l.token.isCancellationRequested)return;let i;if(Op(e.ariaMessage),e.referenceAt(r.uri,a)){const e=this._getAlternativeCommand(t);e!==this.id&&(i=t.getAction(e))}const o=e.references.length;if(0===o){if(!this._configuration.muteMessage){const e=r.getWordAtPosition(a);zF.get(t).showMessage(this._getNoResultFoundMessage(e),a)}}else{if(1!==o||!i)return this._onResult(n,s,t,e);i.run()}}))),(e=>{i.error(e)})).finally((()=>{l.dispose()}));return o.showWhile(d,250),d}_onResult(e,t,i,n){return pU(this,void 0,void 0,(function*(){const o=this._getGoToPreference(i);if(i instanceof SH||!(this._configuration.openInPeek||"peek"===o&&n.references.length>1)){const s=n.firstReference(),r=n.references.length>1&&"gotoAndPeek"===o,a=yield this._openReference(i,e,s,this._configuration.openToSide,!r);r&&a?this._openInPeek(a,n):n.dispose(),"goto"===o&&t.put(s)}else this._openInPeek(i,n)}))}_openReference(e,t,i,n,o){return pU(this,void 0,void 0,(function*(){let s;var r;(r=i)&&Di.isUri(r.uri)&&Vi.isIRange(r.range)&&(Vi.isIRange(r.originSelectionRange)||Vi.isIRange(r.targetSelectionRange))&&(s=i.targetSelectionRange),s||(s=i.range);const a=yield t.openCodeEditor({resource:i.uri,options:{selection:Vi.collapseToStart(s),selectionRevealType:3}},e,n);if(a){if(o){const e=a.getModel(),t=a.deltaDecorations([],[{range:s,options:{className:"symbolHighlight"}}]);setTimeout((()=>{a.getModel()===e&&a.deltaDecorations(t,[])}),350)}return a}}))}_openInPeek(e,t){let i=$z.get(e);i&&e.hasModel()?i.toggleWidget(e.getSelection(),Vo((e=>Promise.resolve(t))),this._configuration.openInPeek):t.dispose()}}class bU extends fU{_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield Yz(e,t,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?ue("vs/editor/contrib/gotoSymbol/goToCommands","noResultWord","No definition found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(43).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(43).multipleDefinitions}}const _U=De&&!xo?2118:70;Af(((aU=class e extends bU{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:Jp.and(QS.hasDefinitionProvider,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:_U,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:bf.MenubarGoMenu,group:"4_symbol_nav",order:2,title:ue("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),ul.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",aU)),Af(((lU=class e extends bU{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:Jp.and(QS.hasDefinitionProvider,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,_U),weight:100}}),ul.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",lU)),Af(((dU=class e extends bU{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:Jp.and(QS.hasDefinitionProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:bf.EditorContextPeek,group:"peek",order:2}}),ul.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",dU));class vU extends fU{_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield Jz(e,t,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?ue("vs/editor/contrib/gotoSymbol/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(43).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(43).multipleDeclarations}}Af(((cU=class e extends vU{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:Jp.and(QS.hasDeclarationProvider,QS.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:bf.MenubarGoMenu,group:"4_symbol_nav",order:3,title:ue("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}_getNoResultFoundMessage(e){return e&&e.word?ue("vs/editor/contrib/gotoSymbol/goToCommands","decl.noResultWord","No declaration found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",cU)),Af(class extends vU{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:Jp.and(QS.hasDeclarationProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:bf.EditorContextPeek,group:"peek",order:3}})}});class wU extends fU{_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield Xz(e,t,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?ue("vs/editor/contrib/gotoSymbol/goToCommands","goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(43).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(43).multipleTypeDefinitions}}Af(((hU=class e extends wU{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:Jp.and(QS.hasTypeDefinitionProvider,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:bf.MenubarGoMenu,group:"4_symbol_nav",order:3,title:ue("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",hU)),Af(((uU=class e extends wU{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:Jp.and(QS.hasTypeDefinitionProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:bf.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",uU));class CU extends fU{_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield Qz(e,t,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?ue("vs/editor/contrib/gotoSymbol/goToCommands","goToImplementation.noResultWord","No implementation found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(43).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(43).multipleImplementations}}Af(((gU=class e extends CU{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:Jp.and(QS.hasImplementationProvider,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:bf.MenubarGoMenu,group:"4_symbol_nav",order:4,title:ue("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",gU)),Af(((mU=class e extends CU{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:ue("vs/editor/contrib/gotoSymbol/goToCommands","actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:Jp.and(QS.hasImplementationProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:bf.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",mU));class yU extends fU{_getNoResultFoundMessage(e){return e?ue("vs/editor/contrib/gotoSymbol/goToCommands","references.no","No references found for '{0}'",e.word):ue("vs/editor/contrib/gotoSymbol/goToCommands","references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(43).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(43).multipleReferences}}Af(class extends yU{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:ue("vs/editor/contrib/gotoSymbol/goToCommands","goToReferences.label","Go to References"),alias:"Go to References",precondition:Jp.and(QS.hasReferenceProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:QS.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:bf.MenubarGoMenu,group:"4_symbol_nav",order:5,title:ue("vs/editor/contrib/gotoSymbol/goToCommands",{key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield eU(e,t,!0,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References"))}))}}),Af(class extends yU{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:ue("vs/editor/contrib/gotoSymbol/goToCommands","references.action.label","Peek References"),alias:"Peek References",precondition:Jp.and(QS.hasReferenceProvider,UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:bf.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(yield eU(e,t,!1,i),ue("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References"))}))}});class SU extends fU{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",label:ue("vs/editor/contrib/gotoSymbol/goToCommands","label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:Jp.and(UH.notInPeekEditor,QS.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i){return pU(this,void 0,void 0,(function*(){return new uz(this._references,ue("vs/editor/contrib/gotoSymbol/goToCommands","generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&ue("vs/editor/contrib/gotoSymbol/goToCommands","generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(43).multipleReferences}_getAlternativeCommand(){return""}}ul.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Di},{name:"position",description:"The position at which to start",constraint:Bi.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,s,r)=>pU(void 0,void 0,void 0,(function*(){ol(Di.isUri(t)),ol(Bi.isIPosition(i)),ol(Array.isArray(n)),ol(void 0===o||"string"==typeof o),ol(void 0===r||"boolean"==typeof r);const a=e.get(uo),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if(Bg(l))return l.setPosition(i),l.revealPositionInCenterIfOutsideViewport(i,0),l.invokeWithinContext((e=>{const t=new class extends SU{_getNoResultFoundMessage(e){return s||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(s),openInPeek:Boolean(r),openToSide:!1},n,o);e.get(ao).invokeFunction(t.run.bind(t),l)}))}))}),ul.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Di},{name:"position",description:"The position at which to start",constraint:Bi.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>pU(void 0,void 0,void 0,(function*(){e.get(hl).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),ul.registerCommand({id:"editor.action.findReferences",handler:(e,t,i)=>{ol(Di.isUri(t)),ol(Bi.isIPosition(i));const n=e.get(uo);return n.openCodeEditor({resource:t},n.getFocusedCodeEditor()).then((e=>{if(!Bg(e)||!e.hasModel())return;const t=$z.get(e);if(!t)return;const n=Vo((t=>eU(e.getModel(),Bi.lift(i),!1,t).then((e=>new uz(e,ue("vs/editor/contrib/gotoSymbol/goToCommands","ref.title","References")))))),o=new Vi(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(t.toggleWidget(o,n,!1))}))}}),ul.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");function kU(e,t){return!!e[t]}class xU{constructor(e,t){this.target=e.target,this.hasTriggerModifier=kU(e.event,t.triggerModifier),this.hasSideBySideModifier=kU(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class LU{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=kU(e,t.triggerModifier)}}class EU{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function DU(e){return"altKey"===e?xe?new EU(57,"metaKey",6,"altKey"):new EU(5,"ctrlKey",6,"altKey"):xe?new EU(6,"altKey",57,"metaKey"):new EU(6,"altKey",5,"ctrlKey")}class NU extends It{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new Pt),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new Pt),this.onExecute=this._onExecute.event,this._onCancel=this._register(new Pt),this.onCancel=this._onCancel.event,this._editor=e,this._opts=DU(this._editor.getOption(61)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(61)){const e=DU(this._editor.getOption(61));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new xU(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new xU(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new xU(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new LU(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new LU(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var TU=function(e,t){return function(i,n){t(i,n,e)}};let IU=class e{constructor(e,t,i){this.textModelResolverService=t,this.modeService=i,this.toUnhook=new Tt,this.toUnhookForKeyboard=new Tt,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let n=new NU(e);this.toUnhook.add(n),this.toUnhook.add(n.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,cl(t))}))),this.toUnhook.add(n.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(e=>{this.removeLinkDecorations(),ft(e)}))}))),this.toUnhook.add(n.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;let n=new BE(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=Vo((t=>this.findDefinition(e,t))),this.previousPromise.then((t=>{if(t&&t.length&&n.validate(this.editor))if(t.length>1)this.addDecoration(new Vi(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),(new dF).appendText(ue("vs/editor/contrib/gotoSymbol/link/goToDefinitionAtPosition","multipleResults","Click to show {0} definitions.",t.length)));else{let n=t[0];if(!n.uri)return;this.textModelResolverService.createModelReference(n.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:o}}=t,{startLineNumber:s}=n.range;if(s<1||s>o.getLineCount())return void t.dispose();const r=this.getPreviewValue(o,s,n);let a;a=n.originSelectionRange?Vi.lift(n.originSelectionRange):new Vi(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);const l=this.modeService.getModeIdByFilepathOrFirstLine(o.uri);this.addDecoration(a,(new dF).appendCodeblock(l||"",r)),t.dispose()}))}else this.removeLinkDecorations()})).then(void 0,ft)}getPreviewValue(t,i,n){let o=n.targetSelectionRange?n.range:this.getPreviewRangeBasedOnBrackets(t,i);o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i));return this.stripIndentationFromPreviewRange(t,i,o)}stripIndentationFromPreviewRange(e,t,i){let n=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<i.endLineNumber;o++){const t=e.getLineFirstNonWhitespaceColumn(o);n=Math.min(n,t)}return e.getValueInRange(i).replace(new RegExp(`^\\s{${n-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,i){const n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let s=i+1;for(;s<o;s++){if(n===t.getLineFirstNonWhitespaceColumn(s))break}return new Vi(i,1,s+1,1)}getPreviewRangeBasedOnBrackets(t,i){const n=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES),o=[];let s=!0,r=t.findNextBracket(new Bi(i,1));for(;null!==r;){if(0===o.length)o.push(r);else{const e=o[o.length-1];if(e.open[0]===r.open[0]&&e.isOpen&&!r.isOpen?o.pop():o.push(r),0===o.length){if(!s)return new Vi(i,1,r.range.endLineNumber+1,1);s=!1}}const e=t.getLineMaxColumn(i);let a=r.range.endLineNumber,l=r.range.endColumn;if(e===r.range.endColumn&&(a++,l=1),a>n)return new Vi(i,1,n+1,1);r=t.findNextBracket(new Bi(a,l))}return new Vi(i,1,n+1,1)}addDecoration(e,t){const i={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[i])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&Hc.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?Yz(i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const i=!t&&this.editor.getOption(69)&&!this.isInPeekEditor(e);return new bU({openToSide:t,openInPeek:i,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)}))}isInPeekEditor(e){const t=e.get(gf);return UH.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};IU.ID="editor.contrib.gotodefinitionatposition",IU.MAX_SOURCE_PREVIEW_LINES=8,IU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([TU(1,lh),TU(2,FD)],IU),Pf(IU.ID,IU),Sb(((e,t)=>{const i=e.getColor(GC);i&&t.addRule(`.monaco-editor .goto-definition-link { color: ${i} !important; }`)}));var MU;(MU||(MU={})).className=function(e){switch(e){case Wg.Ignore:return"severity-ignore "+bc.info.classNames;case Wg.Info:return bc.info.classNames;case Wg.Warning:return bc.warning.classNames;case Wg.Error:return bc.error.classNames;default:return""}},Sb(((e,t)=>{const i=e.getColor(Hy);if(i){const e=bc.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const n=e.getColor(zy);if(n){const e=bc.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const o=e.getColor(Uy);if(o){const e=bc.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}}));var RU=function(e,t){return function(i,n){t(i,n,e)}};class AU{constructor(e,t,i,n){this._openerService=n,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Tt,this._editor=t;const o=document.createElement("div");o.className="descriptioncontainer",this._messageBlock=document.createElement("div"),Ls(this._messageBlock,"message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),o.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),o.appendChild(this._relatedBlock),this._disposables.add(As(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new Yk(o,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{o.style.left=`-${e.scrollLeft}px`,o.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){Et(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let s=((null==t?void 0:t.length)||0)+"()".length;o&&(s+="string"==typeof o?o.length:o.value.length);const r=i.split(/\r\n|\r|\n/g);this._lines=r.length,this._longestLineLength=0;for(const h of r)this._longestLineLength=Math.max(h.length+s,this._longestLineLength);Cs(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const h of r)a=document.createElement("div"),a.innerText=h,""===h&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(Ls(e,"details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,Ls(i,"source"),e.appendChild(i)}if(o)if("string"==typeof o){const t=document.createElement("span");t.innerText=`(${o})`,Ls(t,"code"),e.appendChild(t)}else{this._codeLink=xr("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(o.target),e.preventDefault(),e.stopPropagation()};vr(this._codeLink,xr("span")).innerText=o.value,e.appendChild(this._codeLink)}}if(Cs(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),ss(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(51))}px`,this._lines+=1;for(const t of n){let i=document.createElement("div"),n=document.createElement("a");Ls(n,"filename"),n.innerText=`${mz(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=gz(t.resource,void 0),this._relatedDiagnostics.set(n,t);let o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}const l=this._editor.getOption(36),d=Math.ceil(l.typicalFullwidthCharacterWidth*this._longestLineLength*.75),c=l.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:d,scrollHeight:c})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case oR.Error:t=ue("vs/editor/contrib/gotoError/gotoErrorWidget","Error","Error");break;case oR.Warning:t=ue("vs/editor/contrib/gotoError/gotoErrorWidget","Warning","Warning");break;case oR.Info:t=ue("vs/editor/contrib/gotoError/gotoErrorWidget","Info","Info");break;case oR.Hint:t=ue("vs/editor/contrib/gotoError/gotoErrorWidget","Hint","Hint")}let i=ue("vs/editor/contrib/gotoError/gotoErrorWidget","marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();if(n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1){i=`${n.getLineContent(e.startLineNumber)}, ${i}`}return i}}let OU=class e extends jH{constructor(e,t,i,n,o,s){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0},o),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._callOnDispose=new Tt,this._onDidSelectRelatedInformation=new Pt,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=oR.Warning,this._backgroundColor=yv.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(zU);let t=BU;this._severity===oR.Warning?t=VU:this._severity===oR.Info&&(t=HU);const i=e.getColor(t);this.style({arrowColor:i,frameColor:i,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(ZH),secondaryHeadingColor:e.getColor(YH)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onDidBeforeRun((e=>this.editor.focus())));const i=[],n=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);OH(n,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=vr(e,xr(""))}_getActionBarOptions(){return Object.assign(Object.assign({},super._getActionBarOptions()),{orientation:0})}_fillBody(e){this._parentContainer=e,Ls(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new AU(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let n=Vi.lift(e);const o=this.editor.getPosition();let s=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(s,this.computeRequiredHeight());const r=this.editor.getModel();if(r){const e=i>1?ue("vs/editor/contrib/gotoError/gotoErrorWidget","problems","{0} of {1} problems",t,i):ue("vs/editor/contrib/gotoError/gotoErrorWidget","change","{0} of {1} problem",t,i);this.setTitle(za(r.uri),e)}this._icon.className=`codicon ${MU.className(oR.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};OU.TitleMenu=new bf("gotoErrorTitleMenu"),OU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([RU(1,bb),RU(2,ml),RU(3,_f),RU(4,ao),RU(5,gf)],OU);let PU=jy(gC,mC),FU=jy(pC,fC),WU=jy(bC,_C);const BU=Tw("editorMarkerNavigationError.background",{dark:PU,light:PU,hc:PU},ue("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationError","Editor marker navigation widget error color.")),VU=Tw("editorMarkerNavigationWarning.background",{dark:FU,light:FU,hc:FU},ue("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),HU=Tw("editorMarkerNavigationInfo.background",{dark:WU,light:WU,hc:WU},ue("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationInfo","Editor marker navigation widget info color.")),zU=Tw("editorMarkerNavigation.background",{dark:"#2D2D30",light:yv.white,hc:"#0C141F"},ue("vs/editor/contrib/gotoError/gotoErrorWidget","editorMarkerNavigationBackground","Editor marker navigation widget background."));Sb(((e,t)=>{const i=e.getColor(Fw);i&&(t.addRule(`.monaco-editor .marker-widget a { color: ${i}; }`),t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${i}; }`))}));var UU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},KU=function(e,t){return function(i,n){t(i,n,e)}};class qU{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let $U=class e{constructor(t,i){this._markerService=i,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._dispoables=new Tt,this._markers=[],this._nextIdx=-1,Di.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const n=()=>{this._markers=this._markerService.read({resource:Di.isUri(t)?t:void 0,severities:oR.Error|oR.Warning|oR.Info}),"function"==typeof t&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(e._compareMarker)};n(),this._dispoables.add(i.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(n(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new qU(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));o<0&&(o=Qo(this._markers,{resource:e.uri},((e,t)=>Gr(e.resource.toString(),t.resource.toString()))),o<0&&(o=~o));for(let s=o;s<this._markers.length;s++){let i=Vi.lift(this._markers[s]);if(i.isEmpty()){const t=e.getWordAtPosition(i.getStartPosition());t&&(i=new Vi(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn))}if(t&&(i.containsPosition(t)||t.isBeforeOrEqual(i.getStartPosition()))){this._nextIdx=s,n=!0;break}if(this._markers[s].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;let n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(i<0))for(;i<this._markers.length;i++)if(Vi.containsPosition(this._markers[i],t))return new qU(this._markers[i],i+1,this._markers.length)}static _compareMarker(e,t){let i=Gr(e.resource.toString(),t.resource.toString());return 0===i&&(i=oR.compare(e.severity,t.severity)),0===i&&(i=Vi.compareRangesUsingStarts(e,t)),i}};$U=UU([KU(1,rR)],$U);const jU=co("IMarkerNavigationService");let GU=class{constructor(e){this._markerService=e,this._provider=new Ot}getMarkerList(e){for(let t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new $U(e,this._markerService)}};GU=UU([KU(0,rR)],GU),OE(jU,GU,!0);var ZU=function(e,t){return function(i,n){t(i,n,e)}},YU=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let JU=class e{constructor(e,t,i,n,o){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=o,this._sessionDispoables=new Tt,this._editor=e,this._widgetVisible=tK.bindTo(this._contextKeyService)}static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(OU,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,i,n;(null===(t=this._model)||void 0===t?void 0:t.selected)&&Vi.containsPosition(null===(i=this._model)||void 0===i?void 0:i.selected.marker,e.position)||null===(n=this._model)||void 0===n||n.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:Vi.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new Bi(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){return YU(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const n=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(n.move(t,this._editor.getModel(),this._editor.getPosition()),!n.selected)return;if(n.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const o=yield this._editorService.openCodeEditor({resource:n.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:n.selected.marker}},this._editor);o&&(e.get(o).close(),e.get(o).nagivate(t,i))}else this._widget.showAtMarker(n.selected.marker,n.selected.index,n.selected.total)}}))}};JU.ID="editor.contrib.markerController",JU=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([ZU(1,jU),ZU(2,gf),ZU(3,uo),ZU(4,ao)],JU);class QU extends Df{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){return YU(this,void 0,void 0,(function*(){t.hasModel()&&JU.get(t).nagivate(this._next,this._multiFile)}))}}class XU extends QU{constructor(){super(!0,!1,{id:XU.ID,label:XU.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:578,weight:100},menuOpts:{menuId:OU.TitleMenu,title:XU.LABEL,icon:fc("marker-navigation-next",bc.chevronDown),group:"navigation",order:1}})}}XU.ID="editor.action.marker.next",XU.LABEL=ue("vs/editor/contrib/gotoError/gotoError","markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class eK extends QU{constructor(){super(!1,!1,{id:eK.ID,label:eK.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:1602,weight:100},menuOpts:{menuId:OU.TitleMenu,title:XU.LABEL,icon:fc("marker-navigation-previous",bc.chevronUp),group:"navigation",order:2}})}}eK.ID="editor.action.marker.prev",eK.LABEL=ue("vs/editor/contrib/gotoError/gotoError","markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");Pf(JU.ID,JU),Af(XU),Af(eK),Af(class extends QU{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:ue("vs/editor/contrib/gotoError/gotoError","markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:66,weight:100},menuOpts:{menuId:bf.MenubarGoMenu,title:ue("vs/editor/contrib/gotoError/gotoError",{key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),Af(class extends QU{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:ue("vs/editor/contrib/gotoError/gotoError","markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:1090,weight:100},menuOpts:{menuId:bf.MenubarGoMenu,title:ue("vs/editor/contrib/gotoError/gotoError",{key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const tK=new uf("markersNavigationVisible",!1);Rf(new(Ef.bindToContribution(JU.get))({id:"closeMarkersNavigation",precondition:tK,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:QS.focus,primary:9,secondary:[1033]}}));class iK{constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new Pt,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Pt,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Pt,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let i=0;i<this.colorPresentations.length;i++)if(t.toLowerCase()===this.colorPresentations[i].label){this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}const nK=xr;class oK extends It{constructor(e,t,i){super(),this.model=t,this.domNode=nK(".colorpicker-header"),vr(e,this.domNode),this.pickedColorNode=vr(this.domNode,nK(".picked-color"));const n=vr(this.domNode,nK(".original-color"));n.style.backgroundColor=yv.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(KC)||yv.white,this._register(Sb(((e,t)=>{this.backgroundColor=e.getColor(KC)||yv.white}))),this._register(Ms(this.pickedColorNode,pr.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(Ms(n,pr.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=yv.Format.CSS.format(t.color)||"",Ts(this.pickedColorNode,"light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter())}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=yv.Format.CSS.format(e)||"",Ts(this.pickedColorNode,"light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}}class sK extends It{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this.domNode=nK(".colorpicker-body"),vr(e,this.domNode),this.saturationBox=new rK(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new lK(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new dK(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new yv(new Cv(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new yv(new Cv(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=360*(1-e);this.model.color=new yv(new Cv(360===i?0:i,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class rK extends It{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Pt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=nK(".saturation-wrap"),vr(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",vr(this.domNode,this.canvas),this.selection=nK(".saturation-selection"),vr(this.domNode,this.selection),this.layout(),this._register(Os(this.domNode,(e=>this.onMouseDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onMouseDown(e){this.monitor=this._register(new Qf);const t=Ys(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Jf,(e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top)),(()=>null));const i=Ps(document,(()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new yv(new Cv(e.h,1,1,1)),i=this.canvas.getContext("2d"),n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this.canvas.width,this.canvas.height),i.fillStyle=yv.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class aK extends It{constructor(e,t){super(),this.model=t,this._onDidChange=new Pt,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new Pt,this.onColorFlushed=this._onColorFlushed.event,this.domNode=vr(e,nK(".strip")),this.overlay=vr(this.domNode,nK(".overlay")),this.slider=vr(this.domNode,nK(".slider")),this.slider.style.top="0px",this._register(Os(this.domNode,(e=>this.onMouseDown(e)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new Qf),i=Ys(this.domNode);Ls(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,Jf,(e=>this.onDidChangeTop(e.posy-i.top)),(()=>null));const n=Ps(document,(()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),Ds(this.domNode,"grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class lK extends aK{constructor(e,t){super(e,t),Ls(this.domNode,"opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:n}=e.rgba,o=new yv(new vv(t,i,n,1)),s=new yv(new vv(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${s} 100%)`}getValue(e){return e.hsva.a}}class dK extends aK{constructor(e,t){super(e,t),Ls(this.domNode,"hue-strip")}getValue(e){return 1-e.hsva.h/360}}class cK extends Ik{constructor(e,t,i,n){super(),this.model=t,this.pixelRatio=i,this._register(po((()=>this.layout())));const o=nK(".colorpicker-widget");e.appendChild(o);const s=new oK(o,this.model,n);this.body=new sK(o,this.model,this.pixelRatio),this._register(s),this._register(this.body)}layout(){this.body.layout()}}function hK(e,t,i){const n=Fc.ordered(e).map((n=>Promise.resolve(n.provideHover(e,t,i)).then((e=>e&&function(e){const t=void 0!==e.range,i=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&i}(e)?e:void 0),(e=>{bt(e)}))));return Promise.all(n).then(ns)}Mf("_executeHoverProvider",((e,t)=>hK(e,t,Ht.None)));class uK{constructor(e,t,i,n,o){this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new Go((()=>this._triggerAsyncComputation()),0),this._secondWaitScheduler=new Go((()=>this._triggerSyncComputation()),0),this._loadingMessageScheduler=new Go((()=>this._showLoadingMessage()),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=i,this._progressCallback=n}setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=Vo((e=>this._computer.computeAsync(e))),this._asyncComputationPromise.then((e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)}),(e=>this._onError(e)))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):ft(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}}const gK=xr;class mK extends It{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new Qk(this.contentsDomNode,{})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}onContentsChanged(){this._scrollbar.scanDomNode()}}class pK extends Ik{constructor(e,t,i,n){super(),this._hoverVisibleKey=i,this._keybindingService=n,this.allowEditorOverflow=!0,this._hover=this._register(new mK),this._id=e,this._editor=t,this._isVisible=!1,this._stoleFocus=!1,this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(36)&&this.updateFont()}))),this._editor.onDidLayoutChange((e=>this.layout())),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,Ts(this._hover.containerDomNode,"hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}showAt(e,t,i){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=i,i&&this._hover.containerDomNode.focus()}hide(){this.isVisible&&(setTimeout((()=>{this.isVisible||this._hoverVisibleKey.set(!1)}),0),this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())}getPosition(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}dispose(){this._editor.removeContentWidget(this),super.dispose()}updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_renderAction(e,t){const i=this._keybindingService.lookupKeybinding(t.commandId);return function(e,t,i){const n=vr(e,gK("div.action-container")),o=vr(n,gK("a.action"));return o.setAttribute("href","#"),o.setAttribute("role","button"),t.iconClass&&vr(o,gK(`span.icon.${t.iconClass}`)),vr(o,gK("span")).textContent=i?`${t.label} (${i})`:t.label,Ms(n,pr.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(n)}))}(e,t,i?i.getLabel():null)}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(36);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${i}px`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}}class fK extends Ik{constructor(e,t){super(),this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(36)&&this.updateFont()}))),this._editor.addOverlayWidget(this)}get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,Ts(this._domNode,"hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop(),o=this._editor.getOption(51),s=i-n-(this._domNode.clientHeight-o)/2;this._domNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(s),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach((e=>this._editor.applyFontInfo(e)))}updateContents(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()}}var bK={exports:{}};let _K;bK.exports=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function s(e,t){return e(t={exports:{}},t.exports),t.exports}var r=s((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function i(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:i}}));r.defaults,r.getDefaults,r.changeDefaults;var a=/[&<>"']/,l=/[&<>"']/g,d=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=function(e){return h[e]};function g(e,t){if(t){if(a.test(e))return e.replace(l,u)}else if(d.test(e))return e.replace(c,u);return e}var m=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function p(e){return e.replace(m,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var f=/(^|[^\[])\^/g;function b(e,t){e=e.source||e,t=t||"";var i={replace:function(t,n){return n=(n=n.source||n).replace(f,"$1"),e=e.replace(t,n),i},getRegex:function(){return new RegExp(e,t)}};return i}var _=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function w(e,t,i){if(e){var n;try{n=decodeURIComponent(p(i)).replace(_,"").toLowerCase()}catch(le){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!v.test(i)&&(i=x(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(le){return null}return i}var C={},y=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/;function x(e,t){C[" "+e]||(y.test(e)?C[" "+e]=e+"/":C[" "+e]=D(e,"/",!0));var i=-1===(e=C[" "+e]).indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(S,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(k,"$1")+t:e+t}function L(e){for(var t,i,n=1;n<arguments.length;n++)for(i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function E(e,t){var i=e.replace(/\|/g,(function(e,t,i){for(var n=!1,o=t;--o>=0&&"\\"===i[o];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(/\\\|/g,"|");return i}function D(e,t,i){var n=e.length;if(0===n)return"";for(var o=0;o<n;){var s=e.charAt(n-o-1);if(s!==t||i){if(s===t||!i)break;o++}else o++}return e.substr(0,n-o)}function N(e,t){if(-1===e.indexOf(t[1]))return-1;for(var i=e.length,n=0,o=0;o<i;o++)if("\\"===e[o])o++;else if(e[o]===t[0])n++;else if(e[o]===t[1]&&--n<0)return o;return-1}function T(e){e&&e.sanitize&&e.silent}var I={escape:g,unescape:p,edit:b,cleanUrl:w,resolveUrl:x,noopTest:{exec:function(){}},merge:L,splitCells:E,rtrim:D,findClosingBracket:N,checkSanitizeDeprecation:T},M=r.defaults,R=I.rtrim,A=I.splitCells,O=I.escape,P=I.findClosingBracket;function F(e,t,i){var n=t.href,o=t.title?O(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:i,href:n,title:o,text:s}:{type:"image",raw:i,href:n,title:o,text:O(s)}}function W(e,t){var i=e.match(/^(\s+)(?:```)/);if(null===i)return t;var n=i[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}var B=function(){function e(e){this.options=e||M}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var i=this.rules.block.code.exec(e);if(i){var n=t[t.length-1];if(n&&"paragraph"===n.type)return{raw:i[0],text:i[0].trimRight()};var o=i[0].replace(/^ {4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?o:R(o,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var i=t[0],n=W(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[1].length,text:t[2]}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var i={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(i.header.length===i.align.length){var n,o=i.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(o=i.cells.length,n=0;n<o;n++)i.cells[n]=A(i.cells[n],i.header.length);return i}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:i}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){for(var i,n,o,s,r,a,l,d=t[0],c=t[2],h=c.length>1,u=")"===c[c.length-1],g={type:"list",raw:d,ordered:h,start:h?+c.slice(0,-1):"",loose:!1,items:[]},m=t[0].match(this.rules.block.item),p=!1,f=m.length,b=0;b<f;b++)d=i=m[b],n=i.length,~(i=i.replace(/^ *([*+-]|\d+[.)]) */,"")).indexOf("\n ")&&(n-=i.length,i=this.options.pedantic?i.replace(/^ {1,4}/gm,""):i.replace(new RegExp("^ {1,"+n+"}","gm"),"")),b!==f-1&&(o=this.rules.block.bullet.exec(m[b+1])[0],(h?1===o.length||!u&&")"===o[o.length-1]:o.length>1||this.options.smartLists&&o!==c)&&(s=m.slice(b+1).join("\n"),g.raw=g.raw.substring(0,g.raw.length-s.length),b=f-1)),r=p||/\n\n(?!\s*$)/.test(i),b!==f-1&&(p="\n"===i.charAt(i.length-1),r||(r=p)),r&&(g.loose=!0),l=void 0,(a=/^\[[ xX]\] /.test(i))&&(l=" "!==i[1],i=i.replace(/^\[[ xX]\] +/,"")),g.items.push({type:"list_item",raw:d,task:a,checked:l,loose:r,text:i});return g}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):O(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var i={type:"table",header:A(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(i.header.length===i.align.length){i.raw=t[0];var n,o=i.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(i.align[n])?i.align[n]="right":/^ *:-+: *$/.test(i.align[n])?i.align[n]="center":/^ *:-+ *$/.test(i.align[n])?i.align[n]="left":i.align[n]=null;for(o=i.cells.length,n=0;n<o;n++)i.cells[n]=A(i.cells[n].replace(/^ *\| *| *\| *$/g,""),i.header.length);return i}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var i=this.rules.block.text.exec(e);if(i){var n=t[t.length-1];return n&&"text"===n.type?{raw:i[0],text:i[0]}:{type:"text",raw:i[0],text:i[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:O(t[1])}},t.tag=function(e,t,i){var n=this.rules.inline.tag.exec(e);if(n)return!t&&/^<a /i.test(n[0])?t=!0:t&&/^<\/a>/i.test(n[0])&&(t=!1),!i&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?i=!0:i&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(i=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:t,inRawBlock:i,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):O(n[0]):n[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var i=P(t[2],"()");if(i>-1){var n=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,n).trim(),t[3]=""}var o=t[2],s="";if(this.options.pedantic){var r=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);r?(o=r[1],s=r[3]):s=""}else s=t[3]?t[3].slice(1,-1):"";return F(t,{href:(o=o.trim().replace(/^<([\s\S]*)>$/,"$1"))?o.replace(this.rules.inline._escapes,"$1"):o,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0])}},t.reflink=function(e,t){var i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){var n=(i[2]||i[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return F(i,n,i[0])}},t.strong=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.strong.start.exec(e);if(n&&(!n[1]||n[1]&&(""===i||this.rules.inline.punctuation.exec(i)))){t=t.slice(-1*e.length);var o,s="**"===n[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(s.lastIndex=0;null!=(n=s.exec(t));)if(o=this.rules.inline.strong.middle.exec(t.slice(0,n.index+3)))return{type:"strong",raw:e.slice(0,o[0].length),text:e.slice(2,o[0].length-2)}}},t.em=function(e,t,i){void 0===i&&(i="");var n=this.rules.inline.em.start.exec(e);if(n&&(!n[1]||n[1]&&(""===i||this.rules.inline.punctuation.exec(i)))){t=t.slice(-1*e.length);var o,s="*"===n[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(s.lastIndex=0;null!=(n=s.exec(t));)if(o=this.rules.inline.em.middle.exec(t.slice(0,n.index+2)))return{type:"em",raw:e.slice(0,o[0].length),text:e.slice(1,o[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var i=t[2].replace(/\n/g," "),n=/[^ ]/.test(i),o=i.startsWith(" ")&&i.endsWith(" ");return n&&o&&(i=i.substring(1,i.length-1)),i=O(i,!0),{type:"codespan",raw:t[0],text:i}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[1]}},t.autolink=function(e,t){var i,n,o=this.rules.inline.autolink.exec(e);if(o)return n="@"===o[2]?"mailto:"+(i=O(this.options.mangle?t(o[1]):o[1])):i=O(o[1]),{type:"link",raw:o[0],text:i,href:n,tokens:[{type:"text",raw:i,text:i}]}},t.url=function(e,t){var i;if(i=this.rules.inline.url.exec(e)){var n,o;if("@"===i[2])o="mailto:"+(n=O(this.options.mangle?t(i[0]):i[0]));else{var s;do{s=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(s!==i[0]);n=O(i[0]),o="www."===i[1]?"http://"+n:n}return{type:"link",raw:i[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t,i){var n,o=this.rules.inline.text.exec(e);if(o)return n=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):O(o[0]):o[0]:O(this.options.smartypants?i(o[0]):o[0]),{type:"text",raw:o[0],text:n}},e}(),V=I.noopTest,H=I.edit,z=I.merge,U={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:V,table:V,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};U.def=H(U.def).replace("label",U._label).replace("title",U._title).getRegex(),U.bullet=/(?:[*+-]|\d{1,9}[.)])/,U.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,U.item=H(U.item,"gm").replace(/bull/g,U.bullet).getRegex(),U.list=H(U.list).replace(/bull/g,U.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+U.def.source+")").getRegex(),U._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,U.html=H(U.html,"i").replace("comment",U._comment).replace("tag",U._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),U.paragraph=H(U._paragraph).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.blockquote=H(U.blockquote).replace("paragraph",U.paragraph).getRegex(),U.normal=z({},U),U.gfm=z({},U.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),U.gfm.nptable=H(U.gfm.nptable).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.gfm.table=H(U.gfm.table).replace("hr",U.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",U._tag).getRegex(),U.pedantic=z({},U.normal,{html:H("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",U._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:V,paragraph:H(U.normal._paragraph).replace("hr",U.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",U.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var K={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:V,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:V,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};K.punctuation=H(K.punctuation).replace(/punctuation/g,K._punctuation).getRegex(),K._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",K._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",K._comment=H(U._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),K.em.start=H(K.em.start).replace(/punctuation/g,K._punctuation).getRegex(),K.em.middle=H(K.em.middle).replace(/punctuation/g,K._punctuation).replace(/overlapSkip/g,K._overlapSkip).getRegex(),K.em.endAst=H(K.em.endAst,"g").replace(/punctuation/g,K._punctuation).getRegex(),K.em.endUnd=H(K.em.endUnd,"g").replace(/punctuation/g,K._punctuation).getRegex(),K.strong.start=H(K.strong.start).replace(/punctuation/g,K._punctuation).getRegex(),K.strong.middle=H(K.strong.middle).replace(/punctuation/g,K._punctuation).replace(/blockSkip/g,K._blockSkip).getRegex(),K.strong.endAst=H(K.strong.endAst,"g").replace(/punctuation/g,K._punctuation).getRegex(),K.strong.endUnd=H(K.strong.endUnd,"g").replace(/punctuation/g,K._punctuation).getRegex(),K.blockSkip=H(K._blockSkip,"g").getRegex(),K.overlapSkip=H(K._overlapSkip,"g").getRegex(),K._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,K._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,K._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,K.autolink=H(K.autolink).replace("scheme",K._scheme).replace("email",K._email).getRegex(),K._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,K.tag=H(K.tag).replace("comment",K._comment).replace("attribute",K._attribute).getRegex(),K._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,K._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,K._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,K.link=H(K.link).replace("label",K._label).replace("href",K._href).replace("title",K._title).getRegex(),K.reflink=H(K.reflink).replace("label",K._label).getRegex(),K.reflinkSearch=H(K.reflinkSearch,"g").replace("reflink",K.reflink).replace("nolink",K.nolink).getRegex(),K.normal=z({},K),K.pedantic=z({},K.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:H(/^!?\[(label)\]\((.*?)\)/).replace("label",K._label).getRegex(),reflink:H(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",K._label).getRegex()}),K.gfm=z({},K.normal,{escape:H(K.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),K.gfm.url=H(K.gfm.url,"i").replace("email",K.gfm._extended_email).getRegex(),K.breaks=z({},K.gfm,{br:H(K.br).replace("{2,}","*").getRegex(),text:H(K.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var q={block:U,inline:K},$=r.defaults,j=q.block,G=q.inline;function Z(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Y(e){var t,i,n="",o=e.length;for(t=0;t<o;t++)i=e.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}var J=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||$,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:j.normal,inline:G.normal};this.options.pedantic?(t.block=j.pedantic,t.inline=G.pedantic):this.options.gfm&&(t.block=j.gfm,this.options.breaks?t.inline=G.breaks:t.inline=G.gfm),this.tokenizer.rules=t}e.lex=function(t,i){return new e(i).lex(t)};var i=e.prototype;return i.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(e,t,i){var n,o,s,r;for(void 0===t&&(t=[]),void 0===i&&(i=!0),e=e.replace(/^ +$/gm,"");e;)if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),n.type&&t.push(n);else if(n=this.tokenizer.code(e,t))e=e.substring(n.raw.length),n.type?t.push(n):((r=t[t.length-1]).raw+="\n"+n.raw,r.text+="\n"+n.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.nptable(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),n.tokens=this.blockTokens(n.text,[],i),t.push(n);else if(n=this.tokenizer.list(e)){for(e=e.substring(n.raw.length),s=n.items.length,o=0;o<s;o++)n.items[o].tokens=this.blockTokens(n.items[o].text,[],!1);t.push(n)}else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(i&&(n=this.tokenizer.def(e)))e=e.substring(n.raw.length),this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else if(i&&(n=this.tokenizer.paragraph(e)))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.text(e,t))e=e.substring(n.raw.length),n.type?t.push(n):((r=t[t.length-1]).raw+="\n"+n.raw,r.text+="\n"+n.text);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},i.inline=function(e){var t,i,n,o,s,r,a=e.length;for(t=0;t<a;t++)switch((r=e[t]).type){case"paragraph":case"text":case"heading":r.tokens=[],this.inlineTokens(r.text,r.tokens);break;case"table":for(r.tokens={header:[],cells:[]},o=r.header.length,i=0;i<o;i++)r.tokens.header[i]=[],this.inlineTokens(r.header[i],r.tokens.header[i]);for(o=r.cells.length,i=0;i<o;i++)for(s=r.cells[i],r.tokens.cells[i]=[],n=0;n<s.length;n++)r.tokens.cells[i][n]=[],this.inlineTokens(s[n],r.tokens.cells[i][n]);break;case"blockquote":this.inline(r.tokens);break;case"list":for(o=r.items.length,i=0;i<o;i++)this.inline(r.items[i].tokens)}return e},i.inlineTokens=function(e,t,i,n,o){var s;void 0===t&&(t=[]),void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===o&&(o="");var r,a=e;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(r=this.tokenizer.rules.inline.reflinkSearch.exec(a));)l.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(r=this.tokenizer.rules.inline.blockSkip.exec(a));)a=a.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(s=this.tokenizer.escape(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.tag(e,i,n))e=e.substring(s.raw.length),i=s.inLink,n=s.inRawBlock,t.push(s);else if(s=this.tokenizer.link(e))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,n)),t.push(s);else if(s=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(s.raw.length),"link"===s.type&&(s.tokens=this.inlineTokens(s.text,[],!0,n)),t.push(s);else if(s=this.tokenizer.strong(e,a,o))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],i,n),t.push(s);else if(s=this.tokenizer.em(e,a,o))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],i,n),t.push(s);else if(s=this.tokenizer.codespan(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.br(e))e=e.substring(s.raw.length),t.push(s);else if(s=this.tokenizer.del(e))e=e.substring(s.raw.length),s.tokens=this.inlineTokens(s.text,[],i,n),t.push(s);else if(s=this.tokenizer.autolink(e,Y))e=e.substring(s.raw.length),t.push(s);else if(i||!(s=this.tokenizer.url(e,Y))){if(s=this.tokenizer.inlineText(e,n,Z))e=e.substring(s.raw.length),o=s.raw.slice(-1),t.push(s);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(s.raw.length),t.push(s);return t},t(e,null,[{key:"rules",get:function(){return{block:j,inline:G}}}]),e}(),Q=r.defaults,X=I.cleanUrl,ee=I.escape,te=function(){function e(e){this.options=e||Q}var t=e.prototype;return t.code=function(e,t,i){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,n);null!=o&&o!==e&&(i=!0,e=o)}return n?'<pre><code class="'+this.options.langPrefix+ee(n,!0)+'">'+(i?e:ee(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:ee(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,i){var n=t?"ol":"ul";return"<"+n+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,i){if(null===(e=X(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<a href="'+ee(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>"},t.image=function(e,t,i){if(null===(e=X(this.options.sanitize,this.options.baseUrl,e)))return i;var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ie=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,i){return""+i},t.image=function(e,t,i){return""+i},t.br=function(){return""},e}(),ne=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var i=e,n=0;if(this.seen.hasOwnProperty(i)){n=this.seen[e];do{i=e+"-"+ ++n}while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=n,this.seen[i]=0),i},t.slug=function(e,t){void 0===t&&(t={});var i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)},e}(),oe=r.defaults,se=I.unescape,re=function(){function e(e){this.options=e||oe,this.options.renderer=this.options.renderer||new te,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ie,this.slugger=new ne}e.parse=function(t,i){return new e(i).parse(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var i,n,o,s,r,a,l,d,c,h,u,g,m,p,f,b,_,v,w="",C=e.length;for(i=0;i<C;i++)switch((h=e[i]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,se(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(d="",l="",s=h.header.length,n=0;n<s;n++)l+=this.renderer.tablecell(this.parseInline(h.tokens.header[n]),{header:!0,align:h.align[n]});for(d+=this.renderer.tablerow(l),c="",s=h.cells.length,n=0;n<s;n++){for(l="",r=(a=h.tokens.cells[n]).length,o=0;o<r;o++)l+=this.renderer.tablecell(this.parseInline(a[o]),{header:!1,align:h.align[o]});c+=this.renderer.tablerow(l)}w+=this.renderer.table(d,c);continue;case"blockquote":c=this.parse(h.tokens),w+=this.renderer.blockquote(c);continue;case"list":for(u=h.ordered,g=h.start,m=h.loose,s=h.items.length,c="",n=0;n<s;n++)b=(f=h.items[n]).checked,_=f.task,p="",f.task&&(v=this.renderer.checkbox(b),m?f.tokens.length>0&&"text"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v}):p+=v),p+=this.parse(f.tokens,m),c+=this.renderer.listitem(p,_,b);w+=this.renderer.list(c,u,g);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;i+1<C&&"text"===e[i+1].type;)c+="\n"+((h=e[++i]).tokens?this.parseInline(h.tokens):h.text);w+=t?this.renderer.paragraph(c):c;continue;default:var y='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(y);throw new Error(y)}return w},t.parseInline=function(e,t){t=t||this.renderer;var i,n,o="",s=e.length;for(i=0;i<s;i++)switch((n=e[i]).type){case"escape":o+=t.text(n.text);break;case"html":o+=t.html(n.text);break;case"link":o+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":o+=t.image(n.href,n.title,n.text);break;case"strong":o+=t.strong(this.parseInline(n.tokens,t));break;case"em":o+=t.em(this.parseInline(n.tokens,t));break;case"codespan":o+=t.codespan(n.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(n.tokens,t));break;case"text":o+=t.text(n.text);break;default:var r='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(r);throw new Error(r)}return o},e}(),ae=I.merge,de=I.checkSanitizeDeprecation,ce=I.escape,he=r.getDefaults,ue=r.changeDefaults,ge=r.defaults;function me(e,t,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(i=t,t=null),t=ae({},me.defaults,t||{}),de(t),i){var n,o=t.highlight;try{n=J.lex(e,t)}catch(le){return i(le)}var s=function(e){var s;if(!e)try{s=re.parse(n,t)}catch(le){e=le}return t.highlight=o,e?i(e):i(null,s)};if(!o||o.length<3)return s();if(delete t.highlight,!n.length)return s();var r=0;return me.walkTokens(n,(function(e){"code"===e.type&&(r++,setTimeout((function(){o(e.text,e.lang,(function(t,i){if(t)return s(t);null!=i&&i!==e.text&&(e.text=i,e.escaped=!0),0==--r&&s()}))}),0))})),void(0===r&&s())}try{var a=J.lex(e,t);return t.walkTokens&&me.walkTokens(a,t.walkTokens),re.parse(a,t)}catch(le){if(le.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ce(le.message+"",!0)+"</pre>";throw le}}return me.options=me.setOptions=function(e){return ae(me.defaults,e),ue(me.defaults),me},me.getDefaults=he,me.defaults=ge,me.use=function(e){var t=ae({},e);if(e.renderer&&function(){var i=me.defaults.renderer||new te,n=function(t){var n=i[t];i[t]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.renderer[t].apply(i,s);return!1===a&&(a=n.apply(i,s)),a}};for(var o in e.renderer)n(o);t.renderer=i}(),e.tokenizer&&function(){var i=me.defaults.tokenizer||new B,n=function(t){var n=i[t];i[t]=function(){for(var o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];var a=e.tokenizer[t].apply(i,s);return!1===a&&(a=n.apply(i,s)),a}};for(var o in e.tokenizer)n(o);t.tokenizer=i}(),e.walkTokens){var i=me.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),i&&i(t)}}me.setOptions(t)},me.walkTokens=function(e,t){for(var i,n=o(e);!(i=n()).done;){var s=i.value;switch(t(s),s.type){case"table":for(var r,a=o(s.tokens.header);!(r=a()).done;){var l=r.value;me.walkTokens(l,t)}for(var d,c=o(s.tokens.cells);!(d=c()).done;)for(var h,u=o(d.value);!(h=u()).done;){var g=h.value;me.walkTokens(g,t)}break;case"list":me.walkTokens(s.items,t);break;default:s.tokens&&me.walkTokens(s.tokens,t)}}},me.Parser=re,me.parser=re.parse,me.Renderer=te,me.TextRenderer=ie,me.Lexer=J,me.lexer=J.lex,me.Tokenizer=B,me.Slugger=ne,me.parse=me,me}(),function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[r]={exports:{}};t[r][0].call(c.exports,(function(e){return o(t[r][1][e]||e)}),c,c.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){var n=e("./toMap");t.exports={uris:n(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,i){t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,i){var n=e("./toMap");t.exports={voids:n(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,i){e("he");var n=e("assignment"),o=e("./parser"),s=e("./sanitizer"),r=e("./defaults");function a(e,t,i){var a=[],l=!0===i?t:n({},r,t),d=s(a,l);return o(e,d),a.join("")}a.defaults=r,t.exports=a,_K=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,i){t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,i){t.exports=function e(t){for(var i,n,o=Array.prototype.slice.call(arguments,1);o.length;)for(n in i=o.shift())i.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(t[n])?t[n]=e(t[n],i[n]):t[n]=i[n]);return t}},{}],7:[function(e,t,i){var n=e("he"),o=e("./lowercase");e("./attributes");var s=e("./elements"),r=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,c=/^<\s*\//;t.exports=function(e,t){for(var i,h=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),u=e;e;)g();function g(){i=!0,function(){"\x3c!--"===e.substr(0,4)?(n=e.indexOf("--\x3e"))>=0&&(t.comment&&t.comment(e.substring(4,n)),e=e.substring(n+3),i=!1):c.test(e)?m(a,f):d.test(e)&&m(r,p);var n;!function(){if(!i)return;var n,o=e.indexOf("<");o>=0?(n=e.substring(0,o),e=e.substring(o)):(n=e,e="");t.chars&&t.chars(n)}()}();var n=e===u;u=e,n&&(e="")}function m(t,n){var o=e.match(t);o&&(e=e.substring(o[0].length),o[0].replace(t,n),i=!1)}function p(e,i,r,a){var d={},c=o(i),u=s.voids[c]||!!a;r.replace(l,(function(e,t,i,o,s){d[t]=void 0===i&&void 0===o&&void 0===s?void 0:n.decode(i||o||s||"")})),u||h.push(c),t.start&&t.start(c,d,u)}function f(e,i){var n,s=0,r=o(i);if(r)for(s=h.length-1;s>=0&&h[s]!==r;s--);if(s>=0){for(n=h.length-1;n>=s;n--)t.end&&t.end(h[n]);h.length=s}}f()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,i){var n=e("he"),o=e("./lowercase"),s=e("./attributes"),r=e("./elements");t.exports=function(e,t){var i,a=t||{};return h(),{start:function(e,t,r){var c=o(e);if(i.ignoring)return void d(c);if(-1===(a.allowedTags||[]).indexOf(c))return void d(c);if(a.filter&&!a.filter({tag:c,attrs:t}))return void d(c);l("<"),l(c),Object.keys(t).forEach((function(e){var i=t[e],r=(a.allowedClasses||{})[c]||[],d=(a.allowedAttributes||{})[c]||[];d=d.concat((a.allowedAttributes||{})["*"]||[]);var h=o(e);("class"===h&&-1===d.indexOf(h)?(i=i.split(" ").filter((function(e){return r&&-1!==r.indexOf(e)})).join(" ").trim()).length:-1!==d.indexOf(h)&&(!0!==s.uris[h]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var i=e.indexOf(":");if(-1===i)return!0;var n=e.indexOf("?");if(-1!==n&&i>n)return!0;var o=e.indexOf("#");return-1!==o&&i>o||a.allowedSchemes.some(s);function s(t){return 0===e.indexOf(t+":")}}(i)))&&(l(" "),l(e),"string"==typeof i&&(l('="'),l(n.encode(i)),l('"')))})),l(r?"/>":">")},end:function(e){var t=o(e);-1!==(a.allowedTags||[]).indexOf(t)&&!1===i.ignoring?(l("</"),l(t),l(">")):c(t)},chars:function(e){!1===i.ignoring&&l(a.transformText?a.transformText(e):e)}};function l(t){e.push(t)}function d(e){r.voids[e]||(!1===i.ignoring?i={ignoring:e,depth:1}:i.ignoring===e&&i.depth++)}function c(e){i.ignoring===e&&--i.depth<=0&&h()}function h(){i={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,i){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},s=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,r=/[&<>"']/g;function a(e){return n[e]}function l(e){return o[e]}function d(e){return null==e?"":String(e).replace(r,a)}function c(e){return null==e?"":String(e).replace(s,l)}d.options=c.options={},t.exports={encode:d,escape:d,decode:c,unescape:c,version:"1.0.0-browser"}},{}],10:[function(e,t,i){function n(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(n,{})}},{}]},{},[4]);var vK=_K;function wK(e,t={},i={}){var n;const o=gA(t),s=function(t){let i;try{i=Oa(decodeURIComponent(t))}catch(le){}return i?(i=Dl(i,(t=>e.uris&&e.uris[t]?Di.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(i))):t},r=function(t,i){const n=e.uris&&e.uris[t];if(!n)return t;let o=Di.revive(n);return Di.parse(t).toString()===o.toString()?t:i?Mr(o).toString(!0):(o.query&&(o=o.with({query:s(o.query)})),o.toString())};let a;const l=new Promise((e=>a=e)),d=new bK.exports.Renderer;d.image=(e,i,n)=>{let o=[],s=[];if(e){({href:e,dimensions:o}=function(e){const t=[],i=e.split("|").map((e=>e.trim()));e=i[0];const n=i[1];if(n){const e=/height=(\d+)/.exec(n),i=/width=(\d+)/.exec(n),o=e?e[1]:"",s=i?i[1]:"",r=isFinite(parseInt(s)),a=isFinite(parseInt(o));r&&t.push(`width="${s}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}(e)),e=r(e,!0);try{const i=Di.parse(e);t.baseUrl&&i.scheme===bs.file&&(e=ja(t.baseUrl,e).toString())}catch(a){}s.push(`src="${e}"`)}return n&&s.push(`alt="${n}"`),i&&s.push(`title="${i}"`),o.length&&(s=s.concat(o)),"<img "+s.join(" ")+">"},d.link=(i,n,o)=>{if(i===o&&(o=mF(o)),i=r(i,!1),t.baseUrl){/^\w[\w\d+.-]*:/.test(i)||(i=ja(t.baseUrl,i).toString())}return n=mF(n),!(i=mF(i))||i.match(/^data:|javascript:/i)||i.match(/^command:/i)&&!e.isTrusted||i.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:`<a href="#" data-href="${i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${n||i}">${o}</a>`},d.paragraph=t=>`<p>${e.supportThemeIcons?yc(t):t}</p>`,t.codeBlockRenderer&&(d.code=(e,i)=>{const n=t.codeBlockRenderer(i,e),s=JR.nextId(),r=Promise.all([n,l]).then((e=>{const t=e[0],i=o.querySelector(`div[data-code="${s}"]`);i&&(i.innerHTML=t)})).catch((e=>{}));return t.codeBlockRenderCallback&&r.then(t.codeBlockRenderCallback),`<div class="code" data-code="${s}">${Fr(e)}</div>`});const c=t.actionHandler;c&&[pr.CLICK,pr.AUXCLICK].forEach((e=>{c.disposeables.add(Ms(o,e,(e=>{const t=new Wo(e);if(!t.leftButton&&!t.middleButton)return;let i=t.target;if("A"===i.tagName||(i=i.parentElement,i&&"A"===i.tagName))try{const e=i.dataset.href;e&&c.callback(e,t)}catch(n){ft(n)}finally{t.preventDefault()}})))})),i.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^<]+>)|(<\/\s*span>)$/):void 0)?t:"",i.sanitize=!0,i.renderer=d;const h=[bs.http,bs.https,bs.mailto,bs.data,bs.file,bs.vscodeRemote,bs.vscodeRemoteResource];e.isTrusted&&h.push(bs.command);let u=null!==(n=e.value)&&void 0!==n?n:"";u.length>1e5&&(u=`${u.substr(0,1e5)}…`);const g=bK.exports.parse(e.supportThemeIcons?u.replace(wc,(e=>`\\${e}`)):u,i);return o.innerHTML=vK(g,{allowedSchemes:h,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:function(t){return"span"!==t.tag||!e.isTrusted||1!==Object.keys(t.attrs).length||(t.attrs.style?!!t.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!!t.attrs.class&&!!t.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-animation-[a-z\-]+)?$/))}}),a(),o}var CK=function(e,t){return function(i,n){t(i,n,e)}};let yK=class extends It{constructor(e,t,i=pl){super(),this._editor=e,this._modeService=t,this._openerService=i,this._onDidRenderCodeBlock=this._register(new Pt),this.onDidRenderCodeBlock=this._onDidRenderCodeBlock.event}getOptions(e){return{codeBlockRenderer:(e,t)=>{let i=null;if(e)i=this._modeService.getModeIdForLanguageName(e);else{const e=this._editor.getModel();e&&(i=e.getLanguageIdentifier().language)}return this._modeService.triggerMode(i||""),Promise.resolve(!0).then((e=>{const n=ih.getPromise(i||"");return n?n.then((e=>NL(t,e))):NL(t,void 0)})).then((e=>`<span style="font-family: ${this._editor.getOption(36).fontFamily}">${e}</span>`))},codeBlockRenderCallback:()=>this._onDidRenderCodeBlock.fire(),actionHandler:{callback:e=>{this._openerService.open(e,{fromUserGesture:!0}).catch(ft)},disposeables:e}}}render(e){const t=new Tt;let i;return i=e?wK(e,this.getOptions(t)):document.createElement("span"),{element:i,dispose:()=>t.dispose()}}};yK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([CK(1,FD),CK(2,ho(ml))],yK);const SK=xr;class kK{constructor(e,t,i){this.range=e,this.color=t,this.provider=i}}class xK{constructor(e,t){this.range=e,this.marker=t}}class LK{constructor(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}setRange(e){this._range=e,this._result=[]}clearResult(){this._result=[]}computeAsync(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);const t=this._editor.getModel();return Fc.has(t)?hK(t,new Bi(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])}computeSync(){if(!this._editor.hasModel()||!this._range)return[];const e=this._editor.getModel(),t=this._range.startLineNumber;if(t>this._editor.getModel().getLineCount())return[];const i=LW.get(this._editor),n=e.getLineMaxColumn(t),o=this._editor.getLineDecorations(t);let s=!1;const r=this._range;return ns(o.map((o=>{const a=o.range.startLineNumber===t?o.range.startColumn:1,l=o.range.endLineNumber===t?o.range.endColumn:n;if(a>r.startColumn||r.endColumn>l)return null;const d=new Vi(r.startLineNumber,a,r.startLineNumber,l),c=this._markerDecorationsService.getMarker(e,o);if(c)return new xK(d,c);const h=i.getColorData(o.range.getStartPosition());if(!s&&h){s=!0;const{color:e,range:t}=h.colorInfo;return new kK(t,e,h.provider)}if(cF(o.options.hoverMessage))return null;return{contents:o.options.hoverMessage?fs(o.options.hoverMessage):[],range:d}})))}onResult(e,t){this._result=t?e.concat(this._result.sort(((e,t)=>e instanceof kK?-1:t instanceof kK?1:0))):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){return this._result.slice(0).concat([this._getLoadingMessage()])}_getLoadingMessage(){return{range:this._range,contents:[(new dF).appendText(ue("vs/editor/contrib/hover/modesContentHover","modesContentHover.loading","Loading..."))]}}}const EK={type:2,filter:{include:OF.QuickFix}};class DK extends pK{constructor(e,t,i,n,o,s,r=pl){super(DK.ID,e,t,n),this._themeService=o,this._modeService=s,this._openerService=r,this.renderDisposable=this._register(new Mt),this._messages=[],this._lastRange=null,this._computer=new LK(this._editor,i),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new uK(this._computer,(e=>this._withResult(e,!0)),null,(e=>this._withResult(e,!1)),this._editor.getOption(46).delay),this._register(As(this.getDomNode(),pr.FOCUS,(()=>{this._colorPicker&&Ls(this.getDomNode(),"colorpicker-hover")}))),this._register(As(this.getDomNode(),pr.BLUR,(()=>{Ds(this.getDomNode(),"colorpicker-hover")}))),this._register(e.onDidChangeConfiguration((e=>{this._hoverOperation.setHoverTime(this._editor.getOption(46).delay)}))),this._register(ih.onDidChange((e=>{this.isVisible&&this._lastRange&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastRange,this._messages))})))}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAt(e,t,i){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){let t=[];for(let i=0,n=this._messages.length;i<n;i++){const n=this._messages[i],o=n.range;o&&o.startColumn<=e.startColumn&&o.endColumn>=e.endColumn&&t.push(n)}if(t.length>0){if(function(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(let i=0;i<e.length;i++){const n=e[i],o=t[i];if(n instanceof xK&&o instanceof xK)return sR.makeKey(n.marker)===sR.makeKey(o.marker);if(n instanceof kK||o instanceof kK)return!1;if(n instanceof xK||o instanceof xK)return!1;if(!uF(n.contents,o.contents))return!1}return!0}(t,this._messages))return;this._renderMessages(e,t)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=i,this._hoverOperation.start(t)}}hide(){this._lastRange=null,this._hoverOperation.cancel(),super.hide(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}_withResult(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()}_renderMessages(e,t){this.renderDisposable.dispose(),this._colorPicker=null;let i=1073741824,n=t[0].range?Vi.lift(t[0].range):null,o=document.createDocumentFragment(),s=!0,r=!1;const a=new Tt,l=[];if(t.forEach((e=>{if(e.range)if(i=Math.min(i,e.range.startColumn),n=n?Vi.plusRange(n,e.range):Vi.lift(e.range),e instanceof kK){r=!0;const{red:t,green:i,blue:n,alpha:s}=e.color,l=new vv(Math.round(255*t),Math.round(255*i),Math.round(255*n),s),d=new yv(l);if(!this._editor.hasModel())return;const c=this._editor.getModel();let h=new Vi(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),u={range:e.range,color:e.color};const g=new iK(d,[],0),m=new cK(o,g,this._editor.getOption(115),this._themeService);kW(c,u,e.provider,Ht.None).then((t=>{if(g.colorPresentations=t||[],!this._editor.hasModel())return;const i=this._editor.getModel().getValueInRange(e.range);g.guessColorPresentation(d,i);const n=()=>{let e,t;g.presentation.textEdit?(e=[g.presentation.textEdit],t=new Vi(g.presentation.textEdit.range.startLineNumber,g.presentation.textEdit.range.startColumn,g.presentation.textEdit.range.endLineNumber,g.presentation.textEdit.range.endColumn),t=t.setEndPosition(t.endLineNumber,t.startColumn+g.presentation.textEdit.text.length)):(e=[{identifier:null,range:h,text:g.presentation.label,forceMoveMarkers:!1}],t=h.setEndPosition(h.endLineNumber,h.startColumn+g.presentation.label.length)),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),g.presentation.additionalTextEdits&&(e=[...g.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this.hide()),this._editor.pushUndoStop(),h=t},s=t=>kW(c,{range:h,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},e.provider,Ht.None).then((e=>{g.colorPresentations=e||[]})),r=g.onColorFlushed((e=>{s(e).then(n)})),l=g.onDidChangeColor(s);this._colorPicker=m,this.showAt(h.getStartPosition(),h,this._shouldFocus),this.updateContents(o),this._colorPicker.layout(),this.renderDisposable.value=Dt(r,l,m,a)}))}else e instanceof xK?(l.push(e),s=!1):e.contents.filter((e=>!cF(e))).forEach((e=>{const t=SK("div.hover-row.markdown-hover"),i=vr(t,SK("div.hover-contents")),n=a.add(new yK(this._editor,this._modeService,this._openerService));a.add(n.onDidRenderCodeBlock((()=>{i.className="hover-contents code-hover-contents",this._hover.onContentsChanged()})));const r=a.add(n.render(e));i.appendChild(r.element),o.appendChild(t),s=!1}))})),l.length){l.forEach((e=>o.appendChild(this.renderMarkerHover(e))));const e=1===l.length?l[0]:l.sort(((e,t)=>oR.compare(e.marker.severity,t.marker.severity)))[0];o.appendChild(this.renderMarkerStatusbar(e))}r||s||(this.showAt(new Bi(e.startLineNumber,i),n,this._shouldFocus),this.updateContents(o)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,n?[{range:n,options:DK._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}renderMarkerHover(e){const t=SK("div.hover-row"),i=vr(t,SK("div.marker.hover-contents")),{source:n,message:o,code:s,relatedInformation:r}=e.marker;this._editor.applyFontInfo(i);const a=vr(i,SK("span"));if(a.style.whiteSpace="pre-wrap",a.innerText=o,n||s)if(s&&"string"!=typeof s){const e=SK("span");if(n){vr(e,SK("span")).innerText=n}this._codeLink=vr(e,SK("a.code-link")),this._codeLink.setAttribute("href",s.target.toString()),this._codeLink.onclick=e=>{this._openerService.open(s.target),e.preventDefault(),e.stopPropagation()};vr(this._codeLink,SK("span")).innerText=s.value;const t=vr(i,e);t.style.opacity="0.6",t.style.paddingLeft="6px"}else{const e=vr(i,SK("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=n&&s?`${n}(${s})`:n||`(${s})`}if(ss(r))for(const{message:l,resource:d,startLineNumber:c,startColumn:h}of r){const e=vr(i,SK("div"));e.style.marginTop="8px";const t=vr(e,SK("a"));t.innerText=`${za(d)}(${c}, ${h}): `,t.style.cursor="pointer",t.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(d.with({fragment:`${c},${h}`}),{fromUserGesture:!0}).catch(ft)};const n=vr(e,SK("span"));n.innerText=l,this._editor.applyFontInfo(n)}return t}renderMarkerStatusbar(e){const t=SK("div.hover-row.status-bar"),i=new Tt,n=vr(t,SK("div.actions"));if(e.marker.severity!==oR.Error&&e.marker.severity!==oR.Warning&&e.marker.severity!==oR.Info||i.add(this._renderAction(n,{label:ue("vs/editor/contrib/hover/modesContentHover","peek problem","Peek Problem"),commandId:XU.ID,run:()=>{this.hide(),JU.get(this._editor).showAtMarker(e.marker),this._editor.focus()}})),!this._editor.getOption(72)){const t=vr(n,SK("div"));t.style.opacity="0",t.style.transition="opacity 0.2s",setTimeout((()=>t.style.opacity="1"),200),t.textContent=ue("vs/editor/contrib/hover/modesContentHover","checkingForQuickFixes","Checking for quick fixes..."),i.add(Nt((()=>t.remove())));const o=this.getCodeActions(e.marker);i.add(Nt((()=>o.cancel()))),o.then((e=>{if(t.style.transition="",t.style.opacity="1",!e.validActions.length)return e.dispose(),void(t.textContent=ue("vs/editor/contrib/hover/modesContentHover","noQuickFixes","No quick fixes available"));t.remove();let o=!1;i.add(Nt((()=>{o||e.dispose()}))),i.add(this._renderAction(n,{label:ue("vs/editor/contrib/hover/modesContentHover","quick fixes","Quick Fix..."),commandId:cW.Id,run:t=>{o=!0;const i=aW.get(this._editor),n=Ys(t);this.hide(),i.showCodeActions(EK,e,{x:n.left+6,y:n.top+n.height+6})}}))}))}return this.renderDisposable.value=i,t}getCodeActions(e){return Vo((t=>HF(this._editor.getModel(),new Vi(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),EK,lD.None,t)))}}DK.ID="editor.contrib.modesContentHoverWidget",DK._DECORATION_OPTIONS=Wv.register({className:"hoverHighlight"}),Sb(((e,t)=>{const i=e.getColor(Fw);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)}));class NK{constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const t=n.options.glyphMarginHoverMessage;t&&!cF(t)&&i.push(...fs(t).map(e))}return i}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}}class TK extends fK{constructor(e,t,i=pl){super(TK.ID,e),this._renderDisposeables=this._register(new Tt),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new yK(this._editor,t,i)),this._computer=new NK(this._editor),this._hoverOperation=new uK(this._computer,(e=>this._withResult(e)),void 0,(e=>this._withResult(e)),300)}dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const n of t){const e=this._markdownRenderer.render(n.value);this._renderDisposeables.add(e),i.appendChild(xr("div.hover-row",void 0,e.element))}this.updateContents(i),this.showAt(e)}}TK.ID="editor.contrib.modesGlyphHoverWidget";var IK=function(e,t){return function(i,n){t(i,n,e)}};let MK=class e{constructor(e,t,i,n,o,s,r){this._editor=e,this._openerService=t,this._modeService=i,this._markerDecorationsService=n,this._keybindingService=o,this._themeService=s,this._toUnhook=new Tt,this._contentWidget=new Mt,this._glyphWidget=new Mt,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(46)&&(this._hideWidgets(),this._unhookEvents(),this._hookEvents())})),this._hoverVisibleKey=QS.hoverVisible.bindTo(r)}get contentWidget(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value}get glyphWidget(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value}static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(46);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged())))):(this._toUnhook.add(this._editor.onMouseMove(e)),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;9!==t||e.target.detail!==DK.ID?12===t&&e.target.detail===TK.ID||(12!==t&&e.target.detail!==TK.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){let t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible()||this._isHoverSticky&&9===t&&e.target.detail===DK.ID||this._isHoverSticky&&12===t&&e.target.detail===TK.ID)){if(7===t){const i=this._editor.getOption(36).typicalHalfwidthCharacterWidth/2,n=e.target.detail;n&&!n.isAfterLines&&"number"==typeof n.horizontalDistanceToText&&n.horizontalDistanceToText<i&&(t=6)}6===t?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):2===t?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())}_createHoverWidgets(){this._contentWidget.value=new DK(this._editor,this._hoverVisibleKey,this._markerDecorationsService,this._keybindingService,this._themeService,this._modeService,this._openerService),this._glyphWidget.value=new TK(this._editor,this._modeService,this._openerService)}showContentHover(e,t,i){this.contentWidget.startShowingAt(e,t,i)}dispose(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()}};MK.ID="editor.contrib.hover",MK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([IK(1,ml),IK(2,FD),IK(3,_R),IK(4,DD),IK(5,bb),IK(6,gf)],MK);function RK(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function AK(e,t,i){e=e<0?0:e;let n="";if(!i){let i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}function OK(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let o=zh.getIndentationRules(e.getLanguageIdentifier().id);if(!o)return[];for(i=Math.min(i,e.getLineCount());t<=i&&o.unIndentedLinePattern;){let i=e.getLineContent(t);if(!o.unIndentedLinePattern.test(i))break;t++}if(t>i-1)return[];const{tabSize:s,indentSize:r,insertSpaces:a}=e.getOptions(),l=(e,t)=>(t=t||1,GS.shiftIndent(e,e.length+t,s,r,a)),d=(e,t)=>(t=t||1,GS.unshiftIndent(e,e.length+t,s,r,a));let c,h=[],u=e.getLineContent(t),g=u;if(null!=n){c=n;let e=$r(u);g=c+u.substring(e.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(g)&&(c=d(c),g=c+u.substring(e.length)),u!==g&&h.push(Sm.replace(new Hi(t,1,t,e.length+1),Mv.normalizeIndentation(c,r,a)))}else c=$r(u);let m=c;o.increaseIndentPattern&&o.increaseIndentPattern.test(g)?(m=l(m),c=l(c)):o.indentNextLinePattern&&o.indentNextLinePattern.test(g)&&(m=l(m));for(let p=++t;p<=i;p++){let t=e.getLineContent(p),i=$r(t),n=m+t.substring(i.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(n)&&(m=d(m),c=d(c)),i!==m&&h.push(Sm.replace(new Hi(p,1,p,i.length+1),Mv.normalizeIndentation(m,r,a))),o.unIndentedLinePattern&&o.unIndentedLinePattern.test(t)||(o.increaseIndentPattern&&o.increaseIndentPattern.test(n)?(c=l(c),m=c):m=o.indentNextLinePattern&&o.indentNextLinePattern.test(n)?l(m):c)}return h}Pf(MK.ID,MK),Af(class extends Df{constructor(){super({id:"editor.action.showHover",label:ue("vs/editor/contrib/hover/hover",{key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;let i=MK.get(t);if(!i)return;const n=t.getPosition(),o=new Vi(n.lineNumber,n.column,n.lineNumber,n.column),s=2===t.getOption(2);i.showContentHover(o,1,s)}}),Af(class extends Df{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:ue("vs/editor/contrib/hover/hover",{key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){let i=MK.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new Vi(n.lineNumber,n.column,n.lineNumber,n.column),s=IU.get(t).startFindDefinitionFromCursor(n);s?s.then((()=>{i.showContentHover(o,1,!0)})):i.showContentHover(o,1,!0)}}),Sb(((e,t)=>{const i=e.getColor(UC);i&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${i}; }`);const n=e.getColor(KC);n&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const o=e.getColor($C);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const s=e.getColor(Fw);s&&t.addRule(`.monaco-editor .monaco-hover a { color: ${s}; }`);const r=e.getColor(qC);r&&t.addRule(`.monaco-editor .monaco-hover { color: ${r}; }`);const a=e.getColor(jC);a&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${a}; }`);const l=e.getColor(Ww);l&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${l}; }`)}));class PK extends Df{constructor(){super({id:PK.ID,label:ue("vs/editor/contrib/indentation/indentation","indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:QS.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new qK(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}PK.ID="editor.action.indentationToSpaces";class FK extends Df{constructor(){super({id:FK.ID,label:ue("vs/editor/contrib/indentation/indentation","indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:QS.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=i.getOptions(),o=t.getSelection();if(!o)return;const s=new $K(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}FK.ID="editor.action.indentationToTabs";class WK extends Df{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const i=e.get(WA),n=e.get(wd);let o=t.getModel();if(!o)return;let s=n.getCreationOptions(o.getLanguageIdentifier().language,o.uri,o.isForSimpleWidget);const r=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?ue("vs/editor/contrib/indentation/indentation","configuredTabSize","Configured Tab Size"):void 0}))),a=Math.min(o.getOptions().tabSize-1,7);setTimeout((()=>{i.pick(r,{placeHolder:ue("vs/editor/contrib/indentation/indentation",{key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:r[a]}).then((e=>{e&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}}class BK extends WK{constructor(){super(!1,{id:BK.ID,label:ue("vs/editor/contrib/indentation/indentation","indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}BK.ID="editor.action.indentUsingTabs";class VK extends WK{constructor(){super(!0,{id:VK.ID,label:ue("vs/editor/contrib/indentation/indentation","indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}VK.ID="editor.action.indentUsingSpaces";class HK extends Df{constructor(){super({id:HK.ID,label:ue("vs/editor/contrib/indentation/indentation","detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(wd);let n=t.getModel();if(!n)return;let o=i.getCreationOptions(n.getLanguageIdentifier().language,n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}HK.ID="editor.action.detectIndentation";class zK{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let i of e)i.range&&"string"==typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(let n of this._edits)t.addEditOperation(Vi.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class UK{constructor(e){this.callOnDispose=new Tt,this.callOnModel=new Tt,this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(8)<4||this.editor.getOption(40)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(8),{tabSize:o,indentSize:s,insertSpaces:r}=i.getOptions();this.editor.pushUndoStop();let a=[],l={shiftIndent:e=>GS.shiftIndent(e,e.length+1,o,s,r),unshiftIndent:e=>GS.unshiftIndent(e,e.length+1,o,s,r)},d=e.startLineNumber;for(;d<=e.endLineNumber&&this.shouldIgnoreLine(i,d);)d++;if(d>e.endLineNumber)return;let c=i.getLineContent(d);if(!/\S/.test(c.substring(0,e.startColumn-1))){let e=zh.getGoodIndentForLine(n,i,i.getLanguageIdentifier().id,d,l);if(null!==e){let t=$r(c),n=RK(e,o);if(n!==RK(t,o)){let e=AK(n,o,r);a.push({range:new Vi(d,1,d,t.length+1),text:e}),c=e+c.substr(t.length)}else{let e=zh.getIndentMetadata(i,d);if(0===e||8===e)return}}}const h=d;for(;d<e.endLineNumber&&!/\S/.test(i.getLineContent(d+1));)d++;if(d!==e.endLineNumber){let t={getLineTokens:e=>i.getLineTokens(e),getLanguageIdentifier:()=>i.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t),getLineContent:e=>e===h?c:i.getLineContent(e)},s=zh.getGoodIndentForLine(n,t,i.getLanguageIdentifier().id,d+1,l);if(null!==s){let t=RK(s,o),n=RK($r(i.getLineContent(d+1)),o);if(t!==n){let s=t-n;for(let t=d+1;t<=e.endLineNumber;t++){let e=$r(i.getLineContent(t)),n=AK(RK(e,o)+s,o,r);n!==e&&a.push({range:new Vi(t,1,t,e.length+1),text:n})}}}}let u=new zK(a,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",u),this.editor.pushUndoStop()}shouldIgnoreLine(e,t){e.forceTokenization(t);let i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;let n=e.getLineTokens(t);if(n.getCount()>0){let e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}}function KK(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let r=0;r<i;r++)o+=" ";let s=new RegExp(o,"gi");for(let r=1,a=e.getLineCount();r<=a;r++){let i=e.getLineFirstNonWhitespaceColumn(r);if(0===i&&(i=e.getLineMaxColumn(r)),1===i)continue;const a=new Vi(r,1,r,i),l=e.getValueInRange(a),d=n?l.replace(/\t/gi,o):l.replace(s,"\t");t.addEditOperation(a,d)}}UK.ID="editor.contrib.autoIndentOnPaste";class qK{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),KK(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class $K{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),KK(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}Pf(UK.ID,UK),Af(PK),Af(FK),Af(BK),Af(VK),Af(HK),Af(class extends Df{constructor(){super({id:"editor.action.reindentlines",label:ue("vs/editor/contrib/indentation/indentation","editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:QS.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=OK(i,1,i.getLineCount());n.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,n),t.pushUndoStop())}}),Af(class extends Df{constructor(){super({id:"editor.action.reindentselectedlines",label:ue("vs/editor/contrib/indentation/indentation","editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:QS.writable})}run(e,t){let i=t.getModel();if(!i)return;let n=t.getSelections();if(null===n)return;let o=[];for(let s of n){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;let n=OK(i,e,t);o.push(...n)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}});class jK{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Hi(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new Hi(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}let GK=class e{constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}static get(t){return t.getContribution(e.ID)}dispose(){}run(t,i){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),o=this.editor.getModel();if(!o||!n)return;let s=n;if(s.startLineNumber!==s.endLineNumber)return;const r=new BE(this.editor,5),a=o.uri;return this.editorWorkerService.canNavigateValueSet(a)?(this.currentRequest=Vo((e=>this.editorWorkerService.navigateValueSet(a,s,i))),this.currentRequest.then((i=>{if(!i||!i.range||!i.value)return;if(!r.validate(this.editor))return;let n=Vi.lift(i.range),o=i.range,a=i.value.length-(s.endColumn-s.startColumn);o={startLineNumber:o.startLineNumber,startColumn:o.startColumn,endLineNumber:o.endLineNumber,endColumn:o.startColumn+i.value.length},a>1&&(s=new Hi(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+a-1));const l=new jK(n,s,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,l),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:o,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=Uo(350),this.decorationRemover.then((()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))).catch(ft)})).catch(ft)):Promise.resolve(void 0)}};GK.ID="editor.contrib.inPlaceReplaceController",GK.DECORATION=Wv.register({className:"valueSetReplacement"}),GK=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,ah)],GK);Pf(GK.ID,GK),Af(class extends Df{constructor(){super({id:"editor.action.inPlaceReplace.up",label:ue("vs/editor/contrib/inPlaceReplace/inPlaceReplace","InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:3154,weight:100}})}run(e,t){const i=GK.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}),Af(class extends Df{constructor(){super({id:"editor.action.inPlaceReplace.down",label:ue("vs/editor/contrib/inPlaceReplace/inPlaceReplace","InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:3156,weight:100}})}run(e,t){const i=GK.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}),Sb(((e,t)=>{const i=e.getColor(pS);i&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${i}; }`)}));class ZK{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){let i=function(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let r=t.length-2;r>=0;r--)t[r].lineNumber===t[r+1].lineNumber&&t.splice(r,1);let i=[],n=0,o=0,s=t.length;for(let r=1,a=e.getLineCount();r<=a;r++){let a=e.getLineContent(r),l=a.length+1,d=0;if(o<s&&t[o].lineNumber===r&&(d=t[o].column,o++,d===l))continue;if(0===a.length)continue;let c=jr(a),h=0;if(-1===c)h=1;else{if(c===a.length-1)continue;h=c+2}h=Math.max(d,h),i[n++]=Sm.delete(new Vi(r,h,r,l))}return i}(e,this._cursors);for(let n=0,o=i.length;n<o;n++){let e=i[n];t.addEditOperation(e.range,e.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class YK{constructor(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));let n=[];for(let s=i.startLineNumber;s<=i.endLineNumber;s++)n.push(e.getLineContent(s));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new Vi(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new Vi(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=Hi.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}class JK{constructor(e,t,i){this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){let i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:s,insertSpaces:r}=e.getOptions();let a=this.buildIndentConverter(o,s,r),l={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i),getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){let i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new Vi(1,1,1,1),null):(t.addEditOperation(new Vi(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new Vi(o,1,o,e.getLineMaxColumn(o)),null)),n=new Hi(o,1,o,1)}else{let i,s;if(this._isMovingDown){i=n.endLineNumber+1,s=e.getLineContent(i),t.addEditOperation(new Vi(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let d=s;if(this.shouldAutoIndent(e,n)){let c=this.matchEnterRule(e,a,o,i,n.startLineNumber-1);if(null!==c){let t=AK(c+RK($r(e.getLineContent(i)),o),o,r);d=t+this.trimLeft(s)}else{l.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);let t=zh.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber,a);if(null!==t){let n=$r(e.getLineContent(i)),a=RK(t,o);if(a!==RK(n,o)){let e=AK(a,o,r);d=e+this.trimLeft(s)}}}t.addEditOperation(new Vi(n.startLineNumber,1,n.startLineNumber,1),d+"\n");let h=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber,d);if(null!==h)0!==h&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,h);else{l.getLineContent=t=>t===n.startLineNumber?d:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=zh.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,a);if(null!==s){const i=$r(e.getLineContent(n.startLineNumber)),a=RK(s,o),l=RK(i,o);if(a!==l){const i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}else t.addEditOperation(new Vi(n.startLineNumber,1,n.startLineNumber,1),d+"\n")}else if(i=n.startLineNumber-1,s=e.getLineContent(i),t.addEditOperation(new Vi(i,1,i+1,1),null),t.addEditOperation(new Vi(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this.shouldAutoIndent(e,n)){l.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,a,o,n.startLineNumber,n.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,n,o,r,s);else{let s=zh.getGoodIndentForLine(this._autoIndent,l,e.getLanguageIdAtPosition(n.startLineNumber,1),i,a);if(null!==s){let i=$r(e.getLineContent(n.startLineNumber)),a=RK(s,o),l=RK(i,o);if(a!==l){let i=a-l;this.getIndentEditsOfMovingBlock(e,t,n,o,r,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>GS.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>GS.unshiftIndent(n,n.length+1,e,t,i)}}matchEnterRule(e,t,i,n,o,s){let r=o;for(;r>=1;){let t;if(t=r===o&&void 0!==s?s:e.getLineContent(r),jr(t)>=0)break;r--}if(r<1||n>e.getLineCount())return null;let a=e.getLineMaxColumn(r),l=zh.getEnterAction(this._autoIndent,e,new Vi(r,a,r,a));if(l){let o=l.indentation;l.indentAction===ph.None||l.indentAction===ph.Indent?o=l.indentation+l.appendText:l.indentAction===ph.IndentOutdent?o=l.indentation:l.indentAction===ph.Outdent&&(o=t.unshiftIndent(l.indentation)+l.appendText);let s=e.getLineContent(n);if(this.trimLeft(s).indexOf(this.trimLeft(o))>=0){let s=$r(e.getLineContent(n)),r=$r(o),a=zh.getIndentMetadata(e,n);return null!==a&&2&a&&(r=t.unshiftIndent(r)),RK(r,i)-RK(s,i)}}return null}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let i=e.getLanguageIdAtPosition(t.startLineNumber,1);return i===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==zh.getIndentRulesSupport(i)}getIndentEditsOfMovingBlock(e,t,i,n,o,s){for(let r=i.startLineNumber;r<=i.endLineNumber;r++){let a=$r(e.getLineContent(r)),l=AK(RK(a,n)+s,n,o);l!==a&&(t.addEditOperation(new Vi(r,1,r,a.length+1),l),r===i.endLineNumber&&i.endColumn<=a.length+1&&""===l&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}}class QK{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return QK._COLLATOR||(QK._COLLATOR=new Intl.Collator),QK._COLLATOR}getEditOperations(e,t){let i=function(e,t,i){let n=XK(e,t,i);if(!n)return null;return Sm.replace(new Vi(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n"))}(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;let n=XK(e,t,i);if(!n)return!1;for(let o=0,s=n.before.length;o<s;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function XK(e,t,i){let n=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;let s=[];for(let a=n;a<=o;a++)s.push(e.getLineContent(a));let r=s.slice(0);return r.sort(QK.getCollator().compare),!0===i&&(r=r.reverse()),{startLineNumber:n,endLineNumber:o,before:s,after:r}}QK._COLLATOR=null;class eq extends Df{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));i.sort(((e,t)=>Vi.compareRangesUsingStarts(e.selection,t.selection)));let n=i[0];for(let s=1;s<i.length;s++){const e=i[s];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const s of i)s.ignore||o.push(new YK(s.selection,this.down));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class tq extends Df{constructor(e,t){super(t),this.down=e}run(e,t){let i=[],n=t.getSelections()||[];const o=t.getOption(8);for(const s of n)i.push(new JK(s,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class iq extends Df{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!QK.canRun(t.getModel(),o,this.descending))return;let n=[];for(let o=0,s=i.length;o<s;o++)n[o]=new QK(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class nq extends Df{constructor(){super({id:nq.ID,label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:Jt(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map((e=>new Bi(e.positionLineNumber,e.positionColumn))));let o=t.getSelection();if(null===o)return;let s=new ZK(o,n);t.pushUndoStop(),t.executeCommands(this.id,[s]),t.pushUndoStop()}}nq.ID="editor.action.trimTrailingWhitespace";class oq extends Df{run(e,t){if(!t.hasModel())return;const i=t.getSelection();let n=this._getRangesToDelete(t),o=[];for(let a=0,l=n.length-1;a<l;a++){let e=n[a],t=n[a+1];null===Vi.intersectRanges(e,t)?o.push(e):n[a+1]=Vi.plusRange(e,t)}o.push(n[n.length-1]);let s=this._getEndCursorState(i,o),r=o.map((e=>Sm.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}class sq extends Df{run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=t.getOption(105),s=[];for(let r=0,a=i.length;r<a;r++){let e=i[r];if(e.isEmpty()){let i=e.getStartPosition();const r=t.getConfiguredWordAtPosition(i);if(!r)continue;let a=new Vi(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn),l=n.getValueInRange(a);s.push(new PS(a,this._modifyText(l,o),new Hi(i.lineNumber,i.column,i.lineNumber,i.column)))}else{let t=n.getValueInRange(e);s.push(new PS(e,this._modifyText(t,o),e))}}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}Af(class extends eq{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"2_line",title:ue("vs/editor/contrib/linesOperations/linesOperations",{key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),Af(class extends eq{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"2_line",title:ue("vs/editor/contrib/linesOperations/linesOperations",{key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),Af(class extends Df{constructor(){super({id:"editor.action.duplicateSelection",label:ue("vs/editor/contrib/linesOperations/linesOperations","duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:QS.writable,menuOpts:{menuId:bf.MenubarSelectionMenu,group:"2_line",title:ue("vs/editor/contrib/linesOperations/linesOperations",{key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),s=t.getModel();for(const r of o)if(r.isEmpty())n.push(new YK(r,!0));else{const e=new Hi(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn);n.push(new RS(e,s.getValueInRange(r)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}),Af(class extends tq{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"2_line",title:ue("vs/editor/contrib/linesOperations/linesOperations",{key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),Af(class extends tq{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"2_line",title:ue("vs/editor/contrib/linesOperations/linesOperations",{key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),Af(class extends iq{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:QS.writable})}}),Af(class extends iq{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:QS.writable})}}),Af(nq),Af(class extends Df{constructor(){super({id:"editor.action.deleteLines",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.delete","Delete Line"),alias:"Delete Line",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;let i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0,s=[],r=[];for(let a=0,l=i.length;a<l;a++){const e=i[a];let t=e.startLineNumber,l=e.endLineNumber,d=1,c=n.getLineMaxColumn(l);l<n.getLineCount()?(l+=1,c=1):t>1&&(t-=1,d=n.getLineMaxColumn(t)),s.push(Sm.replace(new Hi(t,d,l,c),"")),r.push(new Hi(t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));let i=[],n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}),Af(class extends Df{constructor(){super({id:"editor.action.indentLines",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.indent","Indent Line"),alias:"Indent Line",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:2137,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,YS.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}),Af(class extends Df{constructor(){super({id:"editor.action.outdentLines",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:2135,weight:100}})}run(e,t){ck.Outdent.runEditorCommand(e,t,null)}}),Af(class extends Df{constructor(){super({id:"editor.action.insertLineBefore",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,YS.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}),Af(class extends Df{constructor(){super({id:"editor.action.insertLineAfter",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,YS.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}),Af(class extends oq{constructor(){super({id:"deleteAllLeft",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null,n=[],o=0;return t.forEach((t=>{let s;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;s=new Hi(e,t.startColumn,e,t.startColumn)}else s=new Hi(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=s:n.push(s)})),i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let i=t,n=e.getModel();return null===n?[]:(i.sort(Vi.compareRangesUsingStarts),i=i.map((e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new Vi(t,i,e.startLineNumber,1)}return new Vi(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new Vi(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),i)}}),Af(class extends oq{constructor(){super({id:"deleteAllRight",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null,n=[];for(let o=0,s=t.length,r=0;o<s;o++){let s=t[o],a=new Hi(s.startLineNumber-r,s.startColumn,s.startLineNumber-r,s.startColumn);s.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let i=e.getSelections();if(null===i)return[];let n=i.map((e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new Vi(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new Vi(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e}));return n.sort(Vi.compareRangesUsingStarts),n}}),Af(class extends Df{constructor(){super({id:"editor.action.joinLines",label:ue("vs/editor/contrib/linesOperations/linesOperations","lines.joinLines","Join Lines"),alias:"Join Lines",precondition:QS.writable,kbOpts:{kbExpr:QS.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(Vi.compareRangesUsingStarts);let o=[],s=i.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new Hi(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new Hi(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));o.push(s);let r=t.getModel();if(null===r)return;let a=[],l=[],d=n,c=0;for(let h=0,u=o.length;h<u;h++){let e,t,i=o[h],s=i.startLineNumber,u=1,g=0,m=r.getLineContent(i.endLineNumber).length-i.endColumn;if(i.isEmpty()||i.startLineNumber===i.endLineNumber){let n=i.getStartPosition();n.lineNumber<r.getLineCount()?(e=s+1,t=r.getLineMaxColumn(e)):(e=n.lineNumber,t=r.getLineMaxColumn(n.lineNumber))}else e=i.endLineNumber,t=r.getLineMaxColumn(e);let p=r.getLineContent(s);for(let n=s+1;n<=e;n++){let e=r.getLineContent(n),t=r.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===p&&(i=!1),!i||" "!==p.charAt(p.length-1)&&"\t"!==p.charAt(p.length-1)||(i=!1,p=p.replace(/[\s\uFEFF\xA0]+$/g," "));let n=e.substr(t-1);p+=(i?" ":"")+n,g=i?n.length+1:n.length}else g=0}let f=new Vi(s,u,e,t);if(!f.isEmpty()){let e;i.isEmpty()?(a.push(Sm.replace(f,p)),e=new Hi(f.startLineNumber-c,p.length-g+1,s-c,p.length-g+1)):i.startLineNumber===i.endLineNumber?(a.push(Sm.replace(f,p)),e=new Hi(i.startLineNumber-c,i.startColumn,i.endLineNumber-c,i.endColumn)):(a.push(Sm.replace(f,p)),e=new Hi(i.startLineNumber-c,i.startColumn,i.startLineNumber-c,p.length-m)),null!==Vi.intersectRanges(f,n)?d=e:l.push(e)}c+=f.endLineNumber-f.startLineNumber}l.unshift(d),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}),Af(class extends Df{constructor(){super({id:"editor.action.transpose",label:ue("vs/editor/contrib/linesOperations/linesOperations","editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:QS.writable})}run(e,t){let i=t.getSelections();if(null===i)return;let n=t.getModel();if(null===n)return;let o=[];for(let s=0,r=i.length;s<r;s++){let e=i[s];if(!e.isEmpty())continue;let t=e.getStartPosition(),r=n.getLineMaxColumn(t.lineNumber);if(t.column>=r){if(t.lineNumber===n.getLineCount())continue;let e=new Vi(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new MS(new Hi(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{let e=new Vi(t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new PS(e,i,new Hi(t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}),Af(class extends sq{constructor(){super({id:"editor.action.transformToUppercase",label:ue("vs/editor/contrib/linesOperations/linesOperations","editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:QS.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}),Af(class extends sq{constructor(){super({id:"editor.action.transformToLowercase",label:ue("vs/editor/contrib/linesOperations/linesOperations","editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:QS.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}),Af(class extends sq{constructor(){super({id:"editor.action.transformToTitlecase",label:ue("vs/editor/contrib/linesOperations/linesOperations","editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:QS.writable})}_modifyText(e,t){const i=("\r\n\t "+t).split("");let n="",o=!0;for(let s=0;s<e.length;s++){let t=e[s];i.indexOf(t)>=0?(o=!0,n+=t):o?(o=!1,n+=t.toLocaleUpperCase()):n+=t.toLocaleLowerCase()}return n}});var rq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class aq{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return rq(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}class lq extends It{constructor(e){super();let t=[];for(const[i,n]of e){const e=i.links.map((e=>new aq(e,n)));t=lq._union(t,e),Lt(i)&&this._register(i)}this.links=t}static _union(e,t){let i,n,o,s,r=[];for(i=0,o=0,n=e.length,s=t.length;i<n&&o<s;){const n=e[i],s=t[o];if(Vi.areIntersectingOrTouching(n.range,s.range)){i++;continue}Vi.compareRangesUsingStarts(n.range,s.range)<0?(r.push(n),i++):(r.push(s),o++)}for(;i<n;i++)r.push(e[i]);for(;o<s;o++)r.push(t[o]);return r}}function dq(e,t){const i=[],n=Yc.ordered(e).reverse().map(((n,o)=>Promise.resolve(n.provideLinks(e,t)).then((e=>{e&&(i[o]=[e,n])}),bt)));return Promise.all(n).then((()=>{const e=new lq(ns(i));return t.isCancellationRequested?(e.dispose(),new lq([])):e}))}ul.registerCommand("_executeLinkProvider",((e,...t)=>rq(void 0,void 0,void 0,(function*(){const[i]=t;if(!(i instanceof Di))return[];const n=e.get(wd).getModel(i);if(!n)return[];const o=yield dq(n,Ht.None);if(!o)return[];const s=o.links.slice(0);return o.dispose(),s}))));var cq=function(e,t){return function(i,n){t(i,n,e)}},hq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const uq={general:Wv.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Wv.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class gq{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:gq._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?uq.active:uq.general);return n.hoverMessage=function(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip?e.tooltip:i?ue("vs/editor/contrib/links/links","links.navigate.executeCmd","Execute command"):ue("vs/editor/contrib/links/links","links.navigate.follow","Follow link"),o=t?xe?ue("vs/editor/contrib/links/links","links.navigate.kb.meta.mac","cmd + click"):ue("vs/editor/contrib/links/links","links.navigate.kb.meta","ctrl + click"):xe?ue("vs/editor/contrib/links/links","links.navigate.kb.alt.mac","option + click"):ue("vs/editor/contrib/links/links","links.navigate.kb.alt","alt + click");if(e.url)return new dF("",!0).appendMarkdown(`[${n}](${e.url.toString()}) (${o})`);return(new dF).appendText(`${n} (${o})`)}(e,t),n}activate(e,t){e.changeDecorationOptions(this.decorationId,gq._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,gq._getOptions(this.link,t,!1))}}let mq=class e{constructor(e,t,i){this.listenersToRemove=new Tt,this.editor=e,this.openerService=t,this.notificationService=i;let n=new NU(e);this.listenersToRemove.add(n),this.listenersToRemove.add(n.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this.listenersToRemove.add(n.onExecute((e=>{this.onEditorMouseUp(e)}))),this.listenersToRemove.add(n.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(54),this.listenersToRemove.add(e.onDidChangeConfiguration((t=>{const i=e.getOption(54);this.enabled!==i&&(this.enabled=i,this.updateDecorations([]),this.stop(),this.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((e=>this.onChange()))),this.listenersToRemove.add(e.onDidChangeModel((e=>this.onModelChanged()))),this.listenersToRemove.add(e.onDidChangeModelLanguage((e=>this.onModelModeChanged()))),this.listenersToRemove.add(Yc.onDidChange((e=>this.onModelModeChanged()))),this.timeout=new $o,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet((()=>this.beginCompute()),e.RECOMPUTE_TIME)}beginCompute(){return hq(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(Yc.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=Vo((t=>dq(e,t)));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(t){ft(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(61);let i=[],n=Object.keys(this.currentOccurrences);for(let r=0,a=n.length;r<a;r++){let e=n[r],t=this.currentOccurrences[e];i.push(t.decorationId)}let o=[];if(e)for(const r of e)o.push(gq.decoration(r,t));let s=this.editor.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let r=0,a=s.length;r<a;r++){let t=new gq(e[r],s[r]);this.currentOccurrences[t.decorationId]=t}}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(61);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(61);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((i=>{t.deactivate(i,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(Ht.None).then((e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===bs.file&&zr(e,"file:")){const i=Di.parse(e);if(i.scheme===bs.file){const n=Wa(i);let o=null;zr(n,"/./")?o=`.${n.substr(1)}`:zr(n,"//./")&&(o=`.${n.substr(2)}`),o&&(e=Ka(t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i})}),(e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(ue("vs/editor/contrib/links/links","invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(ue("vs/editor/contrib/links/links","missing.url","Failed to open this link because its target is missing.")):ft(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}};mq.ID="editor.linkDetector",mq.RECOMPUTE_TIME=1e3,mq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([cq(1,ml),cq(2,$m)],mq);Pf(mq.ID,mq),Af(class extends Df{constructor(){super({id:"editor.action.openLink",label:ue("vs/editor/contrib/links/links","label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){let i=mq.get(t);if(!i)return;if(!t.hasModel())return;let n=t.getSelections();for(let o of n){let e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}),Sb(((e,t)=>{const i=e.getColor(GC);i&&t.addRule(`.monaco-editor .detected-link-active { color: ${i} !important; }`)}));class pq{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class fq{constructor(e,t,i,n,o,s,r){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=s,this.currentMatch=r}static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new fq(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,s=!1;const r=e.getSelections();1===r.length&&r[0].isEmpty()?(s=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let l,d=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;l=t.word,d=new Hi(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new fq(e,t,s,l,n,o,d)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new pq(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new pq(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1);return i?new Hi(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new pq(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new pq(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1);return i?new Hi(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(105):null,!1,1073741824)):[]}}class bq extends It{constructor(e){super(),this._sessionDispose=this._register(new Tt),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(bq.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=fq.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new Hi(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState().matchCase;if(!Cq(this._editor.getModel(),t,i)){const e=this._editor.getModel();let i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex)t=this._editor.getModel().findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(105):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(i.searchScope){const e=i.searchScope;let n=[];t.forEach((t=>{e.forEach((e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&n.push(t)}))})),t=n}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i];if(n.range.intersectRanges(e)){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map((e=>new Hi(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}}bq.ID="editor.contrib.multiCursorController";class _q extends Df{run(e,t){const i=bq.get(t);if(!i)return;const n=wV.get(t);n&&this._run(i,n)}}class vq{constructor(e,t,i,n){this.searchText=e,this.matchCase=t,this.wordSeparators=i,this.modelVersionId=n}static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}}class wq extends It{constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(89),this.decorations=[],this.updateSoon=this._register(new Go((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(89)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()}))),this._register(wV.get(e).getState().onFindReplaceStateChange((e=>{this._update()})))}_update(){this._setState(wq._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const i=t.getSelection();if(i.startLineNumber!==i.endLineNumber)return null;const n=bq.get(t);if(!n)return null;const o=wV.get(t);if(!o)return null;let s=n.getSession(o);if(!s){const e=t.getSelections();if(e.length>1){const i=o.getState().matchCase;if(!Cq(t.getModel(),e,i))return null}s=fq.create(t,o)}if(!s)return null;if(s.currentMatch)return null;if(/^[ \t]+$/.test(s.searchText))return null;if(s.searchText.length>200)return null;const r=o.getState(),a=r.matchCase;if(r.isRevealed){let e=r.searchString;a||(e=e.toLowerCase());let t=s.searchText;if(a||(t=t.toLowerCase()),e===t&&s.matchCase===r.matchCase&&s.wholeWord===r.wholeWord&&!r.isRegex)return null}return new vq(s.searchText,s.matchCase,s.wholeWord?t.getOption(105):null,t.getModel().getVersionId())}_setState(e){if(vq.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=Bc.has(t)&&this.editor.getOption(63);let n=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((e=>e.range));n.sort(Vi.compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(Vi.compareRangesUsingStarts);let s=[];for(let a=0,l=0,d=n.length,c=o.length;a<d;){const e=n[a];if(l>=c)s.push(e),a++;else{const t=Vi.compareRangesUsingStarts(e,o[l]);t<0?(!o[l].isEmpty()&&Vi.areIntersecting(e,o[l])||s.push(e),a++):(t>0||a++,l++)}}const r=s.map((e=>({range:e,options:i?wq._SELECTION_HIGHLIGHT:wq._SELECTION_HIGHLIGHT_OVERVIEW})));this.decorations=this.editor.deltaDecorations(this.decorations,r)}dispose(){this._setState(null),super.dispose()}}function Cq(e,t,i){const n=yq(e,t[0],!i);for(let o=1,s=t.length;o<s;o++){const s=t[o];if(s.isEmpty())return!1;if(n!==yq(e,s,!i))return!1}return!0}function yq(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}wq.ID="editor.contrib.selectionHighlighter",wq._SELECTION_HIGHLIGHT_OVERVIEW=Wv.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:_b(My),position:Vl.Center}}),wq._SELECTION_HIGHLIGHT=Wv.register({stickiness:1,className:"selectionHighlight"}),Pf(bq.ID,bq),Pf(wq.ID,wq),Af(class extends Df{constructor(){super({id:"editor.action.insertCursorAbove",label:ue("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();o.cursorConfig.readOnly||(o.pushStackElement(),o.setCursorStates(i.source,3,US.addCursorUp(o,o.getCursorStates(),n)),o.revealTopMostCursor(i.source))}}),Af(class extends Df{constructor(){super({id:"editor.action.insertCursorBelow",label:ue("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;const n=i&&!0===i.logicalLine,o=t._getViewModel();o.cursorConfig.readOnly||(o.pushStackElement(),o.setCursorStates(i.source,3,US.addCursorDown(o,o.getCursorStates(),n)),o.revealBottomMostCursor(i.source))}}),Af(class extends Df{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:ue("vs/editor/contrib/multicursor/multicursor","mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){let e=t.getLineMaxColumn(n);i.push(new Hi(n,e,n,e))}e.endColumn>1&&i.push(new Hi(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections();let o=[];n.forEach((e=>this.getCursorsForSelection(e,i,o))),o.length>0&&t.setSelections(o)}}),Af(class extends _q{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:ue("vs/editor/contrib/multicursor/multicursor","addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:2082,weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}),Af(class extends _q{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:ue("vs/editor/contrib/multicursor/multicursor","addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}),Af(class extends _q{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:ue("vs/editor/contrib/multicursor/multicursor","moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:Jt(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}),Af(class extends _q{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:ue("vs/editor/contrib/multicursor/multicursor","moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}),Af(class extends _q{constructor(){super({id:"editor.action.selectHighlights",label:ue("vs/editor/contrib/multicursor/multicursor","selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:3114,weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"3_multi",title:ue("vs/editor/contrib/multicursor/multicursor",{key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}),Af(class extends _q{constructor(){super({id:"editor.action.changeAll",label:ue("vs/editor/contrib/multicursor/multicursor","changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:Jp.and(QS.writable,QS.editorTextFocus),kbOpts:{kbExpr:QS.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}),Af(class extends Df{constructor(){super({id:"editor.action.addCursorsToBottom",label:ue("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount();let o=[];for(let s=i[0].startLineNumber;s<=n;s++)o.push(new Hi(s,i[0].startColumn,s,i[0].endColumn));o.length>0&&t.setSelections(o)}}),Af(class extends Df{constructor(){super({id:"editor.action.addCursorsToTop",label:ue("vs/editor/contrib/multicursor/multicursor","mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections();let n=[];for(let o=i[0].startLineNumber;o>=1;o--)n.push(new Hi(o,i[0].startColumn,o,i[0].endColumn));n.length>0&&t.setSelections(n)}});var Sq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const kq={Visible:new uf("parameterHintsVisible",!1),MultipleSignatures:new uf("parameterHintsMultipleSignatures",!1)};function xq(e,t,i,n){return qo(Pc.ordered(e).map((o=>()=>Promise.resolve(o.provideSignatureHelp(e,t,n,i)).catch((e=>bt(e))))))}If("_executeSignatureHelpProvider",((e,t,i)=>Sq(void 0,void 0,void 0,(function*(){const n=yield xq(e,t,{triggerKind:Nc.Invoke,isRetrigger:!1,triggerCharacter:i.triggerCharacter},Ht.None);if(n)return setTimeout((()=>n.dispose()),0),n.value}))));var Lq,Eq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=class{constructor(e){this.request=e,this.type=2}};e.Active=class{constructor(e){this.hints=e,this.type=1}}}(Lq||(Lq={}));class Dq extends It{constructor(e,t=Dq.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new Pt),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Lq.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new Mt),this.triggerChars=new _u,this.retriggerChars=new _u,this.triggerId=0,this.editor=e,this.throttledDelayer=new zo(t),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(Pc.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Lq.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!Pc.has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(n)),t).catch(ft)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e==e-1,n=this.editor.getOption(67).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(67).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new Lq.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return Eq(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=1===this.state.type?this.state.hints:void 0;if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(Nq);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),r=this.editor.getPosition();this.state=new Lq.Pending(Vo((e=>xq(s,r,o,e))));try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new Lq.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=Lq.Default),ft(a),!1}}))}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new _u,this.retriggerChars=new _u;const e=this.editor.getModel();if(e)for(const t of Pc.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:Nc.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:Nc.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:Nc.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(67).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function Nq(e,t){switch(t.triggerKind){case Nc.Invoke:return t;case Nc.ContentChange:return e;case Nc.TriggerCharacter:default:return t}}Dq.DEFAULT_DELAY=120;var Tq=function(e,t){return function(i,n){t(i,n,e)}};const Iq=xr,Mq=fc("parameter-hints-next",bc.chevronDown),Rq=fc("parameter-hints-previous",bc.chevronUp);let Aq=class e extends It{constructor(e,t,i,n){super(),this.editor=e,this.renderDisposeables=this._register(new Tt),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new yK(e,n,i)),this.model=this._register(new Dq(e)),this.keyVisible=kq.Visible.bindTo(t),this.keyMultipleSignatures=kq.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints((e=>{e?(this.show(),this.render(e)):this.hide()})))}createParamaterHintDOMNodes(){const e=Iq(".editor-widget.parameter-hints-widget"),t=vr(e,Iq(".wrapper"));t.tabIndex=-1;const i=vr(t,Iq(".controls")),n=vr(i,Iq(".button"+Rq.cssSelector)),o=vr(i,Iq(".overloads")),s=vr(i,Iq(".button"+Mq.cssSelector)),r=Eo(Lo(n,"click"));this._register(r(this.previous,this));const a=Eo(Lo(s,"click"));this._register(a(this.next,this));const l=Iq(".body"),d=new Qk(l,{});this._register(d),t.appendChild(d.getDomNode());const c=vr(l,Iq(".signature")),h=vr(l,Iq(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:h,scrollbar:d},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const u=()=>{if(!this.domNodes)return;const e=this.editor.getOption(36);this.domNodes.element.style.fontSize=`${e.fontSize}px`};u(),this._register(St.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(36))).on(u,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{this.domNodes&&Ls(this.domNodes.element,"visible")}),100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&Ds(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;Ts(this.domNodes.element,"multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=vr(this.domNodes.signature,Iq(".code")),s=this.editor.getOption(36);o.style.fontSize=`${s.fontSize}px`,o.style.fontFamily=s.fontFamily;const r=n.parameters.length>0,a=null!==(t=n.activeParameter)&&void 0!==t?t:e.activeParameter;if(r)this.renderParameters(o,n,a);else{vr(o,Iq("span")).textContent=n.label}const l=n.parameters[a];if(null==l?void 0:l.documentation){const e=Iq("span.documentation");if("string"==typeof l.documentation)e.textContent=l.documentation;else{const t=this.renderDisposeables.add(this.markdownRenderer.render(l.documentation));Ls(t.element,"markdown-docs"),e.appendChild(t.element)}vr(this.domNodes.docs,Iq("p",{},e))}if(void 0===n.documentation);else if("string"==typeof n.documentation)vr(this.domNodes.docs,Iq("p",{},n.documentation));else{const e=this.renderDisposeables.add(this.markdownRenderer.render(n.documentation));Ls(e.element,"markdown-docs"),vr(this.domNodes.docs,e.element)}const d=this.hasDocs(n,l);if(Ts(this.domNodes.signature,"has-docs",d),Ts(this.domNodes.docs,"empty",!d),this.domNodes.overloads.textContent=function(e,t,i="0"){const n=""+e,o=[n];for(let s=n.length;s<t;s++)o.push(i);return o.reverse().join("")}(e.activeSignature+1,e.signatures.length.toString().length)+"/"+e.signatures.length,l){const e=this.getParameterLabel(n,a);this.announcedLabel!==e&&(Op(ue("vs/editor/contrib/parameterHints/parameterHintsWidget","hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&sl(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&sl(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&sl(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&sl(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),s=document.createElement("span");s.textContent=t.label.substring(0,n);const r=document.createElement("span");r.textContent=t.label.substring(n,o),r.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),vr(e,s,r,a)}getParameterLabel(e,t){const i=e.parameters[t];return Array.isArray(i.label)?e.label.substring(i.label[0],i.label[1]):i.label}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;{const t=e.label.lastIndexOf(i.label);return t>=0?[t,t+i.label.length]:[0,0]}}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("wrapper");t.length&&(t[0].style.maxHeight=e)}};Aq.ID="editor.widget.parameterHintsWidget",Aq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([Tq(1,gf),Tq(2,ml),Tq(3,FD)],Aq),Sb(((e,t)=>{const i=e.getColor($C);if(i){const n="hc"===e.type?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${i.transparent(.5)}; }`)}const n=e.getColor(KC);n&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const o=e.getColor(Fw);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const s=e.getColor(qC);s&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${s}; }`);const r=e.getColor(Ww);r&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${r}; }`)}));let Oq=class e extends It{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(Aq,this.editor))}static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};Oq.ID="editor.controller.parameterHints",Oq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,ao)],Oq);Pf(Oq.ID,Oq),Af(class extends Df{constructor(){super({id:"editor.action.triggerParameterHints",label:ue("vs/editor/contrib/parameterHints/parameterHints","parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:QS.hasSignatureHelpProvider,kbOpts:{kbExpr:QS.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=Oq.get(t);i&&i.trigger({triggerKind:Nc.Invoke})}});const Pq=Ef.bindToContribution(Oq.get);Rf(new Pq({id:"closeParameterHints",precondition:kq.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:QS.focus,primary:9,secondary:[1033]}})),Rf(new Pq({id:"showPrevParameterHint",precondition:Jp.and(kq.Visible,kq.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:QS.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),Rf(new Pq({id:"showNextParameterHint",precondition:Jp.and(kq.Visible,kq.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:QS.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Fq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const Wq=new uf("onTypeRenameInputVisible",!1);let Bq=class e extends It{constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new Tt),this._editor=e,this._enabled=!1,this._visibleContextKey=Wq.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new Tt),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(73)&&this.reinitialize()}))),this._register(Vc.onDidChange((()=>this.reinitialize()))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize()))),this.reinitialize()}static get(t){return t.getContribution(e.ID)}reinitialize(){const e=this._editor.getModel(),t=null!==e&&this._editor.getOption(73)&&Vc.has(e);if(t===this._enabled)return;if(this._enabled=t,this.clearRanges(),this._localToDispose.clear(),!t||null===e)return;this._languageWordPattern=zh.getWordDefinition(e.getLanguageIdentifier().id),this._localToDispose.add(e.onDidChangeLanguageConfiguration((()=>{this._languageWordPattern=zh.getWordDefinition(e.getLanguageIdentifier().id)})));const i=new zo(this._debounceDuration),n=()=>{this._rangeUpdateTriggerPromise=i.trigger((()=>this.updateRanges()),this._debounceDuration)},o=new zo(0),s=e=>{this._rangeSyncTriggerPromise=o.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{n()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((t=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const i=e.getDecorationRange(this._currentDecorations[0]);if(i&&t.changes.every((e=>i.intersectRanges(e.range))))return void s(this._currentDecorations)}n()}))),this._localToDispose.add({dispose:()=>{i.cancel(),o.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),i=t.getDecorationRange(e[0]);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern);if((e?e[0].length:0)!==n.length)return this.clearRanges()}let o=[];for(let s=1,r=e.length;s<r;s++){const i=t.getDecorationRange(e[s]);if(i)if(i.startLineNumber!==i.endLineNumber)o.push({range:i,text:n});else{let e=t.getValueInRange(i),s=n,r=i.startColumn,a=i.endColumn;const l=na(e,s);r+=l,e=e.substr(l),s=s.substr(l);const d=oa(e,s);a-=d,e=e.substr(0,e.length-d),s=s.substr(0,s.length-d),r===a&&0===s.length||o.push({range:new Vi(i.startLineNumber,r,i.endLineNumber,a),text:s})}}if(0!==o.length)try{this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("onTypeRename",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return Fq(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),o=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=n.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(i))return}}this._currentRequestPosition=i,this._currentRequestModelVersion=o;const s=Vo((t=>Fq(this,void 0,void 0,(function*(){try{const r=yield Vq(n,i,t);if(s!==this._currentRequest)return;if(this._currentRequest=null,o!==n.getVersionId())return;let a=[];(null==r?void 0:r.ranges)&&(a=r.ranges),this._currentWordPattern=(null==r?void 0:r.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(Vi.containsPosition(a[e],i)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const d=a.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,d)}catch(r){vt(r)||ft(r),this._currentRequest!==s&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=s,s}))}};Bq.ID="editor.contrib.onTypeRename",Bq.DECORATION=Wv.register({stickiness:0,className:"on-type-rename-decoration"}),Bq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],Bq);function Vq(e,t,i){return qo(Vc.ordered(e).map((n=>()=>Promise.resolve(n.provideOnTypeRenameRanges(e,t,i)).then((e=>{if(e)return{ranges:e.ranges,wordPattern:e.wordPattern||n.wordPattern}}),(e=>{bt(e)})))),(e=>!!e&&ss(null==e?void 0:e.ranges)))}Rf(new(Ef.bindToContribution(Bq.get))({id:"cancelOnTypeRenameInput",precondition:Wq,handler:e=>e.clearRanges(),kbOpts:{kbExpr:QS.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const Hq=Tw("editor.onTypeRenameBackground",{dark:yv.fromHex("#f00").transparent(.3),light:yv.fromHex("#f00").transparent(.3),hc:yv.fromHex("#f00").transparent(.3)},ue("vs/editor/contrib/rename/onTypeRename","editorOnTypeRenameBackground","Background color when the editor auto renames on type."));Sb(((e,t)=>{const i=e.getColor(Hq);i&&t.addRule(`.monaco-editor .on-type-rename-decoration { background: ${i}; border-left-color: ${i}; }`)})),Mf("_executeRenameOnTypeProvider",((e,t)=>Vq(e,t,Ht.None))),Pf(Bq.ID,Bq),Af(class extends Df{constructor(){super({id:"editor.action.onTypeRename",label:ue("vs/editor/contrib/rename/onTypeRename","onTypeRename.label","On Type Rename Symbol"),alias:"On Type Rename Symbol",precondition:Jp.and(QS.writable,QS.hasRenameProvider),kbOpts:{kbExpr:QS.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(uo),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return Di.isUri(n)&&Bi.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),ft):super.runCommand(e,t)}run(e,t){const i=Bq.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}});var zq=function(e,t){return function(i,n){t(i,n,e)}};const Uq=new uf("renameInputVisible",!1);let Kq=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new Tt,this.allowEditorOverflow=!0,this._visibleContextKey=Uq.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(36)&&this._updateFont()}))),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",ue("vs/editor/contrib/rename/renameInputField","renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[i,n]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(i),this._label.innerText=ue("vs/editor/contrib/rename/renameInputField",{key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(n))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const s=e.getColor(Bw);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(SC))&&void 0!==t?t:""),this._domNode.style.boxShadow=s?` 0 2px 8px ${s}`:"",this._domNode.style.color=String(null!==(i=e.getColor(Hw))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(Vw))&&void 0!==n?n:"");const r=e.getColor(zw);this._input.style.borderWidth=r?"1px":"0px",this._input.style.borderStyle=r?"solid":"none",this._input.style.borderColor=null!==(o=null==r?void 0:r.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(36);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,i,n,o,s){this._domNode.classList.toggle("preview",o),this._position=new Bi(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const r=new Tt;return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},s.onCancellationRequested((()=>this.cancelInput(!0))),r.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{r.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Kq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([zq(2,bb),zq(3,DD),zq(4,gf)],Kq);var qq=function(e,t){return function(i,n){t(i,n,e)}},$q=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class jq{constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=Ac.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return $q(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;let n=yield i.resolveRenameLocation(this.model,this.position,e);if(n){if(!n.rejectReason)return n;t.push(n.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new Vi(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:Vi.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return $q(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,n){return $q(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};const s=yield o.provideRenameEdits(this.model,this.position,e,n);return s?s.rejectReason?this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),n):s:this._provideRenameEdits(e,t+1,i.concat(ue("vs/editor/contrib/rename/rename","no result","No result.")),n)}))}}let Gq=class e{constructor(e,t,i,n,o,s,r){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=s,this._configService=r,this._dispoableStore=new Tt,this._cts=new Kt,this._renameInputField=this._dispoableStore.add(new Zo((()=>this._dispoableStore.add(this._instaService.createInstance(Kq,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return $q(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new jq(this.editor.getModel(),e);if(!t.hasProvider())return;let i;this._cts=new VE(this.editor,5);try{const e=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),i=yield e}catch(le){return void zF.get(this.editor).showMessage(le||ue("vs/editor/contrib/rename/rename","resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(!i)return;if(i.rejectReason)return void zF.get(this.editor).showMessage(i.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new VE(this.editor,5,i.range);let n=this.editor.getSelection(),o=0,s=i.text.length;Vi.isEmpty(n)||Vi.spansMultipleLines(n)||!Vi.containsRange(i.range,n)||(o=Math.max(0,n.startColumn-i.range.startColumn),s=Math.min(i.range.endColumn,n.endColumn)-i.range.startColumn);const r=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),a=yield this._renameInputField.value.getInput(i.range,i.text,o,s,r,this._cts.token);if("boolean"==typeof a)return void(a&&this.editor.focus());this.editor.focus();const l=Ho(t.provideRenameEdits(a.newName,this._cts.token),this._cts.token).then((e=>$q(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):this._bulkEditService.apply(Ug.convert(e),{editor:this.editor,showPreview:a.wantsPreview,label:ue("vs/editor/contrib/rename/rename","label","Renaming '{0}'",null==i?void 0:i.text),quotableLabel:ue("vs/editor/contrib/rename/rename","quotableLabel","Renaming {0}",null==i?void 0:i.text)}).then((e=>{e.ariaSummary&&Op(ue("vs/editor/contrib/rename/rename","aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,a.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(ue("vs/editor/contrib/rename/rename","rename.failedApply","Rename failed to apply edits")),this._logService.error(e)})))}))),(e=>{this._notificationService.error(ue("vs/editor/contrib/rename/rename","rename.failed","Rename failed to compute edits")),this._logService.error(e)}));return this._progressService.showWhile(l,250),l}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};Gq.ID="editor.contrib.renameController",Gq=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([qq(1,ao),qq(2,$m),qq(3,zg),qq(4,dD),qq(5,Tu),qq(6,Du)],Gq);Pf(Gq.ID,Gq),Af(class extends Df{constructor(){super({id:"editor.action.rename",label:ue("vs/editor/contrib/rename/rename","rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:Jp.and(QS.writable,QS.hasRenameProvider),kbOpts:{kbExpr:QS.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(uo),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return Di.isUri(n)&&Bi.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),ft):super.runCommand(e,t)}run(e,t){const i=Gq.get(t);return i?i.run():Promise.resolve()}});const Zq=Ef.bindToContribution(Gq.get);Rf(new Zq({id:"acceptRenameInput",precondition:Uq,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:QS.focus,primary:3}})),Rf(new Zq({id:"acceptRenameInputWithPreview",precondition:Jp.and(Uq,Jp.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:QS.focus,primary:1027}})),Rf(new Zq({id:"cancelRenameInput",precondition:Uq,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:QS.focus,primary:9,secondary:[1033]}})),Mf("_executeDocumentRenameProvider",(function(e,t,...i){const[n]=i;return ol("string"==typeof n),function(e,t,i){return $q(this,void 0,void 0,(function*(){const n=new jq(e,t),o=yield n.resolveRenameLocation(Ht.None);return(null==o?void 0:o.rejectReason)?{edits:[],rejectReason:o.rejectReason}:n.provideRenameEdits(i,Ht.None)}))}(e,t,n)})),$g.as(Zg).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:ue("vs/editor/contrib/rename/rename","enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Yq=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Jq{provideSelectionRanges(e,t){return Yq(this,void 0,void 0,(function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise((t=>Jq._bracketsRightYield(t,0,e,n,o))),yield new Promise((i=>Jq._bracketsLeftYield(i,0,e,n,o,t)))}return i}))}static _bracketsRightYield(e,t,i,n,o){const s=new Map,r=Date.now();for(;;){if(t>=Jq._maxRounds){e();break}if(!n){e();break}let a=i.findNextBracket(n);if(!a){e();break}if(Date.now()-r>Jq._maxDuration){setTimeout((()=>Jq._bracketsRightYield(e,t+1,i,n,o)));break}const l=a.close[0];if(a.isOpen){let e=s.has(l)?s.get(l):0;s.set(l,e+1)}else{let e=s.has(l)?s.get(l):0;if(e-=1,s.set(l,Math.max(0,e)),e<0){let e=o.get(l);e||(e=new Ot,o.set(l,e)),e.push(a.range)}}n=a.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,s){const r=new Map,a=Date.now();for(;;){if(t>=Jq._maxRounds&&0===o.size){e();break}if(!n){e();break}let l=i.findPrevBracket(n);if(!l){e();break}if(Date.now()-a>Jq._maxDuration){setTimeout((()=>Jq._bracketsLeftYield(e,t+1,i,n,o,s)));break}const d=l.close[0];if(l.isOpen){let e=r.has(d)?r.get(d):0;if(e-=1,r.set(d,Math.max(0,e)),e<0){let e=o.get(d);if(e){let t=e.shift();0===e.size&&o.delete(d);const n=Vi.fromPositions(l.range.getEndPosition(),t.getStartPosition()),r=Vi.fromPositions(l.range.getStartPosition(),t.getEndPosition());s.push({range:n}),s.push({range:r}),Jq._addBracketLeading(i,r,s)}}}else{let e=r.has(d)?r.get(d):0;r.set(d,e+1)}n=l.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(n);0!==o&&o!==t.startColumn&&(i.push({range:Vi.fromPositions(new Bi(n,o),t.getEndPosition())}),i.push({range:Vi.fromPositions(new Bi(n,1),t.getEndPosition())}));const s=n-1;if(s>0){const n=e.getLineFirstNonWhitespaceColumn(s);n===t.startColumn&&n!==e.getLineLastNonWhitespaceColumn(s)&&(i.push({range:Vi.fromPositions(new Bi(s,n),t.getEndPosition())}),i.push({range:Vi.fromPositions(new Bi(s,1),t.getEndPosition())}))}}}Jq._maxDuration=30,Jq._maxRounds=2;var Qq,Xq,e$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class t${constructor(e,t){this.index=e,this.ranges=t}mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new t$(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}class i${constructor(e){this._ignoreSelection=!1,this._editor=e}static get(e){return e.getContribution(i$.ID)}dispose(){Et(this._selectionListener)}run(e){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(!Qc.has(i))return;let n=Promise.resolve(void 0);return this._state||(n=o$(i,t.map((e=>e.getPosition())),Ht.None).then((e=>{if(ss(e)&&e.length===t.length&&this._editor.hasModel()&&Jo(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let i=0;i<e.length;i++)e[i]=e[i].filter((e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition()))),e[i].unshift(t[i]);this._state=e.map((e=>new t$(0,e))),Et(this._selectionListener),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{this._ignoreSelection||(Et(this._selectionListener),this._state=void 0)}))}}))),n.then((()=>{if(!this._state)return;this._state=this._state.map((t=>t.mov(e)));const t=this._state.map((e=>Hi.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(t)}finally{this._ignoreSelection=!1}}))}}i$.ID="editor.contrib.smartSelectController";class n$ extends Df{constructor(e,t){super(t),this._forward=e}run(e,t){return e$(this,void 0,void 0,(function*(){let e=i$.get(t);e&&(yield e.run(this._forward))}))}}ul.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function o$(e,t,i){const n=Qc.all(e);1===n.length&&n.unshift(new Jq);let o=[],s=[];for(const r of n)o.push(Promise.resolve(r.provideSelectionRanges(e,t,i)).then((e=>{if(ss(e)&&e.length===t.length)for(let i=0;i<t.length;i++){s[i]||(s[i]=[]);for(const n of e[i])Vi.isIRange(n.range)&&Vi.containsPosition(n.range,t[i])&&s[i].push(Vi.lift(n.range))}}),bt));return Promise.all(o).then((()=>s.map((t=>{if(0===t.length)return[];t.sort(((e,t)=>Bi.isBefore(e.getStartPosition(),t.getStartPosition())?1:Bi.isBefore(t.getStartPosition(),e.getStartPosition())||Bi.isBefore(e.getEndPosition(),t.getEndPosition())?-1:Bi.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));let i,n=[];for(const e of t)(!i||Vi.containsRange(e,i)&&!Vi.equalsRange(e,i))&&(n.push(e),i=e);let o=[n[0]];for(let s=1;s<n.length;s++){const t=n[s-1],i=n[s];if(i.startLineNumber!==t.startLineNumber||i.endLineNumber!==t.endLineNumber){const n=new Vi(t.startLineNumber,e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.endLineNumber,e.getLineLastNonWhitespaceColumn(t.endLineNumber));n.containsRange(t)&&!n.equalsRange(t)&&i.containsRange(n)&&!i.equalsRange(n)&&o.push(n);const s=new Vi(t.startLineNumber,1,t.endLineNumber,e.getLineMaxColumn(t.endLineNumber));s.containsRange(t)&&!s.equalsRange(n)&&i.containsRange(s)&&!i.equalsRange(s)&&o.push(s)}o.push(i)}return o}))))}Pf(i$.ID,i$),Af(class extends n${constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:ue("vs/editor/contrib/smartSelect/smartSelect","smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"1_basic",title:ue("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),Af(class extends n${constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:ue("vs/editor/contrib/smartSelect/smartSelect","smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:QS.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:bf.MenubarSelectionMenu,group:"1_basic",title:ue("vs/editor/contrib/smartSelect/smartSelect",{key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),Qc.register("*",new class{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;let{word:o,startColumn:s}=n,r=i.column-s,a=r,l=r,d=0;for(;a>=0;a--){let e=o.charCodeAt(a);if(a!==r&&(95===e||45===e))break;if(Jr(e)&&Qr(d))break;d=e}for(a+=1;l<o.length;l++){let e=o.charCodeAt(l);if(Qr(e)&&Jr(d))break;if(95===e||45===e)break;d=e}a<l&&e.push({range:new Vi(i.lineNumber,s+a,i.lineNumber,s+l)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new Vi(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new Vi(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}),Qq="_executeSelectionRangeProvider",Xq=function(e,...t){const[i]=t;return o$(e,i,Ht.None)},ul.registerCommand(Qq,(function(e,...t){const[i]=t;ol(Di.isUri(i));const n=e.get(wd).getModel(i);return n?Xq(n,...t.slice(1)):e.get(lh).createModelReference(i).then((e=>new Promise(((i,n)=>{try{i(Xq(e.object.textEditorModel,t.slice(1)))}catch(o){n(o)}})).finally((()=>{e.dispose()}))))}));class s${constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,i=0,n=this.value.charCodeAt(t);if(e=s$._table[n],"number"==typeof e)return this.pos+=1,{type:e,pos:t,len:1};if(s$.isDigitCharacter(n)){e=8;do{i+=1,n=this.value.charCodeAt(t+i)}while(s$.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}if(s$.isVariableCharacter(n)){e=9;do{n=this.value.charCodeAt(t+ ++i)}while(s$.isVariableCharacter(n)||s$.isDigitCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}e=10;do{i+=1,n=this.value.charCodeAt(t+i)}while(!isNaN(n)&&void 0===s$._table[n]&&!s$.isDigitCharacter(n)&&!s$.isVariableCharacter(n));return this.pos+=i,{type:e,pos:t,len:i}}}s$._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class r${constructor(){this._children=[]}appendChild(e){return e instanceof a$&&this._children[this._children.length-1]instanceof a$?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof p$)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}}class a$ extends r${constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new a$(this.value)}}class l$ extends r${}class d$ extends l${constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof c$?this._children[0]:void 0}clone(){let e=new d$(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}class c$ extends r${constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof a$&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new c$;return this.options.forEach(e.appendChild,e),e}}class h$ extends r${constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((e=>e instanceof u$&&Boolean(e.elseValue)))&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof u$){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){let e=new h$;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}}class u$ extends r${constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e}clone(){return new u$(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class g$ extends l${constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new a$(t)],!0)}clone(){const e=new g$(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}function m$(e,t){const i=[...e];for(;i.length>0;){const e=i.shift();if(!t(e))break;i.unshift(...e.children)}}class p$ extends r${get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(i){return i instanceof d$&&(t.push(i),e=!e||e.index<i.index?i:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk((n=>n===e?(i=!0,!1):(t+=n.len(),!0))),i?t:-1}fullLen(e){let t=0;return m$([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){let t=[],{parent:i}=e;for(;i;)i instanceof d$&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof g$&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new p$;return this._children=this.children.map((e=>e.clone())),e}walk(e){m$(this.children,e)}}class f${constructor(){this._scanner=new s$,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){this._scanner.text(e),this._token=this._scanner.next();const n=new p$;for(;this._parse(n););const o=new Map,s=[];let r=0;n.walk((e=>(e instanceof d$&&(r+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):s.push(e)),!0)));for(const a of s){const e=o.get(a.index);if(e){const t=new d$(a.index);t.transform=a.transform;for(const i of e)t.appendChild(i.clone());n.replace(a,[t])}}return i||(i=r>0&&t),!o.has(0)&&i&&n.appendChild(new d$(0)),n}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new a$(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new d$(Number(t)):new g$(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(i);const n=new d$(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new a$("${"+t+":")),n.children.forEach(e.appendChild,e),!0}else{if(!(n.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);{const t=new c$;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(n.appendChild(t),this._accept(4)))return e.appendChild(n),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new a$(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(i);const n=new g$(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(n)?(e.appendChild(n),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(n),!0):this._backTo(i);for(;;){if(this._accept(4))return e.appendChild(n),!0;if(!this._parse(n))return e.appendChild(new a$("${"+t+":")),n.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new h$,i="",n="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new a$(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(le){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);let n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new u$(Number(n))),!0;if(this._accept(4))return e.appendChild(new u$(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new u$(Number(n),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new u$(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new u$(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let i=this._until(4);if(i)return e.appendChild(new u$(Number(n),void 0,t,i)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new u$(Number(n),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new a$(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}var b$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const _$={Visible:new uf("suggestWidgetVisible",!1),DetailsVisible:new uf("suggestWidgetDetailsVisible",!1),MultipleSuggestions:new uf("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new uf("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new uf("acceptSuggestionOnEnter",!0),HasInsertAndReplaceRange:new uf("suggestionHasInsertAndReplaceRange",!1),CanResolve:new uf("suggestionCanResolve",!1)},v$=new bf("suggestWidgetStatusBar");class w${constructor(e,t,i,n){this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=ec.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.name,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),Vi.isIRange(t.range)?(this.editStart=new Bi(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new Bi(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new Bi(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||Vi.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new Bi(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new Bi(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new Bi(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||Vi.spansMultipleLines(t.range.insert)||Vi.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return b$(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{vt(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}class C${constructor(e=2,t=new Set,i=new Set){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i}}C$.default=new C$;class y${constructor(e,t,i){this.items=e,this.needsClipboard=t,this.dispoables=i}}function S$(e,t,i=C$.default,n={triggerKind:0},o=Ht.None){return b$(this,void 0,void 0,(function*(){t=t.clone();const s=e.getWordAtPosition(t),r=s?new Vi(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):Vi.fromPositions(t),a={replace:r,insert:r.setEndPosition(t.lineNumber,t.column)},l=[],d=new Tt;let c=!1;const h=(e,n)=>{if(n){for(let o of n.suggestions)i.kindFilter.has(o.kind)||(o.range||(o.range=a),o.sortText||(o.sortText="string"==typeof o.label?o.label:o.label.name),!c&&o.insertTextRules&&4&o.insertTextRules&&(c=f$.guessNeedsClipboard(o.insertText)),l.push(new w$(t,o,n,e)));Lt(n)&&d.add(n)}},u=(()=>b$(this,void 0,void 0,(function*(){})))();for(let g of Oc.orderedGroups(e)){let s=l.length;if(yield Promise.all(g.map((s=>b$(this,void 0,void 0,(function*(){if(!(i.providerFilter.size>0)||i.providerFilter.has(s))try{const i=yield s.provideCompletionItems(e,t,n,o);h(s,i)}catch(r){bt(r)}}))))),s!==l.length||o.isCancellationRequested)break}return yield u,o.isCancellationRequested?(d.dispose(),Promise.reject(wt())):new y$(l.sort(L$(i.snippetSortOrder)),c,d)}))}function k$(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const x$=new Map;function L$(e){return x$.get(e)}x$.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return k$(e,t)})),x$.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return k$(e,t)})),x$.set(1,k$),If("_executeCompletionItemProvider",((e,t,i)=>b$(void 0,void 0,void 0,(function*(){const n={incomplete:!1,suggestions:[]},o=[],s=i.maxItemsToResolve||0,r=yield S$(e,t);for(const e of r.items)o.length<s&&o.push(e.resolve(Ht.None)),n.incomplete=n.incomplete||e.container.incomplete,n.suggestions.push(e.completion);try{return yield Promise.all(o),n}finally{setTimeout((()=>r.dispoables.dispose()),100)}}))));const E$=new class{constructor(){this.onlyOnceSuggestions=[]}provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}};Oc.register("*",E$);function D$(e){return e instanceof Di}class N${constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){let i=t.resolve(e);if(void 0!==i)return i}}}class T${constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=$r(this._model.getLineContent(this._selection.startLineNumber),0,this._selection.startColumn-1);let n=i;e.snippet.walk((t=>t!==e&&(t instanceof a$&&(n=$r(t.value.split(/\r\n|\r|\n/).pop())),!0)));const o=na(n,i);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,i)=>`${t}${n.substr(o)}${i}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}}class I${constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return wi(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=wi(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t&&this._labelService?"."===vi(this._model.uri.fsPath)?"":this._labelService.getUriLabel(Ua(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):void 0}}class M${constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!Ar(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}class R${constructor(e,t){this._model=e,this._selection=t}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=zh.getComments(i);if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}}class A${resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===t?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===t?String((new Date).getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String((new Date).getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String((new Date).getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String((new Date).getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String((new Date).getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?A$.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===t?A$.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===t?A$.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?A$.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(Date.now()/1e3)):void 0}}A$.dayNames=[ue("vs/editor/contrib/snippet/snippetVariables","Sunday","Sunday"),ue("vs/editor/contrib/snippet/snippetVariables","Monday","Monday"),ue("vs/editor/contrib/snippet/snippetVariables","Tuesday","Tuesday"),ue("vs/editor/contrib/snippet/snippetVariables","Wednesday","Wednesday"),ue("vs/editor/contrib/snippet/snippetVariables","Thursday","Thursday"),ue("vs/editor/contrib/snippet/snippetVariables","Friday","Friday"),ue("vs/editor/contrib/snippet/snippetVariables","Saturday","Saturday")],A$.dayNamesShort=[ue("vs/editor/contrib/snippet/snippetVariables","SundayShort","Sun"),ue("vs/editor/contrib/snippet/snippetVariables","MondayShort","Mon"),ue("vs/editor/contrib/snippet/snippetVariables","TuesdayShort","Tue"),ue("vs/editor/contrib/snippet/snippetVariables","WednesdayShort","Wed"),ue("vs/editor/contrib/snippet/snippetVariables","ThursdayShort","Thu"),ue("vs/editor/contrib/snippet/snippetVariables","FridayShort","Fri"),ue("vs/editor/contrib/snippet/snippetVariables","SaturdayShort","Sat")],A$.monthNames=[ue("vs/editor/contrib/snippet/snippetVariables","January","January"),ue("vs/editor/contrib/snippet/snippetVariables","February","February"),ue("vs/editor/contrib/snippet/snippetVariables","March","March"),ue("vs/editor/contrib/snippet/snippetVariables","April","April"),ue("vs/editor/contrib/snippet/snippetVariables","May","May"),ue("vs/editor/contrib/snippet/snippetVariables","June","June"),ue("vs/editor/contrib/snippet/snippetVariables","July","July"),ue("vs/editor/contrib/snippet/snippetVariables","August","August"),ue("vs/editor/contrib/snippet/snippetVariables","September","September"),ue("vs/editor/contrib/snippet/snippetVariables","October","October"),ue("vs/editor/contrib/snippet/snippetVariables","November","November"),ue("vs/editor/contrib/snippet/snippetVariables","December","December")],A$.monthNamesShort=[ue("vs/editor/contrib/snippet/snippetVariables","JanuaryShort","Jan"),ue("vs/editor/contrib/snippet/snippetVariables","FebruaryShort","Feb"),ue("vs/editor/contrib/snippet/snippetVariables","MarchShort","Mar"),ue("vs/editor/contrib/snippet/snippetVariables","AprilShort","Apr"),ue("vs/editor/contrib/snippet/snippetVariables","MayShort","May"),ue("vs/editor/contrib/snippet/snippetVariables","JuneShort","Jun"),ue("vs/editor/contrib/snippet/snippetVariables","JulyShort","Jul"),ue("vs/editor/contrib/snippet/snippetVariables","AugustShort","Aug"),ue("vs/editor/contrib/snippet/snippetVariables","SeptemberShort","Sep"),ue("vs/editor/contrib/snippet/snippetVariables","OctoberShort","Oct"),ue("vs/editor/contrib/snippet/snippetVariables","NovemberShort","Nov"),ue("vs/editor/contrib/snippet/snippetVariables","DecemberShort","Dec")];class O${constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(i=this._workspaceService.getWorkspace()).configuration?{configPath:i.configuration,id:i.id}:1===i.folders.length?i.folders[0].uri:void 0;var i;return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if(D$(e))return wi(e.path);let t=wi(e.configPath.path);return t.endsWith("code-workspace")&&(t=t.substr(0,t.length-"code-workspace".length-1)),t}_resoveWorkspacePath(e){if(D$(e))return fz(e.fsPath);let t=wi(e.configPath.path),i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?fz(i):"/"}}class P${resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):void 0}}Sb(((e,t)=>{function i(t){const i=e.getColor(t);return i?i.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${i(Ey)}; outline-color: ${i(Dy)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${i(Ny)}; outline-color: ${i(Ty)}; }`)}));class F${constructor(e,t,i){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=i,this._placeholderGroups=is(t.placeholders,d$.compareByIndex),this._placeholderGroupsIdx=-1}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),s=Vi.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),r=i.isFinalTabstop?F$._decor.inactiveFinal:F$._decor.inactive,a=t.addDecoration(s,r);this._placeholderDecorations.set(i,a)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),n=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(n);e.push(Sm.replaceMove(n,t.transform.resolve(o)))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations((e=>{const i=new Set,n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const s=this._placeholderDecorations.get(o),r=this._editor.getModel().getDecorationRange(s);n.push(new Hi(r.startLineNumber,r.startColumn,r.endLineNumber,r.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(s,o.isFinalTabstop?F$._decor.activeFinal:F$._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const n=this._placeholderDecorations.get(t);e.changeDecorationOptions(n,t.isFinalTabstop?F$._decor.activeFinal:F$._decor.active),i.add(t)}}for(const[t,o]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(o,t.isFinalTabstop?F$._decor.inactiveFinal:F$._decor.inactive);return n}));return t?this.move(e):null!=i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof d$){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const t=this._placeholderDecorations.get(n),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(n.index);break}i.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(!o._placeholderDecorations);const s=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(s+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const r=this._placeholderDecorations.get(n);i.removeDecoration(r),this._placeholderDecorations.delete(n);for(const e of o._snippet.placeholders){const n=o._snippet.offset(e),s=o._snippet.fullLen(e),r=Vi.fromPositions(t.getPositionAt(o._offset+n),t.getPositionAt(o._offset+n+s)),a=i.addDecoration(r,F$._decor.inactive);this._placeholderDecorations.set(e,a)}}this._placeholderGroups=is(this._snippet.placeholders,d$.compareByIndex)}))}}F$._decor={active:Wv.register({stickiness:0,className:"snippet-placeholder"}),inactive:Wv.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:Wv.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Wv.register({stickiness:1,className:"finish-snippet-placeholder"})};const W$={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class B${constructor(e,t,i=W$){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=i}static adjustWhitespace(e,t,i,n,o){const s=$r(e.getLineContent(t.lineNumber),0,t.column-1);i.walk((t=>{if(t instanceof a$&&!(t.parent instanceof c$)){const i=t.value.split(/\r\n|\r|\n/);if(n)for(let t=1;t<i.length;t++){let n=$r(i[t]);i[t]=e.normalizeIndentation(s+n)+i[t].substr(n.length)}if(o){const n=i.join(e.getEOL());n!==t.value&&t.parent.replace(t,[new a$(n)])}}return!0}))}static adjustSelection(e,t,i,n){if(0!==i||0!==n){const{positionLineNumber:o,positionColumn:s}=t,r=s-i,a=s+n,l=e.validateRange({startLineNumber:o,startColumn:r,endLineNumber:o,endColumn:a});t=Hi.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,i,n,o,s,r,a){const l=[],d=[];if(!e.hasModel())return{edits:l,snippets:d};const c=e.getModel(),h=e.invokeWithinContext((e=>e.get(jm,ho))),u=e.invokeWithinContext((e=>new I$(e.get(IT,ho),c))),g=()=>r;let m=0,p=c.getValueInRange(B$.adjustSelection(c,e.getSelection(),i,0)),f=c.getValueInRange(B$.adjustSelection(c,e.getSelection(),0,n)),b=c.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const _=e.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>Vi.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:v,idx:w}of _){let r=B$.adjustSelection(c,v,i,0),C=B$.adjustSelection(c,v,0,n);p!==c.getValueInRange(r)&&(r=v),f!==c.getValueInRange(C)&&(C=v);const y=v.setStartPosition(r.startLineNumber,r.startColumn).setEndPosition(C.endLineNumber,C.endColumn),S=(new f$).parse(t,!0,o),k=y.getStartPosition();B$.adjustWhitespace(c,k,S,s||w>0&&b!==c.getLineFirstNonWhitespaceColumn(v.positionLineNumber),!0),S.resolveVariables(new N$([u,new M$(g,w,_.length,"spread"===e.getOption(62)),new T$(c,v,w,a),new R$(c,v),new A$,new O$(h),new P$]));const x=c.getOffsetAt(k)+m;m+=S.toString().length-c.getValueLengthInRange(y),l[w]=Sm.replace(y,S.toString()),l[w].identifier={major:w,minor:0},d[w]=new F$(e,S,x)}return{edits:l,snippets:d}}dispose(){Et(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=B$.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,(e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter((e=>!!e.identifier)).map((e=>Hi.fromPositions(e.range.getEndPosition()))))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=W$){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:i,snippets:n}=B$.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",i,(e=>{for(const t of this._snippets)t.merge(n);return console.assert(0===n.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter((e=>!!e.identifier)).map((e=>Hi.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(0===t.size)for(const[i,o]of n){o.sort(Vi.compareRangesUsingStarts);for(const n of e)if(o[0].containsRange(n)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...n.get(t))}))}e.sort(Vi.compareRangesUsingStarts);for(let[i,n]of t)if(n.length===e.length){n.sort(Vi.compareRangesUsingStarts);for(let o=0;o<n.length;o++)n[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}}var V$=function(e,t){return function(i,n){t(i,n,e)}};const H$={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let z$=class e{constructor(t,i,n){this._editor=t,this._logService=i,this._snippetListener=new Tt,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(n),this._hasNextTabstop=e.HasNextTabstop.bindTo(n),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(n)}static get(t){return t.getContribution(e.ID)}dispose(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Et(this._session),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?H$:Object.assign(Object.assign({},H$),t))}catch(le){this.cancel(),this._logService.error(le),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new B$(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState()))))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;var t,i;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map((e=>Hi.fromPositions(e.getStartPosition()))));const[n]=e.options;t=this._editor,i=e.options.map(((e,t)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(t+1),range:Vi.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,n.value.length))}))),setTimeout((()=>{E$.onlyOnceSuggestions.push(...i),t.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(E$))}),0)}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Et(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};z$.ID="snippetController2",z$.InSnippetMode=new uf("inSnippetMode",!1),z$.HasNextTabstop=new uf("hasNextTabstop",!1),z$.HasPrevTabstop=new uf("hasPrevTabstop",!1),z$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([V$(1,Tu),V$(2,gf)],z$),Pf(z$.ID,z$);const U$=Ef.bindToContribution(z$.get);Rf(new U$({id:"jumpToNextSnippetPlaceholder",precondition:Jp.and(z$.InSnippetMode,z$.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:QS.editorTextFocus,primary:2}})),Rf(new U$({id:"jumpToPrevSnippetPlaceholder",precondition:Jp.and(z$.InSnippetMode,z$.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:QS.editorTextFocus,primary:1026}})),Rf(new U$({id:"leaveSnippet",precondition:z$.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:QS.editorTextFocus,primary:9,secondary:[1033]}})),Rf(new U$({id:"acceptSnippet",precondition:z$.InSnippetMode,handler:e=>e.finish()}));var K$=function(e,t){return function(i,n){t(i,n,e)}};class q${constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;let n=i[0].score[0];for(let o=0;o<i.length;o++){const{score:e,completion:t}=i[o];if(e[0]!==n)break;if(t.preselect)return o}return 0}}class $$ extends q${constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}let j$=class e{constructor(e,t,i){this._storageService=e,this._modeService=t,this._configService=i,this._disposables=new Tt,this._persistSoon=new Go((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===hR.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){var n,o;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(n=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(i.lineNumber,i.column)))||void 0===n?void 0:n.language,resource:t.uri});if((null===(o=this._strategy)||void 0===o?void 0:o.name)!==s){this._saveState();const t=e._strategyCtors.get(s)||$$;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=this._storageService.get(`${e._storagePrefix}/${s}`,t);i&&this._strategy.fromJSON(JSON.parse(i))}catch(le){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,i=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,i,t)}}};j$._strategyCtors=new Map([["recentlyUsedByPrefix",class extends q${constructor(){super("recentlyUsedByPrefix"),this._trie=Yl.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageIdentifier().language}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){let{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);let o=`${e.getLanguageIdentifier().language}/${n}`,s=this._trie.get(o);if(s||(s=this._trie.findSubstr(o)),s)for(let r=0;r<i.length;r++){let{kind:e,insertText:t}=i[r].completion;if(e===s.type&&t===s.insertText)return r}return super.select(e,t,i)}toJSON(){let e=[];return this._trie.forEach(((t,i)=>e.push([i,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type="number"==typeof i.type?i.type:Dc(i.type),this._trie.set(t,i)}}}],["recentlyUsed",class extends q${constructor(){super("recentlyUsed"),this._cache=new Xl(300,.66),this._seq=0}memorize(e,t,i){const{label:n}=i.completion,o=`${e.getLanguageIdentifier().language}/${n}`;this._cache.set(o,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);let o=i[0].score[0],s=-1,r=-1,a=-1;for(let l=0;l<i.length&&i[l].score[0]===o;l++){const t=`${e.getLanguageIdentifier().language}/${i[l].completion.label}`,n=this._cache.peek(t);if(n&&n.touch>a&&n.type===i[l].completion.kind&&n.insertText===i[l].completion.insertText&&(a=n.touch,r=l),i[l].completion.preselect&&-1===s)return l}return-1!==r?r:-1!==s?s:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,i]of e)i.touch=0,i.type="number"==typeof i.type?i.type:Dc(i.type),this._cache.set(t,i);this._seq=this._cache.size}}],["first",$$]]),j$._storagePrefix="suggest/memories",j$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([K$(0,cR),K$(1,FD),K$(2,km)],j$);const G$=co("ISuggestMemories");OE(G$,j$,!0);let Z$=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){this._ckOtherSuggestions.reset(),Et(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){if(0===t.items.length)return void this.reset();e._moveIndex(!0,t,i)!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(;n=(n+t.items.length+(e?1:-1))%t.items.length,n!==i&&t.items[n].completion.additionalTextEdits;);return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};Z$.OtherSuggestions=new uf("hasOtherSuggestions",!1),Z$=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],Z$);class Y${constructor(e,t,i,n,o,s,r){this.clipboardText=r,this._snippetCompareFn=Y$._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,"top"===s?this._snippetCompareFn=Y$._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=Y$._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._allProvider}get incomplete(){return this._ensureCachedState(),this._isIncomplete}adopt(e){let t=[];for(let i=0;i<this._items.length;)e.has(this._items[i].provider)?i++:(t.push(this._items[i]),this._items[i]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._isIncomplete=new Set,this._allProvider=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};const{leadingLineContent:e,characterCountDelta:t}=this._lineContext;let i="",n="";const o=1===this._refilterKind?this._items:this._filteredItems,s=[],r=!this._options.filterGraceful||o.length>2e3?ic:cc;for(let d=0;d<o.length;d++){const c=o[d];if(c.isInvalid)continue;c.container.incomplete&&this._isIncomplete.add(c.provider),this._allProvider.add(c.provider);const h=c.position.column-c.editStart.column,u=h+t-(c.position.column-this._column);if(i.length!==u&&(i=0===u?"":e.slice(-u),n=i.toLowerCase()),c.word=i,0===u)c.score=ec.Default;else{let e=0;for(;e<h;){const t=i.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}const t="string"==typeof c.completion.label?c.completion.label:c.completion.label.name;if(e>=u)c.score=ec.Default;else if("string"==typeof c.completion.filterText){let o=r(i,n,e,c.completion.filterText,c.filterTextLow,0,!1);if(!o)continue;0===Yr(a=c.completion.filterText,l=t,0,a.length,0,l.length)?c.score=o:(c.score=qd(i,n,0,t,c.labelLow,0),c.score[0]=o[0])}else{let o=r(i,n,e,t,c.labelLow,0,!1);if(!o)continue;c.score=o}}switch(c.idx=d,c.distance=this._wordDistance.distance(c.position,c.completion),s.push(c),this._stats.suggestionCount++,c.completion.kind){case 27:this._stats.snippetCount++;break;case 18:this._stats.textCount++}}var a,l;this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return Y$._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return Y$._compareCompletionItems(e,t)}}var J$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class Q${static create(e,t){return J$(this,void 0,void 0,(function*(){if(!t.getOption(96).localityBonus)return Q$.None;if(!t.hasModel())return Q$.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return Q$.None;const[o]=yield(new Jq).provideSelectionRanges(i,[n]);if(0===o.length)return Q$.None;const s=yield e.computeWordRanges(i.uri,o[0].range);if(!s)return Q$.None;const r=i.getWordUntilPosition(n);return delete s[r.word],new class extends Q${distance(e,i){if(!n.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;let r="string"==typeof i.label?i.label:i.label.name,a=s[r];if(os(a))return 2<<20;let l=Qo(a,Vi.fromPositions(e),Vi.compareRangesUsingStarts),d=l>=0?a[l]:a[Math.max(0,~l-1)],c=o.length;for(const t of o){if(!Vi.containsRange(t.range,d))break;c-=1}return c}}}))}}Q$.None=new class extends Q${distance(){return 0}};var X$=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class ej{constructor(e,t,i,n){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=i,this.shy=n}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))}}class tj{constructor(e,t,i){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._toDispose=new Tt,this._quickSuggestDelay=10,this._triggerCharacterListener=new Tt,this._triggerQuickSuggest=new $o,this._state=0,this._completionDisposables=new Tt,this._onDidCancel=new Pt,this._onDidTrigger=new Pt,this._onDidSuggest=new Pt,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new Hi(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()}))),this._toDispose.add(Oc.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._onCursorChange(e)})));let n=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{n=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{n=!1,this._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{n||this._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}dispose(){Et(this._triggerCharacterListener),Et([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(71),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(72)||!this._editor.hasModel()||!this._editor.getOption(99))return;const e=new Map;for(const i of Oc.all(this._editor.getModel()))for(const t of i.triggerCharacters||[]){let n=e.get(t);n||(n=new Set,n.add(void 0),e.set(t,n)),n.add(i)}const t=t=>{var i;if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let n="";ra(t.charCodeAt(t.length-1))?sa(t.charCodeAt(t.length-2))&&(n=t.substr(t.length-2)):n=t.charAt(t.length-1);const o=e.get(n);if(o){const e=null===(i=this._completionModel)||void 0===i?void 0:i.adopt(o);this.trigger({auto:!0,shy:!1,triggerCharacter:n},Boolean(this._completionModel),o,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&Oc.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(Oc.has(t)&&0===this._state){if(!1===this._editor.getOption(70))return;if(!i.containsRange(this._currentSelection)&&!i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(96).snippetsPreventQuickSuggestions&&z$.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state)return;if(!ej.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(70);if(!1!==i){if(!0===i);else{e.tokenizeIfCheap(t.lineNumber);const n=e.getLineTokens(t.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(i.other&&0===o||i.comments&&1===o||i.strings&&2===o))return}this.trigger({auto:!0,shy:!1})}}),this._quickSuggestDelay)}}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=new ej(e,t,2===this._state,!1);this._onNewContext(i)}))}trigger(e,t=!1,i,n){var o;if(!this._editor.hasModel())return;const s=this._editor.getModel(),r=e.auto,a=new ej(s,this._editor.getPosition(),r,e.shy);this.cancel(t),this._state=r?2:1,this._onDidTrigger.fire({auto:r,shy:e.shy,position:this._editor.getPosition()}),this._context=a;let l={triggerKind:null!==(o=e.triggerKind)&&void 0!==o?o:0};e.triggerCharacter&&(l={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new Kt;const d=this._editor.getOption(93);let c=1;switch(d){case"top":c=0;break;case"bottom":c=2}let h=tj._createItemKindFilter(this._editor),u=Q$.create(this._editorWorkerService,this._editor),g=S$(s,this._editor.getPosition(),new C$(c,h,i),l,this._requestToken.token);Promise.all([g,u]).then((([t,i])=>X$(this,void 0,void 0,(function*(){if(Et(this._requestToken),0===this._state)return;if(!this._editor.hasModel())return;let o;(t.needsClipboard||ss(n))&&(o=yield this._clipboardService.readText());const s=this._editor.getModel();let a=t.items;if(ss(n)){const e=L$(c);a=a.concat(n).sort(e)}const l=new ej(s,this._editor.getPosition(),r,e.shy);this._completionModel=new Y$(a,this._context.column,{leadingLineContent:l.leadingLineContent,characterCountDelta:l.column-this._context.column},i,this._editor.getOption(96),this._editor.getOption(93),o),this._completionDisposables.add(t.dispoables),this._onNewContext(l)})))).catch(ft)}static _createItemKindFilter(e){const t=new Set;"none"===e.getOption(93)&&t.add(27);const i=e.getOption(96);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(27),i.showUsers||t.add(25),i.showIssues||t.add(26),t}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber){if(e.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(Oc.all(this._editor.getModel()));this._completionModel.allProvider.forEach((t=>e.delete(t)));const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,t)}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,t)}else{let t=this._completionModel.lineContext,i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(ej.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:i})}}else this.cancel()}}const ij=Tw("symbolIcon.arrayForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nj=Tw("symbolIcon.booleanForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),oj=Tw("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sj=Tw("symbolIcon.colorForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rj=Tw("symbolIcon.constantForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aj=Tw("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lj=Tw("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dj=Tw("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cj=Tw("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hj=Tw("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uj=Tw("symbolIcon.fileForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gj=Tw("symbolIcon.folderForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mj=Tw("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pj=Tw("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fj=Tw("symbolIcon.keyForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bj=Tw("symbolIcon.keywordForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_j=Tw("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vj=Tw("symbolIcon.moduleForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),wj=Tw("symbolIcon.namespaceForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cj=Tw("symbolIcon.nullForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yj=Tw("symbolIcon.numberForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sj=Tw("symbolIcon.objectForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kj=Tw("symbolIcon.operatorForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xj=Tw("symbolIcon.packageForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lj=Tw("symbolIcon.propertyForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ej=Tw("symbolIcon.referenceForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dj=Tw("symbolIcon.snippetForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nj=Tw("symbolIcon.stringForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tj=Tw("symbolIcon.structForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ij=Tw("symbolIcon.textForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mj=Tw("symbolIcon.typeParameterForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Rj=Tw("symbolIcon.unitForeground",{dark:Iw,light:Iw,hc:Iw},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Aj=Tw("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},ue("vs/editor/contrib/documentSymbols/outlineTree","symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));var Oj,Pj;function Fj(e,t,i,n){const o=n===Oj.ROOT_FOLDER?["rootfolder-icon"]:n===Oj.FOLDER?["folder-icon"]:["file-icon"];if(i){let s;if(i.scheme===bs.data){s=Za.parseMetaData(i).get(Za.META_DATA_LABEL)}else s=Wj(Ha(i).toLowerCase());if(n===Oj.FOLDER)o.push(`${s}-name-folder-icon`);else{if(s){o.push(`${s}-name-file-icon`);const e=s.split(".");for(let t=1;t<e.length;t++)o.push(`${e.slice(t).join(".")}-ext-file-icon`);o.push("ext-file-icon")}const n=function(e,t,i){if(!i)return null;let n=null;if(i.scheme===bs.data){const e=Za.parseMetaData(i).get(Za.META_DATA_MIME);e&&(n=t.getModeId(e))}else{const t=e.getModel(i);t&&(n=t.getModeId())}if(n&&"plaintext"!==n)return n;return t.getModeIdByFilepathOrFirstLine(i)}(e,t,i);n&&o.push(`${Wj(n)}-lang-file-icon`)}}return o}function Wj(e){return e.replace(/\s/g,"\\$&")}Sb(((e,t)=>{const i=e.getColor(ij);i&&t.addRule(`${bc.symbolArray.cssSelector} { color: ${i}; }`);const n=e.getColor(nj);n&&t.addRule(`${bc.symbolBoolean.cssSelector} { color: ${n}; }`);const o=e.getColor(oj);o&&t.addRule(`${bc.symbolClass.cssSelector} { color: ${o}; }`);const s=e.getColor(_j);s&&t.addRule(`${bc.symbolMethod.cssSelector} { color: ${s}; }`);const r=e.getColor(sj);r&&t.addRule(`${bc.symbolColor.cssSelector} { color: ${r}; }`);const a=e.getColor(rj);a&&t.addRule(`${bc.symbolConstant.cssSelector} { color: ${a}; }`);const l=e.getColor(aj);l&&t.addRule(`${bc.symbolConstructor.cssSelector} { color: ${l}; }`);const d=e.getColor(lj);d&&t.addRule(`\n\t\t\t${bc.symbolValue.cssSelector},${bc.symbolEnum.cssSelector} { color: ${d}; }`);const c=e.getColor(dj);c&&t.addRule(`${bc.symbolEnumMember.cssSelector} { color: ${c}; }`);const h=e.getColor(cj);h&&t.addRule(`${bc.symbolEvent.cssSelector} { color: ${h}; }`);const u=e.getColor(hj);u&&t.addRule(`${bc.symbolField.cssSelector} { color: ${u}; }`);const g=e.getColor(uj);g&&t.addRule(`${bc.symbolFile.cssSelector} { color: ${g}; }`);const m=e.getColor(gj);m&&t.addRule(`${bc.symbolFolder.cssSelector} { color: ${m}; }`);const p=e.getColor(mj);p&&t.addRule(`${bc.symbolFunction.cssSelector} { color: ${p}; }`);const f=e.getColor(pj);f&&t.addRule(`${bc.symbolInterface.cssSelector} { color: ${f}; }`);const b=e.getColor(fj);b&&t.addRule(`${bc.symbolKey.cssSelector} { color: ${b}; }`);const _=e.getColor(bj);_&&t.addRule(`${bc.symbolKeyword.cssSelector} { color: ${_}; }`);const v=e.getColor(vj);v&&t.addRule(`${bc.symbolModule.cssSelector} { color: ${v}; }`);const w=e.getColor(wj);w&&t.addRule(`${bc.symbolNamespace.cssSelector} { color: ${w}; }`);const C=e.getColor(Cj);C&&t.addRule(`${bc.symbolNull.cssSelector} { color: ${C}; }`);const y=e.getColor(yj);y&&t.addRule(`${bc.symbolNumber.cssSelector} { color: ${y}; }`);const S=e.getColor(Sj);S&&t.addRule(`${bc.symbolObject.cssSelector} { color: ${S}; }`);const k=e.getColor(kj);k&&t.addRule(`${bc.symbolOperator.cssSelector} { color: ${k}; }`);const x=e.getColor(xj);x&&t.addRule(`${bc.symbolPackage.cssSelector} { color: ${x}; }`);const L=e.getColor(Lj);L&&t.addRule(`${bc.symbolProperty.cssSelector} { color: ${L}; }`);const E=e.getColor(Ej);E&&t.addRule(`${bc.symbolReference.cssSelector} { color: ${E}; }`);const D=e.getColor(Dj);D&&t.addRule(`${bc.symbolSnippet.cssSelector} { color: ${D}; }`);const N=e.getColor(Nj);N&&t.addRule(`${bc.symbolString.cssSelector} { color: ${N}; }`);const T=e.getColor(Tj);T&&t.addRule(`${bc.symbolStruct.cssSelector} { color: ${T}; }`);const I=e.getColor(Ij);I&&t.addRule(`${bc.symbolText.cssSelector} { color: ${I}; }`);const M=e.getColor(Mj);M&&t.addRule(`${bc.symbolTypeParameter.cssSelector} { color: ${M}; }`);const R=e.getColor(Rj);R&&t.addRule(`${bc.symbolUnit.cssSelector} { color: ${R}; }`);const A=e.getColor(Aj);A&&t.addRule(`${bc.symbolVariable.cssSelector} { color: ${A}; }`)})),(Pj=Oj||(Oj={}))[Pj.FILE=0]="FILE",Pj[Pj.FOLDER=1]="FOLDER",Pj[Pj.ROOT_FOLDER=2]="ROOT_FOLDER";var Bj=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},Vj=function(e,t){return function(i,n){t(i,n,e)}},Hj=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};const zj=fc("suggest-more-info",bc.chevronRight),Uj=Tw("editorSuggestWidget.background",{dark:SC,light:SC,hc:SC},ue("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetBackground","Background color of the suggest widget.")),Kj=Tw("editorSuggestWidget.border",{dark:xC,light:xC,hc:xC},ue("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetBorder","Border color of the suggest widget.")),qj=Tw("editorSuggestWidget.foreground",{dark:yC,light:yC,hc:yC},ue("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetForeground","Foreground color of the suggest widget.")),$j=Tw("editorSuggestWidget.selectedBackground",{dark:sy,light:sy,hc:sy},ue("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),jj=Tw("editorSuggestWidget.highlightForeground",{dark:py,light:py,hc:py},ue("vs/editor/contrib/suggest/suggestWidget","editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),Gj=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function Zj(e){if(!e)return!1;const t=e.completion;return!!t.documentation||t.detail&&t.detail!==t.label}function Yj(e){return`suggest-aria-id:${e}`}let Jj=class{constructor(e,t,i,n,o,s){this.widget=e,this.editor=t,this.triggerKeybindingLabel=i,this._modelService=n,this._modeService=o,this._themeService=s}get templateId(){return"suggestion"}renderTemplate(e){const t=Object.create(null);t.disposables=new Tt,t.root=e,t.root.classList.add("show-file-icons"),t.icon=vr(e,xr(".icon")),t.colorspan=vr(t.icon,xr("span.colorspan"));const i=vr(e,xr(".contents")),n=vr(i,xr(".main"));t.iconContainer=vr(n,xr(".icon-label.codicon")),t.left=vr(n,xr("span.left")),t.right=vr(n,xr("span.right")),t.iconLabel=new jR(t.left,{supportHighlights:!0,supportCodicons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=vr(t.left,xr("span.signature-label")),t.qualifierLabel=vr(t.left,xr("span.qualifier-label")),t.detailsLabel=vr(t.right,xr("span.details-label")),t.readMore=vr(t.right,xr("span.readMore"+zj.cssSelector)),t.readMore.title=ue("vs/editor/contrib/suggest/suggestWidget","readMore","Read More ({0})",this.triggerKeybindingLabel);const o=()=>{const e=this.editor.getOptions(),i=e.get(36),o=i.fontFamily,s=i.fontFeatureSettings,r=e.get(97)||i.fontSize,a=e.get(98)||i.lineHeight,l=i.fontWeight,d=`${r}px`,c=`${a}px`;t.root.style.fontSize=d,t.root.style.fontWeight=l,n.style.fontFamily=o,n.style.fontFeatureSettings=s,n.style.lineHeight=c,t.icon.style.height=c,t.icon.style.width=c,t.readMore.style.height=c,t.readMore.style.width=c};return o(),t.disposables.add(St.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(36)||e.hasChanged(97)||e.hasChanged(98))).on(o,null)),t}renderElement(e,t,i){const n=i,o=e.completion,s="string"==typeof o.label?o.label:o.label.name;n.root.id=Yj(t),n.colorspan.style.backgroundColor="";const r={labelEscapeNewLines:!0,matches:$d(e.score)};let a=[];if(19===o.kind&&function(e,t){const i="string"==typeof e.completion.label?e.completion.label:e.completion.label.name;return i.match(Gj)?(t[0]=i,!0):!("string"!=typeof e.completion.documentation||!e.completion.documentation.match(Gj)||(t[0]=e.completion.documentation,0))}(e,a))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=a[0];else if(20===o.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const e=Fj(this._modelService,this._modeService,Di.from({scheme:"fake",path:s}),Oj.FILE),t=Fj(this._modelService,this._modeService,Di.from({scheme:"fake",path:o.detail}),Oj.FILE);r.extraClasses=e.length>t.length?e:t}else 23===o.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",r.extraClasses=hs([Fj(this._modelService,this._modeService,Di.from({scheme:"fake",path:s}),Oj.FOLDER),Fj(this._modelService,this._modeService,Di.from({scheme:"fake",path:o.detail}),Oj.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",Es(n.iconContainer,`suggest-icon ${Ec(o.kind)}`));o.tags&&o.tags.indexOf(1)>=0&&(r.extraClasses=(r.extraClasses||[]).concat(["deprecated"]),r.matches=[]),n.iconLabel.setLabel(s,void 0,r),"string"==typeof o.label?(n.parametersLabel.textContent="",n.qualifierLabel.textContent="",n.detailsLabel.textContent=(o.detail||"").replace(/\n.*$/m,""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=(o.label.parameters||"").replace(/\n.*$/m,""),n.qualifierLabel.textContent=(o.label.qualifier||"").replace(/\n.*$/m,""),n.detailsLabel.textContent=(o.label.type||"").replace(/\n.*$/m,""),n.root.classList.remove("string-label")),Zj(e)?(n.right.classList.add("can-expand-details"),Lr(n.readMore),n.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},n.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this.widget.toggleDetails()}):(n.right.classList.remove("can-expand-details"),Er(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};Jj=Bj([Vj(3,wd),Vj(4,FD),Vj(5,bb)],Jj);class Qj{constructor(e,t,i,n,o){this.widget=t,this.editor=i,this.markdownRenderer=n,this.kbToggleDetails=o,this.borderWidth=1,this.disposables=new Tt,this.el=vr(e,xr(".details")),this.disposables.add(Nt((()=>e.removeChild(this.el)))),this.body=xr(".body"),this.scrollbar=new Qk(this.body,{}),vr(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=vr(this.body,xr(".header")),this.close=vr(this.header,xr("span"+bc.close.cssSelector)),this.close.title=ue("vs/editor/contrib/suggest/suggestWidget","readLess","Read Less ({0})",this.kbToggleDetails),this.type=vr(this.header,xr("p.type")),this.docs=vr(this.body,xr("p.docs")),this.configureFont(),St.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(36))).on(this.configureFont,this,this.disposables),n.onDidRenderCodeBlock((()=>this.scrollbar.scanDomNode()),this,this.disposables)}get element(){return this.el}renderLoading(){this.type.textContent=ue("vs/editor/contrib/suggest/suggestWidget","loading","Loading..."),this.docs.textContent=""}renderItem(e,t){Et(this.renderDisposeable),this.renderDisposeable=void 0;let{documentation:i,detail:n}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}${e.word?`, compared '${e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label}' with '${e.word}'`:" (no prefix)"}\n`,t+=`distance: ${e.distance}, see localityBonus-setting\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,i=(new dF).appendCodeblock("empty",t),n=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!Zj(e))return this.type.textContent="",this.docs.textContent="",void this.el.classList.add("no-docs");if(this.el.classList.remove("no-docs"),"string"==typeof i)this.docs.classList.remove("markdown-docs"),this.docs.textContent=i;else{this.docs.classList.add("markdown-docs"),this.docs.innerText="";const e=this.markdownRenderer.render(i);this.renderDisposeable=e,this.docs.appendChild(e.element)}n?(this.type.innerText=n.length>1e5?`${n.substr(0,1e5)}…`:n,Lr(this.type)):(this.type.innerText="",Er(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this.close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()}scrollDown(e=8){this.body.scrollTop+=e}scrollUp(e=8){this.body.scrollTop-=e}scrollTop(){this.body.scrollTop=0}scrollBottom(){this.body.scrollTop=this.body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}setBorderWidth(e){this.borderWidth=e}configureFont(){const e=this.editor.getOptions(),t=e.get(36),i=t.fontFamily,n=e.get(97)||t.fontSize,o=e.get(98)||t.lineHeight,s=t.fontWeight,r=`${n}px`,a=`${o}px`;this.el.style.fontSize=r,this.el.style.fontWeight=s,this.el.style.fontFeatureSettings=t.fontFeatureSettings,this.type.style.fontFamily=i,this.close.style.height=a,this.close.style.width=a}dispose(){this.disposables.dispose(),Et(this.renderDisposeable),this.renderDisposeable=void 0}}let Xj=class e{constructor(e,t,i,n,o,s,r,a,l,d){var c,h;this.editor=e,this.telemetryService=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=0,this.isAddedAsContentWidget=!1,this.isAuto=!1,this.loadingTimeout=It.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new $o,this.toDispose=new Tt,this.onDidSelectEmitter=new Pt,this.onDidFocusEmitter=new Pt,this.onDidHideEmitter=new Pt,this.onDidShowEmitter=new Pt,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new Pt,this.onDetailsKeyDown=this._onDetailsKeydown.event;const u=this.toDispose.add(new yK(e,r,a)),g=null!==(h=null===(c=i.lookupKeybinding("toggleSuggestionDetails"))||void 0===c?void 0:c.getLabel())&&void 0!==h?h:"";this.isAuto=!1,this.focusedItem=null,this.storageService=s,this.element=xr(".editor-widget.suggest-widget"),this.toDispose.add(Ms(this.element,"click",(e=>{e.target===this.element&&this.hideWidget()}))),this.messageElement=vr(this.element,xr(".message")),this.listElement=vr(this.element,xr(".tree"));const m=()=>this.element.classList.toggle("with-status-bar",this.editor.getOption(96).statusBar.visible);m(),this.statusBarElement=vr(this.element,xr(".suggest-status-bar"));const p=e=>{const t=i.lookupKeybindings(e.id);return new class extends GE{constructor(){super(void 0,e,{label:!0,icon:!1})}updateLabel(){if(os(t)||!this.label)return super.updateLabel();const{label:e}=this.getAction();this.label.textContent=/{\d}/.test(e)?Pr(this.getAction().label,t[0].getLabel()):`${this.getAction().label} (${t[0].getLabel()})`}}},f=new ZE(this.statusBarElement,{actionViewItemProvider:p}),b=new ZE(this.statusBarElement,{actionViewItemProvider:p}),_=l.createMenu(v$,n);this.toDispose.add(_.onDidChange((()=>(()=>{const e=[],t=[];for(let[i,n]of _.getActions())"left"===i?e.push(...n):t.push(...n);f.clear(),f.push(e),b.clear(),b.push(t)})()))),this.toDispose.add(_),this.details=d.createInstance(Qj,this.element,this,this.editor,u,g);const v=()=>this.element.classList.toggle("no-icons",!this.editor.getOption(96).showIcons);v();let w=d.createInstance(Jj,this,this.editor,g);this.list=new _I("SuggestWidget",this.listElement,this,[w],{useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{const t="string"==typeof e.completion.label?e.completion.label:e.completion.label.name;if(e.isResolved&&this.expandDocsSettingFromStorage()){const{documentation:i,detail:n}=e.completion;return ue("vs/editor/contrib/suggest/suggestWidget","ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",t,Pr("{0}{1}",n||"",i?"string"==typeof i?i:i.value:""))}return t},getWidgetAriaLabel:()=>ue("vs/editor/contrib/suggest/suggestWidget","suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this.toDispose.add(bT(this.list,o,{listInactiveFocusBackground:$j,listInactiveFocusOutline:Pw})),this.toDispose.add(o.onDidColorThemeChange((e=>this.onThemeChange(e)))),this.toDispose.add(e.onDidLayoutChange((()=>this.onEditorLayoutChange()))),this.toDispose.add(this.list.onMouseDown((e=>this.onListMouseDownOrTap(e)))),this.toDispose.add(this.list.onTap((e=>this.onListMouseDownOrTap(e)))),this.toDispose.add(this.list.onDidChangeSelection((e=>this.onListSelection(e)))),this.toDispose.add(this.list.onDidChangeFocus((e=>this.onListFocus(e)))),this.toDispose.add(this.editor.onDidChangeCursorSelection((()=>this.onCursorSelectionChanged()))),this.toDispose.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(96)&&(m(),v())}))),this.ctxSuggestWidgetVisible=_$.Visible.bindTo(n),this.ctxSuggestWidgetDetailsVisible=_$.DetailsVisible.bindTo(n),this.ctxSuggestWidgetMultipleSuggestions=_$.MultipleSuggestions.bindTo(n),this.onThemeChange(o.getColorTheme()),this.toDispose.add(As(this.details.element,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this.toDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e))))}onEditorMouseDown(e){this.details.element.contains(e.target.element)?this.details.element.focus():this.element.contains(e.target.element)&&this.editor.focus()}onCursorSelectionChanged(){0!==this.state&&this.editor.layoutContentWidget(this)}onEditorLayoutChange(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()}onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))}onListSelection(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])}select(e,t){const i=this.completionModel;i&&(this.onDidSelectEmitter.fire({item:e,index:t,model:i}),this.editor.focus())}onThemeChange(e){const t=e.getColor(Uj);t&&(this.listElement.style.backgroundColor=t.toString(),this.statusBarElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());const i=e.getColor(Kj);i&&(this.listElement.style.borderColor=i.toString(),this.statusBarElement.style.borderColor=i.toString(),this.details.element.style.borderColor=i.toString(),this.messageElement.style.borderColor=i.toString(),this.detailsBorderColor=i.toString());const n=e.getColor(Aw);n&&(this.detailsFocusBorderColor=n.toString()),this.details.setBorderWidth("hc"===e.type?2:1)}onListFocus(e){if(this.ignoreFocusEvents)return;if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this.completionModel)return;const t=e.elements[0],i=e.indexes[0];this.firstFocusInCurrentList=!this.focusedItem,t!==this.focusedItem&&(this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=t,this.list.reveal(i),this.currentSuggestionDetails=Vo((e=>Hj(this,void 0,void 0,(function*(){const i=Ko((()=>this.showDetails(!0)),250);e.onCancellationRequested((()=>i.dispose()));const n=yield t.resolve(e);return i.dispose(),n})))),this.currentSuggestionDetails.then((()=>{i>=this.list.length||t!==this.list.element(i)||(this.ignoreFocusEvents=!0,this.list.splice(i,1,[t]),this.list.setFocus([i]),this.ignoreFocusEvents=!1,this.expandDocsSettingFromStorage()?this.showDetails(!1):this.element.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:Yj(i)}))})).catch(ft)),this.onDidFocusEmitter.fire({item:t,index:i,model:this.completionModel})}setState(t){if(!this.element)return;this.isAddedAsContentWidget||0===t||(this.isAddedAsContentWidget=!0,this.editor.addContentWidget(this));const i=this.state!==t;switch(this.state=t,this.element.classList.toggle("frozen",4===t),t){case 0:Er(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,i&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,Er(this.listElement,this.details.element,this.statusBarElement),Lr(this.messageElement),this.element.classList.remove("docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,Er(this.listElement,this.details.element,this.statusBarElement),Lr(this.messageElement),this.element.classList.remove("docs-side"),this.show(),this.focusedItem=null;break;case 3:Er(this.messageElement),Lr(this.listElement,this.statusBarElement),this.show();break;case 4:Er(this.messageElement),Lr(this.listElement),this.show();break;case 5:Er(this.messageElement),Lr(this.details.element,this.listElement,this.statusBarElement),this.show()}}showTriggered(e,t){0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=Ko((()=>this.setState(1)),t)))}showSuggestions(e,t,i,n){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),i&&2!==this.state&&0!==this.state)return void this.setState(4);let o=this.completionModel.items.length;const s=0===o;if(this.ctxSuggestWidgetMultipleSuggestions.set(o>1),s)n?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){const{stats:e}=this.completionModel;e.wasAutomaticallyTriggered=!!n,this.telemetryService.publicLog("suggestWidget",Object.assign({},e))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),i?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}selectNextPage(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}}selectNext(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}}selectLast(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}}selectPreviousPage(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}}selectPrevious(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}}selectFirst(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}}getFocusedItem(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}}toggleDetailsFocus(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")}toggleDetails(){if(Zj(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.ctxSuggestWidgetDetailsVisible.set(!1),this.updateExpandDocsSetting(!1),Er(this.details.element),this.element.classList.remove("docs-side","doc-below"),this.editor.layoutContentWidget(this),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.ctxSuggestWidgetDetailsVisible.set(!0),this.updateExpandDocsSetting(!0),this.showDetails(!1),this.telemetryService.publicLog2("suggestWidget:expandDetails")}}showDetails(e){e||this.expandSideOrBelow(),Lr(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()}toggleExplainMode(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))}show(){const e=this.updateListHeight();e!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=e),this.ctxSuggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet((()=>{this.element.classList.add("visible"),this.onDidShowEmitter.fire(this)}),100)}hide(){this.editor.layoutContentWidget(this),this.ctxSuggestWidgetVisible.reset(),this.ctxSuggestWidgetMultipleSuggestions.reset(),this.element.classList.remove("visible")}hideWidget(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)}getPosition(){if(0===this.state)return null;let e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}}getDomNode(){return this.element}getId(){return e.ID}isFrozen(){return 4===this.state}updateListHeight(){let e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{const t=this.list.contentHeight/this.unfocusedHeight,{maxVisibleSuggestions:i}=this.editor.getOption(96);e=Math.min(t,i)*this.unfocusedHeight}return this.element.style.lineHeight=`${this.unfocusedHeight}px`,this.listElement.style.height=`${e}px`,this.statusBarElement.style.top=`${e}px`,this.list.layout(e),e}adjustDocsPosition(){if(!this.editor.hasModel())return;const e=this.editor.getOption(51),t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),i=Ys(this.editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height,s=Ys(this.element),r=s.left,a=s.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<a&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=a,r<n-this.listWidth?this.element.classList.add("list-right"):this.element.classList.remove("list-right"),this.element.classList.contains("docs-side")&&o-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}expandSideOrBelow(){if(!Zj(this.focusedItem)&&this.firstFocusInCurrentList)return void this.element.classList.remove("docs-side","docs-below");let e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(this.element.classList.add("docs-below"),this.element.classList.remove("docs-side")):Zj(this.focusedItem)&&(this.element.classList.add("docs-side"),this.element.classList.remove("docs-below"))}get maxWidgetHeight(){return this.unfocusedHeight*this.editor.getOption(96).maxVisibleSuggestions}get unfocusedHeight(){const e=this.editor.getOptions();return e.get(98)||e.get(36).lineHeight}getHeight(e){return this.unfocusedHeight}getTemplateId(e){return"suggestion"}expandDocsSettingFromStorage(){return this.storageService.getBoolean("expandSuggestionDocs",0,false)}updateExpandDocsSetting(e){this.storageService.store("expandSuggestionDocs",e,0)}dispose(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose(),this.editor.removeContentWidget(this)}};Xj.ID="editor.widget.suggestWidget",Xj.LOADING_MESSAGE=ue("vs/editor/contrib/suggest/suggestWidget","suggestWidget.loading","Loading..."),Xj.NO_SUGGESTIONS_MESSAGE=ue("vs/editor/contrib/suggest/suggestWidget","suggestWidget.noSuggestions","No suggestions."),Xj=Bj([Vj(1,Sf),Vj(2,DD),Vj(3,gf),Vj(4,bb),Vj(5,cR),Vj(6,FD),Vj(7,ml),Vj(8,_f),Vj(9,ao)],Xj),Sb(((e,t)=>{const i=e.getColor(jj);i&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${i}; }`);const n=e.getColor(qj);n&&t.addRule(`.monaco-editor .suggest-widget { color: ${n}; }`);const o=e.getColor(Fw);o&&t.addRule(`.monaco-editor .suggest-widget a { color: ${o}; }`);const s=e.getColor(Ww);s&&t.addRule(`.monaco-editor .suggest-widget code { background-color: ${s}; }`)}));let eG=class e extends It{constructor(t,i){super(),this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._register(this._editor.onDidChangeConfiguration((e=>e.hasChanged(101)&&this._update()))),this._update()}dispose(){super.dispose(),Et(this._selectionListener),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(101);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),i=e.getWordAtPosition(t.getStartPosition());i?this._ckAtEnd.set(i.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};eG.AtEnd=new uf("atEndOfWord",!1),eG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],eG);class tG{constructor(e,t,i){this._disposables=new Tt,this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((n=>{if(this._active&&!t.isFrozen()){const t=n.charCodeAt(n.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&i(this._active.item)}})))}_onItem(e){if(!e||!ss(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new _u;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}class iG{constructor(e,t){this._disposables=new Tt,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType((()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),i=t.length;let n=!1;for(let e=0;e<i;e++)if(!t[e].isEmpty()){n=!0;break}if(!n)return;this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<i;e++){const i=t[e];if(o.getValueLengthInRange(i)>iG._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}this._empty=!1}))),this._disposables.add(t.onDidCancel((e=>{this._empty||(this._empty=!0)})))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}iG._maxSelectionLength=51200;var nG=function(e,t){return function(i,n){t(i,n,e)}};class oG{constructor(e,t){this._model=e,this._position=t;if(e.getLineMaxColumn(t.lineNumber)!==t.column){const i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:Vi.fromPositions(t,n),options:{stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let sG=class e{constructor(e,t,i,n,o,s,r,a){this._memoryService=i,this._commandService=n,this._contextKeyService=o,this._instantiationService=s,this._logService=r,this._lineSuffix=new Mt,this._toDispose=new Tt,this.editor=e,this.model=new tj(this.editor,t,a),this.widget=this._toDispose.add(new Zo((()=>{const e=this._instantiationService.createInstance(Xj,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new tG(this.editor,e,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest((e=>{0===e.completionModel.items.length&&t.reset()})));const i=_$.MakesTextEdit.bindTo(this._contextKeyService),n=_$.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=_$.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add(Nt((()=>{i.reset(),n.reset(),o.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),s=e.editStart.column,r=t.column;let a=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.command||e.completion.additionalTextEdits||4&e.completion.insertTextRules||r-s!==e.completion.insertText.length)){a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:s,endLineNumber:t.lineNumber,endColumn:r})!==e.completion.insertText}i.set(a),n.set(!Bi.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeybinding().equals(new ei(!0,!1,!1,!1,33))||xe&&e.toKeybinding().equals(new ei(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new Zo((()=>this._toDispose.add(new iG(this.editor,this.model))))),this._alternatives=this._toDispose.add(new Zo((()=>this._toDispose.add(new Z$(this.editor,this._contextKeyService))))),this._toDispose.add(s.createInstance(eG,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new oG(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{if(!e.shy){let t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items);this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));let l=_$.AcceptSuggestionsOnEnter.bindTo(o),d=()=>{const e=this.editor.getOption(1);l.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>d()))),d()}static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const i=this.editor.getModel(),n=i.getAlternativeVersionId(),{item:o}=e,s=[],r=new Kt;1&t||this.editor.pushUndoStop();const a=this.getOverwriteInfo(o,Boolean(8&t));if(this._memoryService.memorize(i,this.editor.getPosition(),o),Array.isArray(o.completion.additionalTextEdits)){const e=zE.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",o.completion.additionalTextEdits.map((e=>Sm.replace(Vi.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!o.isResolved){const e=new Fu(!0);let n;const a=i.onDidChangeContent((e=>{if(e.isFlush)return r.cancel(),void a.dispose();for(let t of e.changes){const e=Vi.getEndPosition(t.range);n&&!Bi.isBefore(e,n)||(n=e)}}));let l=t;t|=2;let d=!1,c=this.editor.onWillType((()=>{c.dispose(),d=!0,2&l||this.editor.pushUndoStop()}));s.push(o.resolve(r.token).then((()=>{if(!o.completion.additionalTextEdits||r.token.isCancellationRequested)return!1;if(n&&o.completion.additionalTextEdits.some((e=>Bi.isBefore(n,Vi.getStartPosition(e.range)))))return!1;d&&this.editor.pushUndoStop();const e=zE.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",o.completion.additionalTextEdits.map((e=>Sm.replace(Vi.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!d&&2&l||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),a.dispose(),c.dispose()})))}let{insertText:l}=o.completion;4&o.completion.insertTextRules||(l=f$.escape(l)),z$.get(this.editor).insert(l,{overwriteBefore:a.overwriteBefore,overwriteAfter:a.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&o.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),o.completion.command?o.completion.command.id===rG.id?this.model.trigger({auto:!0,shy:!1},!0):(s.push(this._commandService.executeCommand(o.completion.command.id,...o.completion.command.arguments?[...o.completion.command.arguments]:[]).catch(ft)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,(e=>{for(r.cancel();i.canUndo();){n!==i.getAlternativeVersionId()&&i.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(o),Promise.all(s).finally((()=>{this.model.clear(),r.dispose()}))}getOverwriteInfo(e,t){ol(this.editor.hasModel());let i="replace"===this.editor.getOption(96).insertMode;t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:n+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem({completion:e}){const t="string"==typeof e.label?e.label:e.label.name;if(ss(e.additionalTextEdits)){Op(ue("vs/editor/contrib/suggest/suggestController","arai.alert.snippet","Accepting '{0}' made {1} additional edits",t,e.additionalTextEdits.length))}}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),i=e.editStart.column,n=t.column;if(n-i!==e.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n})!==e.completion.insertText};St.once(this.model.onDidTrigger)((e=>{let t=[];St.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{Et(t),i()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if(Et(t),0===e.items.length)return void i();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),s=e.items[o];n(s)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:s,model:e},7)):i()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(t.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}};sG.ID="editor.contrib.suggestController",sG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([nG(1,ah),nG(2,G$),nG(3,hl),nG(4,gf),nG(5,ao),nG(6,Tu),nG(7,aD)],sG);class rG extends Df{constructor(){super({id:rG.id,label:ue("vs/editor/contrib/suggest/suggestController","suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:Jp.and(QS.writable,QS.hasCompletionItemProvider),kbOpts:{kbExpr:QS.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})}run(e,t){const i=sG.get(t);i&&i.triggerSuggest()}}rG.id="editor.action.triggerSuggest",Pf(sG.ID,sG),Af(rG);const aG=Ef.bindToContribution(sG.get);Rf(new aG({id:"acceptSelectedSuggestion",precondition:_$.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),Wm.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Jp.and(_$.Visible,QS.textInputFocus),primary:2,weight:190}),Wm.registerKeybindingRule({id:"acceptSelectedSuggestion",when:Jp.and(_$.Visible,QS.textInputFocus,_$.AcceptSuggestionsOnEnter,_$.MakesTextEdit),primary:3,weight:190}),vf.appendMenuItem(v$,{command:{id:"acceptSelectedSuggestion",title:ue("vs/editor/contrib/suggest/suggestController",{key:"accept.accept",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")},group:"left",order:1,when:_$.HasInsertAndReplaceRange.toNegated()}),vf.appendMenuItem(v$,{command:{id:"acceptSelectedSuggestion",title:ue("vs/editor/contrib/suggest/suggestController",{key:"accept.insert",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")},group:"left",order:1,when:Jp.and(_$.HasInsertAndReplaceRange,Jp.equals("config.editor.suggest.insertMode","insert"))}),vf.appendMenuItem(v$,{command:{id:"acceptSelectedSuggestion",title:ue("vs/editor/contrib/suggest/suggestController",{key:"accept.replace",comment:['{0} will be a keybinding, e.g "Enter to replace"']},"{0} to replace")},group:"left",order:1,when:Jp.and(_$.HasInsertAndReplaceRange,Jp.equals("config.editor.suggest.insertMode","replace"))}),Rf(new aG({id:"acceptAlternativeSelectedSuggestion",precondition:Jp.and(_$.Visible,QS.textInputFocus),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:v$,group:"left",order:2,when:Jp.and(_$.HasInsertAndReplaceRange,Jp.equals("config.editor.suggest.insertMode","insert")),title:ue("vs/editor/contrib/suggest/suggestController",{key:"accept.replace",comment:['{0} will be a keybinding, e.g "Enter to replace"']},"{0} to replace")},{menuId:v$,group:"left",order:2,when:Jp.and(_$.HasInsertAndReplaceRange,Jp.equals("config.editor.suggest.insertMode","replace")),title:ue("vs/editor/contrib/suggest/suggestController",{key:"accept.insert",comment:['{0} will be a keybinding, e.g "Enter to insert"']},"{0} to insert")}]})),ul.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),Rf(new aG({id:"hideSuggestWidget",precondition:_$.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:9,secondary:[1033]}})),Rf(new aG({id:"selectNextSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),Rf(new aG({id:"selectNextPageSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:12,secondary:[2060]}})),Rf(new aG({id:"selectLastSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),Rf(new aG({id:"selectPrevSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),Rf(new aG({id:"selectPrevPageSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:11,secondary:[2059]}})),Rf(new aG({id:"selectFirstSuggestion",precondition:Jp.and(_$.Visible,_$.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),Rf(new aG({id:"toggleSuggestionDetails",precondition:_$.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:v$,group:"right",order:1,when:Jp.and(_$.DetailsVisible,_$.CanResolve),title:ue("vs/editor/contrib/suggest/suggestController","detail.more","show less")},{menuId:v$,group:"right",order:1,when:Jp.and(_$.DetailsVisible.toNegated(),_$.CanResolve),title:ue("vs/editor/contrib/suggest/suggestController","detail.less","show more")}]})),Rf(new aG({id:"toggleExplainMode",precondition:_$.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),Rf(new aG({id:"toggleSuggestionFocus",precondition:_$.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:2570,mac:{primary:778}}})),Rf(new aG({id:"insertBestCompletion",precondition:Jp.and(QS.textInputFocus,Jp.equals("config.editor.tabCompletion","on"),eG.AtEnd,_$.Visible.toNegated(),Z$.OtherSuggestions.toNegated(),z$.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest(Xa(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:190,primary:2}})),Rf(new aG({id:"insertNextSuggestion",precondition:Jp.and(QS.textInputFocus,Jp.equals("config.editor.tabCompletion","on"),Z$.OtherSuggestions,_$.Visible.toNegated(),z$.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:2}})),Rf(new aG({id:"insertPrevSuggestion",precondition:Jp.and(QS.textInputFocus,Jp.equals("config.editor.tabCompletion","on"),Z$.OtherSuggestions,_$.Visible.toNegated(),z$.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:190,kbExpr:QS.textInputFocus,primary:1026}}));Af(class extends Df{constructor(){super({id:"editor.action.forceRetokenize",label:ue("vs/editor/contrib/tokenization/tokenization","forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getModel();i.resetTokenization();const n=new Fu(!0);i.forceTokenization(i.getLineCount()),n.stop(),console.log(`tokenization took ${n.elapsed()}`)}});class lG extends Df{constructor(){super({id:lG.ID,label:ue("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",{key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const i=!dm.getTabFocusMode();dm.setTabFocusMode(i),Op(i?ue("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):ue("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}lG.ID="editor.action.toggleTabFocusMode",Af(lG);var dG=function(e,t){return function(i,n){t(i,n,e)}},cG=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let hG=class extends It{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._config=this._editor.getOption(103),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(103)&&(this._config=this._editor.getOption(103),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()})))}_checkForUnusualLineTerminators(){return cG(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(!0===function(e,t){return e.getModelProperty(t.uri,"ignoreUnusualLineTerminators")}(this._codeEditorService,e))return;if(this._editor.getOption(72))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());(yield this._dialogService.confirm({title:ue("unusualLineTerminators.title","Unusual Line Terminators"),message:ue("unusualLineTerminators.message","Detected unusual line terminators"),detail:ue("unusualLineTerminators.detail","This file contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`."),primaryButton:ue("unusualLineTerminators.fix","Fix this file"),secondaryButton:ue("unusualLineTerminators.ignore","Ignore problem for this file")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,i){e.setModelProperty(t.uri,"ignoreUnusualLineTerminators",i)}(this._codeEditorService,e,!0)}))}};hG.ID="editor.contrib.unusualLineTerminatorsDetector",hG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([dG(1,xT),dG(2,uo)],hG),Pf(hG.ID,hG);var uG=function(e,t){return function(i,n){t(i,n,e)}};let gG=class e extends It{constructor(e,t,i,n){super(),this._modelService=t,this._themeService=i,this._configurationService=n,this._editor=e,this._tokenizeViewport=new Go((()=>this._tokenizeViewportNow()),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange((()=>{this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModelContent((e=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(th.onDidChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.semanticHighlighting")&&(this._cancelAll(),this._tokenizeViewport.schedule())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()})))}static _getSemanticColoringProvider(e){const t=th.ordered(e);return t.length>0?t[0]:null}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,i=this._outstandingRequests.length;t<i;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const t=this._editor.getModel();if(t.hasSemanticTokens())return;if(!lN(t,this._themeService,this._configurationService))return;const i=e._getSemanticColoringProvider(t);if(!i)return;const n=this._modelService.getSemanticTokensProviderStyling(i),o=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(o.map((e=>this._requestRange(t,e,i,n))))}_requestRange(e,t,i,n){const o=e.getVersionId(),s=Vo((n=>Promise.resolve(i.provideDocumentRangeSemanticTokens(e,t,n))));return s.then((i=>{i&&!e.isDisposed()&&e.getVersionId()===o&&e.setPartialSemanticTokens(t,eN(i,n,e.getLanguageIdentifier()))})).then((()=>this._removeOutstandingRequest(s)),(()=>this._removeOutstandingRequest(s))),s}};gG.ID="editor.contrib.viewportSemanticTokens",gG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([uG(1,wd),uG(2,bb),uG(3,km)],gG),Pf(gG.ID,gG);const mG=Tw("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),pG=Tw("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),fG=Tw("editor.wordHighlightBorder",{light:null,dark:null,hc:Pw},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),bG=Tw("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:Pw},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),_G=Tw("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),vG=Tw("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},ue("vs/editor/contrib/wordHighlighter/wordHighlighter","overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),wG=new uf("hasWordHighlights",!1);function CG(e,t,i){return qo(Bc.ordered(e).map((n=>()=>Promise.resolve(n.provideDocumentHighlights(e,t,i)).then(void 0,bt))),ss)}class yG{constructor(e,t,i){this._wordRange=this._getCurrentWordRange(e,t),this.result=Vo((n=>this._compute(e,t,i,n)))}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new Vi(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,s=t.endColumn,r=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(r));for(let l=0,d=i.length;!a&&l<d;l++){let t=e.getDecorationRange(i[l]);t&&t.startLineNumber===n&&t.startColumn<=o&&t.endColumn>=s&&(a=!0)}return a}cancel(){this.result.cancel()}}class SG extends yG{_compute(e,t,i,n){return CG(e,t.getPosition(),n).then((e=>e||[]))}}class kG extends yG{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return Uo(250,n).then((()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());if(!n||n.word.length>1e3)return[];return e.findMatches(n.word,!0,!1,!0,i,!1).map((e=>({range:e.range,kind:Tc.Text})))}))}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}Mf("_executeDocumentHighlights",((e,t)=>CG(e,t,Ht.None)));class xG{constructor(e,t){this.toUnhook=new Tt,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=wG.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(63),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{let t=this.editor.getOption(63);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return ns(this._decorationIds.map((e=>this.model.getDecorationRange(e))).sort(Vi.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),t=(ls(e,(e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){Op(`${this.editor.getModel().getLineContent(i.startLineNumber)}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(ls(e,(e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){Op(`${this.editor.getModel().getLineContent(i.startLineNumber)}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,i=e.endColumn;const n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(s=this.model,r=this.editor.getSelection(),a=this.editor.getOption(105),Bc.has(s)?new SG(s,r,a):new kG(s,r,a)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),ft)}var s,r,a}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:xG._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===Tc.Write?this._WRITE_OPTIONS:e===Tc.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}xG._WRITE_OPTIONS=Wv.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:_b(vG),position:Vl.Center}}),xG._TEXT_OPTIONS=Wv.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:_b(My),position:Vl.Center}}),xG._REGULAR_OPTIONS=Wv.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:_b(_G),position:Vl.Center}});let LG=class e extends It{constructor(e,t){super(),this.wordHighlighter=null;const i=()=>{e.hasModel()&&(this.wordHighlighter=new xG(e,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),i()}))),i()}static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};LG.ID="editor.contrib.wordHighlighter",LG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(1,gf)],LG);class EG extends Df{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=LG.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}Pf(LG.ID,LG),Af(class extends EG{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:wG,kbOpts:{kbExpr:QS.editorTextFocus,primary:65,weight:100}})}}),Af(class extends EG{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:wG,kbOpts:{kbExpr:QS.editorTextFocus,primary:1089,weight:100}})}}),Af(class extends Df{constructor(){super({id:"editor.action.wordHighlight.trigger",label:ue("vs/editor/contrib/wordHighlighter/wordHighlighter","wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:wG.toNegated(),kbOpts:{kbExpr:QS.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=LG.get(t);n&&n.restoreViewState(!0)}}),Sb(((e,t)=>{const i=e.getColor(OC);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));const n=e.getColor(mG);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=e.getColor(pG);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const s=e.getColor(PC);s&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const r=e.getColor(fG);r&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; box-sizing: border-box; }`);const a=e.getColor(bG);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}));class DG extends Ef{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=M_(t.getOption(105)),o=t.getModel(),s=t.getSelections().map((e=>{const t=new Bi(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",0,s.map((e=>Qv.fromModelSelection(e)))),1===s.length){const e=new Bi(s[0].positionLineNumber,s[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new Hi(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Hi(t.lineNumber,t.column,t.lineNumber,t.column)}}class NG extends DG{_move(e,t,i,n){return VS.moveWordLeft(e,t,i,n)}}class TG extends DG{_move(e,t,i,n){return VS.moveWordRight(e,t,i,n)}}class IG extends Ef{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=M_(t.getOption(105)),o=t.getModel(),s=t.getSelections().map((e=>{const t=this._delete(n,o,e,this._whitespaceHeuristics,this._wordNavigationType);return new MS(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class MG extends IG{_delete(e,t,i,n,o){let s=VS.deleteWordLeft(e,t,i,n,o);return s||new Vi(1,1,1,1)}}class RG extends IG{_delete(e,t,i,n,o){let s=VS.deleteWordRight(e,t,i,n,o);if(s)return s;const r=t.getLineCount(),a=t.getLineMaxColumn(r);return new Vi(r,a,r,a)}}Rf(new class extends NG{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:2063,mac:{primary:527},weight:100}})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:2065,mac:{primary:529},weight:100}})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.textInputFocus,iE),win:{primary:2063},weight:101}})}_move(e,t,i,n){return super._move(M_(mt.wordSeparators.defaultValue),t,i,n)}}),Rf(new class extends NG{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.textInputFocus,iE),win:{primary:3087},weight:101}})}_move(e,t,i,n){return super._move(M_(mt.wordSeparators.defaultValue),t,i,n)}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.textInputFocus,iE),win:{primary:2065},weight:101}})}_move(e,t,i,n){return super._move(M_(mt.wordSeparators.defaultValue),t,i,n)}}),Rf(new class extends TG{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:Jp.and(QS.textInputFocus,iE),win:{primary:3089},weight:101}})}_move(e,t,i,n){return super._move(M_(mt.wordSeparators.defaultValue),t,i,n)}}),Rf(new class extends MG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:QS.writable})}}),Rf(new class extends MG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:QS.writable})}}),Rf(new class extends MG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),Rf(new class extends RG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:QS.writable})}}),Rf(new class extends RG{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:QS.writable})}}),Rf(new class extends RG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}});class AG extends DG{_move(e,t,i,n){return HS.moveWordPartLeft(e,t,i)}}ul.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");ul.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class OG extends DG{_move(e,t,i,n){return HS.moveWordPartRight(e,t,i)}}Rf(new class extends IG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t,i,n,o){let s=HS.deleteWordPartLeft(e,t,i,n);return s||new Vi(1,1,1,1)}}),Rf(new class extends IG{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:QS.writable,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t,i,n,o){let s=HS.deleteWordPartRight(e,t,i,n);if(s)return s;const r=t.getLineCount(),a=t.getLineMaxColumn(r);return new Vi(r,a,r,a)}}),Rf(new class extends AG{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),Rf(new class extends AG{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),Rf(new class extends OG{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),Rf(new class extends OG{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:QS.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}});var PG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},FG=function(e,t){return function(i,n){t(i,n,e)}};const WG=new uf("accessibilityHelpWidgetVisible",!1);let BG=class e extends It{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(VG,this._editor))}static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};BG.ID="editor.contrib.accessibilityHelpController",BG=PG([FG(1,ao)],BG);let VG=class e extends Ik{constructor(e,t,i,n){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=n,this._editor=e,this._isVisibleKey=WG.bindTo(this._contextKeyService),this._domNode=qf(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=qf(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(As(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&(Op(Ym.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),Cs(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){Op(Ym.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(Di.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){let n=this._keybindingService.lookupKeybinding(e);return n?Pr(t,n.getAriaLabel()):Pr(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{i+=e.getValueLengthInRange(t)}))}let n=function(e,t){return e&&0!==e.length?1===e.length?t?Pr(Ym.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):Pr(Ym.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?Pr(Ym.multiSelectionRange,e.length,t):e.length>0?Pr(Ym.multiSelection,e.length):"":Ym.noSelection}(t,i);e.get(47)?e.get(72)?n+=Ym.readonlyDiffEditor:n+=Ym.editableDiffEditor:e.get(72)?n+=Ym.readonlyEditor:n+=Ym.editableEditor;const o=xe?Ym.changeConfigToOnMac:Ym.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+o;break;case 2:n+="\n\n - "+Ym.auto_on;break;case 1:n+="\n\n - "+Ym.auto_off,n+=" "+o}e.get(116)?n+="\n\n - "+this._descriptionForCommand(lG.ID,Ym.tabFocusModeOnMsg,Ym.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(lG.ID,Ym.tabFocusModeOffMsg,Ym.tabFocusModeOffMsgNoKb);n+="\n\n - "+(xe?Ym.openDocMac:Ym.openDocWinLinux),n+="\n\n"+Ym.outroMsg,this._contentDomNode.domNode.appendChild(uA(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,Cs(this._contentDomNode.domNode),this._editor.focus())}_layout(){let t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);let o=Math.round((t.height-n)/2);this._domNode.setTop(o);let s=Math.round((t.width-i)/2);this._domNode.setLeft(s)}};VG.ID="editor.contrib.accessibilityHelpWidget",VG.WIDTH=500,VG.HEIGHT=300,VG=PG([FG(1,gf),FG(2,DD),FG(3,ml)],VG);Pf(BG.ID,BG),Af(class extends Df{constructor(){super({id:"editor.action.showAccessibilityHelp",label:Ym.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){let i=BG.get(t);i&&i.show()}});Rf(new(Ef.bindToContribution(BG.get))({id:"closeAccessibilityHelp",precondition:WG,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:QS.focus,primary:9,secondary:[1033]}})),Sb(((e,t)=>{const i=e.getColor(SC);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`);const n=e.getColor(kC);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=e.getColor(Bw);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const s=e.getColor(Ow);s&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${s}; }`)}));class HG extends It{constructor(e){super(),this.editor=e,this.widget=null,So&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(72);!this.widget&&e?this.widget=new zG(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}HG.ID="editor.contrib.iPadShowKeyboard";class zG extends It{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(Ms(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(Ms(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return zG.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}zG.ID="editor.contrib.ShowKeyboardWidget",Pf(HG.ID,HG);var UG=function(e,t){return function(i,n){t(i,n,e)}};let KG=class e extends It{constructor(e,t,i){super(),this._editor=e,this._modeService=i,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(ih.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new qG(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};KG.ID="editor.contrib.inspectTokens",KG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([UG(1,ED),UG(2,FD)],KG);class qG extends It{constructor(e,t){var i;super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=(i=this._model.getLanguageIdentifier(),ih.get(i.language)||{getInitialState:()=>nh,tokenize:(e,t,n)=>sh(i.language,0,t,n),tokenize2:(e,t,n)=>rh(i.id,0,t,n)}),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return qG._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),i=0;for(let a=t.tokens1.length-1;a>=0;a--){let n=t.tokens1[a];if(e.column-1>=n.offset){i=a;break}}let n=0;for(let a=t.tokens2.length>>>1;a>=0;a--)if(e.column-1>=t.tokens2[a<<1]){n=a;break}let o=this._model.getLineContent(e.lineNumber),s="";if(i<t.tokens1.length){let e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;s=o.substring(e,n)}Cr(this._domNode,xr("h2.tm-token",void 0,function(e){let t="";for(let i=0,n=e.length;i<n;i++){let n=e.charCodeAt(i);switch(n){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(n)}}return t}(s),xr("span.tm-token-length",void 0,`${s.length} ${1===s.length?"char":"chars"}`))),vr(this._domNode,xr("hr.tokens-inspect-separator",{style:"clear:both"}));const r=1+(n<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(n<<1)]):null;vr(this._domNode,xr("table.tm-metadata-table",void 0,xr("tbody",void 0,xr("tr",void 0,xr("td.tm-metadata-key",void 0,"language"),xr("td.tm-metadata-value",void 0,`${r?r.languageIdentifier.language:"-?-"}`)),xr("tr",void 0,xr("td.tm-metadata-key",void 0,"token type"),xr("td.tm-metadata-value",void 0,`${r?this._tokenTypeToString(r.tokenType):"-?-"}`)),xr("tr",void 0,xr("td.tm-metadata-key",void 0,"font style"),xr("td.tm-metadata-value",void 0,`${r?this._fontStyleToString(r.fontStyle):"-?-"}`)),xr("tr",void 0,xr("td.tm-metadata-key",void 0,"foreground"),xr("td.tm-metadata-value",void 0,`${r?yv.Format.CSS.formatHex(r.foreground):"-?-"}`)),xr("tr",void 0,xr("td.tm-metadata-key",void 0,"background"),xr("td.tm-metadata-value",void 0,`${r?yv.Format.CSS.formatHex(r.background):"-?-"}`))))),vr(this._domNode,xr("hr.tokens-inspect-separator")),i<t.tokens1.length&&vr(this._domNode,xr("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=ih.getColorMap(),i=Lc.getLanguageId(e),n=Lc.getTokenType(e),o=Lc.getFontStyle(e),s=Lc.getForeground(e),r=Lc.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:n,fontStyle:o,foreground:t[s],background:t[r]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),t,0),n=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),t,0);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}qG._ID="editor.contrib.inspectTokensWidget",Pf(KG.ID,KG),Af(class extends Df{constructor(){super({id:"editor.action.inspectTokens",label:Qm.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){let i=KG.get(t);i&&i.launch()}}),Sb(((e,t)=>{const i=e.getColor($C);if(i){let n="hc"===e.type?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${i}; }`)}const n=e.getColor(KC);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=e.getColor(qC);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)}));let $G=class e{constructor(e){this.quickInputService=e,this.registry=$g.as(HA)}provide(t){const i=new Tt;i.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(t.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})));const{editorProviders:n,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===n.length||0===o.length?[...0===n.length?o:n]:[{label:ue("vs/platform/quickinput/browser/helpQuickAccess","globalCommands","global commands"),type:"separator"},...o,{label:ue("vs/platform/quickinput/browser/helpQuickAccess","editorCommands","editor commands"),type:"separator"},...n],i}getQuickAccessProviders(){const t=[],i=[];for(const n of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(n.prefix!==e.PREFIX)for(const e of n.helpEntries){const o=e.prefix||n.prefix,s=o||"…";(e.needsEditor?i:t).push({prefix:o,label:s,ariaLabel:ue("vs/platform/quickinput/browser/helpQuickAccess","helpPickAriaLabel","{0}, {1}",s,e.description),description:e.description})}return{editorProviders:i,globalProviders:t}}};$G.PREFIX="?",$G=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,WA)],$G),$g.as(HA).registerQuickAccessProvider({ctor:$G,prefix:"",helpEntries:[{description:ep.helpQuickAccessActionLabel,needsEditor:!0}]});class jG{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new Tt;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=n.add(new Mt);return o.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange((()=>{o.value=void 0,o.value=this.doProvide(e,t)}))),n}doProvide(e,t){const i=new Tt,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const o=Hg(n);if(o){let e=cl(n.saveViewState());i.add(o.onDidChangeCursorPosition((()=>{e=cl(n.saveViewState())}))),i.add(mx(t.onCancellationRequested)((()=>{e&&n===this.activeTextEditorControl&&n.restoreViewState(e)})))}i.add(Nt((()=>this.clearDecorations(n)))),i.add(this.provideWithTextEditor(n,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation(e,t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return Vg(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:_b(yS),position:Vl.Full}}}],[o,s]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:s}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}class GG extends jG{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=ue("vs/editor/contrib/quickAccess/gotoLineQuickAccess","cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,It.None}provideWithTextEditor(e,t,i){const n=new Tt;n.add(t.onDidAccept((i=>{const[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(e,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}})));const o=()=>{const i=this.parsePosition(e,t.value.trim().substr(GG.PREFIX.length)),n=this.getPickLabel(e,i.lineNumber,i.column);if(t.items=[{lineNumber:i.lineNumber,column:i.column,label:n}],t.ariaLabel=n,!this.isValidLineNumber(e,i.lineNumber))return void this.clearDecorations(e);const o=this.toRange(i.lineNumber,i.column);e.revealRangeInCenter(o,0),this.addDecorations(e,o)};o(),n.add(t.onDidChangeValue((()=>o())));const s=Hg(e);if(s){2===s.getOptions().get(52).renderType&&(s.updateOptions({lineNumbers:"on"}),n.add(Nt((()=>s.updateOptions({lineNumbers:"relative"})))))}return n}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?ue("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineColumnLabel","Go to line {0} and column {1}.",t,i):ue("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?ue("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):ue("vs/editor/contrib/quickAccess/gotoLineQuickAccess","gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!=typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}GG.PREFIX=":";let ZG=class extends GG{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=St.None}get activeTextEditorControl(){return cl(this.editorService.getFocusedCodeEditor())}};ZG=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,uo)],ZG),$g.as(HA).registerQuickAccessProvider({ctor:ZG,prefix:ZG.PREFIX,helpEntries:[{description:Xm.gotoLineActionLabel,needsEditor:!0}]});Af(class extends Df{constructor(){super({id:"editor.action.gotoLine",label:Xm.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(WA).quickAccess.show(ZG.PREFIX)}});const YG=[void 0,[]];function JG(e,t,i=0,n=0){const o=t;return o.values&&o.values.length>1?function(e,t,i,n){let o=0;const s=[];for(const r of t){const[t,a]=QG(e,r,i,n);if("number"!=typeof t)return YG;o+=t,s.push(...a)}return[o,XG(s)]}(e,o.values,i,n):QG(e,t,i,n)}function QG(e,t,i,n){const o=ic(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,!0);return o?[o[0],$d(o)]:YG}function XG(e){const t=e.sort(((e,t)=>e.start-t.start)),i=[];let n;for(const o of t)n&&eZ(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,i.push(o));return i}function eZ(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function tZ(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:i,normalized:n,normalizedLowercase:o}=iZ(e),s=i.indexOf(yi)>=0;let r;const a=e.split(" ");if(a.length>1)for(const l of a){const{pathNormalized:e,normalized:t,normalizedLowercase:i}=iZ(l);t&&(r||(r=[]),r.push({original:l,originalLowercase:l.toLowerCase(),pathNormalized:e,normalized:t,normalizedLowercase:i}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:r,containsPathSeparator:s}}function iZ(e){let t;t=ke?e.replace(/\//g,yi):e.replace(/\\/g,yi);const i=(n=t,n.replace(/\*/g,"")).replace(/\s/g,"");var n;return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function nZ(e){return Array.isArray(e)?tZ(e.map((e=>e.original)).join(" ")):tZ(e.original)}var oZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};class sZ extends jG{constructor(e=Object.create(null)){super(e),this.options=e,e.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),It.None}provideWithTextEditor(e,t,i){const n=this.getModel(e);return n?Wc.has(n)?this.doProvideWithEditorSymbols(e,n,t,i):this.doProvideWithoutEditorSymbols(e,n,t,i):It.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new Tt;return this.provideLabelPick(i,ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{oZ(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,o))&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return oZ(this,void 0,void 0,(function*(){if(Wc.has(e))return!0;let i;const n=new Promise((e=>i=e)),o=t.add(Wc.onDidChange((()=>{Wc.has(e)&&(o.dispose(),i(!0))})));return t.add(Nt((()=>i(!1)))),n}))}doProvideWithEditorSymbols(e,t,i,n){const o=new Tt;o.add(i.onDidAccept((t=>{const[n]=i.selectedItems;n&&n.range&&(this.gotoLocation(e,{range:n.range.selection,keyMods:i.keyMods,preserveFocus:t.inBackground}),t.inBackground||i.hide())}))),o.add(i.onDidTriggerItemButton((({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:i.keyMods,forceSideBySide:!0}),i.hide())})));const s=this.getDocumentSymbols(t,!0,n);let r;const a=()=>oZ(this,void 0,void 0,(function*(){null==r||r.dispose(!0),i.busy=!1,r=new Kt(n),i.busy=!0;try{const e=tZ(i.value.substr(sZ.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(s,e,void 0,r.token);if(n.isCancellationRequested)return;t.length>0?i.items=t:e.original.length>0?this.provideLabelPick(i,ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(i,ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","noSymbolResults","No editor symbols"))}finally{n.isCancellationRequested||(i.busy=!1)}}));o.add(i.onDidChangeValue((()=>a()))),a();let l=!0;return o.add(i.onDidChangeActive((()=>{const[t]=i.activeItems;if(t&&t.range){if(l)return void(l=!1);e.revealRangeInCenter(t.range.selection,0),this.addDecorations(e,t.range.decoration)}}))),o}doGetSymbolPicks(e,t,i,n){return oZ(this,void 0,void 0,(function*(){const o=yield e;if(n.isCancellationRequested)return[];const s=0===t.original.indexOf(sZ.SCOPE_PREFIX),r=s?1:0;let a,l;t.values&&t.values.length>1?(a=nZ(t.values[0]),l=nZ(t.values.slice(1))):a=t;const d=[];for(let e=0;e<o.length;e++){const n=o[e],s=Br(n.name),c=`$(symbol-${Ic.toString(n.kind)||"property"}) ${s}`,h=c.length-s.length;let u,g,m,p,f=n.containerName;if((null==i?void 0:i.extraContainerLabel)&&(f=f?`${i.extraContainerLabel} • ${f}`:i.extraContainerLabel),t.original.length>r){let e=!1;if(a!==t&&([u,g]=JG(c,Object.assign(Object.assign({},t),{values:void 0}),r,h),"number"==typeof u&&(e=!0)),"number"!=typeof u&&([u,g]=JG(c,a,r,h),"number"!=typeof u))continue;if(!e&&l){if(f&&l.original.length>0&&([m,p]=JG(f,l)),"number"!=typeof m)continue;"number"==typeof u&&(u+=m)}}const b=n.tags&&n.tags.indexOf(1)>=0;d.push({index:e,kind:n.kind,score:u,label:c,ariaLabel:s,description:f,highlights:b?void 0:{label:g,description:p},range:{selection:Vi.collapseToStart(n.selectionRange),decoration:n.range},strikethrough:b,buttons:(()=>{var e,t;const i=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(i)return[{iconClass:"right"===i?bc.splitHorizontal.classNames:bc.splitVertical.classNames,tooltip:"right"===i?ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToSide","Open to the Side"):ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","openToBottom","Open to the Bottom")}]})()})}const c=d.sort(((e,t)=>s?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let h=[];if(s){let e,t,i=function(){t&&"number"==typeof e&&n>0&&(t.label=Pr(aZ[e]||rZ,n))},n=0;for(const o of c)e!==o.kind?(i(),e=o.kind,n=1,t={type:"separator"},h.push(t)):n++,h.push(o);i()}else c.length>0&&(h=[{label:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","symbols","symbols ({0})",d.length),type:"separator"},...c]);return h}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=aZ[e.kind]||rZ,n=aZ[t.kind]||rZ,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t,i){return oZ(this,void 0,void 0,(function*(){const n=yield bH.create(e,i);if(i.isCancellationRequested)return[];const o=[];for(const e of n.children.values())e instanceof pH?o.push(e.symbol):o.push(...yt.map(e.children.values(),(e=>e.symbol)));let s=[];return t?this.flattenDocumentSymbols(s,o,""):s=o,s.sort(((e,t)=>Vi.compareRangesUsingStarts(e.range,t.range)))}))}flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&this.flattenDocumentSymbols(e,n.children,n.name)}}sZ.PREFIX="@",sZ.SCOPE_PREFIX=":",sZ.PREFIX_BY_CATEGORY=`${sZ.PREFIX}${sZ.SCOPE_PREFIX}`;const rZ=ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),aZ={5:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","method","methods ({0})"),11:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","function","functions ({0})"),8:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","_constructor","constructors ({0})"),12:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","variable","variables ({0})"),4:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","class","classes ({0})"),22:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","struct","structs ({0})"),23:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","event","events ({0})"),24:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","operator","operators ({0})"),10:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","interface","interfaces ({0})"),2:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","namespace","namespaces ({0})"),3:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","package","packages ({0})"),25:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","typeParameter","type parameters ({0})"),1:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","modules","modules ({0})"),6:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","property","properties ({0})"),9:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enum","enumerations ({0})"),21:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","enumMember","enumeration members ({0})"),14:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","string","strings ({0})"),0:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","file","files ({0})"),17:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","array","arrays ({0})"),15:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","number","numbers ({0})"),16:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","boolean","booleans ({0})"),18:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","object","objects ({0})"),19:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","key","keys ({0})"),7:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","field","fields ({0})"),13:ue("vs/editor/contrib/quickAccess/gotoSymbolQuickAccess","constant","constants ({0})")};let lZ=class extends sZ{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=St.None}get activeTextEditorControl(){return cl(this.editorService.getFocusedCodeEditor())}};lZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([function(e,t){return function(i,n){t(i,n,e)}}(0,uo)],lZ),$g.as(HA).registerQuickAccessProvider({ctor:lZ,prefix:sZ.PREFIX,helpEntries:[{description:np.quickOutlineActionLabel,prefix:sZ.PREFIX,needsEditor:!0},{description:np.quickOutlineByCategoryActionLabel,prefix:sZ.PREFIX_BY_CATEGORY,needsEditor:!0}]});Af(class extends Df{constructor(){super({id:"editor.action.quickOutline",label:np.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:QS.hasDocumentSymbolProvider,kbOpts:{kbExpr:QS.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(WA).quickAccess.show(sZ.PREFIX)}});var dZ,cZ,hZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};function uZ(e){const t=e;return Array.isArray(t.items)}(cZ=dZ||(dZ={}))[cZ.NO_ACTION=0]="NO_ACTION",cZ[cZ.CLOSE_PICKER=1]="CLOSE_PICKER",cZ[cZ.REFRESH_PICKER=2]="REFRESH_PICKER",cZ[cZ.REMOVE_ITEM=3]="REMOVE_ITEM";class gZ extends It{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const n=new Tt;let o;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=n.add(new Mt),r=()=>hZ(this,void 0,void 0,(function*(){const i=s.value=new Tt;null==o||o.dispose(!0),e.busy=!1,o=new Kt(t);const n=o.token,r=e.value.substr(this.prefix.length).trim(),a=this.getPicks(r,i,n),l=(t,i)=>{var n;let o,s;if(uZ(t)?(o=t.items,s=t.active):o=t,0===o.length){if(i)return!1;r.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=[this.options.noResultsPick])}return e.items=o,s&&(e.activeItems=[s]),!0};if(null===a);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(a)){let t=!1,i=!1;yield Promise.all([(()=>hZ(this,void 0,void 0,(function*(){yield Uo(gZ.FAST_PICKS_RACE_DELAY),n.isCancellationRequested||i||(t=l(a.picks,!0))})))(),(()=>hZ(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield a.additionalPicks;if(n.isCancellationRequested)return;let s,r,d,c;if(uZ(a.picks)?(s=a.picks.items,r=a.picks.active):s=a.picks,uZ(o)?(d=o.items,c=o.active):d=o,d.length>0||!t){let t;if(!r&&!c){const i=e.activeItems[0];i&&-1!==s.indexOf(i)&&(t=i)}l({items:[...s,...d],active:r||c||t})}}finally{n.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(a instanceof Promise){e.busy=!0;try{const t=yield a;if(n.isCancellationRequested)return;l(t)}finally{n.isCancellationRequested||(e.busy=!1)}}else l(a)}));return n.add(e.onDidChangeValue((()=>r()))),r(),n.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),n.add(e.onDidTriggerItemButton((({button:i,item:n})=>hZ(this,void 0,void 0,(function*(){var o,s;if("function"==typeof n.trigger){const a=null!==(s=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==s?s:-1;if(a>=0){const i=n.trigger(a,e.keyMods),o="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(o){case dZ.NO_ACTION:break;case dZ.CLOSE_PICKER:e.hide();break;case dZ.REFRESH_PICKER:r();break;case dZ.REMOVE_ITEM:const t=e.items.indexOf(n);if(-1!==t){const i=e.items.slice();i.splice(t,1),e.items=i}}}}}))))),n}}function mZ(e,t){return t&&(e.stack||e.stacktrace)?ue("vs/base/common/errorMessage","stackTrace.format","{0}: {1}",fZ(e),pZ(e.stack)||pZ(e.stacktrace)):fZ(e)}function pZ(e){return Array.isArray(e)?e.join("\n"):e}function fZ(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?ue("vs/base/common/errorMessage","nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||ue("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function bZ(e=null,t=!1){if(!e)return ue("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const i=ns(e),n=bZ(i[0],t);return i.length>1?ue("vs/base/common/errorMessage","error.moreErrors","{0} ({1} errors in total)",n,i.length):n}if(Qa(e))return e;if(e.detail){const i=e.detail;if(i.error)return mZ(i.error,t);if(i.exception)return mZ(i.exception,t)}return e.stack?mZ(e,t):e.message?e.message:ue("vs/base/common/errorMessage","error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}gZ.FAST_PICKS_RACE_DELAY=200;var _Z=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r},vZ=function(e,t){return function(i,n){t(i,n,e)}},wZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let CZ=class e extends gZ{constructor(t,i,n,o,s,r){super(e.PREFIX,t),this.options=t,this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=s,this.notificationService=r,this.commandsHistory=this._register(this.instantiationService.createInstance(yZ))}getPicks(t,i,n){return wZ(this,void 0,void 0,(function*(){const o=yield this.getCommandPicks(i,n);if(n.isCancellationRequested)return[];const s=[];for(const i of o){const n=cl(e.WORD_FILTER(t,i.label)),o=i.commandAlias?cl(e.WORD_FILTER(t,i.commandAlias)):void 0;n||o?(i.highlights={label:n,detail:this.options.showAlias?o:void 0},s.push(i)):t===i.commandId&&s.push(i)}const r=new Map;for(const e of s){const t=r.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):r.set(e.label,e)}s.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)}));const a=[];let l=!1;for(let e=0;e<s.length;e++){const t=s[e],i=this.keybindingService.lookupKeybinding(t.commandId),n=i?ue("vs/platform/quickinput/browser/commandsQuickAccess","commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:ue("vs/platform/quickinput/browser/commandsQuickAccess","recentlyUsed","recently used")}),l=!0),0!==e&&l&&!this.commandsHistory.peek(t.commandId)&&(a.push({type:"separator",label:ue("vs/platform/quickinput/browser/commandsQuickAccess","morecCommands","other commands")}),l=!1),a.push(Object.assign(Object.assign({},t),{ariaLabel:n,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>wZ(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){vt(e)||this.notificationService.error(ue("vs/platform/quickinput/browser/commandsQuickAccess","canNotRun","Command '{0}' resulted in an error ({1})",t.label,bZ(e)))}}))}))}return a}))}};CZ.PREFIX=">",CZ.WORD_FILTER=kd(xd,(function(e,t,i=!1){if(!t||0===t.length)return null;let n=null,o=0;for(e=e.toLowerCase(),t=t.toLowerCase();o<t.length&&null===(n=Bd(e,t,0,o,i));)o=Vd(t,o+1);return n}),Ld),CZ=_Z([vZ(1,ao),vZ(2,DD),vZ(3,hl),vZ(4,Sf),vZ(5,$m)],CZ);let yZ=class e extends It{constructor(t,i,n){super(),this.storageService=t,this.configurationService=i,this.configuredCommandsHistoryLength=0,n.registerStorageKey({key:e.PREF_KEY_CACHE,version:1}),n.registerStorageKey({key:e.PREF_KEY_COUNTER,version:1}),this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(o){}const n=e.cache=new Xl(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0),t.store(e.PREF_KEY_COUNTER,e.counter,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};yZ.DEFAULT_COMMANDS_HISTORY_LENGTH=50,yZ.PREF_KEY_CACHE="commandPalette.mru.cache",yZ.PREF_KEY_COUNTER="commandPalette.mru.counter",yZ.counter=1,yZ=_Z([vZ(0,cR),vZ(1,km),vZ(2,QA)],yZ);class SZ extends CZ{constructor(e,t,i,n,o,s){super(e,t,i,n,o,s)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:kc(i.label)||i.id});return t}}var kZ=function(e,t){return function(i,n){t(i,n,e)}},xZ=function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(le){s(le)}}function a(e){try{l(n.throw(e))}catch(le){s(le)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};let LZ=class extends SZ{constructor(e,t,i,n,o,s){super({showAlias:!1},e,i,n,o,s),this.codeEditorService=t}get activeTextEditorControl(){return cl(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return xZ(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};LZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([kZ(0,ao),kZ(1,uo),kZ(2,DD),kZ(3,hl),kZ(4,Sf),kZ(5,$m)],LZ),$g.as(HA).registerQuickAccessProvider({ctor:LZ,prefix:LZ.PREFIX,helpEntries:[{description:tp.quickCommandHelp,needsEditor:!0}]});Af(class extends Df{constructor(){super({id:"editor.action.quickCommand",label:tp.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:QS.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(WA).quickAccess.show(LZ.PREFIX)}});var EZ=function(e,t){return function(i,n){t(i,n,e)}};let DZ=class extends $z{constructor(e,t,i,n,o,s,r){super(!0,e,t,i,n,o,s,r)}};DZ=function(e,t,i,n){var o,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(s<3?o(r):s>3?o(t,i,r):o(t,i))||r);return s>3&&r&&Object.defineProperty(t,i,r),r}([EZ(1,gf),EZ(2,uo),EZ(3,$m),EZ(4,ao),EZ(5,cR),EZ(6,km)],DZ),Pf($z.ID,DZ);Af(class extends Df{constructor(){super({id:"editor.action.toggleHighContrast",label:ap.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(ED);this._originalThemeName?(i.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=i.getColorTheme().themeName,i.setTheme("hc-black"))}});var NZ=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CancellationTokenSource:gP,Emitter:mP,KeyCode:pP,KeyMod:fP,Position:bP,Range:_P,Selection:vP,SelectionDirection:wP,MarkerSeverity:CP,MarkerTag:yP,Uri:SP,Token:kP,editor:xP,languages:LP});export{m as A,I as B,w as C,s as D,L as E,d as F,M as G,R as H,ce as I,xP as J,t as K,l as L,O as M,H as N,a as O,Q as P,c as Q,E as R,se as S,yP as T,SP as U,CP as V,_P as W,LP as X,NZ as Y,b as a,y as b,S as c,k as d,p as e,g as f,x as g,C as h,oe as i,u as j,h as k,v as l,_ as m,e as n,Y as o,G as p,J as q,o as r,r as s,f as t,Z as u,X as v,ae as w,ee as x,te as y,ie as z};
//# sourceMappingURL=vendor.24ae4858.js.map
